/*! For license information please see extension.js.LICENSE.txt */
(()=>{var e,t={69145:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionActivationManager=void 0;const o=n(86700),s=n(77651),a=n(17585),c=n(77570),u=n(84974),l=n(87282),d=n(19735),p=n(98634),h=n(90819);let f=class{constructor(e,t,n,r,i,o,s,a){this.activationServices=e,this.singleActivationServices=t,this.documentManager=n,this.autoSelection=r,this.appDiagnostics=i,this.workspaceService=o,this.fileSystem=s,this.activeResourceService=a,this.activatedWorkspaces=new Set,this.isInterpreterSetForWorkspacePromises=new Map,this.disposables=[]}filterServices(){this.workspaceService.isTrusted||(this.activationServices=this.activationServices.filter((e=>e.supportedWorkspaceTypes.untrustedWorkspace)),this.singleActivationServices=this.singleActivationServices.filter((e=>e.supportedWorkspaceTypes.untrustedWorkspace))),this.workspaceService.isVirtualWorkspace&&(this.activationServices=this.activationServices.filter((e=>e.supportedWorkspaceTypes.virtualWorkspace)),this.singleActivationServices=this.singleActivationServices.filter((e=>e.supportedWorkspaceTypes.virtualWorkspace)))}dispose(){for(;this.disposables.length>0;)this.disposables.shift().dispose();this.docOpenedHandler&&(this.docOpenedHandler.dispose(),this.docOpenedHandler=void 0)}async activate(){this.filterServices(),await this.initialize(),await Promise.all([...this.singleActivationServices.map((e=>e.activate())),this.activateWorkspace(this.activeResourceService.getActiveResource())])}async activateWorkspace(e){const t=this.getWorkspaceKey(e);this.activatedWorkspaces.has(t)||(this.activatedWorkspaces.add(t),this.workspaceService.isTrusted&&await this.autoSelection.autoSelectInterpreter(e),await(0,p.sendActivationTelemetry)(this.fileSystem,this.workspaceService,e),await Promise.all(this.activationServices.map((t=>t.activate(e)))),await this.appDiagnostics.performPreStartupHealthCheck(e))}async initialize(){this.addHandlers(),this.addRemoveDocOpenedHandlers()}onDocOpened(e){var t;if(e.languageId!==c.PYTHON_LANGUAGE)return;const n=this.getWorkspaceKey(e.uri),r=((null===(t=this.workspaceService.workspaceFolders)||void 0===t?void 0:t.length)||0)>0;if(""===n&&r)return;if(this.activatedWorkspaces.has(n))return;const i=this.workspaceService.getWorkspaceFolder(e.uri);this.activateWorkspace(i?i.uri:void 0).ignoreErrors()}addHandlers(){this.disposables.push(this.workspaceService.onDidChangeWorkspaceFolders(this.onWorkspaceFoldersChanged,this))}addRemoveDocOpenedHandlers(){this.hasMultipleWorkspaces()?this.docOpenedHandler||(this.docOpenedHandler=this.documentManager.onDidOpenTextDocument(this.onDocOpened,this)):this.docOpenedHandler&&(this.docOpenedHandler.dispose(),this.docOpenedHandler=void 0)}onWorkspaceFoldersChanged(){const e=this.workspaceService.workspaceFolders.map((e=>this.getWorkspaceKey(e.uri))),t=Array.from(this.activatedWorkspaces.keys()).filter((t=>e.indexOf(t)<0));if(t.length>0)for(const e of t)this.activatedWorkspaces.delete(e);this.addRemoveDocOpenedHandlers()}hasMultipleWorkspaces(){var e;return((null===(e=this.workspaceService.workspaceFolders)||void 0===e?void 0:e.length)||0)>1}getWorkspaceKey(e){return this.workspaceService.getWorkspaceFolderIdentifier(e,"")}};r([(0,d.traceDecoratorError)("Failed to activate a workspace")],f.prototype,"activateWorkspace",null),f=r([(0,o.injectable)(),i(0,(0,o.multiInject)(h.IExtensionActivationService)),i(1,(0,o.multiInject)(h.IExtensionSingleActivationService)),i(2,(0,o.inject)(a.IDocumentManager)),i(3,(0,o.inject)(l.IInterpreterAutoSelectionService)),i(4,(0,o.inject)(s.IApplicationDiagnostics)),i(5,(0,o.inject)(a.IWorkspaceService)),i(6,(0,o.inject)(u.IFileSystem)),i(7,(0,o.inject)(a.IActiveResourceService))],f),t.ExtensionActivationManager=f},23826:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Commands=void 0,(t.Commands||(t.Commands={})).RestartLS="python.analysis.restartLanguageServer"},10464:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageServerAnalysisOptionsWithEnv=t.LanguageServerAnalysisOptionsBase=void 0;const i=n(66828),o=n(52847),s=n(77570),a=n(36952),c=n(19735);class u{constructor(e,t){this.workspace=t,this.didChange=new i.EventEmitter,this.output=e.channel}async initialize(e,t){}get onDidChange(){return this.didChange.event}dispose(){this.didChange.dispose()}async getAnalysisOptions(){const e=this.getWorkspaceFolder();return{documentSelector:this.getDocumentFilters(e),workspaceFolder:e,synchronize:{configurationSection:s.PYTHON_LANGUAGE},outputChannel:this.output,revealOutputChannelOn:o.RevealOutputChannelOn.Never,initializationOptions:await this.getInitializationOptions()}}getWorkspaceFolder(){}getDocumentFilters(e){return this.workspace.isVirtualWorkspace?[{language:s.PYTHON_LANGUAGE}]:s.PYTHON}async getInitializationOptions(){}}r([(0,c.traceDecoratorError)("Failed to get analysis options")],u.prototype,"getAnalysisOptions",null),t.LanguageServerAnalysisOptionsBase=u;class l extends u{constructor(e,t,n){super(t,n),this.envVarsProvider=e,this.disposables=[],this.envPythonPath=""}async initialize(e,t){const n=this.envVarsProvider.onDidEnvironmentVariablesChange(this.onEnvVarChange,this);this.disposables.push(n)}dispose(){super.dispose(),this.disposables.forEach((e=>e.dispose()))}async getEnvPythonPath(){const e=await this.envVarsProvider.getEnvironmentVariables();return this.envPythonPath=e.PYTHONPATH||"",this.envPythonPath}onEnvVarChange(){this.notifyifEnvPythonPathChanged().ignoreErrors()}async notifyifEnvPythonPathChanged(){const e=(await this.envVarsProvider.getEnvironmentVariables()).PYTHONPATH||"";this.envPythonPath!==e&&this.didChange.fire()}}r([(0,a.debounceSync)(1e3)],l.prototype,"onEnvVarChange",null),t.LanguageServerAnalysisOptionsWithEnv=l},17347:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileBasedCancellationStrategy=void 0;const r=n(6113),i=n(57147),o=n(22037),s=n(71017),a=n(52847);function c(e){return s.join(o.tmpdir(),"python-languageserver-cancellation",e)}function u(e,t){return s.join(c(e),`cancellation-${String(t)}.tmp`)}function l(e){try{e()}catch(e){}}class d{constructor(e){this.folderName=e;const t=c(e);l((()=>i.mkdirSync(t,{recursive:!0})))}async sendCancellation(e,t){const n=u(this.folderName,t);l((()=>i.writeFileSync(n,"",{flag:"w"})))}cleanup(e){l((()=>i.unlinkSync(u(this.folderName,e))))}dispose(){const e=c(this.folderName);function t(e){const n=i.lstatSync(e);if(n)if(n.isDirectory()&&!n.isSymbolicLink()){for(const n of i.readdirSync(e))t(s.join(e,n));i.rmdirSync(e)}else i.unlinkSync(e)}l((()=>t(e)))}}t.FileBasedCancellationStrategy=class{constructor(){const e=(0,r.randomBytes)(21).toString("hex");this._sender=new d(e)}get receiver(){return a.CancellationReceiverStrategy.Message}get sender(){return this._sender}getCommandLineArguments(){return[`--cancellationReceive=file:${this._sender.folderName}`]}dispose(){this._sender.dispose()}}},14306:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultLanguageServer=void 0;const i=n(86700),o=n(77570),s=n(61684),a=n(90819);let c=class{constructor(e){this.defaultLSType=e}};c=r([(0,i.injectable)()],c),t.setDefaultLanguageServer=async function(e,t){const n=await async function(e){return e.getExtension(o.PYLANCE_EXTENSION_ID)?a.LanguageServerType.Node:a.LanguageServerType.Jedi}(e);t.addSingletonInstance(s.IDefaultLanguageServer,new c(n))}},65188:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageServerChangeHandler=t.promptForPylanceInstall=void 0;const r=n(66828),i=n(77570),o=n(59314),s=n(67098),a=n(90819);async function c(e,t,n,o){const c=await e.showWarningMessage(s.Pylance.pylanceRevertToJediPrompt,s.Pylance.pylanceInstallPylance,s.Pylance.pylanceRevertToJedi,s.Pylance.remindMeLater);if(c===s.Pylance.pylanceInstallPylance)t.executeCommand("extension.open",i.PYLANCE_EXTENSION_ID);else if(c===s.Pylance.pylanceRevertToJedi){const e=n.getConfiguration("python").inspect("languageServer");let t;(null==e?void 0:e.workspaceValue)?t=r.ConfigurationTarget.Workspace:(null==e?void 0:e.globalValue)&&(t=r.ConfigurationTarget.Global),t&&await o.updateSetting("languageServer",a.LanguageServerType.Jedi,void 0,t)}}t.promptForPylanceInstall=c,t.LanguageServerChangeHandler=class{constructor(e,t,n,r,i,s){this.currentLsType=e,this.extensions=t,this.appShell=n,this.commands=r,this.workspace=i,this.configService=s,this.pylanceInstallCompletedDeferred=(0,o.createDeferred)(),this.disposables=[],this.pylanceInstalled=!1,this.pylanceInstalled=this.isPylanceInstalled(),this.disposables.push(t.onDidChange((async()=>{await this.extensionsChangeHandler()})))}dispose(){for(var e;this.disposables.length;)null===(e=this.disposables.pop())||void 0===e||e.dispose()}get pylanceInstallCompleted(){return this.pylanceInstallCompletedDeferred.promise}async handleLanguageServerChange(e){this.currentLsType!==e&&e!==a.LanguageServerType.Microsoft&&(e!==a.LanguageServerType.Node||this.isPylanceInstalled()||await c(this.appShell,this.commands,this.workspace,this.configService),this.currentLsType=e)}async extensionsChangeHandler(){const e=this.pylanceInstalled;this.pylanceInstalled=this.isPylanceInstalled(),e===this.pylanceInstalled&&this.pylanceInstallCompletedDeferred.resolve()}isPylanceInstalled(){return!!this.extensions.getExtension(i.PYLANCE_EXTENSION_ID)}}},52228:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LoadLanguageServerExtension=void 0;const o=n(86700),s=n(17585),a=n(61684);let c=class{constructor(e,t){this.commandManager=e,this.disposables=t,this.supportedWorkspaceTypes={untrustedWorkspace:!0,virtualWorkspace:!0}}activate(){const e=this.commandManager.registerCommand("python._loadLanguageServerExtension",(()=>{}));return this.disposables.push(e),Promise.resolve()}};c=r([(0,o.injectable)(),i(0,(0,o.inject)(s.ICommandManager)),i(1,(0,o.inject)(a.IDisposableRegistry))],c),t.LoadLanguageServerExtension=c},63265:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageServerOutputChannel=void 0;const o=n(86700),s=n(17585);n(32727);const a=n(61684),c=n(67098);let u=class{constructor(e,t,n){this.appShell=e,this.commandManager=t,this.disposable=n,this.registered=!1}get channel(){return this.output||(this.output=this.appShell.createOutputChannel(c.OutputChannelNames.languageServer),this.disposable.push(this.output),this.registerCommand().ignoreErrors()),this.output}async registerCommand(){this.registered||(this.registered=!0,await this.commandManager.executeCommand("setContext","python.hasLanguageServerOutputChannel",!0),this.disposable.push(this.commandManager.registerCommand("python.viewLanguageServerOutput",(()=>{var e;return null===(e=this.output)||void 0===e?void 0:e.show(!0)}))),this.disposable.push({dispose:()=>{this.registered=!1}}))}};u=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IApplicationShell)),i(1,(0,o.inject)(s.ICommandManager)),i(2,(0,o.inject)(a.IDisposableRegistry))],u),t.LanguageServerOutputChannel=u},61702:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionSurveyPrompt=t.extensionSurveyStateKeys=void 0;const o=n(86700),s=n(63477),a=n(66828),c=n(17585),u=n(60717);n(32727);const l=n(84974),d=n(61684),p=n(67098),h=n(19735),f=n(54813),g=n(61522);var m;!function(e){e.doNotShowAgain="doNotShowExtensionSurveyAgain",e.disableSurveyForTime="doNotShowExtensionSurveyUntilTime"}(m=t.extensionSurveyStateKeys||(t.extensionSurveyStateKeys={}));const v=72576e5;let y=class{constructor(e,t,n,r,i,o,s,a=10,c=108e5){this.appShell=e,this.browserService=t,this.persistentState=n,this.random=r,this.experiments=i,this.appEnvironment=o,this.platformService=s,this.sampleSizePerOneHundredUsers=a,this.waitTimeToShowSurvey=c,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0}}async activate(){await this.experiments.inExperiment(u.ShowExtensionSurveyPrompt.experiment)&&this.shouldShowBanner()&&setTimeout((()=>this.showSurvey().ignoreErrors()),this.waitTimeToShowSurvey)}shouldShowBanner(){return a.env.uiKind!==(null===a.UIKind||void 0===a.UIKind?void 0:a.UIKind.Web)&&(!this.persistentState.createGlobalPersistentState(m.doNotShowAgain,!1).value&&(!this.persistentState.createGlobalPersistentState(m.disableSurveyForTime,!1,v).value&&!(this.random.getRandomInt(0,100)>=this.sampleSizePerOneHundredUsers)))}async showSurvey(){const e=[p.ExtensionSurveyBanner.bannerLabelYes,p.ExtensionSurveyBanner.maybeLater,p.Common.doNotShowAgain],t=await this.appShell.showInformationMessage(p.ExtensionSurveyBanner.bannerMessage,...e);(0,f.sendTelemetryEvent)(g.EventName.EXTENSION_SURVEY_PROMPT,void 0,{selection:t?["Yes","Maybe later","Do not show again"][e.indexOf(t)]:void 0}),t&&(t===p.ExtensionSurveyBanner.bannerLabelYes?(this.launchSurvey(),await this.persistentState.createGlobalPersistentState(m.disableSurveyForTime,!1,v).updateValue(!0)):t===p.Common.doNotShowAgain&&await this.persistentState.createGlobalPersistentState(m.doNotShowAgain,!1).updateValue(!0))}launchSurvey(){const e=`https://aka.ms/AA5rjx5?${s.stringify({o:encodeURIComponent(this.platformService.osType),v:encodeURIComponent(this.appEnvironment.vscodeVersion),e:encodeURIComponent(this.appEnvironment.packageJson.version),m:encodeURIComponent(this.appEnvironment.sessionId)})}`;this.browserService.launch(e)}};r([(0,h.traceDecoratorError)("Failed to check whether to display prompt for extension survey")],y.prototype,"shouldShowBanner",null),r([(0,h.traceDecoratorError)("Failed to display prompt for extension survey")],y.prototype,"showSurvey",null),y=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IApplicationShell)),i(1,(0,o.inject)(d.IBrowserService)),i(2,(0,o.inject)(d.IPersistentStateFactory)),i(3,(0,o.inject)(d.IRandom)),i(4,(0,o.inject)(d.IExperimentService)),i(5,(0,o.inject)(c.IApplicationEnvironment)),i(6,(0,o.inject)(l.IPlatformService)),i(7,(0,o.optional)()),i(8,(0,o.optional)())],y),t.ExtensionSurveyPrompt=y},67220:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JediLanguageServerAnalysisOptions=void 0;const r=n(71017),i=n(10464);class o extends i.LanguageServerAnalysisOptionsWithEnv{constructor(e,t,n,r){super(e,t,r),this.configurationService=n,this.resource=void 0}async initialize(e,t){return this.resource=e,super.initialize(e,t)}getWorkspaceFolder(){return this.workspace.getWorkspaceFolder(this.resource)}async getInitializationOptions(){var e;const t=this.configurationService.getSettings(this.resource),n=null===(e=this.getWorkspaceFolder())||void 0===e?void 0:e.uri.fsPath,i=t.autoComplete?t.autoComplete.extraPaths.map((e=>r.isAbsolute(e)?e:n?r.join(n,e):"")):[];return n&&i.unshift(n),{markupKindPreferred:"markdown",completion:{resolveEagerly:!1,disableSnippets:!1},diagnostics:{enable:!0,didOpen:!0,didSave:!0,didChange:!0},hover:{disable:{keyword:{all:!0}}},workspace:{extraPaths:i.filter((e=>e.length>0)).filter(((e,t,n)=>n.indexOf(e)===t)),symbols:{maxSymbols:0}}}}}t.JediLanguageServerAnalysisOptions=o},49532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JediLanguageClientFactory=void 0;const r=n(71017),i=n(52847),o=n(77570);t.JediLanguageClientFactory=class{constructor(e){this.interpreterService=e}async createLanguageClient(e,t,n){const s=r.join(o.EXTENSION_ROOT_DIR,"pythonFiles","run-jedi-language-server.py"),a=await this.interpreterService.getActiveInterpreter(e),c={command:a?a.path:"python",args:[s]};return new i.LanguageClient(o.PYTHON_LANGUAGE,"Python Jedi",c,n)}}},74381:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JediLanguageClientMiddleware=void 0;const r=n(1158),i=n(90819);class o extends r.LanguageClientMiddleware{constructor(e,t){super(e,i.LanguageServerType.Jedi,t),this.setupHidingMiddleware(e)}}t.JediLanguageClientMiddleware=o},17192:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.JediLanguageServerProxy=void 0,n(32727);const i=n(54813),o=n(61522),s=n(12133),a=n(18699),c=n(19735);class u{constructor(e){this.factory=e,this.disposables=[]}static versionTelemetryProps(e){return{lsVersion:e.lsVersion}}dispose(){this.stop().ignoreErrors()}async start(e,t,n){var r;this.lsVersion=null!==(r=n.middleware?n.middleware.serverVersion:void 0)&&void 0!==r?r:"0.19.3";const i=await this.factory.createLanguageClient(e,t,n);this.registerHandlers(i),await i.start(),this.languageClient=i}async stop(){for(var e;this.disposables.length>0;)this.disposables.shift().dispose();if(this.languageClient){const t=this.languageClient;this.languageClient=void 0;const n=null===(e=t._serverProcess)||void 0===e?void 0:e.pid,r=()=>{n&&(0,a.killPid)(n)};try{await t.stop(),await t.dispose(),r()}catch(e){(0,c.traceError)("Stopping language client failed",e),r()}}}loadExtension(){}registerHandlers(e){const t=new s.ProgressReporting(e);this.disposables.push(t)}}r([(0,c.traceDecoratorVerbose)("Disposing language server")],u.prototype,"dispose",null),r([(0,c.traceDecoratorError)("Failed to start language server"),(0,i.captureTelemetry)(o.EventName.JEDI_LANGUAGE_SERVER_ENABLED,void 0,!0,void 0,u.versionTelemetryProps)],u.prototype,"start",null),r([(0,c.traceDecoratorVerbose)("Stopping language server")],u.prototype,"stop",null),r([(0,i.captureTelemetry)(o.EventName.JEDI_LANGUAGE_SERVER_READY,void 0,!0,void 0,u.versionTelemetryProps)],u.prototype,"registerHandlers",null),t.JediLanguageServerProxy=u},73461:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.JediLanguageServerManager=void 0;const i=n(55674),o=n(71017);n(32727);const s=n(36952),a=n(63281),c=n(54813),u=n(61522),l=n(23826),d=n(74381),p=n(19735);class h{constructor(e,t,n,r){this.serviceContainer=e,this.analysisOptions=t,this.languageServerProxy=n,this.disposables=[],this.connected=!1,h.commandDispose&&h.commandDispose.dispose(),h.commandDispose=r.registerCommand(l.Commands.RestartLS,(()=>{this.restartLanguageServer().ignoreErrors()}))}static versionTelemetryProps(e){return{lsVersion:e.lsVersion}}dispose(){this.stopLanguageServer().ignoreErrors(),h.commandDispose.dispose(),this.disposables.forEach((e=>e.dispose()))}async start(e,t){this.resource=e,this.interpreter=t,this.analysisOptions.onDidChange(this.restartLanguageServerDebounced,this,this.disposables);try{const e=await i.readFile(o.join(a.EXTENSION_ROOT_DIR,"pythonFiles","jedilsp_requirements","requirements.txt"),"utf-8"),t=/jedi-language-server==([0-9\.]*)/.exec(e);t&&2===t.length&&([,this.lsVersion]=t)}catch(e){(0,p.traceVerbose)("Failed to get jedi-language-server version: ",e)}await this.analysisOptions.initialize(e,t),await this.startLanguageServer()}connect(){var e;this.connected||(this.connected=!0,null===(e=this.middleware)||void 0===e||e.connect())}disconnect(){var e;this.connected&&(this.connected=!1,null===(e=this.middleware)||void 0===e||e.disconnect())}restartLanguageServerDebounced(){this.restartLanguageServer().ignoreErrors()}async restartLanguageServer(){await this.stopLanguageServer(),await this.startLanguageServer()}async startLanguageServer(){const e=await this.analysisOptions.getAnalysisOptions();this.middleware=new d.JediLanguageClientMiddleware(this.serviceContainer,this.lsVersion),e.middleware=this.middleware,this.connected&&this.middleware.connect(),await this.languageServerProxy.start(this.resource,this.interpreter,e)}async stopLanguageServer(){this.languageServerProxy&&await this.languageServerProxy.stop()}}r([(0,p.traceDecoratorError)("Failed to start language server")],h.prototype,"start",null),r([(0,s.debounceSync)(1e3)],h.prototype,"restartLanguageServerDebounced",null),r([(0,p.traceDecoratorError)("Failed to restart language server"),(0,p.traceDecoratorVerbose)("Restarting language server")],h.prototype,"restartLanguageServer",null),r([(0,c.captureTelemetry)(u.EventName.JEDI_LANGUAGE_SERVER_STARTUP,void 0,!0,void 0,h.versionTelemetryProps),(0,p.traceDecoratorVerbose)("Starting language server")],h.prototype,"startLanguageServer",null),r([(0,p.traceDecoratorVerbose)("Stopping language server")],h.prototype,"stopLanguageServer",null),t.JediLanguageServerManager=h},1158:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageClientMiddleware=void 0;const r=n(17585),i=n(61684),o=n(54813),s=n(42857),a=n(1730);class c extends s.LanguageClientMiddlewareBase{constructor(e,t,n){super(e,t,o.sendTelemetryEvent,n)}setupHidingMiddleware(e){const t=e.get(r.IJupyterExtensionDependencyManager),n=e.get(i.IDisposableRegistry)||[],o=e.get(i.IExtensions);this.shouldCreateHidingMiddleware(t)&&(this.notebookAddon=(0,a.createHidingMiddleware)()),n.push(null==o?void 0:o.onDidChange((async()=>{await this.onExtensionChange(t)})))}shouldCreateHidingMiddleware(e){return e&&e.isJupyterExtensionInstalled}async onExtensionChange(e){e&&(this.notebookAddon&&!this.shouldCreateHidingMiddleware(e)?this.notebookAddon=void 0:!this.notebookAddon&&this.shouldCreateHidingMiddleware(e)&&(this.notebookAddon=(0,a.createHidingMiddleware)()))}}t.LanguageClientMiddleware=c},42857:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageClientMiddlewareBase=void 0;const r=n(71017),i=n(66828),o=n(92850),s=n(77570),a=n(61684),c=n(59314),u=n(70057),l=n(19909),d=n(61522),p=n(90819),h=3e5,f=6e4;t.LanguageClientMiddlewareBase=class{constructor(e,t,n,r){this.serviceContainer=e,this.sendTelemetryEventFunc=n,this.serverVersion=r,this.lastCaptured=new Map,this.nextWindow=0,this.eventCount=0,this.workspace={configuration:async(e,t,n)=>{var r;if(!this.serviceContainer)return n(e,t);const s=this.serviceContainer.get(a.IConfigurationService),u=this.serviceContainer.get(l.IEnvironmentVariablesProvider);let d=n(e,t);if((0,c.isThenable)(d)&&(d=await d),d instanceof o.ResponseError)return d;for(const[t,n]of e.items.entries()){if("python"===n.section){const e=n.scopeUri?i.Uri.parse(n.scopeUri):void 0,o=d[t];o.pythonPath=null!==(r=await this.getPythonPathOverride(e))&&void 0!==r?r:s.getSettings(e).pythonPath;const a=(await u.getEnvironmentVariables(e)).PYTHONPATH;a&&(o._envPYTHONPATH=a)}this.configurationHook(n,d[t])}return d}},this.connectedPromise=(0,c.createDeferred)(),this.notebooks={didOpen:this.didOpenNotebook.bind(this),didSave:this.didSaveNotebook.bind(this),didChange:this.didChangeNotebook.bind(this),didClose:this.didCloseNotebook.bind(this)},this.handleDiagnostics=this.handleDiagnostics.bind(this),this.didOpen=this.didOpen.bind(this),this.didSave=this.didSave.bind(this),this.didChange=this.didChange.bind(this),this.didClose=this.didClose.bind(this),this.willSave=this.willSave.bind(this),this.willSaveWaitUntil=this.willSaveWaitUntil.bind(this),t===p.LanguageServerType.Node?this.eventName=d.EventName.LANGUAGE_SERVER_REQUEST:t===p.LanguageServerType.Jedi&&(this.eventName=d.EventName.JEDI_LANGUAGE_SERVER_REQUEST)}async getPythonPathOverride(e){}configurationHook(e,t){}get connected(){return this.connectedPromise.promise}connect(){this.connectedPromise.resolve(!0)}disconnect(){this.connectedPromise=(0,c.createDeferred)(),this.connectedPromise.resolve(!1)}didChange(){return this.callNext("didChange",arguments)}didOpen(){return this.callNext("didOpen",arguments)}didClose(){return this.callNext("didClose",arguments)}didSave(){return this.callNext("didSave",arguments)}willSave(){return this.callNext("willSave",arguments)}willSaveWaitUntil(){return this.callNext("willSaveWaitUntil",arguments)}async didOpenNotebook(){return this.callNotebooksNext("didOpen",arguments)}async didSaveNotebook(){return this.callNotebooksNext("didSave",arguments)}async didChangeNotebook(){return this.callNotebooksNext("didChange",arguments)}async didCloseNotebook(){return this.callNotebooksNext("didClose",arguments)}async provideCompletionItem(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/completion",h,"provideCompletionItem",arguments,((e,t)=>t?{resultLength:Array.isArray(t)?t.length:t.items.length}:{resultLength:0}))}async provideHover(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/hover",h,"provideHover",arguments)}async handleDiagnostics(e,t,n){if(await this.connected){const t=e.fsPath,n=t?r.basename(t):void 0;if(!n||!n.startsWith(s.HiddenFilePrefix))return this.callNext("handleDiagnostics",arguments)}}async resolveCompletionItem(){if(await this.connected)return this.callNextAndSendTelemetry("completionItem/resolve",h,"resolveCompletionItem",arguments)}async provideSignatureHelp(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/signatureHelp",h,"provideSignatureHelp",arguments)}async provideDefinition(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/definition",f,"provideDefinition",arguments)}async provideReferences(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/references",f,"provideReferences",arguments)}async provideDocumentHighlights(){if(await this.connected)return this.callNext("provideDocumentHighlights",arguments)}async provideDocumentSymbols(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/documentSymbol",h,"provideDocumentSymbols",arguments)}async provideWorkspaceSymbols(){if(await this.connected)return this.callNextAndSendTelemetry("workspace/symbol",f,"provideWorkspaceSymbols",arguments)}async provideCodeActions(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/codeAction",h,"provideCodeActions",arguments)}async provideCodeLenses(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/codeLens",h,"provideCodeLenses",arguments)}async resolveCodeLens(){if(await this.connected)return this.callNextAndSendTelemetry("codeLens/resolve",h,"resolveCodeLens",arguments)}async provideDocumentFormattingEdits(){if(await this.connected)return this.callNext("provideDocumentFormattingEdits",arguments)}async provideDocumentRangeFormattingEdits(){if(await this.connected)return this.callNext("provideDocumentRangeFormattingEdits",arguments)}async provideOnTypeFormattingEdits(){if(await this.connected)return this.callNext("provideOnTypeFormattingEdits",arguments)}async provideRenameEdits(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/rename",f,"provideRenameEdits",arguments)}async prepareRename(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/prepareRename",f,"prepareRename",arguments)}async provideDocumentLinks(){if(await this.connected)return this.callNext("provideDocumentLinks",arguments)}async resolveDocumentLink(){if(await this.connected)return this.callNext("resolveDocumentLink",arguments)}async provideDeclaration(){if(await this.connected)return this.callNextAndSendTelemetry("textDocument/declaration",f,"provideDeclaration",arguments)}async provideTypeDefinition(){if(await this.connected)return this.callNext("provideTypeDefinition",arguments)}async provideImplementation(){if(await this.connected)return this.callNext("provideImplementation",arguments)}async provideDocumentColors(){if(await this.connected)return this.callNext("provideDocumentColors",arguments)}async provideColorPresentations(){if(await this.connected)return this.callNext("provideColorPresentations",arguments)}async provideFoldingRanges(){if(await this.connected)return this.callNext("provideFoldingRanges",arguments)}async provideSelectionRanges(){if(await this.connected)return this.callNext("provideSelectionRanges",arguments)}async prepareCallHierarchy(){if(await this.connected)return this.callNext("prepareCallHierarchy",arguments)}async provideCallHierarchyIncomingCalls(){if(await this.connected)return this.callNext("provideCallHierarchyIncomingCalls",arguments)}async provideCallHierarchyOutgoingCalls(){if(await this.connected)return this.callNext("provideCallHierarchyOutgoingCalls",arguments)}async provideDocumentSemanticTokens(){if(await this.connected)return this.callNext("provideDocumentSemanticTokens",arguments)}async provideDocumentSemanticTokensEdits(){if(await this.connected)return this.callNext("provideDocumentSemanticTokensEdits",arguments)}async provideDocumentRangeSemanticTokens(){if(await this.connected)return this.callNext("provideDocumentRangeSemanticTokens",arguments)}async provideLinkedEditingRange(){if(await this.connected)return this.callNext("provideLinkedEditingRange",arguments)}callNext(e,t){return this.notebookAddon&&this.notebookAddon[e]?this.notebookAddon[e](...t):t[t.length-1](...t)}callNotebooksNext(e,t){var n;return(null===(n=this.notebookAddon)||void 0===n?void 0:n.notebooks)&&this.notebookAddon.notebooks[e]?this.notebookAddon.notebooks[e](...t):t[t.length-1](...t)}callNextAndSendTelemetry(e,t,n,r,i){const o=Date.now(),s=new u.StopWatch;let a=!1;const l=[...r];l[l.length-1]=(...e)=>(a=!0,r[r.length-1](...e)),o>this.nextWindow&&(this.nextWindow=o+36e5,this.eventCount=0);const d=this.lastCaptured.get(e),p=n=>{if(this.eventName&&a&&this.eventCount<100&&(!d||o-d>t)){this.lastCaptured.set(e,o),this.eventCount+=1;const t=e.replace(/\//g,"."),r={lsVersion:this.serverVersion||"unknown",method:t};let a=s.elapsedTime;i&&(a={duration:a,...i(this,n)}),this.sendTelemetryEventFunc(this.eventName,a,r)}return n},h=this.callNext(n,l);return(0,c.isThenable)(h)?h.then(p):p(h)}}},22473:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeLanguageServerAnalysisOptions=void 0;const r=n(66828),i=n(36625),o=n(77570),s=n(10464),a="formatOnType";class c extends s.LanguageServerAnalysisOptionsBase{constructor(e,t,n,r){super(e,t),this.experimentService=n,this.lspNotebooksExperiment=r}async getInitializationOptions(){return{experimentationSupport:!0,trustedWorkspaceSupport:!0,lspNotebooksSupport:this.lspNotebooksExperiment.isInNotebooksExperiment(),lspInteractiveWindowSupport:this.lspNotebooksExperiment.isInNotebooksExperimentWithInteractiveWindowSupport(),autoIndentSupport:await this.isAutoIndentEnabled()}}async isAutoIndentEnabled(){const e=this.getPythonSpecificEditorSection();let t=e.get(a);const n=e.inspect(a),r=void 0!==(null==n?void 0:n.globalLanguageValue),i=await this.isInAutoIndentExperiment();return i!==r&&(i?await c.setPythonSpecificFormatOnType(e,!0):!1!==(null==n?void 0:n.globalLanguageValue)&&await c.setPythonSpecificFormatOnType(e,void 0),t=this.getPythonSpecificEditorSection().get(a)),i&&t}async isInAutoIndentExperiment(){var e,t;if(await this.experimentService.inExperiment("pylanceAutoIndent"))return!0;const n=null===(e=r.extensions.getExtension(o.PYLANCE_EXTENSION_ID))||void 0===e?void 0:e.packageJSON.version;return void 0!==n&&!0===(null===(t=i.prerelease(n))||void 0===t?void 0:t.includes("dev"))}getPythonSpecificEditorSection(){return this.workspace.getConfiguration("editor",void 0,!0)}static async setPythonSpecificFormatOnType(e,t){await e.update(a,t,r.ConfigurationTarget.Global,!0)}}t.NodeLanguageServerAnalysisOptions=c},46888:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeLanguageClientFactory=void 0;const r=n(71017),i=n(52847),o=n(77570);t.NodeLanguageClientFactory=class{constructor(e,t){this.fs=e,this.extensions=t}async createLanguageClient(e,t,n){var s;const a=(null===(s=n.connectionOptions)||void 0===s?void 0:s.cancellationStrategy).getCommandLineArguments(),c=this.extensions.getExtension(o.PYLANCE_EXTENSION_ID),u=c?c.extensionPath:"",l=r.join(u,"dist","server.bundle.js"),d=r.join(u,"dist","server.js"),p=await this.fs.fileExists(d)?d:l,h={run:{module:l,transport:i.TransportKind.ipc,args:a},debug:{module:p,transport:i.TransportKind.ipc,options:{execArgv:["--nolazy","--inspect=6600"]},args:a}};return new i.LanguageClient(o.PYTHON_LANGUAGE,"Pylance",h,n)}}},95479:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeLanguageClientMiddleware=void 0;const r=n(17585),i=n(66259),o=n(19735),s=n(1158),a=n(95266),c=n(90819),u=n(32342);class l extends s.LanguageClientMiddleware{constructor(e,t,n){super(e,c.LanguageServerType.Node,n),this.getClient=t,this.workspaceService=e.get(r.IWorkspaceService),this.lspNotebooksExperiment=e.get(u.LspNotebooksExperiment),this.setupHidingMiddleware(e),this.jupyterExtensionIntegration=e.get(i.JupyterExtensionIntegration),!this.notebookAddon&&this.lspNotebooksExperiment.isInNotebooksExperimentWithInteractiveWindowSupport()&&(this.notebookAddon=new a.LspInteractiveWindowMiddlewareAddon(this.getClient,this.jupyterExtensionIntegration))}shouldCreateHidingMiddleware(e){return super.shouldCreateHidingMiddleware(e)&&!this.lspNotebooksExperiment.isInNotebooksExperiment()}async onExtensionChange(e){e&&e.isJupyterExtensionInstalled&&await this.lspNotebooksExperiment.onJupyterInstalled(),this.lspNotebooksExperiment.isInNotebooksExperimentWithInteractiveWindowSupport()?this.notebookAddon||(this.notebookAddon=new a.LspInteractiveWindowMiddlewareAddon(this.getClient,this.jupyterExtensionIntegration)):super.onExtensionChange(e)}async getPythonPathOverride(e){if(!e||!this.lspNotebooksExperiment.isInNotebooksExperiment())return;const t=this.jupyterExtensionIntegration.getJupyterPythonPathFunction();if(!t)return;const n=await t(e);return n&&(0,o.traceLog)(`Jupyter provided interpreter path override: ${n}`),n}configurationHook(e,t){if("editor"===e.section&&this.workspaceService){const n=this.workspaceService.getConfiguration(e.section,void 0,!0);t.formatOnType=n.get("formatOnType")}}}t.NodeLanguageClientMiddleware=l},82602:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeLanguageServerProxy=void 0,n(32727);const i=n(52847),o=n(54813),s=n(61522),a=n(17347),c=n(12133),u=n(19735),l=n(77570);var d,p;!function(e){e.Method="python/inExperiment"}(d||(d={})),function(e){e.Method="python/getExperimentValue"}(p||(p={}));class h{constructor(e,t,n,r,i,o){this.factory=e,this.experimentService=t,this.interpreterPathService=n,this.environmentService=r,this.workspace=i,this.extensions=o,this.disposables=[]}static versionTelemetryProps(e){return{lsVersion:e.lsVersion}}dispose(){this.stop().ignoreErrors()}async start(e,t,n){const r=this.extensions.getExtension(l.PYLANCE_EXTENSION_ID);this.lsVersion=(null==r?void 0:r.packageJSON.version)||"0",this.cancellationStrategy=new a.FileBasedCancellationStrategy,n.connectionOptions={cancellationStrategy:this.cancellationStrategy};const i=await this.factory.createLanguageClient(e,t,n);this.registerHandlers(i,e),this.disposables.push(this.workspace.onDidGrantWorkspaceTrust((()=>{i.sendNotification("python/workspaceTrusted",{isTrusted:!0})}))),await i.start(),this.languageClient=i}async stop(){for(;this.disposables.length>0;)this.disposables.shift().dispose();if(this.languageClient){const e=this.languageClient;this.languageClient=void 0;try{await e.stop(),await e.dispose()}catch(e){(0,u.traceError)("Stopping language client failed",e)}}this.cancellationStrategy&&(this.cancellationStrategy.dispose(),this.cancellationStrategy=void 0)}loadExtension(){}registerHandlers(e,t){const n=new c.ProgressReporting(e);this.disposables.push(n),this.disposables.push(this.interpreterPathService.onDidChange((()=>{e.sendNotification(i.DidChangeConfigurationNotification.type,{settings:null})}))),this.disposables.push(this.environmentService.onDidEnvironmentVariablesChange((()=>{e.sendNotification(i.DidChangeConfigurationNotification.type,{settings:null})}))),e.onTelemetry((e=>{var t;const n=e.EventName||s.EventName.LANGUAGE_SERVER_TELEMETRY,r={...e.Properties,method:null===(t=e.Properties.method)||void 0===t?void 0:t.replace(/\//g,".")};(0,o.sendTelemetryEvent)(n,e.Measurements,r,e.Exception)})),e.onRequest(d.Method,(async e=>({inExperiment:await this.experimentService.inExperiment(e.experimentName)}))),e.onRequest(p.Method,(async e=>({value:await this.experimentService.getExperimentValue(e.experimentName)}))),this.disposables.push(e.onRequest("python/isTrustedWorkspace",(async()=>({isTrusted:this.workspace.isTrusted}))))}}r([(0,u.traceDecoratorVerbose)("Disposing language server")],h.prototype,"dispose",null),r([(0,u.traceDecoratorError)("Failed to start language server"),(0,o.captureTelemetry)(s.EventName.LANGUAGE_SERVER_ENABLED,void 0,!0,void 0,h.versionTelemetryProps)],h.prototype,"start",null),r([(0,u.traceDecoratorVerbose)("Disposing language server")],h.prototype,"stop",null),r([(0,o.captureTelemetry)(s.EventName.LANGUAGE_SERVER_READY,void 0,!0,void 0,h.versionTelemetryProps)],h.prototype,"registerHandlers",null),t.NodeLanguageServerProxy=h},95266:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LspInteractiveWindowMiddlewareAddon=void 0;const r=n(52847),i=n(40273);class o{constructor(e,t){this.getClient=e,this.jupyterExtensionIntegration=t,this.notebookDocumentMap=new Map,this.unlinkedTextDocumentMap=new Map,this.notebooks={didOpen:this.didOpenNotebook.bind(this),didClose:this.didCloseNotebook.bind(this)},this.didOpen=this.didOpen.bind(this),this.didChange=this.didChange.bind(this),this.didClose=this.didClose.bind(this)}dispose(){}async didOpen(e,t){var n,i;const o=this.getNotebookUriForTextDocumentUri(e.uri);if(!o)return void await t(e);const s=this.notebookDocumentMap.get(o.toString());if(s)try{const t={cells:{structure:{array:{start:s.cellCount,deleteCount:0,cells:[{kind:r.NotebookCellKind.Code,document:e.uri.toString()}]},didOpen:[{uri:e.uri.toString(),languageId:e.languageId,version:e.version,text:e.getText()}],didClose:void 0}}};await(null===(n=this.getClient())||void 0===n?void 0:n.sendNotification(r.DidChangeNotebookDocumentNotification.type,{notebookDocument:{version:s.version,uri:o.toString()},change:t}))}catch(e){throw null===(i=this.getClient())||void 0===i||i.error("Sending DidChangeNotebookDocumentNotification failed",e),e}else this.unlinkedTextDocumentMap.set(o.toString(),e)}async didChange(e,t){const n=this.getNotebookUriForTextDocumentUri(e.document.uri);if(!n)return void await t(e);const r=this.notebookDocumentMap.get(n.toString());if(r){const t=this.getClient();t&&t.sendNotification(i.DidChangeNotebookDocumentNotification.type,{notebookDocument:{uri:n.toString(),version:r.version},change:{cells:{textContent:[o._asTextContentChange(e,t.code2ProtocolConverter)]}}})}}static _asTextContentChange(e,t){const n=t.asChangeTextDocumentParams(e);return{document:n.textDocument,changes:n.contentChanges}}async didClose(e,t){const n=this.getNotebookUriForTextDocumentUri(e.uri);n?this.unlinkedTextDocumentMap.delete(n.toString()):await t(e)}async didOpenNotebook(e,t,n){this.notebookDocumentMap.set(e.uri.toString(),e);const i=this.unlinkedTextDocumentMap.get(e.uri.toString());if(i){const o=[...t,{index:e.cellCount,notebook:e,kind:r.NotebookCellKind.Code,document:i,metadata:{},outputs:[],executionSummary:void 0}];this.unlinkedTextDocumentMap.delete(e.uri.toString()),await n(e,o)}else await n(e,t)}async didCloseNotebook(e,t,n){this.notebookDocumentMap.delete(e.uri.toString()),await n(e,t)}getNotebookUriForTextDocumentUri(e){const t=this.jupyterExtensionIntegration.getGetNotebookUriForTextDocumentUriFunction();if(t)return t(e)}}t.LspInteractiveWindowMiddlewareAddon=o},32342:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LspNotebooksExperiment=void 0;const s=n(86700),a=n(36625),c=n(66828),u=n(61684),l=n(54813),d=n(61522),p=n(77570),h=n(90819),f=n(19735),g=n(17585),m=n(72391),v=n(77498),y=n(59314),b=n(66259);let S=r=class{constructor(e,t,n,r){this.serviceContainer=e,this.configurationService=t,this.disposables=n,this.supportedWorkspaceTypes={untrustedWorkspace:!0,virtualWorkspace:!0},this.isJupyterInstalled=!1,this.isJupyterInstalled=r.isJupyterExtensionInstalled}async activate(){r.isPylanceInstalled()||(this.pylanceExtensionChangeHandler=c.extensions.onDidChange(this.pylanceExtensionsChangeHandler.bind(this)),this.disposables.push(this.pylanceExtensionChangeHandler)),this.updateExperimentSupport()}async onJupyterInstalled(){this.isJupyterInstalled||(r.jupyterSupportsNotebooksExperiment()&&(await this.waitForJupyterToRegisterPythonPathFunction(),this.updateExperimentSupport()),this.isJupyterInstalled=!0)}isInNotebooksExperiment(){var e;return null!==(e=this.isInExperiment)&&void 0!==e&&e}isInNotebooksExperimentWithInteractiveWindowSupport(){var e;return null!==(e=this.supportsInteractiveWindow)&&void 0!==e&&e}updateExperimentSupport(){const e=this.isInExperiment,t=this.configurationService.getSettings().pylanceLspNotebooksEnabled,n=this.configurationService.getSettings().languageServer;if(this.isInExperiment=!1,n!==h.LanguageServerType.Node?(0,f.traceLog)("LSP Notebooks experiment is disabled -- not using Pylance"):r.isJupyterInstalled()?r.jupyterSupportsNotebooksExperiment()?r.isPylanceInstalled()?r.pylanceSupportsNotebooksExperiment()?t?(this.isInExperiment=!0,(0,f.traceLog)("LSP Notebooks experiment is enabled"),(0,l.sendTelemetryEvent)(d.EventName.PYTHON_EXPERIMENTS_LSP_NOTEBOOKS)):((0,f.traceLog)("LSP Notebooks experiment is disabled -- not in treatment group"),(0,l.sendTelemetryEvent)(d.EventName.PYTHON_EXPERIMENTS_LSP_NOTEBOOKS)):(0,f.traceLog)("LSP Notebooks experiment is disabled -- Pylance does not support experiment"):(0,f.traceLog)("LSP Notebooks experiment is disabled -- Pylance disabled or not installed"):(0,f.traceLog)("LSP Notebooks experiment is disabled -- Jupyter does not support experiment"):(0,f.traceLog)("LSP Notebooks experiment is disabled -- Jupyter disabled or not installed"),this.supportsInteractiveWindow=!1,this.isInExperiment?r.jupyterSupportsLspInteractiveWindow()?r.pylanceSupportsLspInteractiveWindow()?(this.supportsInteractiveWindow=!0,(0,f.traceLog)("LSP Notebooks interactive window support is enabled")):(0,f.traceLog)("LSP Notebooks interactive window support is disabled -- Pylance is not new enough"):(0,f.traceLog)("LSP Notebooks interactive window support is disabled -- Jupyter is not new enough"):(0,f.traceLog)("LSP Notebooks interactive window support is disabled -- not in LSP Notebooks experiment"),!1===e&&!0===this.isInExperiment){const e=this.serviceContainer.get(m.ILanguageServerWatcher);e&&e.restartLanguageServers()}}static jupyterSupportsNotebooksExperiment(){var e;const t=null===(e=c.extensions.getExtension(p.JUPYTER_EXTENSION_ID))||void 0===e?void 0:e.packageJSON.version;return t&&(a.gt(t,"2022.5.1001411044")||100===a.patch(t))}static pylanceSupportsNotebooksExperiment(){var e,t;const n=null===(e=c.extensions.getExtension(p.PYLANCE_EXTENSION_ID))||void 0===e?void 0:e.packageJSON.version;return n&&(a.gte(n,"2022.5.3-pre.1")||(null===(t=a.prerelease(n))||void 0===t?void 0:t.includes("dev")))}static jupyterSupportsLspInteractiveWindow(){var e;const t=null===(e=c.extensions.getExtension(p.JUPYTER_EXTENSION_ID))||void 0===e?void 0:e.packageJSON.version;return t&&(a.gt(t,"2022.7.1002041057")||100===a.patch(t))}static pylanceSupportsLspInteractiveWindow(){var e,t;const n=null===(e=c.extensions.getExtension(p.PYLANCE_EXTENSION_ID))||void 0===e?void 0:e.packageJSON.version;return n&&(a.gte(n,"2022.7.51")||(null===(t=a.prerelease(n))||void 0===t?void 0:t.includes("dev")))}async waitForJupyterToRegisterPythonPathFunction(){const e=this.serviceContainer.get(b.JupyterExtensionIntegration);let t=!1;for(let n=0;n<20;n+=1){if(e.getJupyterPythonPathFunction()){(0,f.traceVerbose)("Jupyter called registerJupyterPythonPathFunction"),t=!0;break}await(0,y.sleep)(500)}t||(0,f.traceVerbose)("Timed out waiting for Jupyter to call registerJupyterPythonPathFunction")}static isPylanceInstalled(){return!!c.extensions.getExtension(p.PYLANCE_EXTENSION_ID)}static isJupyterInstalled(){return!!c.extensions.getExtension(p.JUPYTER_EXTENSION_ID)}async pylanceExtensionsChangeHandler(){r.isPylanceInstalled()&&this.pylanceExtensionChangeHandler&&(this.pylanceExtensionChangeHandler.dispose(),this.pylanceExtensionChangeHandler=void 0,this.updateExperimentSupport())}};S=r=i([(0,s.injectable)(),o(0,(0,s.inject)(v.IServiceContainer)),o(1,(0,s.inject)(u.IConfigurationService)),o(2,(0,s.inject)(u.IDisposableRegistry)),o(3,(0,s.inject)(g.IJupyterExtensionDependencyManager))],S),t.LspNotebooksExperiment=S},57582:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.NodeLanguageServerManager=void 0,n(32727);const i=n(36952),o=n(54813),s=n(61522),a=n(23826),c=n(95479),u=n(19735),l=n(77570);class d{constructor(e,t,n,r,i){this.serviceContainer=e,this.analysisOptions=t,this.languageServerProxy=n,this.extensions=i,this.disposables=[],this.connected=!1,this.started=!1,d.commandDispose&&d.commandDispose.dispose(),d.commandDispose=r.registerCommand(a.Commands.RestartLS,(()=>{this.restartLanguageServer().ignoreErrors()}))}static versionTelemetryProps(e){return{lsVersion:e.lsVersion}}dispose(){this.stopLanguageServer().ignoreErrors(),d.commandDispose.dispose(),this.disposables.forEach((e=>e.dispose()))}async start(e,t){if(this.started)throw new Error("Language server already started");this.resource=e,this.interpreter=t,this.analysisOptions.onDidChange(this.restartLanguageServerDebounced,this,this.disposables);const n=this.extensions.getExtension(l.PYLANCE_EXTENSION_ID);this.lsVersion=(null==n?void 0:n.packageJSON.version)||"0",await this.analysisOptions.initialize(e,t),await this.startLanguageServer(),this.started=!0}connect(){var e;this.connected||(this.connected=!0,null===(e=this.middleware)||void 0===e||e.connect())}disconnect(){var e;this.connected&&(this.connected=!1,null===(e=this.middleware)||void 0===e||e.disconnect())}restartLanguageServerDebounced(){this.restartLanguageServer().ignoreErrors()}async restartLanguageServer(){await this.stopLanguageServer(),await this.startLanguageServer()}async startLanguageServer(){const e=await this.analysisOptions.getAnalysisOptions();this.middleware=new c.NodeLanguageClientMiddleware(this.serviceContainer,(()=>this.languageServerProxy.languageClient),this.lsVersion),e.middleware=this.middleware,this.connected&&this.middleware.connect(),await this.languageServerProxy.start(this.resource,this.interpreter,e)}async stopLanguageServer(){this.languageServerProxy&&await this.languageServerProxy.stop()}}r([(0,u.traceDecoratorError)("Failed to start language server")],d.prototype,"start",null),r([(0,i.debounceSync)(1e3)],d.prototype,"restartLanguageServerDebounced",null),r([(0,u.traceDecoratorError)("Failed to restart language server"),(0,u.traceDecoratorVerbose)("Restarting language server")],d.prototype,"restartLanguageServer",null),r([(0,o.captureTelemetry)(s.EventName.LANGUAGE_SERVER_STARTUP,void 0,!0,void 0,d.versionTelemetryProps),(0,u.traceDecoratorVerbose)("Starting language server")],d.prototype,"startLanguageServer",null),r([(0,u.traceDecoratorVerbose)("Stopping language server")],d.prototype,"stopLanguageServer",null),t.NodeLanguageServerManager=d},22430:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PartialModeStatusItem=void 0;const o=n(86700),s=n(17585),a=n(61684),c=n(67098);let u=class{constructor(e,t){this.workspace=e,this.disposables=t,this.supportedWorkspaceTypes={untrustedWorkspace:!0,virtualWorkspace:!0}}async activate(){const{isTrusted:e,isVirtualWorkspace:t}=this.workspace;if(e&&!t)return;const n=this.createStatusItem();n&&this.disposables.push(n)}createStatusItem(){const e=n(66828);if("createLanguageStatusItem"in e.languages){const t=e.languages.createLanguageStatusItem("python.projectStatus",{language:"python"});return t.name=c.LanguageService.statusItem.name,t.severity=e.LanguageStatusSeverity.Warning,t.text=c.LanguageService.statusItem.text,t.detail=this.workspace.isTrusted?c.LanguageService.virtualWorkspaceStatusItem.detail:c.LanguageService.statusItem.detail,t.command={title:c.Common.learnMore,command:"vscode.open",arguments:[e.Uri.parse("https://aka.ms/AAdzyh4")]},t}}};u=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IWorkspaceService)),i(1,(0,o.inject)(a.IDisposableRegistry))],u),t.PartialModeStatusItem=u},12133:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressReporting=void 0;const r=n(66828),i=n(59314);t.ProgressReporting=class{constructor(e){this.languageClient=e,this.languageClient.onNotification("python/setStatusBarMessage",(e=>{this.statusBarMessage&&this.statusBarMessage.dispose(),this.statusBarMessage=r.window.setStatusBarMessage(e)})),this.languageClient.onNotification("python/beginProgress",(e=>{this.progressDeferred||this.beginProgress()})),this.languageClient.onNotification("python/reportProgress",(e=>{this.progress||this.beginProgress(),this.progress.report({message:e})})),this.languageClient.onNotification("python/endProgress",(e=>{this.progressDeferred&&(this.progressDeferred.resolve(),this.progressDeferred=void 0,this.progress=void 0)}))}dispose(){this.statusBarMessage&&this.statusBarMessage.dispose()}beginProgress(){this.progressDeferred=(0,i.createDeferred)(),r.window.withProgress({location:r.ProgressLocation.Window,title:""},(e=>(this.progress=e,this.progressDeferred.promise)))}}},76546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(69145),i=n(61702),o=n(63265),s=n(90819),a=n(52228),c=n(22430),u=n(72391),l=n(8335),d=n(32342);t.registerTypes=function(e){e.addSingleton(s.IExtensionActivationService,c.PartialModeStatusItem),e.add(s.IExtensionActivationManager,r.ExtensionActivationManager),e.addSingleton(s.ILanguageServerOutputChannel,o.LanguageServerOutputChannel),e.addSingleton(s.IExtensionSingleActivationService,i.ExtensionSurveyPrompt),e.addSingleton(s.IExtensionSingleActivationService,a.LoadLanguageServerExtension),e.addSingleton(u.ILanguageServerWatcher,l.LanguageServerWatcher),e.addBinding(u.ILanguageServerWatcher,s.IExtensionActivationService),e.addSingleton(d.LspNotebooksExperiment,d.LspNotebooksExperiment),e.addBinding(d.LspNotebooksExperiment,s.IExtensionSingleActivationService)}},90819:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.IExtensionSingleActivationService=t.ILanguageServerOutputChannel=t.ILanguageServerProxy=t.ILanguageServerManager=t.ILanguageServerAnalysisOptions=t.ILanguageClientFactory=t.ILanguageServerActivator=t.LanguageServerType=t.IExtensionActivationService=t.IExtensionActivationManager=void 0,t.IExtensionActivationManager=Symbol("IExtensionActivationManager"),t.IExtensionActivationService=Symbol("IExtensionActivationService"),(n=t.LanguageServerType||(t.LanguageServerType={})).Jedi="Jedi",n.JediLSP="JediLSP",n.Microsoft="Microsoft",n.Node="Pylance",n.None="None",t.ILanguageServerActivator=Symbol("ILanguageServerActivator"),t.ILanguageClientFactory=Symbol("ILanguageClientFactory"),t.ILanguageServerAnalysisOptions=Symbol("ILanguageServerAnalysisOptions"),t.ILanguageServerManager=Symbol("ILanguageServerManager"),t.ILanguageServerProxy=Symbol("ILanguageServerProxy"),t.ILanguageServerOutputChannel=Symbol("ILanguageServerOutputChannel"),t.IExtensionSingleActivationService=Symbol("IExtensionSingleActivationService")},10063:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildApi=void 0;const r=n(96486),i=n(77570),o=n(61684),s=n(19909),a=n(12187),c=n(18639),u=n(66259),l=n(19735);t.buildApi=function(e,t,n){const d=n.get(o.IConfigurationService),p=n.get(c.IInterpreterService);t.addSingleton(u.JupyterExtensionIntegration,u.JupyterExtensionIntegration);const h=n.get(u.JupyterExtensionIntegration),f=n.get(s.IEnvironmentVariablesProvider),g={ready:e.catch((e=>((0,l.traceError)("Failure during activation.",e),Promise.reject(e)))),jupyter:{registerHooks:()=>h.integrateWithJupyterExtension()},debug:{getRemoteLauncherCommand:async(e,t,n=!0)=>(0,a.getDebugpyLauncherArgs)({host:e,port:t,waitUntilDebuggerAttaches:n}),getDebuggerPackagePath:async()=>(0,a.getDebugpyPackagePath)()},settings:{onDidChangeExecutionDetails:p.onDidChangeInterpreterConfiguration,getExecutionDetails(e){const t=d.getSettings(e).pythonPath;return{execCommand:""===t?void 0:[t]}}},datascience:{registerRemoteServerProvider:h?h.registerRemoteServerProvider.bind(h):r.noop,showDataViewer:h?h.showDataViewer.bind(h):r.noop},pylance:{getPythonPathVar:async e=>(await f.getEnvironmentVariables(e)).PYTHONPATH,onDidEnvironmentVariablesChange:f.onDidEnvironmentVariablesChange}};return(0,i.isTestExecution)()&&(g.serviceContainer=n,g.serviceManager=t),g}},19897:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ApplicationDiagnostics=void 0;const o=n(86700),s=n(66828),a=n(17585),c=n(77570),u=n(77498),l=n(19735),d=n(93971);async function p(e,t){await Promise.all(e.map((async e=>{const n=await e.diagnose(t);n.length>0&&(function(e){e.forEach((e=>{const t=`Diagnostic Code: ${e.code}, Message: ${e.message}`;switch(e.severity){case s.DiagnosticSeverity.Error:case s.DiagnosticSeverity.Warning:(0,l.traceLog)(t);break;default:(0,l.traceInfo)(t)}}))}(n),await e.handle(n))})))}let h=class{constructor(e){this.serviceContainer=e}register(){this.serviceContainer.get(d.ISourceMapSupportService).register()}async performPreStartupHealthCheck(e){if((0,c.isTestExecution)())return;let t=this.serviceContainer.getAll(d.IDiagnosticsService);this.serviceContainer.get(a.IWorkspaceService).isTrusted||(t=t.filter((e=>e.runInUntrustedWorkspace))),await p(t.filter((e=>!e.runInBackground)),e),p(t.filter((e=>e.runInBackground)),e).ignoreErrors()}};h=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IServiceContainer))],h),t.ApplicationDiagnostics=h},66674:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseDiagnosticsService=t.BaseDiagnostic=void 0;const s=n(86700),a=n(17585),c=n(99910),u=n(54813),l=n(61522),d=n(93971);let p=class{constructor(e,t,n,r,i,o=!0,s="default"){this.code=e,this.message=t,this.severity=n,this.scope=r,this.resource=i,this.shouldShowPrompt=o,this.invokeHandler=s}};p=i([(0,s.injectable)()],p),t.BaseDiagnostic=p;let h=r=class{constructor(e,t,n,r=!1,i=!1){this.supportedDiagnosticCodes=e,this.serviceContainer=t,this.disposableRegistry=n,this.runInBackground=r,this.runInUntrustedWorkspace=i,this.filterService=t.get(d.IDiagnosticFilterService),n.push(this)}dispose(){}async handle(e){if(0===e.length)return;const t=await(0,c.asyncFilter)(e,(async e=>{if(!await this.canHandle(e))return!1;if(e.invokeHandler&&"always"===e.invokeHandler)return!0;const t=this.getDiagnosticsKey(e);return-1===r.handledDiagnosticCodeKeys.indexOf(t)&&(r.handledDiagnosticCodeKeys.push(t),!0)}));await this.onHandle(t)}async canHandle(e){return(0,u.sendTelemetryEvent)(l.EventName.DIAGNOSTICS_MESSAGE,void 0,{code:e.code}),this.supportedDiagnosticCodes.filter((t=>t===e.code)).length>0}getDiagnosticsKey(e){if(e.scope===d.DiagnosticScope.Global)return e.code;const t=this.serviceContainer.get(a.IWorkspaceService),n=e.resource?t.getWorkspaceFolder(e.resource):void 0;return`${e.code}dbe75733-0407-4124-a1b2-ca769dc30523${n?n.uri.fsPath:""}`}};h.handledDiagnosticCodeKeys=[],h=r=i([(0,s.injectable)(),o(0,(0,s.unmanaged)()),o(1,(0,s.unmanaged)()),o(2,(0,s.unmanaged)()),o(3,(0,s.unmanaged)()),o(4,(0,s.unmanaged)())],h),t.BaseDiagnosticsService=h},60474:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentPathVariableDiagnosticsService=t.EnvironmentPathVariableDiagnosticsServiceId=void 0;const o=n(86700),s=n(66828),a=n(17585);n(32727);const c=n(84974),u=n(61684),l=n(67098),d=n(77498),p=n(66674),h=n(16356),f=n(7587),g=n(51475),m=n(93971);class v extends p.BaseDiagnostic{constructor(e,t){super(f.DiagnosticCodes.InvalidEnvironmentPathVariableDiagnostic,e,s.DiagnosticSeverity.Warning,m.DiagnosticScope.Global,t)}}t.EnvironmentPathVariableDiagnosticsServiceId="EnvironmentPathVariableDiagnosticsServiceId";let y=class extends p.BaseDiagnosticsService{constructor(e,t){super([f.DiagnosticCodes.InvalidEnvironmentPathVariableDiagnostic],e,t,!0,!0),this.platform=this.serviceContainer.get(c.IPlatformService),this.messageService=e.get(m.IDiagnosticHandlerService,g.DiagnosticCommandPromptHandlerServiceId)}async diagnose(e){if(this.platform.isWindows&&this.doesPathVariableHaveInvalidEntries()){const t=this.serviceContainer.get(a.IApplicationEnvironment),n="The environment variable '{0}' seems to have some paths containing the '\"' character. The existence of such a character is known to have caused the {1} extension to not load. If the extension fails to load please modify your paths to remove this '\"' character.".format(this.platform.pathVariableName,t.extensionName);return[new v(n,e)]}return[]}async onHandle(e){if(0===e.length||!this.canHandle(e[0]))return;const t=e[0];if(await this.filterService.shouldIgnoreDiagnostic(t.code))return;const n=this.serviceContainer.get(h.IDiagnosticsCommandFactory),r=[{prompt:l.Common.ignore},{prompt:l.Common.alwaysIgnore,command:n.createCommand(t,{type:"ignore",options:m.DiagnosticScope.Global})},{prompt:l.Common.moreInfo,command:n.createCommand(t,{type:"launch",options:"https://aka.ms/Niq35h"})}];await this.messageService.handle(t,{commandPrompts:r})}doesPathVariableHaveInvalidEntries(){const e=this.serviceContainer.get(u.ICurrentProcess).env[this.platform.pathVariableName],t=this.serviceContainer.get(u.IPathUtils).delimiter;return(e||"").split(t).filter((e=>e.indexOf('"')>=0)).length>0}};y=r([(0,o.injectable)(),i(0,(0,o.inject)(d.IServiceContainer)),i(1,(0,o.inject)(u.IDisposableRegistry))],y),t.EnvironmentPathVariableDiagnosticsService=y},27351:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidLaunchJsonDebuggerService=t.InvalidLaunchJsonDebuggerServiceId=t.InvalidLaunchJsonDebuggerDiagnostic=void 0;const o=n(86700),s=n(71017),a=n(66828),c=n(17585);n(32727);const u=n(84974),l=n(61684),d=n(67098),p=n(77498),h=n(66674),f=n(7587),g=n(51475),m=n(93971),v={[f.DiagnosticCodes.InvalidDebuggerTypeDiagnostic]:d.Diagnostics.invalidDebuggerTypeDiagnostic,[f.DiagnosticCodes.JustMyCodeDiagnostic]:d.Diagnostics.justMyCodeDiagnostic,[f.DiagnosticCodes.ConsoleTypeDiagnostic]:d.Diagnostics.consoleTypeDiagnostic,[f.DiagnosticCodes.ConfigPythonPathDiagnostic]:""};class y extends h.BaseDiagnostic{constructor(e,t,n=!0){super(e,v[e],a.DiagnosticSeverity.Error,m.DiagnosticScope.WorkspaceFolder,t,n)}}t.InvalidLaunchJsonDebuggerDiagnostic=y,t.InvalidLaunchJsonDebuggerServiceId="InvalidLaunchJsonDebuggerServiceId";let b=class extends h.BaseDiagnosticsService{constructor(e,t,n,r,i){super([f.DiagnosticCodes.InvalidDebuggerTypeDiagnostic,f.DiagnosticCodes.JustMyCodeDiagnostic,f.DiagnosticCodes.ConsoleTypeDiagnostic,f.DiagnosticCodes.ConfigPythonPathDiagnostic],e,n,!0),this.fs=t,this.workspaceService=r,this.messageService=i}async diagnose(e){var t;if(!(((null===(t=this.workspaceService.workspaceFolders)||void 0===t?void 0:t.length)||0)>0))return[];const n=e?this.workspaceService.getWorkspaceFolder(e):this.workspaceService.workspaceFolders[0];return this.diagnoseWorkspace(n,e)}async onHandle(e){e.forEach((e=>this.handleDiagnostic(e)))}async fixLaunchJson(e){var t,n;((null===(t=this.workspaceService.workspaceFolders)||void 0===t?void 0:t.length)||0)>0&&await Promise.all((null!==(n=this.workspaceService.workspaceFolders)&&void 0!==n?n:[]).map((t=>this.fixLaunchJsonInWorkspace(e,t))))}async diagnoseWorkspace(e,t){const n=_(e);if(!await this.fs.fileExists(n))return[];const r=await this.fs.readFile(n),i=[];return r.indexOf('"pythonExperimental"')>0&&i.push(new y(f.DiagnosticCodes.InvalidDebuggerTypeDiagnostic,t)),r.indexOf('"debugStdLib"')>0&&i.push(new y(f.DiagnosticCodes.JustMyCodeDiagnostic,t)),r.indexOf('"console": "none"')>0&&i.push(new y(f.DiagnosticCodes.ConsoleTypeDiagnostic,t)),(r.indexOf('"pythonPath":')>0||r.indexOf("{config:python.pythonPath}")>0||r.indexOf("{config:python.interpreterPath}")>0)&&i.push(new y(f.DiagnosticCodes.ConfigPythonPathDiagnostic,t,!1)),i}async handleDiagnostic(e){if(!e.shouldShowPrompt)return void await this.fixLaunchJson(e.code);const t=[{prompt:d.Diagnostics.yesUpdateLaunch,command:{diagnostic:e,invoke:async()=>{await this.fixLaunchJson(e.code)}}},{prompt:d.Common.noIWillDoItLater}];await this.messageService.handle(e,{commandPrompts:t})}async fixLaunchJsonInWorkspace(e,t){if(0===(await this.diagnoseWorkspace(t,void 0)).length)return;const n=_(t);let r=await this.fs.readFile(n);switch(e){case f.DiagnosticCodes.InvalidDebuggerTypeDiagnostic:r=S(r,'"pythonExperimental"','"python"'),r=S(r,'"Python Experimental:','"Python:');break;case f.DiagnosticCodes.JustMyCodeDiagnostic:r=S(r,'"debugStdLib": false','"justMyCode": true'),r=S(r,'"debugStdLib": true','"justMyCode": false');break;case f.DiagnosticCodes.ConsoleTypeDiagnostic:r=S(r,'"console": "none"','"console": "internalConsole"');break;case f.DiagnosticCodes.ConfigPythonPathDiagnostic:r=S(r,'"pythonPath":','"python":'),r=S(r,"{config:python.pythonPath}","{command:python.interpreterPath}"),r=S(r,"{config:python.interpreterPath}","{command:python.interpreterPath}");break;default:return}await this.fs.writeFile(n,r)}};function S(e,t,n){const r=new RegExp(t,"g");return e.replace(r,n)}function _(e){return s.join(e.uri.fsPath,".vscode","launch.json")}b=r([(0,o.injectable)(),i(0,(0,o.inject)(p.IServiceContainer)),i(1,(0,o.inject)(u.IFileSystem)),i(2,(0,o.inject)(l.IDisposableRegistry)),i(3,(0,o.inject)(c.IWorkspaceService)),i(4,(0,o.inject)(m.IDiagnosticHandlerService)),i(4,(0,o.named)(g.DiagnosticCommandPromptHandlerServiceId))],b),t.InvalidLaunchJsonDebuggerService=b},42655:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidPythonPathInDebuggerService=t.InvalidPythonPathInDebuggerServiceId=void 0;const o=n(86700),s=n(71017),a=n(66828),c=n(17585);n(32727);const u=n(61684),l=n(67098),d=n(48683),p=n(41691),h=n(18639),f=n(77498),g=n(19735),m=n(66674),v=n(16356),y=n(7587),b=n(51475),S=n(93971),_={[y.DiagnosticCodes.InvalidPythonPathInDebuggerSettingsDiagnostic]:l.Diagnostics.invalidPythonPathInDebuggerSettings,[y.DiagnosticCodes.InvalidPythonPathInDebuggerLaunchDiagnostic]:l.Diagnostics.invalidPythonPathInDebuggerLaunch};class E extends m.BaseDiagnostic{constructor(e,t){super(e,_[e],a.DiagnosticSeverity.Error,S.DiagnosticScope.WorkspaceFolder,t,void 0,"always")}}t.InvalidPythonPathInDebuggerServiceId="InvalidPythonPathInDebuggerServiceId";let w=class extends m.BaseDiagnosticsService{constructor(e,t,n,r,i,o,s,a){super([y.DiagnosticCodes.InvalidPythonPathInDebuggerSettingsDiagnostic,y.DiagnosticCodes.InvalidPythonPathInDebuggerLaunchDiagnostic],e,s,!0),this.workspace=t,this.commandFactory=n,this.interpreterHelper=r,this.documentManager=i,this.configService=o,this.messageService=a}async diagnose(){return[]}async validatePythonPath(e,t,n){return"${command:python.interpreterPath}"!==(e=e?this.resolveVariables(e,n):void 0)&&e||(e=this.configService.getSettings(n).pythonPath),!!await this.interpreterHelper.getInterpreterInformation(e).catch((()=>{}))||((0,g.traceError)(`Invalid Python Path '${e}'`),t===p.PythonPathSource.launchJson?this.handle([new E(y.DiagnosticCodes.InvalidPythonPathInDebuggerLaunchDiagnostic,n)]).catch((e=>(0,g.traceError)("Failed to handle invalid python path in launch.json debugger",e))).ignoreErrors():this.handle([new E(y.DiagnosticCodes.InvalidPythonPathInDebuggerSettingsDiagnostic,n)]).catch((e=>(0,g.traceError)("Failed to handle invalid python path in settings.json debugger",e))).ignoreErrors(),!1)}async onHandle(e){if(0===e.length||!this.canHandle(e[0]))return;const t=e[0],n=this.getCommandPrompts(t);await this.messageService.handle(t,{commandPrompts:n})}resolveVariables(e,t){return new d.SystemVariables(t,void 0,this.workspace).resolveAny(e)}getCommandPrompts(e){switch(e.code){case y.DiagnosticCodes.InvalidPythonPathInDebuggerSettingsDiagnostic:return[{prompt:l.Common.selectPythonInterpreter,command:this.commandFactory.createCommand(e,{type:"executeVSCCommand",options:"python.setInterpreter"})}];case y.DiagnosticCodes.InvalidPythonPathInDebuggerLaunchDiagnostic:return[{prompt:l.Common.openLaunch,command:{diagnostic:e,invoke:async()=>{const e=(t=a.workspace.workspaceFolders[0],s.join(t.uri.fsPath,".vscode","launch.json"));var t;const n=await this.documentManager.openTextDocument(e);await this.documentManager.showTextDocument(n)}}}];default:throw new Error("Invalid diagnostic for 'InvalidPythonPathInDebuggerService'")}}};w=r([(0,o.injectable)(),i(0,(0,o.inject)(f.IServiceContainer)),i(1,(0,o.inject)(c.IWorkspaceService)),i(2,(0,o.inject)(v.IDiagnosticsCommandFactory)),i(3,(0,o.inject)(h.IInterpreterHelper)),i(4,(0,o.inject)(c.IDocumentManager)),i(5,(0,o.inject)(u.IConfigurationService)),i(6,(0,o.inject)(u.IDisposableRegistry)),i(7,(0,o.inject)(S.IDiagnosticHandlerService)),i(7,(0,o.named)(b.DiagnosticCommandPromptHandlerServiceId))],w),t.InvalidPythonPathInDebuggerService=w},94117:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JediPython27NotSupportedDiagnosticService=t.JediPython27NotSupportedDiagnosticServiceId=t.JediPython27NotSupportedDiagnostic=void 0;const o=n(86700),s=n(66828),a=n(90819),c=n(17585),u=n(61684),l=n(67098),d=n(18639),p=n(77498),h=n(66674),f=n(16356),g=n(7587),m=n(51475),v=n(93971);class y extends h.BaseDiagnostic{constructor(e,t){super(g.DiagnosticCodes.JediPython27NotSupportedDiagnostic,e,s.DiagnosticSeverity.Warning,v.DiagnosticScope.Global,t)}}t.JediPython27NotSupportedDiagnostic=y,t.JediPython27NotSupportedDiagnosticServiceId="JediPython27NotSupportedDiagnosticServiceId";let b=class extends h.BaseDiagnosticsService{constructor(e,t,n,r,i,o){super([g.DiagnosticCodes.JediPython27NotSupportedDiagnostic],e,o,!0),this.interpreterService=t,this.workspaceService=n,this.configurationService=r,this.messageService=i}async diagnose(e){var t,n;const r=await this.interpreterService.getActiveInterpreter(e),{languageServer:i}=this.configurationService.getSettings(e);return await this.updateLanguageServerSetting(e),r&&(null!==(n=null===(t=r.version)||void 0===t?void 0:t.major)&&void 0!==n?n:0)<3&&i===a.LanguageServerType.Jedi?[new y(l.Python27Support.jediMessage,e)]:[]}async onHandle(e){if(0===e.length||!this.canHandle(e[0]))return;const t=e[0];if(await this.filterService.shouldIgnoreDiagnostic(t.code))return;const n=this.serviceContainer.get(f.IDiagnosticsCommandFactory),r=[{prompt:l.Common.gotIt},{prompt:l.Common.doNotShowAgain,command:n.createCommand(t,{type:"ignore",options:v.DiagnosticScope.Global})}];await this.messageService.handle(t,{commandPrompts:r})}async updateLanguageServerSetting(e){const t=this.workspaceService.getConfiguration("python",e).inspect("languageServer");let n;if((null==t?void 0:t.workspaceValue)===a.LanguageServerType.JediLSP)n=s.ConfigurationTarget.Workspace;else{if((null==t?void 0:t.globalValue)!==a.LanguageServerType.JediLSP)return;n=s.ConfigurationTarget.Global}await this.configurationService.updateSetting("languageServer",a.LanguageServerType.Jedi,e,n)}};b=r([i(0,(0,o.inject)(p.IServiceContainer)),i(1,(0,o.inject)(d.IInterpreterService)),i(2,(0,o.inject)(c.IWorkspaceService)),i(3,(0,o.inject)(u.IConfigurationService)),i(4,(0,o.inject)(v.IDiagnosticHandlerService)),i(4,(0,o.named)(m.DiagnosticCommandPromptHandlerServiceId)),i(5,(0,o.inject)(u.IDisposableRegistry))],b),t.JediPython27NotSupportedDiagnosticService=b},21513:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidMacPythonInterpreterService=t.InvalidMacPythonInterpreterServiceId=t.InvalidMacPythonInterpreterDiagnostic=void 0;const o=n(86700),s=n(66828);n(32727);const a=n(18472),c=n(84974),u=n(61684),l=n(18639),d=n(77498),p=n(66674),h=n(16356),f=n(7587),g=n(51475),m=n(93971),v=n(67098),y=a.loadMessageBundle(),b={[f.DiagnosticCodes.MacInterpreterSelected]:y("DiagnosticCodes.MacInterpreterSelected","The selected macOS system install of Python is not recommended, some functionality in the extension will be limited. [Install another version of Python](https://www.python.org/downloads) or select a different interpreter for the best experience. [Learn more](https://aka.ms/AA7jfor).")};class S extends p.BaseDiagnostic{constructor(e,t){super(e,b[e],s.DiagnosticSeverity.Error,m.DiagnosticScope.WorkspaceFolder,t)}}t.InvalidMacPythonInterpreterDiagnostic=S,t.InvalidMacPythonInterpreterServiceId="InvalidMacPythonInterpreterServiceId";let _=class extends p.BaseDiagnosticsService{constructor(e,t,n,r){super([f.DiagnosticCodes.MacInterpreterSelected],e,t,!0),this.platform=n,this.helper=r,this.changeThrottleTimeout=1e3,this.addPythonPathChangedHandler()}dispose(){this.timeOut&&"number"!=typeof this.timeOut&&(clearTimeout(this.timeOut),this.timeOut=void 0)}async diagnose(e){if(!this.platform.isMac)return[];const t=this.serviceContainer.get(u.IConfigurationService).getSettings(e);return await this.helper.isMacDefaultPythonPath(t.pythonPath)?[new S(f.DiagnosticCodes.MacInterpreterSelected,e)]:[]}async onHandle(e){if(0===e.length)return;const t=this.serviceContainer.get(m.IDiagnosticHandlerService,g.DiagnosticCommandPromptHandlerServiceId);await Promise.all(e.map((async e=>{const n=await this.canHandle(e),r=await this.filterService.shouldIgnoreDiagnostic(e.code);if(!n||r)return;const i=this.getCommandPrompts(e);await t.handle(e,{commandPrompts:i,message:e.message})})))}addPythonPathChangedHandler(){const e=this.serviceContainer.get(u.IDisposableRegistry),t=this.serviceContainer.get(u.IInterpreterPathService);e.push(t.onDidChange((e=>this.onDidChangeConfiguration(e))))}async onDidChangeConfiguration(e){const t=e.uri;this.timeOut&&"number"!=typeof this.timeOut&&(clearTimeout(this.timeOut),this.timeOut=void 0),this.timeOut=setTimeout((()=>{this.timeOut=void 0,this.diagnose(t).then((e=>this.handle(e))).ignoreErrors()}),this.changeThrottleTimeout)}getCommandPrompts(e){const t=this.serviceContainer.get(h.IDiagnosticsCommandFactory);if(e.code===f.DiagnosticCodes.MacInterpreterSelected)return[{prompt:v.Common.selectPythonInterpreter,command:t.createCommand(e,{type:"executeVSCCommand",options:"python.setInterpreter"})},{prompt:v.Common.doNotShowAgain,command:t.createCommand(e,{type:"ignore",options:m.DiagnosticScope.Global})}];throw new Error("Invalid diagnostic for 'InvalidMacPythonInterpreterService'")}};_=r([(0,o.injectable)(),i(0,(0,o.inject)(d.IServiceContainer)),i(1,(0,o.inject)(u.IDisposableRegistry)),i(2,(0,o.inject)(c.IPlatformService)),i(3,(0,o.inject)(l.IInterpreterHelper))],_),t.InvalidMacPythonInterpreterService=_},54205:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PowerShellActivationHackDiagnosticsService=t.PowerShellActivationHackDiagnosticsServiceId=t.PowershellActivationNotAvailableDiagnostic=void 0;const o=n(86700),s=n(66828);n(32727);const a=n(18472),c=n(87688),u=n(61684),l=n(67098),d=n(77498),p=n(19735),h=n(54813),f=n(61522),g=n(66674),m=n(16356),v=n(7587),y=n(51475),b=n(93971),S=a.loadMessageBundle()("powershelActivationMsg","Activation of the selected Python environment is not supported in PowerShell. Consider changing your shell to Command Prompt.");class _ extends g.BaseDiagnostic{constructor(e){super(v.DiagnosticCodes.EnvironmentActivationInPowerShellWithBatchFilesNotSupportedDiagnostic,S,s.DiagnosticSeverity.Warning,b.DiagnosticScope.Global,e,void 0,"always")}}t.PowershellActivationNotAvailableDiagnostic=_,t.PowerShellActivationHackDiagnosticsServiceId="EnvironmentActivationInPowerShellWithBatchFilesNotSupportedDiagnostic";let E=class extends g.BaseDiagnosticsService{constructor(e,t){super([v.DiagnosticCodes.EnvironmentActivationInPowerShellWithBatchFilesNotSupportedDiagnostic],e,t,!0),this.messageService=e.get(b.IDiagnosticHandlerService,y.DiagnosticCommandPromptHandlerServiceId)}async diagnose(){return[]}async onHandle(e){if(0===e.length||!this.canHandle(e[0]))return;const t=e[0];if(await this.filterService.shouldIgnoreDiagnostic(t.code))return;const n=this.serviceContainer.get(m.IDiagnosticsCommandFactory),r=this.serviceContainer.get(u.ICurrentProcess),i=this.serviceContainer.get(u.IConfigurationService),o=[{prompt:l.Common.useCommandPrompt,command:{diagnostic:t,invoke:async()=>{(0,h.sendTelemetryEvent)(f.EventName.DIAGNOSTICS_ACTION,void 0,{action:"switchToCommandPrompt"}),(0,c.useCommandPromptAsDefaultShell)(r,i).catch((e=>(0,p.traceError)("Use Command Prompt as default shell",e)))}}},{prompt:l.Common.ignore},{prompt:l.Common.alwaysIgnore,command:n.createCommand(t,{type:"ignore",options:b.DiagnosticScope.Global})},{prompt:l.Common.moreInfo,command:n.createCommand(t,{type:"launch",options:"https://aka.ms/CondaPwsh"})}];await this.messageService.handle(t,{commandPrompts:o})}};E=r([(0,o.injectable)(),i(0,(0,o.inject)(d.IServiceContainer)),i(1,(0,o.inject)(u.IDisposableRegistry))],E),t.PowerShellActivationHackDiagnosticsService=E},9798:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PylanceDefaultDiagnosticService=t.PylanceDefaultDiagnosticServiceId=t.PylanceDefaultDiagnostic=t.PYLANCE_PROMPT_MEMENTO=void 0;const o=n(86700),s=n(66828),a=n(61684),c=n(67098),u=n(77498),l=n(66674),d=n(7587),p=n(51475),h=n(93971);t.PYLANCE_PROMPT_MEMENTO="pylanceDefaultPromptMemento";class f extends l.BaseDiagnostic{constructor(e,t){super(d.DiagnosticCodes.PylanceDefaultDiagnostic,e,s.DiagnosticSeverity.Information,h.DiagnosticScope.Global,t)}}t.PylanceDefaultDiagnostic=f,t.PylanceDefaultDiagnosticServiceId="PylanceDefaultDiagnosticServiceId";let g=class extends l.BaseDiagnosticsService{constructor(e,t,n,r){super([d.DiagnosticCodes.PylanceDefaultDiagnostic],e,r,!0,!0),this.context=t,this.messageService=n,this.initialMementoValue=void 0,this.initialMementoValue=this.context.globalState.get("extensionVersion")}async diagnose(e){return await this.shouldShowPrompt()?[new f(c.Diagnostics.pylanceDefaultMessage,e)]:[]}async onHandle(e){if(0===e.length||!this.canHandle(e[0]))return;const t=e[0];if(await this.filterService.shouldIgnoreDiagnostic(t.code))return;const n=[{prompt:c.Common.ok}];await this.messageService.handle(t,{commandPrompts:n,onClose:this.updateMemento.bind(this)})}async updateMemento(){await this.context.globalState.update(t.PYLANCE_PROMPT_MEMENTO,!0)}async shouldShowPrompt(){const e=this.initialMementoValue,n=this.context.globalState.get(t.PYLANCE_PROMPT_MEMENTO);return void 0===e?(await this.updateMemento(),!1):void 0===n}};g=r([i(0,(0,o.inject)(u.IServiceContainer)),i(1,(0,o.inject)(a.IExtensionContext)),i(2,(0,o.inject)(h.IDiagnosticHandlerService)),i(2,(0,o.named)(p.DiagnosticCommandPromptHandlerServiceId)),i(3,(0,o.inject)(a.IDisposableRegistry))],g),t.PylanceDefaultDiagnosticService=g},81613:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidPythonInterpreterService=t.InvalidPythonInterpreterServiceId=t.InvalidPythonInterpreterDiagnostic=void 0;const o=n(86700),s=n(66828);n(32727);const a=n(18472),c=n(71017),u=n(61684),l=n(18639),d=n(77498),p=n(66674),h=n(16356),f=n(7587),g=n(51475),m=n(93971),v=n(67098),y=n(77570),b=n(17585),S=n(54813),_=n(61522),E=n(36952),w=n(3481),P=a.loadMessageBundle(),T={[f.DiagnosticCodes.NoPythonInterpretersDiagnostic]:P("DiagnosticCodes.NoPythonInterpretersDiagnostic","No Python interpreter is selected. Please select a Python interpreter to enable features such as IntelliSense, linting, and debugging."),[f.DiagnosticCodes.InvalidPythonInterpreterDiagnostic]:P("DiagnosticCodes.NoCurrentlySelectedPythonInterpreterDiagnostic","An Invalid Python interpreter is selected{0}, please try changing it to enable features such as IntelliSense, linting, and debugging.")};class C extends p.BaseDiagnostic{constructor(e,t,n,r=m.DiagnosticScope.WorkspaceFolder){var i;let o="";if(n.workspaceFile&&n.workspaceFolders&&(null===(i=n.workspaceFolders)||void 0===i?void 0:i.length)>1){const e=n.getWorkspaceFolder(t);e&&(o=` ${P("Common.forWorkspace","for workspace")} ${c.basename(e.uri.fsPath)}`)}super(e,T[e].format(o),s.DiagnosticSeverity.Error,r,t,void 0,"always")}}t.InvalidPythonInterpreterDiagnostic=C,t.InvalidPythonInterpreterServiceId="InvalidPythonInterpreterServiceId";let I=class extends p.BaseDiagnosticsService{constructor(e,t){super([f.DiagnosticCodes.NoPythonInterpretersDiagnostic,f.DiagnosticCodes.InvalidPythonInterpreterDiagnostic],e,t,!1),this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0}}async activate(){const e=this.serviceContainer.get(b.ICommandManager);this.disposableRegistry.push(e.registerCommand(y.Commands.TriggerEnvironmentSelection,(e=>this.triggerEnvSelectionIfNecessary(e))));const t=this.serviceContainer.get(l.IInterpreterService);this.disposableRegistry.push(t.onDidChangeInterpreterConfiguration((t=>e.executeCommand(y.Commands.TriggerEnvironmentSelection,t).then(w.noop,w.noop))))}async diagnose(e){return[]}async _manualDiagnose(e){const t=this.serviceContainer.get(b.IWorkspaceService),n=this.serviceContainer.get(l.IInterpreterService),r=await n.hasInterpreters(),i="python"===this.serviceContainer.get(u.IInterpreterPathService).get(e);return!r&&i?[new C(f.DiagnosticCodes.NoPythonInterpretersDiagnostic,e,t,m.DiagnosticScope.Global)]:await n.getActiveInterpreter(e)?[]:[new C(f.DiagnosticCodes.InvalidPythonInterpreterDiagnostic,e,t)]}async triggerEnvSelectionIfNecessary(e){const t=await this._manualDiagnose(e);return!t.length||(this.handle(t).ignoreErrors(),!1)}async onHandle(e){if(0===e.length)return;const t=this.serviceContainer.get(m.IDiagnosticHandlerService,g.DiagnosticCommandPromptHandlerServiceId);await Promise.all(e.map((async e=>{if(!this.canHandle(e))return;const n=this.getCommandPrompts(e),r=function(e){if(e.code===f.DiagnosticCodes.NoPythonInterpretersDiagnostic)return e=>{(0,S.sendTelemetryEvent)(_.EventName.PYTHON_NOT_INSTALLED_PROMPT,void 0,{selection:e?"Download":"Ignore"})}}(e);await t.handle(e,{commandPrompts:n,message:e.message,onClose:r})})))}getCommandPrompts(e){const t=this.serviceContainer.get(h.IDiagnosticsCommandFactory);return[{prompt:v.Common.selectPythonInterpreter,command:t.createCommand(e,{type:"executeVSCCommand",options:y.Commands.Set_Interpreter})}]}};r([(0,E.cache)(1e3,!0)],I.prototype,"onHandle",null),I=r([(0,o.injectable)(),i(0,(0,o.inject)(d.IServiceContainer)),i(1,(0,o.inject)(u.IDisposableRegistry))],I),t.InvalidPythonInterpreterService=I},92930:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonPathDeprecatedDiagnosticService=t.PythonPathDeprecatedDiagnosticServiceId=t.PythonPathDeprecatedDiagnostic=void 0;const o=n(86700),s=n(66828),a=n(17585),c=n(61684),u=n(67098),l=n(77498),d=n(66674),p=n(16356),h=n(7587),f=n(51475),g=n(93971);class m extends d.BaseDiagnostic{constructor(e,t){super(h.DiagnosticCodes.PythonPathDeprecatedDiagnostic,e,s.DiagnosticSeverity.Information,g.DiagnosticScope.WorkspaceFolder,t)}}t.PythonPathDeprecatedDiagnostic=m,t.PythonPathDeprecatedDiagnosticServiceId="PythonPathDeprecatedDiagnosticServiceId";let v=class extends d.BaseDiagnosticsService{constructor(e,t,n){super([h.DiagnosticCodes.PythonPathDeprecatedDiagnostic],e,n,!0),this.messageService=t,this.workspaceService=this.serviceContainer.get(a.IWorkspaceService)}async diagnose(e){const t=this.workspaceService.getConfiguration("python",e).inspect("pythonPath");if(!t)return[];const n=this.workspaceService.workspaceFile&&void 0!==t.workspaceValue,r=void 0!==t.workspaceFolderValue;return n||r?[new m(u.Diagnostics.removedPythonPathFromSettings,e)]:[]}async onHandle(e){if(0===e.length||!await this.canHandle(e[0]))return;const t=e[0];if(await this.filterService.shouldIgnoreDiagnostic(t.code))return;const n=this.serviceContainer.get(p.IDiagnosticsCommandFactory),r=[{prompt:u.Common.ok}],i=n.createCommand(t,{type:"ignore",options:g.DiagnosticScope.Global});await i.invoke(),await this.messageService.handle(t,{commandPrompts:r})}};v=r([i(0,(0,o.inject)(l.IServiceContainer)),i(1,(0,o.inject)(g.IDiagnosticHandlerService)),i(1,(0,o.named)(f.DiagnosticCommandPromptHandlerServiceId)),i(2,(0,o.inject)(c.IDisposableRegistry))],v),t.PythonPathDeprecatedDiagnosticService=v},49264:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SwitchToDefaultLanguageServerDiagnosticService=t.SwitchToDefaultLanguageServerDiagnosticServiceId=t.SwitchToDefaultLanguageServerDiagnostic=void 0;const o=n(86700),s=n(66828),a=n(90819),c=n(17585),u=n(61684),l=n(67098),d=n(77498),p=n(66674),h=n(7587),f=n(51475),g=n(93971);class m extends p.BaseDiagnostic{constructor(e,t){super(h.DiagnosticCodes.SwitchToDefaultLanguageServerDiagnostic,e,s.DiagnosticSeverity.Warning,g.DiagnosticScope.Global,t)}}t.SwitchToDefaultLanguageServerDiagnostic=m,t.SwitchToDefaultLanguageServerDiagnosticServiceId="SwitchToDefaultLanguageServerDiagnosticServiceId";let v=class extends p.BaseDiagnosticsService{constructor(e,t,n,r){super([h.DiagnosticCodes.JediPython27NotSupportedDiagnostic],e,r,!0,!0),this.workspaceService=t,this.messageService=n}diagnose(e){let t=!1;const n=this.workspaceService.getConfiguration("python"),r=n.inspect("languageServer");return(null==r?void 0:r.workspaceValue)===a.LanguageServerType.Microsoft&&(n.update("languageServer","Default",s.ConfigurationTarget.Workspace),t=!0),(null==r?void 0:r.globalValue)===a.LanguageServerType.Microsoft&&(n.update("languageServer","Default",s.ConfigurationTarget.Global),t=!0),Promise.resolve(t?[new m(l.SwitchToDefaultLS.bannerMessage,e)]:[])}async onHandle(e){if(0===e.length||!this.canHandle(e[0]))return;const t=e[0];await this.filterService.shouldIgnoreDiagnostic(t.code)||await this.messageService.handle(t,{commandPrompts:[{prompt:l.Common.gotIt}]})}};v=r([(0,o.injectable)(),i(0,(0,o.inject)(d.IServiceContainer)),i(1,(0,o.inject)(c.IWorkspaceService)),i(2,(0,o.inject)(g.IDiagnosticHandlerService)),i(2,(0,o.named)(f.DiagnosticCommandPromptHandlerServiceId)),i(3,(0,o.inject)(u.IDisposableRegistry))],v),t.SwitchToDefaultLanguageServerDiagnosticService=v},69686:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseDiagnosticCommand=void 0,t.BaseDiagnosticCommand=class{constructor(e){this.diagnostic=e}}},2852:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecuteVSCCommand=void 0;const r=n(17585),i=n(54813),o=n(61522),s=n(69686);class a extends s.BaseDiagnosticCommand{constructor(e,t,n){super(e),this.serviceContainer=t,this.commandName=n}async invoke(){return(0,i.sendTelemetryEvent)(o.EventName.DIAGNOSTICS_ACTION,void 0,{commandName:this.commandName}),this.serviceContainer.get(r.ICommandManager).executeCommand(this.commandName).then((()=>{}))}}t.ExecuteVSCCommand=a},23185:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticsCommandFactory=void 0;const o=n(86700),s=n(77498),a=n(2852),c=n(28634),u=n(33690);let l=class{constructor(e){this.serviceContainer=e}createCommand(e,t){const n=t.type;switch(t.type){case"ignore":return new c.IgnoreDiagnosticCommand(e,this.serviceContainer,t.options);case"launch":return new u.LaunchBrowserCommand(e,this.serviceContainer,t.options);case"executeVSCCommand":return new a.ExecuteVSCCommand(e,this.serviceContainer,t.options);default:throw new Error(`Unknown Diagnostic command commandType '${n}'`)}}};l=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IServiceContainer))],l),t.DiagnosticsCommandFactory=l},28634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IgnoreDiagnosticCommand=void 0;const r=n(54813),i=n(61522),o=n(93971),s=n(69686);class a extends s.BaseDiagnosticCommand{constructor(e,t,n){super(e),this.serviceContainer=t,this.scope=n}invoke(){return(0,r.sendTelemetryEvent)(i.EventName.DIAGNOSTICS_ACTION,void 0,{ignoreCode:this.diagnostic.code}),this.serviceContainer.get(o.IDiagnosticFilterService).ignoreDiagnostic(this.diagnostic.code,this.scope)}}t.IgnoreDiagnosticCommand=a},33690:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LaunchBrowserCommand=void 0;const r=n(61684),i=n(54813),o=n(61522),s=n(69686);class a extends s.BaseDiagnosticCommand{constructor(e,t,n){super(e),this.serviceContainer=t,this.url=n}async invoke(){return(0,i.sendTelemetryEvent)(o.EventName.DIAGNOSTICS_ACTION,void 0,{url:this.url}),this.serviceContainer.get(r.IBrowserService).launch(this.url)}}t.LaunchBrowserCommand=a},16356:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDiagnosticsCommandFactory=void 0,t.IDiagnosticsCommandFactory=Symbol("IDiagnosticsCommandFactory")},7587:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticCodes=void 0,(n=t.DiagnosticCodes||(t.DiagnosticCodes={})).InvalidEnvironmentPathVariableDiagnostic="InvalidEnvironmentPathVariableDiagnostic",n.InvalidDebuggerTypeDiagnostic="InvalidDebuggerTypeDiagnostic",n.NoPythonInterpretersDiagnostic="NoPythonInterpretersDiagnostic",n.MacInterpreterSelected="MacInterpreterSelected",n.InvalidPythonPathInDebuggerSettingsDiagnostic="InvalidPythonPathInDebuggerSettingsDiagnostic",n.InvalidPythonPathInDebuggerLaunchDiagnostic="InvalidPythonPathInDebuggerLaunchDiagnostic",n.EnvironmentActivationInPowerShellWithBatchFilesNotSupportedDiagnostic="EnvironmentActivationInPowerShellWithBatchFilesNotSupportedDiagnostic",n.InvalidPythonInterpreterDiagnostic="InvalidPythonInterpreterDiagnostic",n.LSNotSupportedDiagnostic="LSNotSupportedDiagnostic",n.PythonPathDeprecatedDiagnostic="PythonPathDeprecatedDiagnostic",n.JustMyCodeDiagnostic="JustMyCodeDiagnostic",n.ConsoleTypeDiagnostic="ConsoleTypeDiagnostic",n.ConfigPythonPathDiagnostic="ConfigPythonPathDiagnostic",n.PylanceDefaultDiagnostic="PylanceDefaultDiagnostic",n.JediPython27NotSupportedDiagnostic="JediPython27NotSupportedDiagnostic",n.SwitchToDefaultLanguageServerDiagnostic="SwitchToDefaultLanguageServerDiagnostic",n.SwitchToPreReleaseExtensionDiagnostic="SwitchToPreReleaseExtensionDiagnostic"},70263:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticFilterService=t.FilterKeys=void 0;const o=n(86700),s=n(61684),a=n(77498),c=n(93971);var u;!function(e){e.GlobalDiagnosticFilter="GLOBAL_DIAGNOSTICS_FILTER",e.WorkspaceDiagnosticFilter="WORKSPACE_DIAGNOSTICS_FILTER"}(u=t.FilterKeys||(t.FilterKeys={}));let l=class{constructor(e){this.serviceContainer=e}async shouldIgnoreDiagnostic(e){const t=this.serviceContainer.get(s.IPersistentStateFactory),n=t.createGlobalPersistentState(u.GlobalDiagnosticFilter,[]),r=t.createWorkspacePersistentState(u.WorkspaceDiagnosticFilter,[]);return n.value.indexOf(e)>=0||r.value.indexOf(e)>=0}async ignoreDiagnostic(e,t){const n=this.serviceContainer.get(s.IPersistentStateFactory),r=t===c.DiagnosticScope.Global?n.createGlobalPersistentState(u.GlobalDiagnosticFilter,[]):n.createWorkspacePersistentState(u.WorkspaceDiagnosticFilter,[]),i=r.value.slice();await r.updateValue(i.concat(e))}};l=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],l),t.DiagnosticFilterService=l},51475:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticCommandPromptHandlerService=t.DiagnosticCommandPromptHandlerServiceId=void 0;const o=n(86700),s=n(66828),a=n(17585),c=n(77498);t.DiagnosticCommandPromptHandlerServiceId="DiagnosticCommandPromptHandlerServiceId";let u=class{constructor(e){this.appShell=e.get(a.IApplicationShell)}async handle(e,t={commandPrompts:[]}){const n=t.commandPrompts.map((e=>e.prompt)),r=await this.displayMessage(t.message?t.message:e.message,e.severity,n);if(t.onClose&&t.onClose(r),!r)return;const i=t.commandPrompts.find((e=>e.prompt===r));i&&i.command&&await i.command.invoke()}async displayMessage(e,t,n){switch(t){case s.DiagnosticSeverity.Error:return this.appShell.showErrorMessage(e,...n);case s.DiagnosticSeverity.Warning:return this.appShell.showWarningMessage(e,...n);default:return this.appShell.showInformationMessage(e,...n)}}};u=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],u),t.DiagnosticCommandPromptHandlerService=u},47066:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(90819),i=n(77651),o=n(19897),s=n(60474),a=n(27351),c=n(42655),u=n(94117),l=n(21513),d=n(54205),p=n(9798),h=n(81613),f=n(92930),g=n(49264),m=n(23185),v=n(16356),y=n(70263),b=n(51475),S=n(93971);t.registerTypes=function(e){e.addSingleton(S.IDiagnosticFilterService,y.DiagnosticFilterService),e.addSingleton(S.IDiagnosticHandlerService,b.DiagnosticCommandPromptHandlerService,b.DiagnosticCommandPromptHandlerServiceId),e.addSingleton(S.IDiagnosticsService,s.EnvironmentPathVariableDiagnosticsService,s.EnvironmentPathVariableDiagnosticsServiceId),e.addSingleton(S.IDiagnosticsService,a.InvalidLaunchJsonDebuggerService,a.InvalidLaunchJsonDebuggerServiceId),e.addSingleton(S.IDiagnosticsService,h.InvalidPythonInterpreterService,h.InvalidPythonInterpreterServiceId),e.addSingleton(r.IExtensionSingleActivationService,h.InvalidPythonInterpreterService),e.addSingleton(S.IDiagnosticsService,c.InvalidPythonPathInDebuggerService,c.InvalidPythonPathInDebuggerServiceId),e.addSingleton(S.IDiagnosticsService,d.PowerShellActivationHackDiagnosticsService,d.PowerShellActivationHackDiagnosticsServiceId),e.addSingleton(S.IDiagnosticsService,l.InvalidMacPythonInterpreterService,l.InvalidMacPythonInterpreterServiceId),e.addSingleton(S.IDiagnosticsService,f.PythonPathDeprecatedDiagnosticService,f.PythonPathDeprecatedDiagnosticServiceId),e.addSingleton(S.IDiagnosticsService,p.PylanceDefaultDiagnosticService,p.PylanceDefaultDiagnosticServiceId),e.addSingleton(S.IDiagnosticsService,u.JediPython27NotSupportedDiagnosticService,u.JediPython27NotSupportedDiagnosticServiceId),e.addSingleton(S.IDiagnosticsService,g.SwitchToDefaultLanguageServerDiagnosticService,g.SwitchToDefaultLanguageServerDiagnosticServiceId),e.addSingleton(v.IDiagnosticsCommandFactory,m.DiagnosticsCommandFactory),e.addSingleton(i.IApplicationDiagnostics,o.ApplicationDiagnostics)}},62867:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SourceMapSupportService=void 0;const o=n(86700),s=n(66828),a=n(17585),c=n(77570),u=n(61684),l=n(67098);let d=class{constructor(e,t,n,r){this.commandManager=e,this.disposables=t,this.configurationService=n,this.shell=r}register(){this.disposables.push(this.commandManager.registerCommand(c.Commands.Enable_SourceMap_Support,this.onEnable,this))}async enable(){await this.configurationService.updateSetting("diagnostics.sourceMapsEnabled",!0,void 0,s.ConfigurationTarget.Global),await this.commandManager.executeCommand("workbench.action.reloadWindow")}async onEnable(){const e=l.Diagnostics.enableSourceMapsAndReloadVSC;await this.shell.showWarningMessage(l.Diagnostics.warnBeforeEnablingSourceMaps,e)===e&&await this.enable()}};d=r([(0,o.injectable)(),i(0,(0,o.inject)(a.ICommandManager)),i(1,(0,o.inject)(u.IDisposableRegistry)),i(2,(0,o.inject)(u.IConfigurationService)),i(3,(0,o.inject)(a.IApplicationShell))],d),t.SourceMapSupportService=d},93971:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ISourceMapSupportService=t.IInvalidPythonPathInDebuggerService=t.IInvalidPythonPathInSettings=t.IDiagnosticHandlerService=t.IDiagnosticFilterService=t.IDiagnosticsService=t.DiagnosticScope=void 0,(n=t.DiagnosticScope||(t.DiagnosticScope={})).Global="Global",n.WorkspaceFolder="WorkspaceFolder",t.IDiagnosticsService=Symbol("IDiagnosticsService"),t.IDiagnosticFilterService=Symbol("IDiagnosticFilterService"),t.IDiagnosticHandlerService=Symbol("IDiagnosticHandlerService"),t.IInvalidPythonPathInSettings=Symbol("IInvalidPythonPathInSettings"),t.IInvalidPythonPathInDebuggerService=Symbol("IInvalidPythonPathInDebuggerService"),t.ISourceMapSupportService=Symbol("ISourceMapSupportService")},30086:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(47066),i=n(62867),o=n(93971);t.registerTypes=function(e){e.addSingleton(o.ISourceMapSupportService,i.SourceMapSupportService),(0,r.registerTypes)(e)}},77651:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IApplicationDiagnostics=void 0,t.IApplicationDiagnostics=Symbol("IApplicationDiagnostics")},41659:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Common=t.LanguageService=void 0;const r=n(18472).loadMessageBundle();(t.LanguageService||(t.LanguageService={})).statusItem={name:r("LanguageService.statusItem.name","Python IntelliSense Status"),text:r("LanguageService.statusItem.text","Partial Mode"),detail:r("LanguageService.statusItem.detail","Limited IntelliSense provided by Pylance")},(t.Common||(t.Common={})).learnMore=r("Common.learnMore","Learn more")},17792:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveResourceService=void 0;const o=n(86700),s=n(17585);let a=class{constructor(e,t){this.documentManager=e,this.workspaceService=t}getActiveResource(){const e=this.documentManager.activeTextEditor;return e&&!e.document.isUntitled?e.document.uri:Array.isArray(this.workspaceService.workspaceFolders)&&this.workspaceService.workspaceFolders.length>0?this.workspaceService.workspaceFolders[0].uri:void 0}};a=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IDocumentManager)),i(1,(0,o.inject)(s.IWorkspaceService))],a),t.ActiveResourceService=a},18718:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ApplicationEnvironment=void 0;const o=n(86700),s=n(71017),a=n(36625),c=n(66828),u=n(84974),l=n(61684),d=n(87450);let p=class{constructor(e,t,n){this.platform=e,this.pathUtils=t,this.process=n}get userSettingsFile(){const e="insiders"===this.channel?"Code - Insiders":"Code";switch(this.platform.osType){case d.OSType.OSX:return s.join(this.pathUtils.home,"Library","Application Support",e,"User","settings.json");case d.OSType.Linux:return s.join(this.pathUtils.home,".config",e,"User","settings.json");case d.OSType.Windows:return this.process.env.APPDATA?s.join(this.process.env.APPDATA,e,"User","settings.json"):void 0;default:return}}get appName(){return c.env.appName}get vscodeVersion(){return c.version}get appRoot(){return c.env.appRoot}get uiKind(){return c.env.uiKind}get language(){return c.env.language}get sessionId(){return c.env.sessionId}get machineId(){return c.env.machineId}get remoteName(){return c.env.remoteName}get extensionName(){return this.packageJson.displayName}get shell(){return c.env.shell}get packageJson(){return n(4147)}get channel(){return this.appName.indexOf("Insider")>0?"insiders":"stable"}get extensionChannel(){const e=(0,a.parse)(this.packageJson.version);return!e||e.prerelease.length>0||e.minor%2==1?"insiders":"stable"}get uriScheme(){return c.env.uriScheme}};p=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IPlatformService)),i(1,(0,o.inject)(l.IPathUtils)),i(2,(0,o.inject)(l.ICurrentProcess))],p),t.ApplicationEnvironment=p},13706:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ApplicationShell=void 0;const i=n(86700),o=n(66828);let s=class{get onDidChangeWindowState(){return o.window.onDidChangeWindowState}showInformationMessage(e,t,...n){return o.window.showInformationMessage(e,t,...n)}showWarningMessage(e,t,...n){return o.window.showWarningMessage(e,t,...n)}showErrorMessage(e,t,...n){return o.window.showErrorMessage(e,t,...n)}showQuickPick(e,t,n){return o.window.showQuickPick(e,t,n)}showOpenDialog(e){return o.window.showOpenDialog(e)}showSaveDialog(e){return o.window.showSaveDialog(e)}showInputBox(e,t){return o.window.showInputBox(e,t)}showTextDocument(e,t,n){return o.window.showTextDocument(e,t,n)}openUrl(e){o.env.openExternal(o.Uri.parse(e))}setStatusBarMessage(e,t){return o.window.setStatusBarMessage(e,t)}createStatusBarItem(e,t){return o.window.createStatusBarItem(e,t)}showWorkspaceFolderPick(e){return o.window.showWorkspaceFolderPick(e)}withProgress(e,t){return o.window.withProgress(e,t)}withProgressCustomIcon(e,t){const n=(new o.CancellationTokenSource).token,r=this.createStatusBarItem(o.StatusBarAlignment.Left),i={report:t=>{r.text=`${e} ${t.message}`}};return r.show(),t(i,n).then((e=>(r.dispose(),e)))}createQuickPick(){return o.window.createQuickPick()}createInputBox(){return o.window.createInputBox()}createTreeView(e,t){return o.window.createTreeView(e,t)}createOutputChannel(e){return o.window.createOutputChannel(e)}createLanguageStatusItem(e,t){return o.languages.createLanguageStatusItem(e,t)}};s=r([(0,i.injectable)()],s),t.ApplicationShell=s},77633:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ClipboardService=void 0;const i=n(86700),o=n(66828);let s=class{async readText(){return o.env.clipboard.readText()}async writeText(e){await o.env.clipboard.writeText(e)}};s=r([(0,i.injectable)()],s),t.ClipboardService=s},17381:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandManager=void 0;const i=n(86700),o=n(66828);let s=class{registerCommand(e,t,n){return o.commands.registerCommand(e,t,n)}registerTextEditorCommand(e,t,n){return o.commands.registerTextEditorCommand(e,t,n)}executeCommand(e,...t){return o.commands.executeCommand(e,...t)}getCommands(e){return o.commands.getCommands(e)}};s=r([(0,i.injectable)()],s),t.CommandManager=s},30651:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReloadVSCodeCommandHandler=void 0;const o=n(86700),s=n(67098),a=n(3481),c=n(17585);let u=class{constructor(e,t){this.commandManager=e,this.appShell=t,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0}}async activate(){this.commandManager.registerCommand("python.reloadVSCode",this.onReloadVSCode,this)}async onReloadVSCode(e){await this.appShell.showInformationMessage(e,s.Common.reload)===s.Common.reload&&this.commandManager.executeCommand("workbench.action.reloadWindow").then(a.noop,a.noop)}};u=r([(0,o.injectable)(),i(0,(0,o.inject)(c.ICommandManager)),i(1,(0,o.inject)(c.IApplicationShell))],u),t.ReloadVSCodeCommandHandler=u},5869:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReportIssueCommandHandler=void 0;const o=n(55674),s=n(22037),a=n(71017),c=n(86700),u=n(96486),l=n(17585),d=n(63281),p=n(18639),h=n(77570),f=n(61684),g=n(54813),m=n(61522),v=n(81387),y=n(89515),b=n(48683);let S=class{constructor(e,t,n,r,i){var o,s,c;this.commandManager=e,this.workspaceService=t,this.interpreterService=n,this.configurationService=r,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0},this.argSettingsPath=a.join(d.EXTENSION_ROOT_DIR,"resources","report_issue_user_settings.json"),this.templatePath=a.join(d.EXTENSION_ROOT_DIR,"resources","report_issue_template.md"),this.packageJSONSettings=null===(c=null===(s=null===(o=i.packageJson)||void 0===o?void 0:o.contributes)||void 0===s?void 0:s.configuration)||void 0===c?void 0:c.properties}async activate(){this.commandManager.registerCommand(h.Commands.ReportIssue,this.openReportIssue,this)}async openReportIssue(){var e,t,n,r;const i=this.configurationService.getSettings(),a=JSON.parse(await o.readFile(this.argSettingsPath,"utf8"));let c="";Object.keys(i).forEach((e=>{const t=a[e];if(t)if("object"==typeof t){let n=!1;const r=i[e];"object"==typeof r&&Object.keys(t).forEach((i=>{const o=t[i];if(o){const t=this.getDefaultValue(`${e}.${i}`);if(void 0===t||!(0,u.isEqual)(t,r[i])){n||(c=c.concat(s.EOL,e,s.EOL),n=!0);const t=!0===o?JSON.stringify(r[i]):'"<placeholder>"';c=c.concat(" ",i,": ",t,s.EOL)}}}))}else{const n=this.getDefaultValue(e);if(void 0===n||!(0,u.isEqual)(n,i[e])){const n=!0===t?JSON.stringify(i[e]):'"<placeholder>"';c=c.concat(s.EOL,e,": ",n,s.EOL)}}}));const l=await o.readFile(this.templatePath,"utf8"),d=await this.interpreterService.getActiveInterpreter(),p=null!==(t=null===(e=null==d?void 0:d.version)||void 0===e?void 0:e.raw)&&void 0!==t?t:"",h=this.workspaceService.getConfiguration("python").get("languageServer")||"Not Found",f=(null==d?void 0:d.envType)||v.EnvironmentType.Unknown,y=(null!==(r=null===(n=this.workspaceService.workspaceFolders)||void 0===n?void 0:n.length)&&void 0!==r?r:0)>1&&""!==c?`Multiroot scenario, following user settings may not apply:${s.EOL}`:"";await this.commandManager.executeCommand("workbench.action.openIssueReporter",{extensionId:"ms-python.python",issueBody:l.format(p,f,h,y,c)}),(0,g.sendTelemetryEvent)(m.EventName.USE_REPORT_ISSUE_COMMAND,void 0,{})}getDefaultValue(e){var t;if(!this.packageJSONSettings)return;const n=y.PythonSettings.getSettingsUriAndTarget(void 0,this.workspaceService).uri;return new b.SystemVariables(n,void 0,this.workspaceService).resolveAny(null===(t=this.packageJSONSettings[`python.${e}`])||void 0===t?void 0:t.default)}};S=r([(0,c.injectable)(),i(0,(0,c.inject)(l.ICommandManager)),i(1,(0,c.inject)(l.IWorkspaceService)),i(2,(0,c.inject)(p.IInterpreterService)),i(3,(0,c.inject)(f.IConfigurationService)),i(4,(0,c.inject)(l.IApplicationEnvironment))],S),t.ReportIssueCommandHandler=S},54094:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextKeyManager=void 0;const o=n(86700),s=n(17585);let a=class{constructor(e){this.commandManager=e,this.values=new Map}async setContext(e,t){return this.values.get(e)===t?Promise.resolve():(this.values.set(e,t),this.commandManager.executeCommand("setContext",e,t))}};a=r([(0,o.injectable)(),i(0,(0,o.inject)(s.ICommandManager))],a),t.ContextKeyManager=a},56994:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionContextKey=void 0,(n=t.ExtensionContextKey||(t.ExtensionContextKey={})).showInstallPythonTile="showInstallPythonTile",n.HasFailedTests="hasFailedTests",n.RefreshingTests="refreshingTests"},54144:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugService=void 0;const o=n(86700),s=n(66828);let a=r=class{get activeDebugConsole(){return s.debug.activeDebugConsole}get activeDebugSession(){return s.debug.activeDebugSession}get breakpoints(){return s.debug.breakpoints}get onDidChangeActiveDebugSession(){return s.debug.onDidChangeActiveDebugSession}get onDidStartDebugSession(){return s.debug.onDidStartDebugSession}get onDidReceiveDebugSessionCustomEvent(){return s.debug.onDidReceiveDebugSessionCustomEvent}get onDidTerminateDebugSession(){return s.debug.onDidTerminateDebugSession}get onDidChangeBreakpoints(){return s.debug.onDidChangeBreakpoints}registerDebugConfigurationProvider(e,t){return s.debug.registerDebugConfigurationProvider(e,t)}registerDebugAdapterTrackerFactory(e,t){return s.debug.registerDebugAdapterTrackerFactory(e,t)}startDebugging(e,t,n){return s.debug.startDebugging(e,t,n)}addBreakpoints(e){s.debug.addBreakpoints(e)}removeBreakpoints(e){s.debug.removeBreakpoints(e)}registerDebugAdapterDescriptorFactory(e,t){return s.debug.registerDebugAdapterDescriptorFactory(e,t)}};a.instance=new r,a=r=i([(0,o.injectable)()],a),t.DebugService=a},67808:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSessionTelemetry=void 0;const o=n(86700),s=n(54813),a=n(61522),c=n(61684),u=n(70057),l=n(17585);class d{constructor(e){this.timer=new u.StopWatch,this.trigger="launch",this.trigger=e.configuration.request;const t=e.configuration;this.console=t.console}onWillStartSession(){this.sendTelemetry(a.EventName.DEBUG_SESSION_START)}onDidSendMessage(e){"response"===e.type&&"configurationDone"===e.command&&this.sendTelemetry(a.EventName.DEBUG_SESSION_USER_CODE_RUNNING)}onWillStopSession(){this.sendTelemetry(a.EventName.DEBUG_SESSION_STOP)}onError(e){this.sendTelemetry(a.EventName.DEBUG_SESSION_ERROR)}sendTelemetry(e){e===a.EventName.DEBUG_SESSION_START&&this.timer.reset();const t={trigger:this.trigger,console:this.console};(0,s.sendTelemetryEvent)(e,this.timer.elapsedTime,t)}}let p=class{constructor(e,t){this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0},e.push(t.registerDebugAdapterTrackerFactory("python",this))}async activate(){}createDebugAdapterTracker(e){return new d(e)}};p=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IDisposableRegistry)),i(1,(0,o.inject)(l.IDebugService))],p),t.DebugSessionTelemetry=p},72874:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentManager=void 0;const i=n(86700),o=n(66828);let s=class{get textDocuments(){return o.workspace.textDocuments}get activeTextEditor(){return o.window.activeTextEditor}get visibleTextEditors(){return o.window.visibleTextEditors}get onDidChangeActiveTextEditor(){return o.window.onDidChangeActiveTextEditor}get onDidChangeTextDocument(){return o.workspace.onDidChangeTextDocument}get onDidChangeVisibleTextEditors(){return o.window.onDidChangeVisibleTextEditors}get onDidChangeTextEditorSelection(){return o.window.onDidChangeTextEditorSelection}get onDidChangeTextEditorOptions(){return o.window.onDidChangeTextEditorOptions}get onDidChangeTextEditorViewColumn(){return o.window.onDidChangeTextEditorViewColumn}get onDidOpenTextDocument(){return o.workspace.onDidOpenTextDocument}get onDidCloseTextDocument(){return o.workspace.onDidCloseTextDocument}get onDidSaveTextDocument(){return o.workspace.onDidSaveTextDocument}showTextDocument(e,t,n){return o.window.showTextDocument(e,t,n)}openTextDocument(e){return o.workspace.openTextDocument(e)}applyEdit(e){return o.workspace.applyEdit(e)}createTextEditorDecorationType(e){return o.window.createTextEditorDecorationType(e)}};s=r([(0,i.injectable)()],s),t.DocumentManager=s},13578:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Extensions=void 0;const o=n(86700),s=n(66828),a=n(77911),c=n(71017),u=n(84974),l=n(77570);let d=class{constructor(e){this.fs=e}get all(){return s.extensions.all}get onDidChange(){return s.extensions.onDidChange}getExtension(e){return s.extensions.getExtension(e)}async determineExtensionFromCallStack(){const{stack:e}=new Error;if(e){const t=c.join(l.EXTENSION_ROOT_DIR.toLowerCase(),c.sep),n=e.split("\n").map((e=>{const t=/\((.*)\)/.exec(e);if(t)return t[1]})).filter((e=>e&&!e.toLowerCase().startsWith(t))).filter((e=>this.all.some((t=>e.includes(t.extensionUri.path)||e.includes(t.extensionUri.fsPath)))));a.parse(new Error("Ex")).forEach((e=>{const r=e.getFileName();r&&!r.toLowerCase().startsWith(t)&&n.push(r)}));for(const e of n){let t=c.dirname(e),n=e;for(;t&&t.length<n.length;){const e=c.join(t,"package.json");if(await this.fs.pathExists(e)){const t=await this.fs.readFile(e);try{const e=JSON.parse(t);return{extensionId:`${e.publisher}.${e.name}`,displayName:e.displayName}}catch(e){}}n=t,t=c.dirname(t)}}}return{extensionId:"unknown",displayName:"unknown"}}};d=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IFileSystem))],d),t.Extensions=d},64991:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageService=void 0;const i=n(86700),o=n(66828);let s=class{registerCompletionItemProvider(e,t,...n){return o.languages.registerCompletionItemProvider(e,t,...n)}};s=r([(0,i.injectable)()],s),t.LanguageService=s},53314:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalManager=void 0;const i=n(86700),o=n(66828);let s=class{get onDidCloseTerminal(){return o.window.onDidCloseTerminal}get onDidOpenTerminal(){return o.window.onDidOpenTerminal}createTerminal(e){return o.window.createTerminal(e)}};s=r([(0,i.injectable)()],s),t.TerminalManager=s},17585:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IClipboard=t.IActiveResourceService=t.ILanguageService=t.IApplicationEnvironment=t.IDebugService=t.ITerminalManager=t.IWorkspaceService=t.IDocumentManager=t.IJupyterExtensionDependencyManager=t.IContextKeyManager=t.ICommandManager=t.IApplicationShell=void 0,t.IApplicationShell=Symbol("IApplicationShell"),t.ICommandManager=Symbol("ICommandManager"),t.IContextKeyManager=Symbol("IContextKeyManager"),t.IJupyterExtensionDependencyManager=Symbol("IJupyterExtensionDependencyManager"),t.IDocumentManager=Symbol("IDocumentManager"),t.IWorkspaceService=Symbol("IWorkspaceService"),t.ITerminalManager=Symbol("ITerminalManager"),t.IDebugService=Symbol("IDebugManager"),t.IApplicationEnvironment=Symbol("IApplicationEnvironment"),t.ILanguageService=Symbol("ILanguageService"),t.IActiveResourceService=Symbol("IActiveResourceService"),t.IClipboard=Symbol("IClipboard")},91932:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.PythonWelcome=void 0,(n=t.PythonWelcome||(t.PythonWelcome={})).name="pythonWelcome",n.windowsInstallId="python.installPythonWin8",n.linuxInstallId="python.installPythonLinux",n.macOSInstallId="python.installPythonMac"},56792:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceService=void 0;const i=n(86700),o=n(71017),s=n(66828),a=n(87450);let c=class{get onDidChangeConfiguration(){return s.workspace.onDidChangeConfiguration}get rootPath(){return Array.isArray(s.workspace.workspaceFolders)&&s.workspace.workspaceFolders.length>0?s.workspace.workspaceFolders[0].uri.fsPath:void 0}get workspaceFolders(){return s.workspace.workspaceFolders}get onDidChangeWorkspaceFolders(){return s.workspace.onDidChangeWorkspaceFolders}get workspaceFile(){return s.workspace.workspaceFile}getConfiguration(e,t,n=!1){return n?s.workspace.getConfiguration(e,{uri:t,languageId:"python"}):s.workspace.getConfiguration(e,t)}getWorkspaceFolder(e){return e?s.workspace.getWorkspaceFolder(e):void 0}asRelativePath(e,t){return s.workspace.asRelativePath(e,t)}createFileSystemWatcher(e,t,n,r){return s.workspace.createFileSystemWatcher(e,t,n,r)}findFiles(e,t,n,r){const i=void 0===t?this.searchExcludes:t;return s.workspace.findFiles(e,i,n,r)}getWorkspaceFolderIdentifier(e,t=""){const n=e?s.workspace.getWorkspaceFolder(e):void 0;return n?o.normalize((0,a.getOSType)()===a.OSType.Windows?n.uri.fsPath.toUpperCase():n.uri.fsPath):t}get isVirtualWorkspace(){return!(!s.workspace.workspaceFolders||!s.workspace.workspaceFolders.every((e=>"file"!==e.uri.scheme)))}get isTrusted(){return s.workspace.isTrusted}get onDidGrantWorkspaceTrust(){return s.workspace.onDidGrantWorkspaceTrust}openTextDocument(e){return s.workspace.openTextDocument(e)}get searchExcludes(){const e=this.getConfiguration("search.exclude");return`{${Object.keys(e).filter((t=>!0===e.get(t))).join(",")}}`}};c=r([(0,i.injectable)()],c),t.WorkspaceService=c},29979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cancellation=t.wrapCancellationTokens=t.createPromiseFromCancellation=t.CancellationError=void 0;const r=n(66828),i=n(59314),o=n(67098);class s extends Error{constructor(){super(o.Common.canceled)}}t.CancellationError=s,t.createPromiseFromCancellation=function(e){return new Promise(((t,n)=>{e.token&&e.token.onCancellationRequested((()=>{if(e.token.isCancellationRequested){if("resolve"===e.cancelAction)return t(e.defaultValue);if("reject"===e.cancelAction)return n(new s)}}))}))},t.wrapCancellationTokens=function(...e){const t=new r.CancellationTokenSource;for(const n of e)if(n){if(n.isCancellationRequested)return n;n.onCancellationRequested((()=>t.cancel()))}return t.token},function(e){function t(e){return!!e&&e.isCancellationRequested}e.race=function(e,t){if(t){const n=(0,i.createDeferred)();return t.onCancellationRequested((()=>{n.completed||n.reject(new s)})),t.isCancellationRequested?n.reject(new s):e(t).then((e=>{n.completed||n.resolve(e)})).catch((e=>{n.completed||n.reject(e)})),n.promise}return e()},e.isCanceled=t,e.throwIfCanceled=function(e){if(t(e))throw new s}}(t.Cancellation||(t.Cancellation={}))},89515:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonSettings=void 0;const i=n(71017),o=n(57147),s=n(66828),a=n(90819);n(32727);const c=n(54813),u=n(61522),l=n(98634),d=n(56792),p=n(77570),h=n(93666),f=n(36952),g=n(48683),m=n(87450),v=n(58967);class y{constructor(e,t,n,r,i){this.interpreterAutoSelectionService=t,this.interpreterPathService=r,this.defaultLS=i,this.envFile="",this.venvPath="",this.venvFolders=[],this.condaPath="",this.pipenvPath="",this.poetryPath="",this.devOptions=[],this.globalModuleInstallation=!1,this.pylanceLspNotebooksEnabled=!1,this.languageServer=a.LanguageServerType.Node,this.languageServerIsDefault=!0,this.changed=new s.EventEmitter,this.disposables=[],this._pythonPath="python",this._defaultInterpreterPath="",this.workspace=n||new d.WorkspaceService,this.workspaceRoot=e,this.initialize()}get onDidChange(){return this.changed.event}static onConfigChange(){return y.configChanged.event}get pythonPath(){return this._pythonPath}set pythonPath(e){if(this._pythonPath!==e)try{this._pythonPath=this.getPythonExecutable(e)}catch(t){this._pythonPath=e}}get defaultInterpreterPath(){return this._defaultInterpreterPath}set defaultInterpreterPath(e){if(this._defaultInterpreterPath!==e)try{this._defaultInterpreterPath=this.getPythonExecutable(e)}catch(t){this._defaultInterpreterPath=e}}static getInstance(e,t,n,r,i){n=n||new d.WorkspaceService;const o=y.getSettingsUriAndTarget(e,n).uri,s=o?o.fsPath:"";if(!y.pythonSettings.has(s)){const a=new y(o,t,n,r,i);y.pythonSettings.set(s,a),a.onDidChange((e=>y.debounceConfigChangeNotification(e)));const l=n.getConfiguration("editor",e||null),d=!!l&&l.get("formatOnType",!1);(0,c.sendTelemetryEvent)(u.EventName.FORMAT_ON_TYPE,void 0,{enabled:d})}return y.pythonSettings.get(s)}static debounceConfigChangeNotification(e){y.configChanged.fire(e)}static getSettingsUriAndTarget(e,t){t=t||new d.WorkspaceService;const n=e?t.getWorkspaceFolder(e):void 0;let r=n?n.uri:void 0;return!r&&Array.isArray(t.workspaceFolders)&&t.workspaceFolders.length>0&&(r=t.workspaceFolders[0].uri),{uri:r,target:r?s.ConfigurationTarget.WorkspaceFolder:s.ConfigurationTarget.Global}}static dispose(){if(!(0,p.isTestExecution)())throw new Error("Dispose can only be called from unit tests");y.pythonSettings.forEach((e=>e&&e.dispose())),y.pythonSettings.clear()}static toSerializable(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;n.includes("Manager")||n.includes("Service")||n.includes("onDid")||(t[n]=r)})),t}dispose(){this.disposables.forEach((e=>e&&e.dispose())),this.disposables=[]}update(e){var t,n,r,i,o;const c=null===(t=this.workspaceRoot)||void 0===t?void 0:t.fsPath,u=new g.SystemVariables(void 0,c,this.workspace);this.pythonPath=this.getPythonPath(u,c);const d=u.resolveAny(e.get("defaultInterpreterPath"));if(this.defaultInterpreterPath=d||p.DEFAULT_INTERPRETER_SETTING,this.defaultInterpreterPath===p.DEFAULT_INTERPRETER_SETTING){const e=this.interpreterAutoSelectionService.getAutoSelectedInterpreter(this.workspaceRoot);this.defaultInterpreterPath=null!==(n=null==e?void 0:e.path)&&void 0!==n?n:this.defaultInterpreterPath}this.defaultInterpreterPath=b(this.defaultInterpreterPath,c),this.venvPath=u.resolveAny(e.get("venvPath")),this.venvFolders=u.resolveAny(e.get("venvFolders"));const h=u.resolveAny(e.get("condaPath"));this.condaPath=h&&h.length>0?b(h,c):h;const f=u.resolveAny(e.get("pipenvPath"));this.pipenvPath=f&&f.length>0?b(f,c):f;const m=u.resolveAny(e.get("poetryPath"));this.poetryPath=m&&m.length>0?b(m,c):m,this.interpreter=null!==(r=e.get("interpreter"))&&void 0!==r?r:{infoVisibility:"onPythonRelated"};let v=e.get("languageServer");v=u.resolveAny(v),v&&"Default"!==v&&"Microsoft"!==v&&Object.values(a.LanguageServerType).includes(v)?"JediLSP"===v?(this.languageServer=a.LanguageServerType.Jedi,this.languageServerIsDefault=!1):(this.languageServer=v,this.languageServerIsDefault=!1):(this.languageServer=null!==(o=null===(i=this.defaultLS)||void 0===i?void 0:i.defaultLSType)&&void 0!==o?o:a.LanguageServerType.None,this.languageServerIsDefault=!0);const y=u.resolveAny(e.get("autoComplete"));this.autoComplete?Object.assign(this.autoComplete,y):this.autoComplete=y;const S=e.get("envFile");this.envFile=u.resolveAny(S),(0,l.sendSettingTelemetry)(this.workspace,S),this.devOptions=u.resolveAny(e.get("devOptions")),this.devOptions=Array.isArray(this.devOptions)?this.devOptions:[];const _=u.resolveAny(e.get("linting"));this.linting?Object.assign(this.linting,_):this.linting=_,this.globalModuleInstallation=!0===e.get("globalModuleInstallation"),this.pylanceLspNotebooksEnabled=!0===e.get("pylanceLspNotebooksEnabled");const E=u.resolveAny(e.get("sortImports"));this.sortImports?Object.assign(this.sortImports,E):this.sortImports=E,this.sortImports=this.sortImports?this.sortImports:{path:"",args:[]},this.linting=this.linting?this.linting:{enabled:!1,cwd:void 0,ignorePatterns:[],flake8Args:[],flake8Enabled:!1,flake8Path:"flake8",lintOnSave:!1,maxNumberOfProblems:100,mypyArgs:[],mypyEnabled:!1,mypyPath:"mypy",banditArgs:[],banditEnabled:!1,banditPath:"bandit",pycodestyleArgs:[],pycodestyleEnabled:!1,pycodestylePath:"pycodestyle",pylamaArgs:[],pylamaEnabled:!1,pylamaPath:"pylama",prospectorArgs:[],prospectorEnabled:!1,prospectorPath:"prospector",pydocstyleArgs:[],pydocstyleEnabled:!1,pydocstylePath:"pydocstyle",pylintArgs:[],pylintEnabled:!1,pylintPath:"pylint",pylintCategorySeverity:{convention:s.DiagnosticSeverity.Hint,error:s.DiagnosticSeverity.Error,fatal:s.DiagnosticSeverity.Error,refactor:s.DiagnosticSeverity.Hint,warning:s.DiagnosticSeverity.Warning},pycodestyleCategorySeverity:{E:s.DiagnosticSeverity.Error,W:s.DiagnosticSeverity.Warning},flake8CategorySeverity:{E:s.DiagnosticSeverity.Error,W:s.DiagnosticSeverity.Warning,F:s.DiagnosticSeverity.Warning},mypyCategorySeverity:{error:s.DiagnosticSeverity.Error,note:s.DiagnosticSeverity.Hint}},this.linting.pylintPath=b(u.resolveAny(this.linting.pylintPath),c),this.linting.flake8Path=b(u.resolveAny(this.linting.flake8Path),c),this.linting.pycodestylePath=b(u.resolveAny(this.linting.pycodestylePath),c),this.linting.pylamaPath=b(u.resolveAny(this.linting.pylamaPath),c),this.linting.prospectorPath=b(u.resolveAny(this.linting.prospectorPath),c),this.linting.pydocstylePath=b(u.resolveAny(this.linting.pydocstylePath),c),this.linting.mypyPath=b(u.resolveAny(this.linting.mypyPath),c),this.linting.banditPath=b(u.resolveAny(this.linting.banditPath),c),this.linting.cwd&&(this.linting.cwd=b(u.resolveAny(this.linting.cwd),c));const w=u.resolveAny(e.get("formatting"));this.formatting?Object.assign(this.formatting,w):this.formatting=w,this.formatting=this.formatting?this.formatting:{autopep8Args:[],autopep8Path:"autopep8",provider:"autopep8",blackArgs:[],blackPath:"black",yapfArgs:[],yapfPath:"yapf"},this.formatting.autopep8Path=b(u.resolveAny(this.formatting.autopep8Path),c),this.formatting.yapfPath=b(u.resolveAny(this.formatting.yapfPath),c),this.formatting.blackPath=b(u.resolveAny(this.formatting.blackPath),c);const P=u.resolveAny(e.get("testing"));this.testing?Object.assign(this.testing,P):(this.testing=P,(0,p.isTestExecution)()&&!this.testing&&(this.testing={pytestArgs:[],unittestArgs:[],promptToConfigure:!0,debugPort:3e3,pytestEnabled:!1,unittestEnabled:!1,pytestPath:"pytest",autoTestDiscoverOnSaveEnabled:!0})),this.testing=this.testing?this.testing:{promptToConfigure:!0,debugPort:3e3,pytestArgs:[],pytestEnabled:!1,pytestPath:"pytest",unittestArgs:[],unittestEnabled:!1,autoTestDiscoverOnSaveEnabled:!0},this.testing.pytestPath=b(u.resolveAny(this.testing.pytestPath),c),this.testing.cwd&&(this.testing.cwd=b(u.resolveAny(this.testing.cwd),c)),this.testing.pytestArgs=this.testing.pytestArgs.map((e=>u.resolveAny(e))),this.testing.unittestArgs=this.testing.unittestArgs.map((e=>u.resolveAny(e)));const T=u.resolveAny(e.get("terminal"));this.terminal?Object.assign(this.terminal,T):(this.terminal=T,(0,p.isTestExecution)()&&!this.terminal&&(this.terminal={})),this.terminal=this.terminal?this.terminal:{executeInFileDir:!0,focusAfterLaunch:!1,launchArgs:[],activateEnvironment:!0,activateEnvInCurrentTerminal:!1};const C=u.resolveAny(e.get("experiments"));this.experiments?Object.assign(this.experiments,C):this.experiments=C,this.experiments=this.experiments?this.experiments:{enabled:!0,optInto:[],optOutFrom:[]},this.tensorBoard=e.get("tensorBoard")}getPythonExecutable(e){return function(e){if("python"===(e=v(e))||-1===e.indexOf(i.sep)||i.basename(e)===i.dirname(e))return e;if(S(e))return e;const t=["python","python4","python3.6","python3.5","python3","python2.7","python2","python3.7","python3.8","python3.9"];for(let n of t)if(h.IS_WINDOWS){if(n=`${n}.exe`,S(i.join(e,n)))return i.join(e,n);if(S(i.join(e,"Scripts",n)))return i.join(e,"Scripts",n)}else{if(S(i.join(e,n)))return i.join(e,n);if(S(i.join(e,"bin",n)))return i.join(e,"bin",n)}return e}(e)}onWorkspaceFoldersChanged(){const e=this.workspace.workspaceFolders.map((e=>e.uri.fsPath)),t=Array.from(y.pythonSettings.keys()).filter((t=>e.indexOf(t)<0));if(t.length>0)for(const e of t)y.pythonSettings.delete(e)}register(){y.pythonSettings=new Map,this.initialize()}onDidChanged(e){const t=this.workspace.getConfiguration("python",this.workspaceRoot);this.update(t),this.debounceChangeNotification(e)}initialize(){this.disposables.push(this.workspace.onDidChangeWorkspaceFolders(this.onWorkspaceFoldersChanged,this)),this.disposables.push(this.interpreterAutoSelectionService.onDidChangeAutoSelectedInterpreter((()=>{this.onDidChanged()}))),this.disposables.push(this.workspace.onDidChangeConfiguration((e=>{e.affectsConfiguration("python")&&this.onDidChanged(e)}))),this.interpreterPathService&&this.disposables.push(this.interpreterPathService.onDidChange((()=>{this.onDidChanged()})));const e=this.workspace.getConfiguration("python",this.workspaceRoot);e&&this.update(e)}debounceChangeNotification(e){this.changed.fire(e)}getPythonPath(e,t){if(this.pythonPath=e.resolveAny(this.interpreterPathService.get(this.workspaceRoot)),!process.env.CI_DISABLE_AUTO_SELECTION&&(0===this.pythonPath.length||"python"===this.pythonPath)&&this.interpreterAutoSelectionService){const e=this.interpreterAutoSelectionService.getAutoSelectedInterpreter(this.workspaceRoot);e&&(this.pythonPath=e.path,this.workspaceRoot&&this.interpreterAutoSelectionService.setWorkspaceInterpreter(this.workspaceRoot,e).ignoreErrors())}return b(this.pythonPath,t)}}function b(e,t){return t||(t=__dirname),e=v(e),(0,p.isTestExecution)()&&!e?t:-1===e.indexOf(i.sep)||i.isAbsolute(e)?e:i.resolve(t,e)}function S(e){return o.existsSync(e)&&i.basename((0,m.getOSType)()===m.OSType.Windows?e.toLowerCase():e).startsWith("python")}y.pythonSettings=new Map,y.configChanged=new s.EventEmitter,r([(0,f.debounceSync)(1)],y.prototype,"debounceChangeNotification",null),r([(0,f.debounceSync)(1)],y,"debounceConfigChangeNotification",null),t.PythonSettings=y},15797:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PipEnvExecutionPath=void 0;const o=n(86700),s=n(61684);let a=class{constructor(e){this.configService=e}get executable(){return this.configService.getSettings().pipenvPath}};a=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IConfigurationService))],a),t.PipEnvExecutionPath=a},30751:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationService=void 0;const o=n(86700),s=n(66828),a=n(87282),c=n(77498),u=n(17585),l=n(89515),d=n(77570),p=n(61684);let h=class{constructor(e){this.serviceContainer=e,this.workspaceService=this.serviceContainer.get(u.IWorkspaceService)}get onDidChange(){return l.PythonSettings.onConfigChange()}getSettings(e){const t=this.serviceContainer.get(a.IInterpreterAutoSelectionService),n=this.serviceContainer.get(p.IInterpreterPathService),r=this.serviceContainer.tryGet(p.IDefaultLanguageServer);return l.PythonSettings.getInstance(e,t,this.workspaceService,n,r)}async updateSectionSetting(e,t,n,r,i){let o={uri:r,target:i||s.ConfigurationTarget.WorkspaceFolder};"python"===e&&i!==s.ConfigurationTarget.Global&&(o=l.PythonSettings.getSettingsUriAndTarget(r,this.workspaceService)),i=i||o.target;const a=this.workspaceService.getConfiguration(e,o.uri),c=a.inspect(t);void 0!==c&&(i===s.ConfigurationTarget.Global&&c.globalValue===n||i===s.ConfigurationTarget.Workspace&&c.workspaceValue===n||i===s.ConfigurationTarget.WorkspaceFolder&&c.workspaceFolderValue===n)||(await a.update(t,n,i),await this.verifySetting(a,i,t,n))}async updateSetting(e,t,n,r){return this.updateSectionSetting("python",e,t,n,r)}isTestExecution(){return"1"===process.env.VSC_PYTHON_CI_TEST}async verifySetting(e,t,n,r){if(this.isTestExecution()&&!(0,d.isUnitTestExecution)()){let i=0;do{const o=e.inspect(n);if(!o&&void 0===r)break;if(o&&void 0!==r){let e;if(e=t===s.ConfigurationTarget.Global?o.globalValue:t===s.ConfigurationTarget.Workspace?o.workspaceValue:o.workspaceFolderValue,e===r)break}await new Promise((e=>setTimeout(e,250))),i+=1}while(i<20)}}};h=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],h),t.ConfigurationService=h},77570:function(e,t,n){"use strict";var r,i,o,s,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};function u(){return"1"===process.env.VSC_PYTHON_UNIT_TEST}Object.defineProperty(t,"__esModule",{value:!0}),t.UseProposedApi=t.isUnitTestExecution=t.isTestExecution=t.isCI=t.STANDARD_OUTPUT_CHANNEL=t.DEFAULT_INTERPRETER_SETTING=t.ThemeIcons=t.Octicons=t.Commands=t.CommandSource=t.AppinsightsKey=t.JUPYTER_EXTENSION_ID=t.PYLANCE_EXTENSION_ID=t.PVSC_EXTENSION_ID=t.PYTHON_NOTEBOOKS=t.PYTHON=t.InteractiveScheme=t.InteractiveInputScheme=t.NotebookCellScheme=t.PYTHON_WARNINGS=t.PYTHON_LANGUAGE=void 0,t.PYTHON_LANGUAGE="python",t.PYTHON_WARNINGS="PYTHONWARNINGS",t.NotebookCellScheme="vscode-notebook-cell",t.InteractiveInputScheme="vscode-interactive-input",t.InteractiveScheme="vscode-interactive",t.PYTHON=[{scheme:"file",language:t.PYTHON_LANGUAGE},{scheme:"untitled",language:t.PYTHON_LANGUAGE},{scheme:"vscode-notebook",language:t.PYTHON_LANGUAGE},{scheme:t.NotebookCellScheme,language:t.PYTHON_LANGUAGE},{scheme:t.InteractiveInputScheme,language:t.PYTHON_LANGUAGE}],t.PYTHON_NOTEBOOKS=[{scheme:"vscode-notebook",language:t.PYTHON_LANGUAGE},{scheme:t.NotebookCellScheme,language:t.PYTHON_LANGUAGE},{scheme:t.InteractiveInputScheme,language:t.PYTHON_LANGUAGE}],t.PVSC_EXTENSION_ID="ms-python.python",t.PYLANCE_EXTENSION_ID="ms-python.vscode-pylance",t.JUPYTER_EXTENSION_ID="ms-toolsai.jupyter",t.AppinsightsKey="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255",(s=t.CommandSource||(t.CommandSource={})).ui="ui",s.commandPalette="commandpalette",(o=t.Commands||(t.Commands={})).ClearStorage="python.clearCacheAndReload",o.ClearWorkspaceInterpreter="python.clearWorkspaceInterpreter",o.Create_Environment="python.createEnvironment",o.Create_Terminal="python.createTerminal",o.Debug_In_Terminal="python.debugInTerminal",o.Enable_Linter="python.enableLinting",o.Enable_SourceMap_Support="python.enableSourceMapSupport",o.Exec_In_Terminal="python.execInTerminal",o.Exec_In_Terminal_Icon="python.execInTerminal-icon",o.Exec_Selection_In_Django_Shell="python.execSelectionInDjangoShell",o.Exec_Selection_In_Terminal="python.execSelectionInTerminal",o.GetSelectedInterpreterPath="python.interpreterPath",o.InstallPython="python.installPython",o.InstallPythonOnLinux="python.installPythonOnLinux",o.InstallPythonOnMac="python.installPythonOnMac",o.LaunchTensorBoard="python.launchTensorBoard",o.PickLocalProcess="python.pickLocalProcess",o.RefreshTensorBoard="python.refreshTensorBoard",o.ReportIssue="python.reportIssue",o.Run_Linter="python.runLinting",o.Set_Interpreter="python.setInterpreter",o.Set_Linter="python.setLinter",o.Set_ShebangInterpreter="python.setShebangInterpreter",o.Sort_Imports="python.sortImports",o.Start_REPL="python.startREPL",o.Tests_Configure="python.configureTests",o.TriggerEnvironmentSelection="python.triggerEnvSelection",o.ViewOutput="python.viewOutput",(i=t.Octicons||(t.Octicons={})).Add="$(add)",i.Test_Pass="$(check)",i.Test_Fail="$(alert)",i.Test_Error="$(x)",i.Test_Skip="$(circle-slash)",i.Downloading="$(cloud-download)",i.Installing="$(desktop-download)",i.Search_Stop="$(search-stop)",i.Star="$(star-full)",i.Gear="$(gear)",i.Warning="$(warning)",i.Error="$(error)",i.Lightbulb="$(lightbulb)",(r=t.ThemeIcons||(t.ThemeIcons={})).Refresh="refresh",r.SpinningLoader="loading~spin",t.DEFAULT_INTERPRETER_SETTING="python",t.STANDARD_OUTPUT_CHANNEL="STANDARD_OUTPUT_CHANNEL",t.isCI="true"===process.env.TRAVIS||void 0!==process.env.TF_BUILD,t.isTestExecution=function(){return"1"===process.env.VSC_PYTHON_CI_TEST||u()},t.isUnitTestExecution=u,t.UseProposedApi=Symbol("USE_VSC_PROPOSED_API"),c(n(63281),t)},94316:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextKey=void 0,t.ContextKey=class{constructor(e,t){this.name=e,this.commandManager=t}get value(){return this.lastValue}async set(e){this.lastValue!==e&&(this.lastValue=e,await this.commandManager.executeCommand("setContext",this.name,this.lastValue))}}},84911:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.EditorUtils=t.getTempFileWithDocumentContents=t.getWorkspaceEditsFromPatch=t.getTextEditsFromPatch=void 0;const i=n(65176),o=n(86700),s=n(2568),a=n(22037),c=n(71017),u=n(66828),l=n(19735),d=n(26804),p=n(3481);var h;!function(e){e[e.Delete=0]="Delete",e[e.Insert=1]="Insert",e[e.Replace=2]="Replace"}(h||(h={}));const f=a.EOL.length;class g{constructor(e,t){this.action=e,this.start=t,this.text=""}apply(){switch(this.action){case h.Insert:return u.TextEdit.insert(this.start,this.text);case h.Delete:return u.TextEdit.delete(new u.Range(this.start,this.end));case h.Replace:return u.TextEdit.replace(new u.Range(this.start,this.end),this.text);default:return new u.TextEdit(new u.Range(new u.Position(0,0),new u.Position(0,0)),"")}}}function m(e,t,r=0){let i=r,o=0;const s=e.split(/\r?\n/g);i>0&&s.filter(((e,t)=>t<i)).forEach((e=>o+=e.length+f));const a=[];let c,l=null;for(let e=0;e<t.length;e+=1){let r=new u.Position(i,o);for(let n=0;n<t[e][1].length;n+=1)"\n"!==t[e][1][n]?o+=1:(o=0,i+=1);const d=n(65176);switch(t[e][0]){case d.DIFF_DELETE:if(0===s[i-1].length&&s[r.line-1]&&0===s[r.line-1].length?(r=new u.Position(r.line-1,0),c=new u.Position(i-1,0)):c=new u.Position(i,o),null===l)l=new g(h.Delete,r);else if(l.action!==h.Delete)throw new Error("cannot format due to an internal error.");l.end=c;break;case d.DIFF_INSERT:null===l?l=new g(h.Insert,r):l.action===h.Delete&&(l.action=h.Replace),i=r.line,o=r.character,l.text+=t[e][1];break;case d.DIFF_EQUAL:null!==l&&(a.push(l),l=null)}}return null!==l&&a.push(l),a}function v(e){const t=[];if(!e)return t;const r=e.split(/[\r\n]/);let o=0;const s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;for(;o<r.length;){const e=r[o].match(s);if(!e)throw new Error(`Invalid patch string: ${r[o]}`);const a=new i.diff_match_patch.patch_obj;t.push(a),a.start1=parseInt(e[1],10),""===e[2]?(a.start1-=1,a.length1=1):"0"===e[2]?a.length1=0:(a.start1-=1,a.length1=parseInt(e[2],10)),a.start2=parseInt(e[3],10),""===e[4]?(a.start2-=1,a.length2=1):"0"===e[4]?a.length2=0:(a.start2-=1,a.length2=parseInt(e[4],10)),o+=1;const c=n(65176);for(;o<r.length;){const e=r[o].charAt(0);let t;try{t=r[o].substring(1)}catch(e){throw new Error("Illegal escape in patch_fromText")}if("-"===e)a.diffs.push([c.DIFF_DELETE,t]);else if("+"===e)a.diffs.push([c.DIFF_INSERT,t]);else if(" "===e)a.diffs.push([c.DIFF_EQUAL,t]);else{if("@"===e)break;if(""!==e)throw new Error(`Invalid patch mode '${e}' in: ${t}`)}o+=1}}return t}t.getTextEditsFromPatch=function(e,t){if(t.startsWith("---")&&(t=t.substring(t.indexOf("@@"))),0===t.length)return[];t=t.replace(/\\ No newline at end of file[\r\n]/,"");const r=new(n(65176).diff_match_patch),i=v.call(r,t);if(!Array.isArray(i)||0===i.length)throw new Error("Unable to parse Patch string");const o=[];return i.forEach((t=>{t.diffs.forEach((e=>{e[1]+=a.EOL})),m(e,t.diffs,t.start1).forEach((e=>o.push(e.apply())))})),o},t.getWorkspaceEditsFromPatch=function(e,t,r){const i=new u.WorkspaceEdit;return e.forEach((e=>{const o=e.indexOf("@@");if(-1===o)return;const s=e.substring(0,o).split(/\r?\n/g).map((e=>e.trim())).filter((e=>e.length>0&&e.toLowerCase().endsWith(".py")&&e.indexOf(" a")>0));if(e.startsWith("---")&&(e=e.substring(o)),0===e.length)return;if(0===s.length)return;let l=s[0].substring(s[0].indexOf(" a")+3).trim();if(l=t&&!c.isAbsolute(l)?c.resolve(t,l):l,!r.fileExistsSync(l))return;e=e.replace(/\\ No newline at end of file[\r\n]/,"");const d=new(n(65176).diff_match_patch),p=v.call(d,e);if(!Array.isArray(p)||0===p.length)throw new Error("Unable to parse Patch string");const f=r.readFileSync(l),g=u.Uri.file(l);p.forEach((e=>{e.diffs.forEach((e=>{e[1]+=a.EOL})),m(f,e.diffs,e.start1).forEach((e=>{switch(e.action){case h.Delete:i.delete(g,new u.Range(e.start,e.end));break;case h.Insert:i.insert(g,e.start,e.text);break;case h.Replace:i.replace(g,new u.Range(e.start,e.end),e.text)}}))}))})),i},t.getTempFileWithDocumentContents=async function(e,t){let n=`${e.uri.fsPath}.${s(e.uri.fsPath+e.uri.fragment)}.tmp`;try{(0,p.isNotebookCell)(e.uri)&&!await t.fileExists(e.uri.fsPath)&&(n=(await t.createTemporaryFile(`${c.basename(e.uri.fsPath)}-${e.uri.fragment}.tmp`)).filePath),await t.writeFile(n,e.getText())}catch(e){(0,l.traceError)("Failed to create a temporary file",e);const t=e;throw new d.WrappedError(`Failed to create a temporary file, ${t.message}`,t)}return n};let y=class{getWorkspaceEditsFromPatch(e,t,r){const i=new u.WorkspaceEdit;if(t.startsWith("---")&&(t=t.substring(t.indexOf("@@"))),0===t.length)return i;t=t.replace(/\\ No newline at end of file[\r\n]/,"");const o=new(n(65176).diff_match_patch),s=v.call(o,t);if(!Array.isArray(s)||0===s.length)throw new Error("Unable to parse Patch string");return s.forEach((t=>{t.diffs.forEach((e=>{e[1]+=a.EOL})),m(e,t.diffs,t.start1).forEach((e=>{switch(e.action){case h.Delete:i.delete(r,new u.Range(e.start,e.end));break;case h.Insert:i.insert(r,e.start,e.text);break;case h.Replace:i.replace(r,new u.Range(e.start,e.end),e.text)}}))})),i}};y=r([(0,o.injectable)()],y),t.EditorUtils=y},26804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedError=t.ErrorUtils=void 0;const r=n(22037);t.ErrorUtils=class{static outputHasModuleNotInstalledError(e,t){return!(!t||!(t.indexOf(`No module named ${e}`)>0||t.indexOf(`No module named '${e}'`)>0))}};class i extends Error{constructor(e,t){super(e),this.stack=`${new Error("").stack}${r.EOL}${r.EOL}${t.stack}`}}t.WrappedError=i},97300:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleNotInstalledError=void 0;class n extends Error{constructor(e){super(`Module '${e}' not installed.`)}}t.ModuleNotInstalledError=n},60717:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowExtensionSurveyPrompt=void 0,(t.ShowExtensionSurveyPrompt||(t.ShowExtensionSurveyPrompt={})).experiment="pythonSurveyNotification"},12474:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentService=t.TargetPopulation=void 0;const o=n(86700),s=n(59035),a=n(18472),c=n(19735),u=n(54813),l=n(61522),d=n(17585),p=n(77570),h=n(61684),f=n(31373),g=a.loadMessageBundle(),m="vscode";var v;!function(e){e.Insiders="python-insider",e.Public="python-public"}(v=t.TargetPopulation||(t.TargetPopulation={}));let y=class{constructor(e,t,n){this.workspaceService=e,this.appEnvironment=t,this.persistentState=n,this._optInto=[],this._optOutFrom=[],this.experiments=this.persistentState.createGlobalPersistentState("VSCode.ABExp.FeatureData",{features:[]});const r=this.workspaceService.getConfiguration("python"),i=r.get("experiments.optInto")||[],o=r.get("experiments.optOutFrom")||[];if(this._optInto=i.filter((e=>!e.endsWith("control"))),this._optOutFrom=o.filter((e=>!e.endsWith("control"))),this._optOutFrom.includes("All")||!1===r.get("experiments.enabled")?this.enabled=!1:this.enabled=!0,!this.enabled)return;let a;a="insiders"===this.appEnvironment.extensionChannel?v.Insiders:v.Public;const c=new f.ExperimentationTelemetry;this.experimentationService=(0,s.getExperimentationService)(p.PVSC_EXTENSION_ID,this.appEnvironment.packageJson.version,a,c,this.experiments.storage)}async activate(){if(this.experimentationService){const e=Date.now();await this.experimentationService.initializePromise,0===this.experiments.value.features.length&&(await this.experimentationService.initialFetch,(0,u.sendTelemetryEvent)(l.EventName.PYTHON_EXPERIMENTS_INIT_PERFORMANCE,Date.now()-e)),this.logExperiments()}!function(e,t,n){const r=b("python.experiments.optInto",n),i=b("python.experiments.optOutFrom",n),o=e.filter((e=>r.includes(e))),s=t.filter((e=>i.includes(e)));(0,u.sendTelemetryEvent)(l.EventName.PYTHON_EXPERIMENTS_OPT_IN_OPT_OUT_SETTINGS,void 0,{optedInto:o,optedOutFrom:s})}(this._optInto,this._optOutFrom,this.appEnvironment.packageJson)}async inExperiment(e){return this.inExperimentSync(e)}inExperimentSync(e){return!!this.experimentationService&&(!this._optOutFrom.includes("All")&&!this._optOutFrom.includes(e)&&(this._optInto.includes("All")||this._optInto.includes(e)?(this.experimentationService.getTreatmentVariable(m,e),!0):void 0!==this.experimentationService.getTreatmentVariable(m,e)))}async getExperimentValue(e){if(this.experimentationService&&!this._optOutFrom.includes("All")&&!this._optOutFrom.includes(e))return this.experimentationService.getTreatmentVariable(m,e)}logExperiments(){const e=this.workspaceService.getConfiguration("telemetry");let t=!1;e&&!1===e.get("enableTelemetry")&&((0,c.traceLog)("Telemetry is disabled"),t=!0),e&&"off"===e.get("telemetryLevel")&&((0,c.traceLog)("Telemetry level is off"),t=!0),t&&(0,c.traceLog)("Experiments are disabled, only manually opted experiments are active."),this._optOutFrom.includes("All")?(0,c.traceLog)(g("Experiments.optedOutOf","Experiment '{0}' is inactive","All")):this._optInto.includes("All")?(0,c.traceLog)(g("Experiments.inGroup","Experiment '{0}' is active","All")):(this._optOutFrom.filter((e=>"All"!==e&&e.toLowerCase().startsWith("python"))).forEach((e=>{(0,c.traceLog)(g("Experiments.manuallyOptedOutOf","Experiment '{0}' is inactive",e))})),this._optInto.filter((e=>"All"!==e&&e.toLowerCase().startsWith("python"))).forEach((e=>{(0,c.traceLog)(g("Experiments.manuallyOptIntoExperiments","Experiment '{0}' is active",e))})),t||this.experiments.value.features.forEach((e=>{!e.toLowerCase().startsWith("python")||this._optOutFrom.includes(e)||this._optInto.includes(e)||(0,c.traceLog)(g("Experiments.autoOptIntoExperiments","Experiment '{0}' is active",e))})))}};function b(e,t){var n;const r=t.contributes.configuration.properties[e];return r&&null!==(n=r.items.enum)&&void 0!==n?n:[]}y=r([(0,o.injectable)(),i(0,(0,o.inject)(d.IWorkspaceService)),i(1,(0,o.inject)(d.IApplicationEnvironment)),i(2,(0,o.inject)(h.IPersistentStateFactory))],y),t.ExperimentService=y},31373:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentationTelemetry=void 0;const r=n(54813);t.ExperimentationTelemetry=class{setSharedProperty(e,t){(0,r.setSharedProperty)(e,t)}postEvent(e,t){const n={};t.forEach(((e,t)=>{n[t]=e})),(0,r.sendTelemetryEvent)(e,void 0,n)}}},32727:()=>{"use strict";String.prototype.splitLines=function(e={removeEmptyEntries:!0,trim:!0}){let t=this.split(/\r?\n/g);return e&&e.trim&&(t=t.map((e=>e.trim()))),e&&e.removeEmptyEntries&&(t=t.filter((e=>e.length>0))),t},String.prototype.toCommandArgumentForPythonExt=function(){return this?!(this.indexOf(" ")>=0||this.indexOf("&")>=0)||this.startsWith('"')||this.endsWith('"')?this.toString():`"${this}"`:this},String.prototype.fileToCommandArgumentForPythonExt=function(){return this?this.toCommandArgumentForPythonExt().replace(/\\/g,"/"):this},String.prototype.trimQuotes=function(){return this?this.replace(/(^['"])|(['"]$)/g,""):this},String.prototype.replaceAll=function(e,t){return this?this.replace(new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),t):this},Promise.prototype.ignoreErrors=function(){return this.catch((()=>{}))},String.prototype.format||(String.prototype.format=function(){const e=arguments;return this.replace(/{(\d+)}/g,((t,n)=>void 0===e[n]?t:e[n]))})},40071:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNotInstalledError=void 0;const r=n(97300);t.isNotInstalledError=function(e){const t=e;if("object"!=typeof e||null===e)return!1;if(e instanceof r.ModuleNotInstalledError)return!0;const n=e.message.indexOf("No module named")>=0;return"ENOENT"===t.code||127===t.code||n}},95939:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InstallationChannelManager=void 0;const o=n(86700),s=n(18639),a=n(77498),c=n(81387),u=n(17585),l=n(84974),d=n(67098),p=n(3481),h=n(92674),f=n(59747);let g=class{constructor(e){this.serviceContainer=e}async getInstallationChannel(e,t){const n=await this.getInstallationChannels(t);if(1===n.length)return n[0];const r=h.ProductNames.get(e),i=this.serviceContainer.get(u.IApplicationShell);if(0===n.length)return void await this.showNoInstallersMessage((0,p.isResource)(t)?t:void 0);const o=`Select an option to install ${r}`,s=n.map((e=>({label:`Install using ${e.displayName}`,description:"",installer:e}))),a=await i.showQuickPick(s,{matchOnDescription:!0,matchOnDetail:!0,placeHolder:o});return a?a.installer:void 0}async getInstallationChannels(e){const t=this.serviceContainer.getAll(f.IModuleInstaller),n=[];if(0===t.length)return[];t.sort(((e,t)=>t.priority-e.priority));let r=t[0].priority;for(const i of t){if(i.priority!==r){if(n.length>0)break;r=i.priority}await i.isSupported(e)&&n.push(i)}return n}async showNoInstallersMessage(e){const t=this.serviceContainer.get(s.IInterpreterService),n=await t.getActiveInterpreter(e);if(!n)return;const r=this.serviceContainer.get(u.IApplicationShell);let i;if(i=n.envType===c.EnvironmentType.Conda?await r.showErrorMessage(d.Installer.noCondaOrPipInstaller,d.Installer.searchForHelp):await r.showErrorMessage(d.Installer.noPipInstaller,d.Installer.searchForHelp),"Search for help"===i){const e=this.serviceContainer.get(l.IPlatformService),t=e.isWindows?"Windows":e.isMac?"MacOS":"Linux";r.openUrl(`https://www.bing.com/search?q=Install Pip ${t} ${n.envType===c.EnvironmentType.Conda?"Conda":""}`)}}};g=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],g),t.InstallationChannelManager=g},5181:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CondaInstaller=void 0;const o=n(86700),s=n(18639),a=n(77498),c=n(81387),u=n(61684),l=n(3481),d=n(30135),p=n(59747);let h=class extends d.ModuleInstaller{constructor(e){super(e)}get name(){return"Conda"}get displayName(){return"Conda"}get type(){return c.ModuleInstallerType.Conda}get priority(){return 0}async isSupported(e){if(!1===this._isCondaAvailable)return!1;const t=this.serviceContainer.get(s.ICondaService);return this._isCondaAvailable=await t.isCondaAvailable(),!!this._isCondaAvailable&&this.isCurrentEnvironmentACondaEnvironment(e)}async getExecutionInfo(e,t,n=0){var r;const i=this.serviceContainer.get(s.ICondaService),o=await i.getCondaFile(!0),a=(0,l.isResource)(t)?this.serviceContainer.get(u.IConfigurationService).getSettings(t).pythonPath:null!==(r=t.id)&&void 0!==r?r:"",c=this.serviceContainer.get(s.IComponentAdapter),h=await c.getCondaEnvironment(a),f=[n&p.ModuleInstallFlags.upgrade?"update":"install"];return[u.Product.tensorboard,u.Product.ipykernel,u.Product.pandas,u.Product.nbconvert,u.Product.jupyter,u.Product.notebook].map(d.translateProductToModule).includes(e)&&f.push("-c","conda-forge"),h&&h.name?(f.push("--name"),f.push(h.name.toCommandArgumentForPythonExt())):h&&h.path&&(f.push("--prefix"),f.push(h.path.fileToCommandArgumentForPythonExt())),n&p.ModuleInstallFlags.updateDependencies&&f.push("--update-deps"),n&p.ModuleInstallFlags.reInstall&&f.push("--force-reinstall"),f.push(e),f.push("-y"),{args:f,execPath:o,useShell:!0}}async isCurrentEnvironmentACondaEnvironment(e){var t;const n=this.serviceContainer.get(s.IComponentAdapter),r=(0,l.isResource)(e)?this.serviceContainer.get(u.IConfigurationService).getSettings(e).pythonPath:null!==(t=e.id)&&void 0!==t?t:"";return n.isCondaEnvironment(r)}};h=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],h),t.CondaInstaller=h},30135:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.translateProductToModule=t.ModuleInstaller=void 0;const i=n(86700),o=n(71017),s=n(66828),a=n(18639),c=n(19735),u=n(81387),l=n(54813),d=n(61522),p=n(17585),h=n(29979),f=n(77570),g=n(84974),m=n(31776),v=n(29983),y=n(58400),b=n(61684),S=n(3481),_=n(92674),E=n(18472).loadMessageBundle();let w=class{constructor(e){this.serviceContainer=e}async installModule(e,t,n,r,i){const c=!(null==i?void 0:i.installAsProcess),f="string"==typeof e?e:P(e),v="string"==typeof e?f:_.ProductNames.get(e);(0,l.sendTelemetryEvent)(d.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:this.displayName,productName:v});const y=(0,S.isResource)(t)?t:void 0,w=await this.getExecutionInfo(f,t,r),T=async e=>{var n;const r=await this.processInstallArgs(w.args,t);if(w.moduleName){const i=this.serviceContainer.get(b.IConfigurationService).getSettings(y),s=this.serviceContainer.get(a.IInterpreterService),l=(0,S.isResource)(t)?await s.getActiveInterpreter(t):t,d=null!==(n=null==l?void 0:l.path)&&void 0!==n?n:i.pythonPath,p=(0,S.isResource)(t)?d:t.path,h=m.execModule(w.moduleName,r);if(l&&l.envType===u.EnvironmentType.Unknown)if(i.globalModuleInstallation){const n=this.serviceContainer.get(g.IFileSystem);await n.isDirReadonly(o.dirname(p)).catch((e=>!0))?this.elevatedInstall(p,h):await this.executeCommand(c,t,p,h,e,w.useShell)}else f===P(b.Product.pip)||u.virtualEnvTypes.includes(l.envType)?await this.executeCommand(c,t,p,h,e,w.useShell):await this.executeCommand(c,t,p,h.concat(["--user"]),e,w.useShell);else await this.executeCommand(c,t,p,h,e,w.useShell)}else await this.executeCommand(c,t,w.execPath,r,e,w.useShell)};if(n){const e=this.serviceContainer.get(p.IApplicationShell),t={location:s.ProgressLocation.Notification,cancellable:!0,title:E("products.installingModule","Installing {0}",f)};await e.withProgress(t,(async(e,t)=>T((0,h.wrapCancellationTokens)(t,n))))}else await T(n)}elevatedInstall(e,t){const r=this.serviceContainer.get(b.IOutputChannel,f.STANDARD_OUTPUT_CHANNEL),i=`"${e.replace(/\\/g,"/")}" ${t.join(" ")}`;(0,c.traceLog)(`[Elevated] ${i}`),n(65425).exec(i,{name:"VS Code Python"},(async(e,t,n)=>{if(e){const t=this.serviceContainer.get(p.IApplicationShell);await t.showErrorMessage(e)}else r.show(),t&&(0,c.traceLog)(t),n&&(0,c.traceError)(`Warning: ${n}`)}))}async processInstallArgs(e,t){const n=e.findIndex((e=>"PYLINT"===e.toUpperCase()));if(-1===n)return e;const r=this.serviceContainer.get(a.IInterpreterService),i=(0,S.isResource)(t)?await r.getActiveInterpreter(t):t;if(i&&i.version&&2===i.version.major){const t=[...e];return t[n]='"pylint<2.0.0"',t}return e}async executeCommand(e,t,n,r,i,o){const s={};if((0,S.isResource)(t)?s.resource=t:s.interpreter=t,e)this.serviceContainer.get(y.ITerminalServiceFactory).getTerminalService(s).sendCommand(n,r,i);else{const e=this.serviceContainer.get(v.IProcessServiceFactory),t=await e.create(s.resource);if(o){const e=[n,...r].reduce(((e,t)=>e?`${e} ${t.toCommandArgumentForPythonExt()}`:`${t.toCommandArgumentForPythonExt()}`),"");await t.shellExec(e)}else await t.exec(n,r)}}};function P(e){switch(e){case b.Product.mypy:return"mypy";case b.Product.pylama:return"pylama";case b.Product.prospector:return"prospector";case b.Product.pylint:return"pylint";case b.Product.pytest:return"pytest";case b.Product.autopep8:return"autopep8";case b.Product.black:return"black";case b.Product.pycodestyle:return"pycodestyle";case b.Product.pydocstyle:return"pydocstyle";case b.Product.yapf:return"yapf";case b.Product.flake8:return"flake8";case b.Product.unittest:return"unittest";case b.Product.bandit:return"bandit";case b.Product.jupyter:return"jupyter";case b.Product.notebook:return"notebook";case b.Product.pandas:return"pandas";case b.Product.ipykernel:return"ipykernel";case b.Product.nbconvert:return"nbconvert";case b.Product.kernelspec:return"kernelspec";case b.Product.tensorboard:return"tensorboard";case b.Product.torchProfilerInstallName:return"torch-tb-profiler";case b.Product.torchProfilerImportName:return"torch_tb_profiler";case b.Product.pip:return"pip";case b.Product.ensurepip:return"ensurepip";case b.Product.python:return"python";default:throw new Error(`Product ${e} cannot be installed as a Python Module.`)}}w=r([(0,i.injectable)()],w),t.ModuleInstaller=w,t.translateProductToModule=P},22577:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PipEnvInstaller=t.pipenvName=void 0;const o=n(86700),s=n(18639),a=n(77498),c=n(37924),u=n(81387),l=n(17585),d=n(3481),p=n(30135),h=n(59747);t.pipenvName="pipenv";let f=class extends p.ModuleInstaller{get name(){return"pipenv"}get type(){return u.ModuleInstallerType.Pipenv}get displayName(){return t.pipenvName}get priority(){return 10}constructor(e){super(e)}async isSupported(e){if((0,d.isResource)(e)){const t=await this.serviceContainer.get(s.IInterpreterService).getActiveInterpreter(e),n=e?this.serviceContainer.get(l.IWorkspaceService).getWorkspaceFolder(e):void 0;return!(!t||!n||t.envType!==u.EnvironmentType.Pipenv)&&(0,c.isPipenvEnvironmentRelatedToFolder)(t.path,n.uri.fsPath)}return e.envType===u.EnvironmentType.Pipenv}async getExecutionInfo(e,n,r=0){const i=[r&h.ModuleInstallFlags.reInstall||r&h.ModuleInstallFlags.updateDependencies||r&h.ModuleInstallFlags.upgrade?"update":"install",e,"--dev"];return"black"===e&&i.push("--pre"),{args:i,execPath:t.pipenvName}}};f=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],f),t.PipEnvInstaller=f},36352:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PipInstaller=void 0;const o=n(86700),s=n(77498),a=n(81387),c=n(17585),u=n(29983),l=n(61684),d=n(3481),p=n(30135),h=n(59747),f=n(71017),g=n(48266),m=n(92674),v=n(54813),y=n(61522),b=n(18639),S=n(48431);let _=class extends p.ModuleInstaller{get name(){return"Pip"}get type(){return a.ModuleInstallerType.Pip}get displayName(){return"Pip"}get priority(){return 0}constructor(e){super(e)}async isSupported(e){return!1!==await async function(e,t){var n;const r=e.get(b.IInterpreterService),i=(0,d.isResource)(t)?await r.getActiveInterpreter(t):t;if(i)return!((null===(n=i.envPath)||void 0===n?void 0:n.length)&&i.envType===a.EnvironmentType.Conda&&!(0,S.isParentPath)(null==i?void 0:i.path,i.envPath))}(this.serviceContainer,e)&&this.isPipAvailable(e)}async getExecutionInfo(e,t,n=0){var r,i,o;if(e===(0,p.translateProductToModule)(l.Product.pip)){const e=(0,d.isResource)(t)?"":`${(null===(r=t.version)||void 0===r?void 0:r.major)||""}.${(null===(i=t.version)||void 0===i?void 0:i.minor)||""}.${(null===(o=t.version)||void 0===o?void 0:o.patch)||""}`,n=(0,d.isResource)(t)?void 0:t.envType;(0,v.sendTelemetryEvent)(y.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:"unavailable",requiredInstaller:a.ModuleInstallerType.Pip,productName:m.ProductNames.get(l.Product.pip),version:e,envType:n});const s=this.serviceContainer.get(l.IInstaller);if(await s.isInstalled(l.Product.ensurepip,t))return{args:[],moduleName:"ensurepip"};(0,v.sendTelemetryEvent)(y.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:"unavailable",requiredInstaller:a.ModuleInstallerType.Pip,productName:m.ProductNames.get(l.Product.ensurepip),version:e,envType:n});const c=this.serviceContainer.get(b.IInterpreterService),u=(0,d.isResource)(t)?await c.getActiveInterpreter(t):t;return{execPath:u?u.path:"python",args:[f.join(g._SCRIPTS_DIR,"get-pip.py")]}}const s=[],u=this.serviceContainer.get(c.IWorkspaceService).getConfiguration("http").get("proxy","");return u.length>0&&(s.push("--proxy"),s.push(u)),s.push("install","-U"),n&h.ModuleInstallFlags.reInstall&&s.push("--force-reinstall"),{args:[...s,e],moduleName:"pip"}}isPipAvailable(e){const t=this.serviceContainer.get(u.IPythonExecutionFactory),n=(0,d.isResource)(e)?e:void 0,r=(0,d.isResource)(e)?void 0:e.path;return t.create({resource:n,pythonPath:r}).then((e=>e.isModuleInstalled("pip"))).catch((()=>!1))}};_=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IServiceContainer))],_),t.PipInstaller=_},73300:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PoetryInstaller=t.poetryName=void 0;const o=n(86700),s=n(18639),a=n(77498),c=n(13298),u=n(81387),l=n(17585),d=n(61684),p=n(3481),h=n(30135);t.poetryName="poetry";let f=class extends h.ModuleInstaller{constructor(e,t,n){super(e),this.workspaceService=t,this.configurationService=n}get name(){return"poetry"}get type(){return u.ModuleInstallerType.Poetry}get displayName(){return t.poetryName}get priority(){return 10}async isSupported(e){if(!e)return!1;if(!(0,p.isResource)(e))return!1;const t=await this.serviceContainer.get(s.IInterpreterService).getActiveInterpreter(e),n=e?this.workspaceService.getWorkspaceFolder(e):void 0;return!(!t||!n||t.envType!==u.EnvironmentType.Poetry)&&(0,c.isPoetryEnvironmentRelatedToFolder)(t.path,n.uri.fsPath,this.configurationService.getSettings(e).poetryPath)}async getExecutionInfo(e,t){const n=this.configurationService.getSettings((0,p.isResource)(t)?t:void 0).poetryPath,r=["add","--dev",e];return"black"===e&&r.push("--allow-prereleases"),{args:r,execPath:n}}};f=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer)),i(1,(0,o.inject)(l.IWorkspaceService)),i(2,(0,o.inject)(d.IConfigurationService))],f),t.PoetryInstaller=f},80819:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProductInstaller=t.PythonInstaller=t.DataScienceInstaller=t.TestFrameworkInstaller=t.LinterInstaller=t.FormatterInstaller=t.Product=void 0;const o=n(86700),s=n(36625);n(32727);const a=n(18472),c=n(18639),u=n(77498),l=n(81387),d=n(54813),p=n(61522),h=n(17585),f=n(77570),g=n(29983),m=n(61684),v=n(67098),y=n(3481),b=n(30135),S=n(92674),_=n(59747),E=n(19735),w=n(48431);var P=n(61684);Object.defineProperty(t,"Product",{enumerable:!0,get:function(){return P.Product}});const T=a.loadMessageBundle(),C=new Map([[m.Product.torchProfilerInstallName,new Set([l.EnvironmentType.Conda])]]);class I{constructor(e){this.serviceContainer=e,this.appShell=e.get(h.IApplicationShell),this.configService=e.get(m.IConfigurationService),this.workspaceService=e.get(h.IWorkspaceService),this.productService=e.get(_.IProductService),this.persistentStateFactory=e.get(m.IPersistentStateFactory)}promptToInstall(e,t,n,r){const i=t&&(0,y.isResource)(t)?this.workspaceService.getWorkspaceFolder(t):void 0,o=`${e}${i?i.uri.fsPath:""}`;if(I.PromptPromises.has(o))return I.PromptPromises.get(o);const s=this.promptToInstallImplementation(e,t,n,r);return I.PromptPromises.set(o,s),s.then((()=>I.PromptPromises.delete(o))).ignoreErrors(),s.catch((()=>I.PromptPromises.delete(o))).ignoreErrors(),s}async install(e,t,n,r,i){if(e===m.Product.unittest)return m.InstallerResponse.Installed;const o=this.serviceContainer.get(_.IInstallationChannelManager),s=await o.getInstallationChannel(e,t);return s?(await s.installModule(e,t,n,r,i).catch((t=>(0,E.traceError)(`Error in installing the product '${S.ProductNames.get(e)}', ${t}`))),this.isInstalled(e,t).then((t=>((0,d.sendTelemetryEvent)(p.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:s.displayName,productName:S.ProductNames.get(e),isInstalled:t}),t?m.InstallerResponse.Installed:m.InstallerResponse.Ignore)))):((0,d.sendTelemetryEvent)(p.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:"unavailable",productName:S.ProductNames.get(e)}),m.InstallerResponse.Ignore)}async isProductVersionCompatible(e,t,n){const r=await this.getProductSemVer(e,n);return r?s.satisfies(r,t)?m.ProductInstallStatus.Installed:m.ProductInstallStatus.NeedsUpgrade:m.ProductInstallStatus.NotInstalled}async getProductSemVer(e,t){const n=(0,y.isResource)(t)?void 0:t,r=(0,y.isResource)(t)?t:void 0,i=this.getExecutableNameFromSettings(e,r);let o;if(this.isExecutableAModule(e,r)){const e=await this.serviceContainer.get(g.IPythonExecutionFactory).createActivatedEnvironment({resource:r,interpreter:n,allowEnvironmentFetchExceptions:!0});o=await e.getModuleVersion(i)}else{const e=await this.serviceContainer.get(g.IProcessServiceFactory).create(r);o=(await e.exec(i,["--version"],{mergeStdOutErr:!0})).stdout.trim()}if(!o)return null;try{return s.coerce(o)}catch(t){return(0,E.traceError)(`Unable to parse version ${o} for product ${e}: `,t),null}}async isInstalled(e,t){if(e===m.Product.unittest)return!0;const n=(0,y.isResource)(t)?void 0:t,r=(0,y.isResource)(t)?t:void 0,i=this.getExecutableNameFromSettings(e,r);return this.isExecutableAModule(e,r)?(await this.serviceContainer.get(g.IPythonExecutionFactory).createActivatedEnvironment({resource:r,interpreter:n,allowEnvironmentFetchExceptions:!0})).isModuleInstalled(i):(await this.serviceContainer.get(g.IProcessServiceFactory).create(r)).exec(i,["--version"],{mergeStdOutErr:!0}).then((()=>!0)).catch((()=>!1))}getExecutableNameFromSettings(e,t){const n=this.productService.getProductType(e);return this.serviceContainer.get(_.IProductPathService,n).getExecutableNameFromSettings(e,t)}isExecutableAModule(e,t){const n=this.productService.getProductType(e);return this.serviceContainer.get(_.IProductPathService,n).isExecutableAModule(e,t)}}I.PromptPromises=new Map;class R extends I{async promptToInstallImplementation(e,t,n,r){const i=this.persistentStateFactory.createGlobalPersistentState("FORMATTER_NOT_INSTALLED_KEY",!1);if(i.value)return m.InstallerResponse.Ignore;const o=[m.Product.autopep8,m.Product.black,m.Product.yapf],s=o.map((e=>S.ProductNames.get(e))),a=S.ProductNames.get(e);s.splice(s.indexOf(a),1);const c=s.map((e=>T("products.useFormatter","Use {0}",e))),u=v.Common.bannerLabelYes,l=[...c,v.Common.doNotShowAgain];let d=T("products.formatterNotInstalled","Formatter {0} is not installed. Install?",a);if(this.isExecutableAModule(e,t))l.splice(0,0,u);else{const n=this.getExecutableNameFromSettings(e,t);d=T("products.invalidFormatterPath","Path to the {0} formatter is invalid ({1})",a,n)}const p=await this.appShell.showErrorMessage(d,...l);if(p===u)return this.install(e,t,n);if(p===v.Common.doNotShowAgain)return i.updateValue(!0),m.InstallerResponse.Ignore;if("string"==typeof p)for(const e of o){const r=S.ProductNames.get(e);if(p.endsWith(r))return await this.configService.updateSetting("formatting.provider",r,t),this.install(e,t,n)}return m.InstallerResponse.Ignore}}t.FormatterInstaller=R;class D extends I{constructor(e){super(e),this.serviceContainer=e}async promptToInstallImplementation(e,t,n,r){return this.oldPromptForInstallation(e,t,n)}getStoredResponse(e){return!0===this.serviceContainer.get(m.IPersistentStateFactory).createGlobalPersistentState(e,void 0).value}async oldPromptForInstallation(e,t,n){const r=S.ProductNames.get(e),{install:i}=v.Common,{doNotShowAgain:o}=v.Common,s=`${r}_DisableLinterInstallPrompt`,{selectLinter:a}=v.Linters;if(!0===this.getStoredResponse(s))return m.InstallerResponse.Ignore;const c=[a,o];let u=T("Linter.notInstalled","Linter {0} is not installed.",r);if(this.isExecutableAModule(e,t))c.splice(0,0,i);else{const n=this.getExecutableNameFromSettings(e,t);u=T("Linter.invalidPath","Path to the {0} linter is invalid ({1})",r,n)}const l=await this.appShell.showErrorMessage(u,...c);if(l===i)return(0,d.sendTelemetryEvent)(p.EventName.LINTER_NOT_INSTALLED_PROMPT,void 0,{tool:r,action:"install"}),this.install(e,t,n);if(l===o)return await this.setStoredResponse(s,!0),(0,d.sendTelemetryEvent)(p.EventName.LINTER_NOT_INSTALLED_PROMPT,void 0,{tool:r,action:"disablePrompt"}),m.InstallerResponse.Ignore;if(l===a){(0,d.sendTelemetryEvent)(p.EventName.LINTER_NOT_INSTALLED_PROMPT,void 0,{action:"select"});const e=this.serviceContainer.get(h.ICommandManager);await e.executeCommand(f.Commands.Set_Linter)}return m.InstallerResponse.Ignore}async setStoredResponse(e,t){const n=this.serviceContainer.get(m.IPersistentStateFactory).createGlobalPersistentState(e,void 0);n&&n.value!==t&&await n.updateValue(t)}}t.LinterInstaller=D;class O extends I{async promptToInstallImplementation(e,t,n,r){const i=S.ProductNames.get(e),o=[];let s=T("TestFramework.notIstalled","Test framework {0} is not installed. Install?",i);if(this.isExecutableAModule(e,t))o.push(v.Common.bannerLabelYes,v.Common.bannerLabelNo);else{const n=this.getExecutableNameFromSettings(e,t);s=T("TestFramework.invalidPath","Path to the {0} test framework is invalid ({1})",i,n)}return await this.appShell.showErrorMessage(s,...o)===v.Common.bannerLabelYes?this.install(e,t,n):m.InstallerResponse.Ignore}}t.TestFrameworkInstaller=O;class k extends I{async install(e,t,n,r){var i,o,s,a;if((0,y.isResource)(t))throw new Error("All data science packages require an interpreter be passed in");const c=t;let u=await this.serviceContainer.get(_.IInstallationChannelManager).getInstallationChannels(c);const h=(0,b.translateProductToModule)(e),f=`${(null===(i=c.version)||void 0===i?void 0:i.major)||""}.${(null===(o=c.version)||void 0===o?void 0:o.minor)||""}.${(null===(s=c.version)||void 0===s?void 0:s.patch)||""}`;if(r&&r&_.ModuleInstallFlags.installPipIfRequired&&c.envType!==l.EnvironmentType.Conda&&!u.some((e=>e.type===l.ModuleInstallerType.Pip))){const e=this.serviceContainer.getAll(_.IModuleInstaller).find((e=>e.type===l.ModuleInstallerType.Pip));e?((0,E.traceInfo)(`Installing pip as its not available to install ${h}.`),await e.installModule(m.Product.pip,c,n).catch((e=>(0,E.traceError)(`Error in installing the module '${h} as Pip could not be installed', ${e}`))),await this.isInstalled(m.Product.pip,c).then((t=>{(0,d.sendTelemetryEvent)(p.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:e.displayName,requiredInstaller:l.ModuleInstallerType.Pip,version:f,envType:c.envType,isInstalled:t,productName:S.ProductNames.get(m.Product.pip)})})).catch(y.noop),u=await this.serviceContainer.get(_.IInstallationChannelManager).getInstallationChannels(c)):((0,d.sendTelemetryEvent)(p.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:"unavailable",requiredInstaller:l.ModuleInstallerType.Pip,productName:S.ProductNames.get(m.Product.pip),version:f,envType:c.envType}),(0,E.traceError)("Unable to install pip when its required."))}const g=!(null===(a=C.get(e))||void 0===a?void 0:a.has(l.EnvironmentType.Conda));let v=l.ModuleInstallerType.Unknown;if(c.envType===l.EnvironmentType.Conda&&g)v=l.ModuleInstallerType.Conda;else if(c.envType!==l.EnvironmentType.Conda||g)switch(c.envType){case l.EnvironmentType.Pipenv:v=l.ModuleInstallerType.Pipenv;break;case l.EnvironmentType.Poetry:v=l.ModuleInstallerType.Poetry;break;default:v=l.ModuleInstallerType.Pip}else(0,E.traceInfo)(`Interpreter type is conda but package ${h} is not available through conda, using pip instead.`),v=l.ModuleInstallerType.Pip;const w=u.find((e=>e.type===v));return w?(await w.installModule(e,c,n,r).catch((e=>(0,E.traceError)(`Error in installing the module '${h}', ${e}`))),this.isInstalled(e,c).then((t=>((0,d.sendTelemetryEvent)(p.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:w.displayName||"",requiredInstaller:v,version:f,envType:c.envType,isInstalled:t,productName:S.ProductNames.get(e)}),t?m.InstallerResponse.Installed:m.InstallerResponse.Ignore)))):(this.appShell.showErrorMessage(T("Installer.couldNotInstallLibrary","Could not install {0}. If pip is not available, please use the package manager of your choice to manually install this library into your Python environment.",h)).then(y.noop,y.noop),(0,d.sendTelemetryEvent)(p.EventName.PYTHON_INSTALL_PACKAGE,void 0,{installer:"unavailable",requiredInstaller:v,productName:S.ProductNames.get(e),version:f,envType:c.envType}),m.InstallerResponse.Ignore)}async promptToInstallImplementation(e,t,n,r){const i=S.ProductNames.get(e);return await this.appShell.showErrorMessage(T("Installer.dataScienceInstallPrompt","Data Science library {0} is not installed. Install?",i),v.Common.bannerLabelYes,v.Common.bannerLabelNo)===v.Common.bannerLabelYes?this.install(e,t,n):m.InstallerResponse.Ignore}}t.DataScienceInstaller=k;let x=class{constructor(e){this.serviceContainer=e}async isInstalled(e,t){var n;if(e!==m.Product.python)throw new Error(`${e} cannot be installed via conda python installer`);const r=this.serviceContainer.get(c.IInterpreterService),i=(0,y.isResource)(t)?await r.getActiveInterpreter(t):t;return!i||!((null===(n=i.envPath)||void 0===n?void 0:n.length)&&i.envType===l.EnvironmentType.Conda&&!(0,w.isParentPath)(null==i?void 0:i.path,i.envPath))}async install(e,t,n,r){if(e!==m.Product.python)throw new Error(`${e} cannot be installed via python installer`);const i=this.serviceContainer.getAll(_.IModuleInstaller).find((e=>e.type===l.ModuleInstallerType.Conda));if(!i||!await i.isSupported(t))return(0,E.traceError)("Conda installer not available for installing python in the given environment"),m.InstallerResponse.Ignore;const o=(0,b.translateProductToModule)(e);return await i.installModule(m.Product.python,t,void 0,void 0,{installAsProcess:!0}).catch((e=>(0,E.traceError)(`Error in installing the module '${o}', ${e}`))),this.isInstalled(e,t).then((e=>e?m.InstallerResponse.Installed:m.InstallerResponse.Ignore))}async promptToInstall(e,t,n,r){return m.InstallerResponse.Ignore}async isProductVersionCompatible(e,t,n){return m.ProductInstallStatus.Installed}};x=r([i(0,(0,o.inject)(u.IServiceContainer))],x),t.PythonInstaller=x;let N=class{constructor(e){this.serviceContainer=e,this.productService=e.get(_.IProductService),this.interpreterService=this.serviceContainer.get(c.IInterpreterService)}dispose(){}async promptToInstall(e,t,n,r){return((0,y.isResource)(t)?await this.interpreterService.getActiveInterpreter(t):t)?this.createInstaller(e).promptToInstall(e,t,n,r):m.InstallerResponse.Ignore}async isProductVersionCompatible(e,t,n){return this.createInstaller(e).isProductVersionCompatible(e,t,n)}async install(e,t,n,r,i){return this.createInstaller(e).install(e,t,n,r,i)}async isInstalled(e,t){return this.createInstaller(e).isInstalled(e,t)}translateProductToModuleName(e){return(0,b.translateProductToModule)(e)}createInstaller(e){switch(this.productService.getProductType(e)){case m.ProductType.Formatter:return new R(this.serviceContainer);case m.ProductType.Linter:return new D(this.serviceContainer);case m.ProductType.TestFramework:return new O(this.serviceContainer);case m.ProductType.DataScience:return new k(this.serviceContainer);case m.ProductType.Python:return new x(this.serviceContainer)}throw new Error(`Unknown product ${e}`)}};N=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IServiceContainer))],N),t.ProductInstaller=N},92674:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProductNames=void 0;const r=n(61684);t.ProductNames=new Map,t.ProductNames.set(r.Product.autopep8,"autopep8"),t.ProductNames.set(r.Product.bandit,"bandit"),t.ProductNames.set(r.Product.black,"black"),t.ProductNames.set(r.Product.flake8,"flake8"),t.ProductNames.set(r.Product.mypy,"mypy"),t.ProductNames.set(r.Product.pycodestyle,"pycodestyle"),t.ProductNames.set(r.Product.pylama,"pylama"),t.ProductNames.set(r.Product.prospector,"prospector"),t.ProductNames.set(r.Product.pydocstyle,"pydocstyle"),t.ProductNames.set(r.Product.pylint,"pylint"),t.ProductNames.set(r.Product.pytest,"pytest"),t.ProductNames.set(r.Product.yapf,"yapf"),t.ProductNames.set(r.Product.tensorboard,"tensorboard"),t.ProductNames.set(r.Product.torchProfilerInstallName,"torch-tb-profiler"),t.ProductNames.set(r.Product.torchProfilerImportName,"torch_tb_profiler"),t.ProductNames.set(r.Product.jupyter,"jupyter"),t.ProductNames.set(r.Product.notebook,"notebook"),t.ProductNames.set(r.Product.ipykernel,"ipykernel"),t.ProductNames.set(r.Product.nbconvert,"nbconvert"),t.ProductNames.set(r.Product.kernelspec,"kernelspec"),t.ProductNames.set(r.Product.pandas,"pandas"),t.ProductNames.set(r.Product.pip,"pip"),t.ProductNames.set(r.Product.ensurepip,"ensurepip")},43942:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DataScienceProductPathService=t.TestFrameworkProductPathService=t.LinterProductPathService=t.FormatterProductPathService=t.BaseProductPathsService=void 0;const o=n(86700),s=n(71017),a=n(44263),c=n(77498),u=n(62964),l=n(40704),d=n(61684);let p=class{constructor(e){this.serviceContainer=e,this.configService=e.get(d.IConfigurationService),this.productInstaller=e.get(d.IInstaller)}isExecutableAModule(e,t){let n;try{n=this.productInstaller.translateProductToModuleName(e)}catch(e){}const r=this.getExecutableNameFromSettings(e,t);return"string"==typeof n&&n.length>0&&s.basename(r)===r}};p=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],p),t.BaseProductPathsService=p;let h=class extends p{constructor(e){super(e)}getExecutableNameFromSettings(e,t){const n=this.configService.getSettings(t),r=this.serviceContainer.get(a.IFormatterHelper).getSettingsPropertyNames(e);return n.formatting[r.pathName]}};h=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],h),t.FormatterProductPathService=h;let f=class extends p{constructor(e){super(e)}getExecutableNameFromSettings(e,t){return this.serviceContainer.get(u.ILinterManager).getLinterInfo(e).pathName(t)}};f=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],f),t.LinterProductPathService=f;let g=class extends p{constructor(e){super(e)}getExecutableNameFromSettings(e,t){const n=this.serviceContainer.get(l.ITestingService).getSettingsPropertyNames(e);return n.pathName?this.configService.getSettings(t).testing[n.pathName]:this.productInstaller.translateProductToModuleName(e)}};g=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],g),t.TestFrameworkProductPathService=g;let m=class extends p{constructor(e){super(e)}getExecutableNameFromSettings(e,t){return this.productInstaller.translateProductToModuleName(e)}};m=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],m),t.DataScienceProductPathService=m},23202:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ProductService=void 0;const i=n(86700),o=n(61684);let s=class{constructor(){this.ProductTypes=new Map,this.ProductTypes.set(o.Product.bandit,o.ProductType.Linter),this.ProductTypes.set(o.Product.flake8,o.ProductType.Linter),this.ProductTypes.set(o.Product.mypy,o.ProductType.Linter),this.ProductTypes.set(o.Product.pycodestyle,o.ProductType.Linter),this.ProductTypes.set(o.Product.prospector,o.ProductType.Linter),this.ProductTypes.set(o.Product.pydocstyle,o.ProductType.Linter),this.ProductTypes.set(o.Product.pylama,o.ProductType.Linter),this.ProductTypes.set(o.Product.pylint,o.ProductType.Linter),this.ProductTypes.set(o.Product.pytest,o.ProductType.TestFramework),this.ProductTypes.set(o.Product.unittest,o.ProductType.TestFramework),this.ProductTypes.set(o.Product.autopep8,o.ProductType.Formatter),this.ProductTypes.set(o.Product.black,o.ProductType.Formatter),this.ProductTypes.set(o.Product.yapf,o.ProductType.Formatter),this.ProductTypes.set(o.Product.jupyter,o.ProductType.DataScience),this.ProductTypes.set(o.Product.notebook,o.ProductType.DataScience),this.ProductTypes.set(o.Product.ipykernel,o.ProductType.DataScience),this.ProductTypes.set(o.Product.nbconvert,o.ProductType.DataScience),this.ProductTypes.set(o.Product.kernelspec,o.ProductType.DataScience),this.ProductTypes.set(o.Product.pandas,o.ProductType.DataScience),this.ProductTypes.set(o.Product.tensorboard,o.ProductType.DataScience),this.ProductTypes.set(o.Product.torchProfilerInstallName,o.ProductType.DataScience),this.ProductTypes.set(o.Product.torchProfilerImportName,o.ProductType.DataScience),this.ProductTypes.set(o.Product.pip,o.ProductType.DataScience),this.ProductTypes.set(o.Product.ensurepip,o.ProductType.DataScience),this.ProductTypes.set(o.Product.python,o.ProductType.Python)}getProductType(e){return this.ProductTypes.get(e)}};s=r([(0,i.injectable)()],s),t.ProductService=s},34061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(61684),i=n(95939),o=n(5181),s=n(22577),a=n(36352),c=n(73300),u=n(43942),l=n(23202),d=n(59747);t.registerTypes=function(e){e.addSingleton(d.IModuleInstaller,o.CondaInstaller),e.addSingleton(d.IModuleInstaller,a.PipInstaller),e.addSingleton(d.IModuleInstaller,s.PipEnvInstaller),e.addSingleton(d.IModuleInstaller,c.PoetryInstaller),e.addSingleton(d.IInstallationChannelManager,i.InstallationChannelManager),e.addSingleton(d.IProductService,l.ProductService),e.addSingleton(d.IProductPathService,u.FormatterProductPathService,r.ProductType.Formatter),e.addSingleton(d.IProductPathService,u.LinterProductPathService,r.ProductType.Linter),e.addSingleton(d.IProductPathService,u.TestFrameworkProductPathService,r.ProductType.TestFramework),e.addSingleton(d.IProductPathService,u.DataScienceProductPathService,r.ProductType.DataScience)}},59747:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleInstallFlags=t.IProductPathService=t.IProductService=t.IInstallationChannelManager=t.IPythonInstallation=t.IBaseInstaller=t.IModuleInstaller=void 0,t.IModuleInstaller=Symbol("IModuleInstaller"),t.IBaseInstaller=Symbol("IBaseInstaller"),t.IPythonInstallation=Symbol("IPythonInstallation"),t.IInstallationChannelManager=Symbol("IInstallationChannelManager"),t.IProductService=Symbol("IProductService"),t.IProductPathService=Symbol("IProductPathService"),(n=t.ModuleInstallFlags||(t.ModuleInstallFlags={}))[n.upgrade=1]="upgrade",n[n.updateDependencies=2]="updateDependencies",n[n.reInstall=4]="reInstall",n[n.installPipIfRequired=8]="installPipIfRequired"},97469:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterPathService=t.defaultInterpreterPathSetting=void 0;const o=n(55674),s=n(86700),a=n(66828),c=n(19735),u=n(17585),l=n(89515),d=n(77570),p=n(48431),h=n(61684),f=n(48683);t.defaultInterpreterPathSetting="defaultInterpreterPath";const g=process.env.CI_PYTHON_PATH&&o.existsSync(process.env.CI_PYTHON_PATH)?process.env.CI_PYTHON_PATH:"python";let m=class{constructor(e,t,n){this.persistentStateFactory=e,this.workspaceService=t,this._didChangeInterpreterEmitter=new a.EventEmitter,n.push(this.workspaceService.onDidChangeConfiguration(this.onDidChangeConfiguration.bind(this))),this.fileSystemPaths=p.FileSystemPaths.withDefaults()}get onDidChange(){return this._didChangeInterpreterEmitter.event}async onDidChangeConfiguration(e){e.affectsConfiguration(`python.${t.defaultInterpreterPathSetting}`)&&this._didChangeInterpreterEmitter.fire({uri:void 0,configTarget:a.ConfigurationTarget.Global})}inspect(e){var t,n;let r,i;(e=l.PythonSettings.getSettingsUriAndTarget(e,this.workspaceService).uri)&&(r=this.persistentStateFactory.createGlobalPersistentState(this.getSettingKey(e,a.ConfigurationTarget.WorkspaceFolder),void 0),i=this.persistentStateFactory.createGlobalPersistentState(this.getSettingKey(e,a.ConfigurationTarget.Workspace),void 0));const o=null!==(n=null===(t=this.workspaceService.getConfiguration("python",e))||void 0===t?void 0:t.inspect("defaultInterpreterPath"))&&void 0!==n?n:{};return{globalValue:o.globalValue,workspaceFolderValue:(null==r?void 0:r.value)||o.workspaceFolderValue,workspaceValue:(null==i?void 0:i.value)||o.workspaceValue}}get(e){var t;const n=this.inspect(e),r=n.workspaceFolderValue||n.workspaceValue||n.globalValue||((0,d.isTestExecution)()?g:"python");return new f.SystemVariables(void 0,null===(t=this.workspaceService.getWorkspaceFolder(e))||void 0===t?void 0:t.uri.fsPath,this.workspaceService).resolveAny(r)}async update(e,t,n){if(e=l.PythonSettings.getSettingsUriAndTarget(e,this.workspaceService).uri,t===a.ConfigurationTarget.Global){const e=this.workspaceService.getConfiguration("python");return void(e.inspect("defaultInterpreterPath").globalValue!==n&&await e.update("defaultInterpreterPath",n,!0))}if(!e)return void(0,c.traceError)("Cannot update workspace settings as no workspace is opened");const r=this.getSettingKey(e,t),i=this.persistentStateFactory.createGlobalPersistentState(r,void 0);i.value!==n&&(await i.updateValue(n),this._didChangeInterpreterEmitter.fire({uri:e,configTarget:t}))}getSettingKey(e,t){let n;const r=this.workspaceService.getWorkspaceFolderIdentifier(e);return n=t===a.ConfigurationTarget.WorkspaceFolder?`WORKSPACE_FOLDER_INTERPRETER_PATH_${r}`:this.workspaceService.workspaceFile?`WORKSPACE_INTERPRETER_PATH_${this.fileSystemPaths.normCase(this.workspaceService.workspaceFile.fsPath)}`:`WORKSPACE_FOLDER_INTERPRETER_PATH_${r}`,n}};m=r([(0,s.injectable)(),i(0,(0,s.inject)(h.IPersistentStateFactory)),i(1,(0,s.inject)(u.IWorkspaceService)),i(2,(0,s.inject)(h.IDisposableRegistry))],m),t.InterpreterPathService=m},21621:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserService=t.launch=void 0;const i=n(86700),o=n(66828);function s(e){o.env.openExternal(o.Uri.parse(e))}t.launch=s;let a=class{launch(e){s(e)}};a=r([(0,i.injectable)()],a),t.BrowserService=a},39425:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.FileDownloader=void 0;const o=n(86700),s=n(18472),a=n(19735),c=n(17585),u=n(77570),l=n(84974),d=n(61684),p=n(3481),h=s.loadMessageBundle();let f=class{constructor(e,t,n){this.httpClient=e,this.fs=t,this.appShell=n}async downloadFile(e,t){(0,a.traceLog)(h("downloading.file","Downloading {0}...",e));const n=await this.fs.createTemporaryFile(t.extension);return await this.downloadFileWithStatusBarProgress(e,t.progressMessagePrefix,n.filePath).then(p.noop,(e=>(n.dispose(),Promise.reject(e)))),n.filePath}async downloadFileWithStatusBarProgress(e,t,n){await this.appShell.withProgressCustomIcon(u.Octicons.Downloading,(async r=>{const i=await this.httpClient.downloadFile(e),o=this.fs.createWriteStream(n);return this.displayDownloadProgress(e,r,i,o,t)}))}async displayDownloadProgress(e,t,r,i,o){return new Promise(((s,a)=>{r.on("response",(t=>{200!==t.statusCode&&a(new Error(`Failed with status ${t.statusCode}, ${t.statusMessage}, Uri ${e}`))})),n(95095)(r).on("progress",(e=>{const n=function(e,t){const n=Math.round(t.size.transferred/1024),r=Math.round(t.size.total/1024),i=Math.round(100*t.percent);return h("downloading.file.progress","{0}{1} of {2} KB ({3}%)",e,n.toString(),r.toString(),i.toString())}(o,e);t.report({message:n})})).on("error",a).pipe(i).on("error",a).on("close",s)}))}};f=r([(0,o.injectable)(),i(0,(0,o.inject)(d.IHttpClient)),i(1,(0,o.inject)(l.IFileSystem)),i(2,(0,o.inject)(c.IApplicationShell))],f),t.FileDownloader=f},90220:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;const o=n(86700),s=n(60516),a=n(77498),c=n(19735),u=n(17585);let l=class{constructor(e){const t=e.get(u.IWorkspaceService);this.requestOptions={proxy:t.getConfiguration("http").get("proxy","")}}async downloadFile(e){return(await Promise.resolve().then((()=>n(48663))))(e,this.requestOptions)}async getJSON(e,t=!0){const n=await this.getContents(e);return this.parseBodyToJSON(n,t)}async parseBodyToJSON(e,t){if(t)return JSON.parse(e);{let t=[];const n=(0,s.parse)(e,t,{allowTrailingComma:!0,disallowComments:!1});return t.length>0&&(0,c.traceError)("JSONC parser returned ParseError codes",t),n}}async exists(e){const t=n(48663);return new Promise((n=>{try{t.get(e,this.requestOptions).on("response",(e=>n(200===e.statusCode))).on("error",(()=>n(!1)))}catch(e){n(!1)}}))}async getContents(e){const t=n(48663);return new Promise(((n,r)=>{t(e,this.requestOptions,((t,i,o)=>t?r(t):200!==i.statusCode?r(new Error(`Failed with status ${i.statusCode}, ${i.statusMessage}, Uri ${e}`)):void n(o)))}))}};l=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],l),t.HttpClient=l},73766:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalStorage=t.PersistentStateFactory=t.WORKSPACE_PERSISTENT_KEYS_DEPRECATED=t.GLOBAL_PERSISTENT_KEYS_DEPRECATED=t.PersistentState=void 0;const o=n(86700),s=n(19735),a=n(17585),c=n(77570),u=n(61684),l=n(36952),d=n(3481);class p{constructor(e,t,n,r){this.storage=e,this.key=t,this.defaultValue=n,this.expiryDurationMs=r}get value(){if(this.expiryDurationMs){const e=this.storage.get(this.key,{data:this.defaultValue});return!e||!e.expiry||e.expiry<Date.now()?this.defaultValue:e.data}return this.storage.get(this.key,this.defaultValue)}async updateValue(e){try{this.expiryDurationMs?await this.storage.update(this.key,{data:e,expiry:Date.now()+this.expiryDurationMs}):await this.storage.update(this.key,e)}catch(e){(0,s.traceError)("Error while updating storage for key:",this.key,e)}}}t.PersistentState=p,t.GLOBAL_PERSISTENT_KEYS_DEPRECATED="PYTHON_EXTENSION_GLOBAL_STORAGE_KEYS",t.WORKSPACE_PERSISTENT_KEYS_DEPRECATED="PYTHON_EXTENSION_WORKSPACE_STORAGE_KEYS";const h="PYTHON_GLOBAL_STORAGE_KEYS";let f=class{constructor(e,t,n){this.globalState=e,this.workspaceState=t,this.cmdManager=n,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0},this._globalKeysStorage=new p(this.globalState,h,[]),this._workspaceKeysStorage=new p(this.workspaceState,"PYTHON_WORKSPACE_STORAGE_KEYS",[])}async activate(){var e;null===(e=this.cmdManager)||void 0===e||e.registerCommand(c.Commands.ClearStorage,this.cleanAllPersistentStates.bind(this));const n=this.createGlobalPersistentState(t.GLOBAL_PERSISTENT_KEYS_DEPRECATED,[]),r=this.createWorkspacePersistentState(t.WORKSPACE_PERSISTENT_KEYS_DEPRECATED,[]);n.value.length>0&&n.updateValue([]).ignoreErrors(),r.value.length>0&&r.updateValue([]).ignoreErrors()}createGlobalPersistentState(e,t,n){return this.addKeyToStorage("global",e,t).ignoreErrors(),new p(this.globalState,e,t,n)}createWorkspacePersistentState(e,t,n){return this.addKeyToStorage("workspace",e,t).ignoreErrors(),new p(this.workspaceState,e,t,n)}async addKeyToStorage(e,t,n){const r="global"===e?this._globalKeysStorage:this._workspaceKeysStorage;r.value.find((e=>e.key===t))||await r.updateValue([{key:t,defaultValue:n},...r.value])}async cleanAllPersistentStates(){var e;await Promise.all(this._globalKeysStorage.value.map((async e=>{const t=this.createGlobalPersistentState(e.key);await t.updateValue(e.defaultValue)}))),await Promise.all(this._workspaceKeysStorage.value.map((async e=>{const t=this.createWorkspacePersistentState(e.key);await t.updateValue(e.defaultValue)}))),await this._globalKeysStorage.updateValue([]),await this._workspaceKeysStorage.updateValue([]),null===(e=this.cmdManager)||void 0===e||e.executeCommand("workbench.action.reloadWindow").then(d.noop)}};r([(0,l.cache)(-1,!0)],f.prototype,"addKeyToStorage",null),f=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IMemento)),i(0,(0,o.named)(u.GLOBAL_MEMENTO)),i(1,(0,o.inject)(u.IMemento)),i(1,(0,o.named)(u.WORKSPACE_MEMENTO)),i(2,(0,o.inject)(a.ICommandManager))],f),t.PersistentStateFactory=f,t.getGlobalStorage=function(e,t,n){const r=new p(e.globalState,h,[]);if(!r.value.find((e=>e.key===t&&e.defaultValue===n))){const e=[{key:t,defaultValue:n},...r.value];r.updateValue(e).ignoreErrors()}const i=new p(e.globalState,t,n);return{get:()=>i.value,set:e=>i.updateValue(e)}}},93666:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IS_WINDOWS=void 0,t.IS_WINDOWS=/^win/.test(process.platform)},95311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNoPermissionsError=t.isNotDirError=t.isFileIsDirError=t.isFileExistsError=t.isFileNotFoundError=t.createDirNotEmptyError=void 0;const r=n(66828);var i;function o(e,t){const n=e.code;if(n)return n===t}!function(e){const t=r.FileSystemError.FileNotFound().name,n=r.FileSystemError.FileExists().name,i=r.FileSystemError.FileIsADirectory().name,o=r.FileSystemError.FileNotADirectory().name,s=r.FileSystemError.NoPermissions().name,a=[t,n,i,o,s];function c(e,t){if(a.includes(e.name))return e.name===t}e.isFileNotFound=function(e){return c(e,t)},e.isFileExists=function(e){return c(e,n)},e.isFileIsDir=function(e){return c(e,i)},e.isNotDir=function(e){return c(e,o)},e.isNoPermissions=function(e){return c(e,s)}}(i||(i={})),t.createDirNotEmptyError=function(e){const t=new Error(`directory "${e}" not empty`);return t.name="SystemError",t.code="ENOTEMPTY",t.path=e,t.syscall="rmdir",t},t.isFileNotFoundError=function(e){const t=e,n=i.isFileNotFound(t);return void 0!==n?n:o(t,"ENOENT")},t.isFileExistsError=function(e){const t=e,n=i.isFileExists(t);return void 0!==n?n:o(t,"EEXIST")},t.isFileIsDirError=function(e){const t=i.isFileIsDir(e);return void 0!==t?t:o(e,"EISDIR")},t.isNotDirError=function(e){const t=i.isNotDir(e);return void 0!==t?t:o(e,"ENOTDIR")},t.isNoPermissionsError=function(e){const t=e,n=i.isNoPermissions(t);return void 0!==n?n:o(t,"EACCES")}},90209:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystem=t.getHashString=t.FileSystemUtils=t.RawFileSystem=t.convertStat=void 0;const i=n(6113),o=n(55674),s=n(12884),a=n(86700),c=n(73837),u=n(66828),l=n(19735);n(32727);const d=n(56091),p=n(95311),h=n(48431),f=n(22512),g=n(84974),m="utf8";function v(e,t){return{type:t,size:e.size,ctime:Math.round(e.ctimeMs),mtime:Math.round(e.mtimeMs)}}function y(e,t){return t===g.FileType.Unknown?e.filter((([e,t])=>t===g.FileType.Unknown||t===(g.FileType.SymbolicLink&g.FileType.Unknown))):e.filter((([e,n])=>(n&t)>0))}t.convertStat=v;class b{constructor(e,t,n){this.paths=e,this.vscfs=t,this.fsExtra=n}static withDefaults(e,t,n){return new b(e||h.FileSystemPaths.withDefaults(),t||u.workspace.fs,n||o)}async pathExists(e){return this.fsExtra.pathExists(e)}async stat(e){const t=u.Uri.file(e);return this.vscfs.stat(t)}async lstat(e){const t=await this.fsExtra.lstat(e);return v(t,(0,d.convertFileType)(t))}async chmod(e,t){return this.fsExtra.chmod(e,t)}async move(e,t){const n=u.Uri.file(e),r=u.Uri.file(t);await this.vscfs.stat(u.Uri.file(this.paths.dirname(t)));const i={overwrite:!1};try{await this.vscfs.rename(n,r,i)}catch(e){if(!(0,p.isFileExistsError)(e))throw e;if((await this.vscfs.stat(r)).type===g.FileType.Directory)throw e;i.overwrite=!0,await this.vscfs.rename(n,r,i)}}async readData(e){const t=u.Uri.file(e),n=await this.vscfs.readFile(t);return Buffer.from(n)}async readText(e){const t=u.Uri.file(e),n=await this.vscfs.readFile(t);return Buffer.from(n).toString(m)}async writeText(e,t){const n=u.Uri.file(e),r=Buffer.from(t);await this.vscfs.writeFile(n,r)}async appendText(e,t){return this.fsExtra.appendFile(e,t)}async copyFile(e,t){const n=u.Uri.file(e),r=u.Uri.file(t);await this.vscfs.stat(u.Uri.file(this.paths.dirname(t))),await this.vscfs.copy(n,r,{overwrite:!0})}async rmfile(e){const t=u.Uri.file(e);return this.vscfs.delete(t,{recursive:!1,useTrash:!1})}async rmdir(e){const t=u.Uri.file(e),n=await this.vscfs.readDirectory(t);if(n&&n.length>0)throw(0,p.createDirNotEmptyError)(e);return this.vscfs.delete(t,{recursive:!0,useTrash:!1})}async rmtree(e){const t=u.Uri.file(e);return await this.vscfs.stat(t),this.vscfs.delete(t,{recursive:!0,useTrash:!1})}async mkdirp(e){const t=u.Uri.file(e);await this.vscfs.createDirectory(t)}async listdir(e){const t=u.Uri.file(e);return(await this.vscfs.readDirectory(t)).map((([t,n])=>[this.paths.join(e,t),n]))}statSync(e){let t=this.fsExtra.lstatSync(e),n=g.FileType.Unknown;return t.isSymbolicLink()&&(n=g.FileType.SymbolicLink,t=this.fsExtra.statSync(e)),n|=(0,d.convertFileType)(t),v(t,n)}readTextSync(e){return this.fsExtra.readFileSync(e,m)}createReadStream(e){return this.fsExtra.createReadStream(e)}createWriteStream(e){return this.fsExtra.createWriteStream(e)}}t.RawFileSystem=b;class S{constructor(e,t,n,r,i,o){this.raw=e,this.pathUtils=t,this.paths=n,this.tmp=r,this.getHash=i,this.globFiles=o}static withDefaults(e,t,n,r,i){return t=t||h.FileSystemPathUtils.withDefaults(),new S(e||b.withDefaults(t.paths),t,t.paths,n||f.TemporaryFileSystem.withDefaults(),r||_,i||(0,c.promisify)(s))}async createDirectory(e){return this.raw.mkdirp(e)}async deleteDirectory(e){return this.raw.rmdir(e)}async deleteFile(e){return this.raw.rmfile(e)}async pathExists(e,t){if(void 0===t)return this.raw.pathExists(e);let n;try{n=await this.raw.stat(e)}catch(t){return(0,p.isFileNotFoundError)(t)||(0,l.traceError)(`stat() failed for "${e}"`,t),!1}return t===g.FileType.Unknown?n.type===g.FileType.Unknown:(n.type&t)===t}async fileExists(e){return this.pathExists(e,g.FileType.File)}async directoryExists(e){return this.pathExists(e,g.FileType.Directory)}async listdir(e){try{return await this.raw.listdir(e)}catch(t){if(!await this.pathExists(e))return[];throw t}}async getSubDirectories(e){return y(await this.listdir(e),g.FileType.Directory).map((([e,t])=>e))}async getFiles(e){return y(await this.listdir(e),g.FileType.File).map((([e,t])=>e))}async isDirReadonly(e){const t=`${e}${this.paths.sep}___vscpTest___`;try{await this.raw.stat(e),await this.raw.writeText(t,"")}catch(e){if((0,p.isNoPermissionsError)(e))return!0;throw e}return this.raw.rmfile(t).ignoreErrors(),!1}async getFileHash(e){const t=await this.raw.lstat(e),n=`${t.ctime}-${t.mtime}`;return this.getHash(n)}async search(e,t,n){let r;t&&(r={...r,cwd:t}),n&&(r={...r,dot:n});const i=await this.globFiles(e,r);return Array.isArray(i)?i:[]}fileExistsSync(e){try{this.raw.statSync(e)}catch(e){if((0,p.isFileNotFoundError)(e))return!1;throw e}return!0}}function _(e){const t=(0,i.createHash)("sha512");return t.update(e),t.digest("hex")}t.FileSystemUtils=S,t.getHashString=_;let E=class{constructor(){this.utils=S.withDefaults()}get directorySeparatorChar(){return this.utils.paths.sep}arePathsSame(e,t){return this.utils.pathUtils.arePathsSame(e,t)}getDisplayName(e){return this.utils.pathUtils.getDisplayName(e)}async stat(e){return this.utils.raw.stat(e)}async createDirectory(e){return this.utils.createDirectory(e)}async deleteDirectory(e){return this.utils.deleteDirectory(e)}async listdir(e){return this.utils.listdir(e)}async readFile(e){return this.utils.raw.readText(e)}async readData(e){return this.utils.raw.readData(e)}async writeFile(e,t){return this.utils.raw.writeText(e,t)}async appendFile(e,t){return this.utils.raw.appendText(e,t)}async copyFile(e,t){return this.utils.raw.copyFile(e,t)}async deleteFile(e){return this.utils.deleteFile(e)}async chmod(e,t){return this.utils.raw.chmod(e,t)}async move(e,t){await this.utils.raw.move(e,t)}readFileSync(e){return this.utils.raw.readTextSync(e)}createReadStream(e){return this.utils.raw.createReadStream(e)}createWriteStream(e){return this.utils.raw.createWriteStream(e)}async fileExists(e){return this.utils.fileExists(e)}pathExists(e){return this.utils.pathExists(e)}fileExistsSync(e){return this.utils.fileExistsSync(e)}async directoryExists(e){return this.utils.directoryExists(e)}async getSubDirectories(e){return this.utils.getSubDirectories(e)}async getFiles(e){return this.utils.getFiles(e)}async getFileHash(e){return this.utils.getFileHash(e)}async search(e,t,n){return this.utils.search(e,t,n)}async createTemporaryFile(e,t){return this.utils.tmp.createFile(e,t)}async isDirReadonly(e){return this.utils.isDirReadonly(e)}};E=r([(0,a.injectable)()],E),t.FileSystem=E},88409:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.watchLocationForPattern=t.FileChangeType=void 0;const r=n(66828),i=n(19735),o=n(81837);var s;!function(e){e.Changed="changed",e.Created="created",e.Deleted="deleted"}(s=t.FileChangeType||(t.FileChangeType={})),t.watchLocationForPattern=function(e,t,n){const a=new r.RelativePattern(e,t),c=new o.Disposables;(0,i.traceVerbose)(`Start watching: ${e} with pattern ${t} using VSCode API`);const u=r.workspace.createFileSystemWatcher(a);return c.push(u.onDidCreate((e=>n(s.Created,e.fsPath)))),c.push(u.onDidChange((e=>n(s.Changed,e.fsPath)))),c.push(u.onDidDelete((e=>n(s.Deleted,e.fsPath)))),c}},48431:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arePathsSame=t.isParentPath=t.normCasePath=t.FileSystemPathUtils=t.Executables=t.FileSystemPaths=void 0;const r=n(71017),i=n(47237),o=n(87450),s=n(58967);class a{constructor(e,t){this.isCaseInsensitive=e,this.raw=t}static withDefaults(e){return void 0===e&&(e=(0,o.getOSType)()===o.OSType.Windows),new a(e,r)}get sep(){return this.raw.sep}join(...e){return this.raw.join(...e)}dirname(e){return this.raw.dirname(e)}basename(e,t){return this.raw.basename(e,t)}normalize(e){return this.raw.normalize(e)}normCase(e){return e=this.raw.normalize(e),this.isCaseInsensitive?e.toUpperCase():e}}t.FileSystemPaths=a;class c{constructor(e,t){this.delimiter=e,this.osType=t}static withDefaults(){return new c(r.delimiter,(0,o.getOSType)())}get envVar(){return(0,i.getSearchPathEnvVarNames)(this.osType)[0]}}t.Executables=c;class u{constructor(e,t,n,r){this.home=e,this.paths=t,this.executables=n,this.raw=r}static withDefaults(e){return void 0===e&&(e=a.withDefaults()),new u(s("~"),e,c.withDefaults(),r)}arePathsSame(e,t){return(e=this.paths.normCase(e))===this.paths.normCase(t)}getDisplayName(e,t){return t&&d(e,t)?`.${this.paths.sep}${this.raw.relative(t,e)}`:d(e,this.home)?`~${this.paths.sep}${this.raw.relative(this.home,e)}`:e}}function l(e){return(0,o.getOSType)()===o.OSType.Windows?r.normalize(e).toUpperCase():r.normalize(e)}function d(e,t){return t.endsWith(r.sep)||(t+=r.sep),e.endsWith(r.sep)||(e+=r.sep),l(e).startsWith(l(t))}t.FileSystemPathUtils=u,t.normCasePath=l,t.isParentPath=d,t.arePathsSame=function(e,t){return l(e)===l(t)}},22512:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemporaryFileSystem=void 0;const r=n(36276);class i{constructor(e){this.raw=e}static withDefaults(){return new i(r)}createFile(e,t){const n={postfix:e,mode:t};return new Promise(((e,t)=>{this.raw.file(n,((n,r,i,o)=>{if(n)return t(n);e({filePath:r,dispose:o})}))}))}}t.TemporaryFileSystem=i},79434:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PathUtils=void 0;const o=n(86700),s=n(71017),a=n(61684),c=n(87450),u=n(48431),l=n(58967);let d=class{constructor(e){const t=e?c.OSType.Windows:c.OSType.Unknown;this.utils=new u.FileSystemPathUtils(l("~"),u.FileSystemPaths.withDefaults(),new u.Executables(s.delimiter,t),s)}get home(){return this.utils.home}get delimiter(){return this.utils.executables.delimiter}get separator(){return this.utils.paths.sep}getPathVariableName(){return this.utils.executables.envVar}getDisplayName(e,t){return this.utils.getDisplayName(e,t)}basename(e,t){return this.utils.paths.basename(e,t)}};d=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IsWindows))],d),t.PathUtils=d},65243:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformService=void 0;const i=n(86700),o=n(22037),s=n(36625),a=n(47237),c=n(87450),u=n(52439);let l=class{constructor(){this.osType=(0,c.getOSType)()}get pathVariableName(){return(0,a.getSearchPathEnvVarNames)(this.osType)[0]}get virtualEnvBinName(){return this.isWindows?"Scripts":"bin"}async getVersion(){if(this.version)return this.version;switch(this.osType){case c.OSType.Windows:case c.OSType.OSX:try{const e=(0,s.coerce)(o.release());if(e)return this.version=e,this.version;throw new Error("Unable to parse version")}catch(e){return(0,u.parseSemVerSafe)(o.release())}default:throw new Error("Not Supported")}}get isWindows(){return this.osType===c.OSType.Windows}get isMac(){return this.osType===c.OSType.OSX}get isLinux(){return this.osType===c.OSType.Linux}get osRelease(){return o.release()}get is64bit(){return(0,c.getArchitecture)()===c.Architecture.x64}};l=r([(0,i.injectable)()],l),t.PlatformService=l},3522:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.getArchitectureDisplayName=t.RegistryImplementation=void 0;const i=n(86700),o=n(19735),s=n(87450),a=n(84974);var c;!function(e){e.x86="x86",e.x64="x64"}(c||(c={}));let u=class{async getKeys(e,t,r){return async function(e){const t=n(1283);return new Promise((n=>{new t(e).keys(((e,t)=>{if(e||!Array.isArray(t))return n([]);n(t.filter((e=>"string"==typeof e.key)).map((e=>e.key)))}))}))}({hive:d(t),arch:l(r),key:e}).catch((e=>((0,o.traceError)("Fetching keys from windows registry resulted in an error",e),[])))}async getValue(e,t,r,i=""){return async function(e,t=""){const r=n(1283);return new Promise((n=>{new r(e).get(t,((e,t)=>{if(e||!t||"string"!=typeof t.value)return n(void 0);n(t.value)}))}))}({hive:d(t),arch:l(r),key:e},i).catch((e=>{(0,o.traceError)("Fetching key value from windows registry resulted in an error",e)}))}};function l(e){switch(e){case s.Architecture.x86:return c.x86;case s.Architecture.x64:return c.x64;default:return}}function d(e){const t=n(1283);switch(e){case a.RegistryHive.HKCU:return t.HKCU;case a.RegistryHive.HKLM:return t.HKLM;default:return}}u=r([(0,i.injectable)()],u),t.RegistryImplementation=u,t.getArchitectureDisplayName=function(e){switch(e){case s.Architecture.x64:return"64-bit";case s.Architecture.x86:return"32-bit";default:return""}}},29992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(90209),i=n(65243),o=n(3522),s=n(84974);t.registerTypes=function(e){e.addSingleton(s.IPlatformService,i.PlatformService),e.addSingleton(s.IFileSystem,r.FileSystem),e.addSingleton(s.IRegistry,o.RegistryImplementation)}},84974:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFileSystem=t.IFileSystemPathUtils=t.IPlatformService=t.IRegistry=t.RegistryHive=t.FileType=void 0;const r=n(66828);var i;t.FileType=r.FileType,(i=t.RegistryHive||(t.RegistryHive={}))[i.HKCU=0]="HKCU",i[i.HKLM=1]="HKLM",t.IRegistry=Symbol("IRegistry"),t.IPlatformService=Symbol("IPlatformService"),t.IFileSystemPathUtils=Symbol("IFileSystemPathUtils"),t.IFileSystem=Symbol("IFileSystem")},93289:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ENCODING=void 0,t.DEFAULT_ENCODING="utf8"},20900:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentProcess=void 0;const i=n(86700);let o=class{constructor(){this.on=(e,t)=>(process.on(e,t),process)}get env(){return process.env}get argv(){return process.argv}get stdout(){return process.stdout}get stdin(){return process.stdin}get execPath(){return process.execPath}};o=r([(0,i.injectable)()],o),t.CurrentProcess=o},73153:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeBuffer=void 0;const r=n(4914),i=n(93289);t.decodeBuffer=function(e,t=i.DEFAULT_ENCODING){return t=r.encodingExists(t)?t:i.DEFAULT_ENCODING,r.decode(Buffer.concat(e),t)}},31776:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getModuleVersion=t.isModuleInstalled=t.isValid=t.getUserSitePackages=t.getSitePackages=t.getExecutable=t.execModule=t.execCode=void 0,t.execCode=function(e){return["-c",e]},t.execModule=function(e,t){return["-m",e,...t]},t.getExecutable=function(){return[["-c","import sys;print(sys.executable)"],function(e){return e.trim()}]},t.getSitePackages=function(){return[["-c","from distutils.sysconfig import get_python_lib; print(get_python_lib())"],function(e){return e.trim()}]},t.getUserSitePackages=function(){return[["site","--user-site"],function(e){return e.trim()}]},t.isValid=function(){return[["-c","print(1234)"],function(e){return e.startsWith("1234")}]},t.isModuleInstalled=function(e){return[["-c",`import ${e}`],function(e){return!0}]},t.getModuleVersion=function(e){return[["-c",`import ${e}; print(${e}.__version__)`],function(e){return e.trim()}]}},48266:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._SCRIPTS_DIR=void 0;const r=n(71017),i=n(77570);t._SCRIPTS_DIR=r.join(i.EXTENSION_ROOT_DIR,"pythonFiles")},4057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCondaScript=t.createVenvScript=t.linterScript=t.tensorboardLauncher=t.execution_py_testlauncher=t.visualstudio_py_testlauncher=t.testlauncher=t.shell_exec=t.printEnvVariables=t.normalizeSelection=t.sortImports=t.interpreterInfo=t.OUTPUT_MARKER_SCRIPT=t.testingTools=void 0;const r=n(71017),i=n(48266),o=i._SCRIPTS_DIR;t.testingTools=n(81036),t.OUTPUT_MARKER_SCRIPT=r.join(i._SCRIPTS_DIR,"get_output_via_markers.py"),t.interpreterInfo=function(){const e=[r.join(o,"interpreterInfo.py")];return[e,function(t){let n;try{n=JSON.parse(t)}catch(n){throw Error(`python ${e} returned bad JSON (${t}) (${n})`)}return n}]},t.sortImports=function(e,t){const n=[r.join(o,"sortImports.py"),e,"--diff"];return t&&n.push(...t),[n,function(e){return e}]},t.normalizeSelection=function(){return[[r.join(o,"normalizeSelection.py")],function(e){return e}]},t.printEnvVariables=function(){return[[r.join(o,"printEnvVariables.py").fileToCommandArgumentForPythonExt()],function(e){return JSON.parse(e)}]},t.shell_exec=function(e,t,n){return[r.join(o,"shell_exec.py"),e.fileToCommandArgumentForPythonExt(),...n,t.fileToCommandArgumentForPythonExt()]},t.testlauncher=function(e){return[r.join(o,"testlauncher.py"),...e]},t.visualstudio_py_testlauncher=function(e){return[r.join(o,"visualstudio_py_testlauncher.py"),...e]},t.execution_py_testlauncher=function(e){return[r.join(o,"unittestadapter","execution.py"),...e]},t.tensorboardLauncher=function(e){return[r.join(o,"tensorboard_launcher.py"),...e]},t.linterScript=function(){return r.join(o,"linter.py")},t.createVenvScript=function(){return r.join(o,"create_venv.py")},t.createCondaScript=function(){return r.join(o,"create_conda.py")}},81036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unittestDiscovery=t.runAdapter=void 0;const r=n(71017),i=n(48266),o=r.join(i._SCRIPTS_DIR,"testing_tools");t.runAdapter=function(e){return[r.join(o,"run_adapter.py"),...e]},t.unittestDiscovery=function(e){return[r.join(o,"unittest_discovery.py"),...e]}},34581:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessLogger=void 0;const o=n(86700),s=n(19735),a=n(17585),c=n(77570),u=n(67098),l=n(87450),d=n(96486);let p=class{constructor(e){this.workspaceService=e}logProcess(e,t,n){if(!(0,c.isTestExecution)()&&c.isCI&&process.env.UITEST_DISABLE_PROCESS_LOGGING)return;let r=t?[e,...t].map((e=>e.trimQuotes().toCommandArgumentForPythonExt())).join(" "):e;const i=[`> ${this.getDisplayCommands(r)}`];n&&n.cwd&&i.push(`${u.Logging.currentWorkingDirectory} ${this.getDisplayCommands(n.cwd)}`),i.forEach((e=>{(0,s.traceLog)(e)}))}getDisplayCommands(e){this.workspaceService.workspaceFolders&&1===this.workspaceService.workspaceFolders.length&&(e=h(e,this.workspaceService.workspaceFolders[0].uri.fsPath,"."));const t=(0,l.getUserHomeDir)();return t&&(e=h(e,t,"~")),e}};function h(e,t,n){function r(e){let t=(0,d.escapeRegExp)(e);return(0,l.getOSType)()===l.OSType.Windows&&(t=t.replaceAll("\\\\","(\\\\|/)")),new RegExp(t,"ig")}let i=e.split(" ");for(let e=0;e<i.length;e++){let o=r(t);const s=o.exec(i[e]);if(s){const a=s.index;a>0&&i[e][a-1].match(/[a-z]/)&&(o=r(t.substring(1))),i[e]=i[e].replace(o,n)}}return i.join(" ")}p=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IWorkspaceService))],p),t.ProcessLogger=p},66462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessService=void 0;const r=n(82361),i=n(19735),o=n(18699);class s extends r.EventEmitter{constructor(e){super(),this.env=e,this.processesToKill=new Set}static isAlive(e){try{return process.kill(e,0),!0}catch(e){return!1}}static kill(e){(0,o.killPid)(e)}dispose(){this.removeAllListeners(),this.processesToKill.forEach((e=>{try{e.dispose()}catch(e){}}))}execObservable(e,t,n={}){const r=(0,o.execObservable)(e,t,n,this.env,this.processesToKill);return this.emit("exec",e,t,n),r}exec(e,t,n={}){const r=(0,o.plainExec)(e,t,n,this.env,this.processesToKill);return this.emit("exec",e,t,n),r}shellExec(e,t={}){this.emit("exec",e,void 0,t);const n=new Set;return(0,o.shellExec)(e,t,this.env,n).finally((()=>{n.forEach((t=>{try{t.dispose()}catch(t){(0,i.traceError)(`Unable to kill process for ${e}`)}}))}))}}t.ProcessService=s},98065:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProcessServiceFactory=void 0;const o=n(86700),s=n(61684),a=n(19909),c=n(66462),u=n(29983);let l=class{constructor(e,t,n){this.envVarsService=e,this.processLogger=t,this.disposableRegistry=n}async create(e){const t=await this.envVarsService.getEnvironmentVariables(e),n=new c.ProcessService(t);return this.disposableRegistry.push(n),n.on("exec",this.processLogger.logProcess.bind(this.processLogger))}};l=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IEnvironmentVariablesProvider)),i(1,(0,o.inject)(u.IProcessLogger)),i(2,(0,o.inject)(s.IDisposableRegistry))],l),t.ProcessServiceFactory=l},3672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMicrosoftStoreEnv=t.createCondaEnv=t.createPythonEnv=void 0;const r=n(71017),i=n(19735),o=n(75470),s=n(24708),a=n(93400),c=n(69554),u=n(77570),l=n(31776),d=new Map;class p{constructor(e,t){this.pythonPath=e,this.deps=t,this.cachedInterpreterInformation=null}getExecutionInfo(e=[],t){const n=this.deps.getPythonArgv(this.pythonPath);return(0,s.buildPythonExecInfo)(n,e,t)}getExecutionObservableInfo(e=[],t){const n=this.deps.getObservablePythonArgv(this.pythonPath);return(0,s.buildPythonExecInfo)(n,e,t)}async getInterpreterInformation(){return null===this.cachedInterpreterInformation&&(this.cachedInterpreterInformation=await this.getInterpreterInformationImpl()),this.cachedInterpreterInformation}async getExecutablePath(){if(await this.deps.isValidExecutable(this.pythonPath))return this.pythonPath;const e=d.get(this.pythonPath);if(void 0!==e&&!(0,u.isTestExecution)())return e;const t=this.getExecutionInfo(),n=(0,a.getExecutablePath)(t,this.deps.shellExec);return d.set(this.pythonPath,n),n}async getModuleVersion(e){const[t,n]=l.getModuleVersion(e),r=this.getExecutionInfo(t);let o;try{o=await this.deps.exec(r.command,r.args)}catch(t){return void(0,i.traceInfo)(`Error when getting version of module ${e}`,t)}return n(o.stdout)}async isModuleInstalled(e){const[t]=l.isModuleInstalled(e),n=this.getExecutionInfo(t);try{await this.deps.exec(n.command,n.args)}catch(t){return(0,i.traceInfo)(`Error when checking if module is installed ${e}`,t),!1}return!0}async getInterpreterInformationImpl(){try{const e=this.getExecutionInfo();return await(0,c.getInterpreterInfo)(e,this.deps.shellExec,{info:i.traceInfo,error:i.traceError})}catch(e){(0,i.traceError)(`Failed to get interpreter information for '${this.pythonPath}'`,e)}}}function h(e,t,n,i,o){return{getPythonArgv:e=>(r.basename(e)===e&&(t=e.split(" ")),t||[e]),getObservablePythonArgv:e=>(r.basename(e)===e&&(n=e.split(" ")),n||[e]),isValidExecutable:e,exec:async(e,t)=>i(e,t,{throwOnStdErr:!0}),shellExec:o}}t.createPythonEnv=function(e,t,n){const r=h((async e=>n.pathExists(e)),void 0,void 0,((e,n,r)=>t.exec(e,n,r)),((e,n)=>t.shellExec(e,n)));return new p(e,r)},t.createCondaEnv=async function(e,t,n){const r=await o.Conda.getConda(),i=await(null==r?void 0:r.getRunPythonArgs({name:e.name,prefix:e.path}));if(!i)return;const s=h((async e=>n.pathExists(e)),i,i,((e,n,r)=>t.exec(e,n,r)),((e,n)=>t.shellExec(e,n))),a=await(null==r?void 0:r.getInterpreterPathForEnvironment({name:e.name,prefix:e.path}));return a?new p(a,s):void 0},t.createMicrosoftStoreEnv=function(e,t){const n=h((async e=>!0),void 0,void 0,((e,n,r)=>t.exec(e,n,r)),((e,n)=>t.shellExec(e,n)));return new p(e,n)}},51625:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonExecutionFactory=void 0;const o=n(86700),s=n(80351),a=n(18639),c=n(77498),u=n(54813),l=n(61522),d=n(84974),p=n(61684),h=n(66462),f=n(3672),g=n(29672),m=n(29983),v=n(87282),y=n(59314),b=n(19735);let S=class{constructor(e,t,n,r,i,o,s){this.serviceContainer=e,this.activationHelper=t,this.processServiceFactory=n,this.configService=r,this.pyenvs=i,this.autoSelection=o,this.interpreterPathExpHelper=s,this.disposables=this.serviceContainer.get(p.IDisposableRegistry),this.logger=this.serviceContainer.get(m.IProcessLogger),this.fileSystem=this.serviceContainer.get(d.IFileSystem)}async create(e){let{pythonPath:t}=e;if(!t){const n=this.interpreterPathExpHelper.get(e.resource);n&&"python"!==n||await Promise.race([this.autoSelection.autoSelectInterpreter(e.resource).then((()=>!0)),(0,y.sleep)(5e4).then((()=>!1))])||(0,b.traceError)("Autoselection timeout out, this is likely a issue with how consumer called execution factory API. Using default python to execute."),t=this.configService.getSettings(e.resource).pythonPath}const n=await this.processServiceFactory.create(e.resource),r=await this.createCondaExecutionService(t,n);if(r)return r;const i=this.pyenvs.isMicrosoftStoreInterpreter.bind(this.pyenvs);return _(n,await i(t)?(0,f.createMicrosoftStoreEnv)(t,n):(0,f.createPythonEnv)(t,n,this.fileSystem))}async createActivatedEnvironment(e){const t=await this.activationHelper.getActivatedEnvironmentVariables(e.resource,e.interpreter,e.allowEnvironmentFetchExceptions),n=t&&Object.keys(t).length>0;if((0,u.sendTelemetryEvent)(l.EventName.PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES,void 0,{hasEnvVars:n}),!n)return this.create({resource:e.resource,pythonPath:e.interpreter?e.interpreter.path:void 0});const r=e.interpreter?e.interpreter.path:this.configService.getSettings(e.resource).pythonPath,i=new h.ProcessService({...t});i.on("exec",this.logger.logProcess.bind(this.logger)),this.disposables.push(i);const o=await this.createCondaExecutionService(r,i);return o||_(i,(0,f.createPythonEnv)(r,i,this.fileSystem))}async createCondaExecutionService(e,t){const n=this.serviceContainer.get(a.IComponentAdapter),[r]=await Promise.all([n.getCondaEnvironment(e)]);if(!r)return;const i=await(0,f.createCondaEnv)(r,t,this.fileSystem);return i?_(t,i):void 0}};function _(e,t){const n=(0,g.createPythonProcessService)(e,t);return{getInterpreterInformation:()=>t.getInterpreterInformation(),getExecutablePath:()=>t.getExecutablePath(),isModuleInstalled:e=>t.isModuleInstalled(e),getModuleVersion:e=>t.getModuleVersion(e),getExecutionInfo:e=>t.getExecutionInfo(e),execObservable:(e,t)=>n.execObservable(e,t),execModuleObservable:(e,t,r)=>n.execModuleObservable(e,t,r),exec:(e,t)=>n.exec(e,t),execModule:(e,t,r)=>n.execModule(e,t,r),execForLinter:(e,t,r)=>n.execForLinter(e,t,r)}}S=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer)),i(1,(0,o.inject)(s.IEnvironmentActivationService)),i(2,(0,o.inject)(m.IProcessServiceFactory)),i(3,(0,o.inject)(p.IConfigurationService)),i(4,(0,o.inject)(a.IComponentAdapter)),i(5,(0,o.inject)(v.IInterpreterAutoSelectionService)),i(6,(0,o.inject)(p.IInterpreterPathService))],S),t.PythonExecutionFactory=S},29672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPythonProcessService=void 0;const r=n(26804),i=n(97300),o=n(31776);class s{constructor(e){this.deps=e}execObservable(e,t){const n={...t},r=this.deps.getExecutionObservableInfo(e);return this.deps.execObservable(r.command,r.args,n)}execModuleObservable(e,t,n){const r=o.execModule(e,t),i={...n},s=this.deps.getExecutionObservableInfo(r);return this.deps.execObservable(s.command,s.args,i)}async exec(e,t){const n={...t},r=this.deps.getExecutionInfo(e);return this.deps.exec(r.command,r.args,n)}async execModule(e,t,n){const s=o.execModule(e,t),a={...n},c=this.deps.getExecutionInfo(s),u=await this.deps.exec(c.command,c.args,a);if(e&&r.ErrorUtils.outputHasModuleNotInstalledError(e,u.stderr)&&!await this.deps.isModuleInstalled(e))throw new i.ModuleNotInstalledError(e);return u}async execForLinter(e,t,n){const o={...n},s=this.deps.getExecutionInfo(t),a=await this.deps.exec(s.command,s.args,o);if(e&&r.ErrorUtils.outputHasModuleNotInstalledError(e,a.stderr)&&!await this.deps.isModuleInstalled(e))throw new i.ModuleNotInstalledError(e);return a}}t.createPythonProcessService=function(e,t){return new s({isModuleInstalled:async e=>t.isModuleInstalled(e),getExecutionInfo:e=>t.getExecutionInfo(e),getExecutionObservableInfo:e=>t.getExecutionObservableInfo(e),exec:async(t,n,r)=>e.exec(t,n,r),execObservable:(t,n,r)=>e.execObservable(t,n,r)})}},91950:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonToolExecutionService=void 0;const o=n(86700),s=n(77498),a=n(29983);let c=class{constructor(e){this.serviceContainer=e}async execObservable(e,t,n){if(t.env)throw new Error("Environment variables are not supported");return e.moduleName&&e.moduleName.length>0?(await this.serviceContainer.get(a.IPythonExecutionFactory).create({resource:n})).execModuleObservable(e.moduleName,e.args,t):(await this.serviceContainer.get(a.IProcessServiceFactory).create(n)).execObservable(e.execPath,e.args,{...t})}async exec(e,t,n){if(t.env)throw new Error("Environment variables are not supported");return e.moduleName&&e.moduleName.length>0?(await this.serviceContainer.get(a.IPythonExecutionFactory).create({resource:n})).execModule(e.moduleName,e.args,t):(await this.serviceContainer.get(a.IProcessServiceFactory).create(n)).exec(e.execPath,e.args,{...t})}async execForLinter(e,t,n){if(t.env)throw new Error("Environment variables are not supported");const r=await this.serviceContainer.get(a.IPythonExecutionFactory).create({resource:n});return e.execPath?r.exec(e.args,t):r.execForLinter(e.moduleName,e.args,t)}};c=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IServiceContainer))],c),t.PythonToolExecutionService=c},18699:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.killPid=t.execObservable=t.plainExec=t.shellExec=void 0;const r=n(32081),i=n(95100),o=n(59314),s=n(93289),a=n(29983),c=n(3481),u=n(73153);function l(e,t){const n={...e},r=n;if(r){r.encoding="string"==typeof r.encoding&&r.encoding.length>0?r.encoding:s.DEFAULT_ENCODING;const{encoding:e}=r;delete r.encoding,r.encoding=e}if(n.env&&0!==Object.keys(n.env).length)n.env={...n.env};else{const e=t||process.env;n.env={...e}}return r&&r.extraVariables&&(n.env={...n.env,...r.extraVariables}),n.env.PYTHONUNBUFFERED="1",n.env.PYTHONIOENCODING||(n.env.PYTHONIOENCODING="utf-8"),n}function d(e){const t=e.match(/>>>PYTHON-EXEC-OUTPUT([\s\S]*)<<<PYTHON-EXEC-OUTPUT/),n=null!==t&&t.length>=2?t[1].trim():void 0;return void 0!==n?n:e}function p(e){try{"win32"===process.platform?(0,r.execSync)(`taskkill /pid ${e} /T /F`):process.kill(e)}catch(e){}}t.shellExec=function(e,t={},n,i){const o=l(t,n);return new Promise(((t,n)=>{const s=(0,r.exec)(e,o,((e,r,i)=>{e&&null!==e?n(e):o.throwOnStdErr&&i&&i.length?n(new Error(i)):(r=d(r),t({stderr:i&&i.length>0?i:void 0,stdout:r}))})),a={dispose:()=>{s.killed||s.kill()}};i&&i.add(a)}))},t.plainExec=function(e,t,n={},i,s){var p,h;const f=l(n,i),g=f.encoding?f.encoding:"utf8",m=(0,r.spawn)(e,t,f);null===(p=m.stdout)||void 0===p||p.on("error",c.noop),null===(h=m.stderr)||void 0===h||h.on("error",c.noop);const v=(0,o.createDeferred)(),y={dispose:()=>{m.killed||v.completed||m.kill()}};null==s||s.add(y);const b=[],S=(e,t,n)=>{null==e||e.on(t,n),b.push({dispose:()=>null==e?void 0:e.removeListener(t,n)})};n.token&&b.push(n.token.onCancellationRequested(y.dispose));const _=[];S(m.stdout,"data",(e=>_.push(e)));const E=[];return S(m.stderr,"data",(e=>{n.mergeStdOutErr?(_.push(e),E.push(e)):E.push(e)})),m.once("close",(()=>{if(v.completed)return;const e=0===E.length?void 0:(0,u.decodeBuffer)(E,g);if(e&&e.length>0&&n.throwOnStdErr)v.reject(new a.StdErrError(e));else{let t=(0,u.decodeBuffer)(_,g);t=d(t),v.resolve({stdout:t,stderr:e})}b.forEach((e=>e.dispose()))})),m.once("error",(e=>{v.reject(e),b.forEach((e=>e.dispose()))})),v.promise},t.execObservable=function(e,t,n={},o,s){const c=l(n,o),d=c.encoding?c.encoding:"utf8",h=(0,r.spawn)(e,t,c);let f=!1;const g={dispose(){!h||h.killed||f||p(h.pid),h&&h.unref()}};null==s||s.add(g);const m=new i.Observable((e=>{const t=[],r=(e,n,r)=>{null==e||e.on(n,r),t.push({dispose:()=>null==e?void 0:e.removeListener(n,r)})};n.token&&t.push(n.token.onCancellationRequested((()=>{f||h.killed||(h.kill(),f=!0)})));const i=(t,r)=>{let i=(0,u.decodeBuffer)([r],d);"stderr"===t&&n.throwOnStdErr?e.error(new a.StdErrError(i)):(i=function(e){return(e=e.replace(">>>PYTHON-EXEC-OUTPUT\r\n","").replace(">>>PYTHON-EXEC-OUTPUT\n","")).replace("<<<PYTHON-EXEC-OUTPUT\r\n","").replace("<<<PYTHON-EXEC-OUTPUT\n","")}(i),e.next({source:t,out:i}))};r(h.stdout,"data",(e=>i("stdout",e))),r(h.stderr,"data",(e=>i("stderr",e))),h.once("close",(()=>{f=!0,e.complete(),t.forEach((e=>e.dispose()))})),h.once("exit",(()=>{f=!0,e.complete(),t.forEach((e=>e.dispose()))})),h.once("error",(n=>{f=!0,e.error(n),t.forEach((e=>e.dispose()))}))}));return{proc:h,out:m,dispose:g.dispose}},t.killPid=p},52615:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(98065),i=n(51625),o=n(91950),s=n(29983);t.registerTypes=function(e){e.addSingleton(s.IProcessServiceFactory,r.ProcessServiceFactory),e.addSingleton(s.IPythonExecutionFactory,i.PythonExecutionFactory),e.addSingleton(s.IPythonToolExecutionService,o.PythonToolExecutionService)}},29983:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPythonToolExecutionService=t.StdErrError=t.IPythonExecutionService=t.IPythonExecutionFactory=t.IProcessServiceFactory=t.IProcessLogger=void 0,t.IProcessLogger=Symbol("IProcessLogger"),t.IProcessServiceFactory=Symbol("IProcessServiceFactory"),t.IPythonExecutionFactory=Symbol("IPythonExecutionFactory"),t.IPythonExecutionService=Symbol("IPythonExecutionService");class n extends Error{constructor(e){super(e)}}t.StdErrError=n,t.IPythonToolExecutionService=Symbol("IPythonToolRunnerService")},39702:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(90819),i=n(61684),o=n(11272),s=n(15036),a=n(78838),c=n(17792),u=n(18718),l=n(13706),d=n(77633),p=n(17381),h=n(30651),f=n(5869),g=n(54144),m=n(67808),v=n(72874),y=n(13578),b=n(64991),S=n(53314),_=n(17585),E=n(56792),w=n(30751),P=n(15797),T=n(84911),C=n(12474),I=n(80819),R=n(97469),D=n(21621),O=n(39425),k=n(90220),x=n(73766),N=n(93666),A=n(79434),j=n(20900),M=n(34581),L=n(29983),F=n(32237),q=n(80484),U=n(14744),W=n(8572),V=n(78625),H=n(79152),$=n(78558),B=n(546),G=n(86678),K=n(55928),z=n(81731),Y=n(67482),J=n(80656),X=n(58400),Q=n(22207),Z=n(10195),ee=n(54094);t.registerTypes=function(e){e.addSingletonInstance(i.IsWindows,N.IS_WINDOWS),e.addSingleton(_.IActiveResourceService,c.ActiveResourceService),e.addSingleton(i.IInterpreterPathService,R.InterpreterPathService),e.addSingleton(i.IExtensions,y.Extensions),e.addSingleton(i.IRandom,Z.Random),e.addSingleton(i.IPersistentStateFactory,x.PersistentStateFactory),e.addBinding(i.IPersistentStateFactory,r.IExtensionSingleActivationService),e.addSingleton(X.ITerminalServiceFactory,B.TerminalServiceFactory),e.addSingleton(i.IPathUtils,A.PathUtils),e.addSingleton(_.IApplicationShell,l.ApplicationShell),e.addSingleton(_.IClipboard,d.ClipboardService),e.addSingleton(i.ICurrentProcess,j.CurrentProcess),e.addSingleton(i.IInstaller,I.ProductInstaller),e.addSingleton(_.IJupyterExtensionDependencyManager,o.JupyterExtensionDependencyManager),e.addSingleton(_.ICommandManager,p.CommandManager),e.addSingleton(_.IContextKeyManager,ee.ContextKeyManager),e.addSingleton(i.IConfigurationService,w.ConfigurationService),e.addSingleton(_.IWorkspaceService,E.WorkspaceService),e.addSingleton(L.IProcessLogger,M.ProcessLogger),e.addSingleton(_.IDocumentManager,v.DocumentManager),e.addSingleton(_.ITerminalManager,S.TerminalManager),e.addSingleton(_.IDebugService,g.DebugService),e.addSingleton(_.IApplicationEnvironment,u.ApplicationEnvironment),e.addSingleton(_.ILanguageService,b.LanguageService),e.addSingleton(i.IBrowserService,D.BrowserService),e.addSingleton(i.IHttpClient,k.HttpClient),e.addSingleton(i.IFileDownloader,O.FileDownloader),e.addSingleton(i.IEditorUtils,T.EditorUtils),e.addSingleton(X.ITerminalActivator,F.TerminalActivator),e.addSingleton(X.ITerminalActivationHandler,q.PowershellTerminalActivationFailedHandler),e.addSingleton(i.IExperimentService,C.ExperimentService),e.addSingleton(X.ITerminalHelper,G.TerminalHelper),e.addSingleton(X.ITerminalActivationCommandProvider,U.Bash,X.TerminalActivationProviders.bashCShellFish),e.addSingleton(X.ITerminalActivationCommandProvider,W.CommandPromptAndPowerShell,X.TerminalActivationProviders.commandPromptAndPowerShell),e.addSingleton(X.ITerminalActivationCommandProvider,$.PyEnvActivationCommandProvider,X.TerminalActivationProviders.pyenv),e.addSingleton(X.ITerminalActivationCommandProvider,V.CondaActivationCommandProvider,X.TerminalActivationProviders.conda),e.addSingleton(X.ITerminalActivationCommandProvider,H.PipEnvActivationCommandProvider,X.TerminalActivationProviders.pipenv),e.addSingleton(i.IToolExecutionPath,P.PipEnvExecutionPath,i.ToolExecutionPath.pipenv),e.addSingleton(Q.IMultiStepInputFactory,Q.MultiStepInputFactory),e.addSingleton(a.IImportTracker,s.ImportTracker),e.addBinding(a.IImportTracker,r.IExtensionSingleActivationService),e.addSingleton(X.IShellDetector,z.TerminalNameShellDetector),e.addSingleton(X.IShellDetector,K.SettingsShellDetector),e.addSingleton(X.IShellDetector,Y.UserEnvironmentShellDetector),e.addSingleton(X.IShellDetector,J.VSCEnvironmentShellDetector),e.addSingleton(r.IExtensionSingleActivationService,h.ReloadVSCodeCommandHandler),e.addSingleton(r.IExtensionSingleActivationService,f.ReportIssueCommandHandler),e.addSingleton(r.IExtensionSingleActivationService,m.DebugSessionTelemetry)}},57563:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseTerminalActivator=void 0;const r=n(19735),i=n(59314);t.BaseTerminalActivator=class{constructor(e){this.helper=e,this.activatedTerminals=new Map}async activateEnvironmentInTerminal(e,t){if(this.activatedTerminals.has(e))return this.activatedTerminals.get(e);const n=(0,i.createDeferred)();this.activatedTerminals.set(e,n.promise);const o=this.helper.identifyTerminalShell(e),s=await this.helper.getEnvironmentActivationCommands(o,null==t?void 0:t.resource,null==t?void 0:t.interpreter);let a=!1;if(s)for(const n of s)e.show(null==t?void 0:t.preserveFocus),(0,r.traceVerbose)(`Command sent to terminal: ${n}`),e.sendText(n),await this.waitForCommandToProcess(o),a=!0;return n.resolve(a),a}async waitForCommandToProcess(e){await(0,i.sleep)(500)}}},32237:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalActivator=void 0;const o=n(86700),s=n(61684),a=n(58400),c=n(57563);let u=class{constructor(e,t,n){this.helper=e,this.handlers=t,this.configurationService=n,this.pendingActivations=new WeakMap,this.initialize()}async activateEnvironmentInTerminal(e,t){let n=this.pendingActivations.get(e);return n||(n=this.activateEnvironmentInTerminalImpl(e,t),this.pendingActivations.set(e,n),n)}async activateEnvironmentInTerminalImpl(e,t){if(!this.configurationService.getSettings(null==t?void 0:t.resource).terminal.activateEnvironment||(null==t?void 0:t.hideFromUser))return!1;const n=await this.baseActivator.activateEnvironmentInTerminal(e,t);return this.handlers.forEach((r=>r.handleActivation(e,null==t?void 0:t.resource,!0===(null==t?void 0:t.preserveFocus),n).ignoreErrors())),n}initialize(){this.baseActivator=new c.BaseTerminalActivator(this.helper)}};u=r([(0,o.injectable)(),i(0,(0,o.inject)(a.ITerminalHelper)),i(1,(0,o.multiInject)(a.ITerminalActivationHandler)),i(2,(0,o.inject)(s.IConfigurationService))],u),t.TerminalActivator=u},80484:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PowershellTerminalActivationFailedHandler=void 0;const o=n(86700),s=n(54205),a=n(93971),c=n(84974),u=n(58400);let l=class{constructor(e,t,n){this.helper=e,this.platformService=t,this.diagnosticService=n}async handleActivation(e,t,n,r){if(r||!this.platformService.isWindows)return;const i=this.helper.identifyTerminalShell(e);if(i!==u.TerminalShellType.powershell&&i!==u.TerminalShellType.powershellCore)return;const o=await this.helper.getEnvironmentActivationCommands(u.TerminalShellType.commandPrompt,t);o&&Array.isArray(o)&&0!==o.length&&this.diagnosticService.handle([new s.PowershellActivationNotAvailableDiagnostic(t)]).ignoreErrors()}};l=r([(0,o.injectable)(),i(0,(0,o.inject)(u.ITerminalHelper)),i(1,(0,o.inject)(c.IPlatformService)),i(2,(0,o.inject)(a.IDiagnosticsService)),i(2,(0,o.named)(s.PowerShellActivationHackDiagnosticsServiceId))],l),t.PowershellTerminalActivationFailedHandler=l},87688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useCommandPromptAsDefaultShell=t.getCommandPromptLocation=void 0;const r=n(71017),i=n(66828);function o(e){const t=e.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),n=r.join(e.env.windir,t?"Sysnative":"System32");return r.join(n,"cmd.exe")}t.getCommandPromptLocation=o,t.useCommandPromptAsDefaultShell=async function(e,t){const n=o(e);await t.updateSectionSetting("terminal","integrated.shell.windows",n,void 0,i.ConfigurationTarget.Global)}},86575:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VenvBaseActivationCommandProvider=void 0;const o=n(86700),s=n(71017),a=n(18639),c=n(77498),u=n(84974);let l=class{constructor(e){this.serviceContainer=e}async getActivationCommands(e,t){const n=await this.serviceContainer.get(a.IInterpreterService).getActiveInterpreter(e);if(n)return this.getActivationCommandsForInterpreter(n.path,t)}};l=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],l),t.VenvBaseActivationCommandProvider=class extends l{isShellSupported(e){return void 0!==this.scripts[e]}async findScriptFile(e,t){const n=this.serviceContainer.get(u.IFileSystem),r=this.scripts[t];if(r)return function(e,t,r,i){const o="string"==typeof e?[e]:e;return async e=>{const i=t(e);for(const e of o){const t=r(i,e);if(await(s=t,n.fileExists(s)))return t}var s}}(r,s.dirname,s.join)(e)}}},14744:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.Bash=t.getAllScripts=void 0;const i=n(86700);n(32727);const o=n(58400),s=n(86575),a={[o.TerminalShellType.wsl]:["activate.sh","activate"],[o.TerminalShellType.ksh]:["activate.sh","activate"],[o.TerminalShellType.zsh]:["activate.sh","activate"],[o.TerminalShellType.gitbash]:["activate.sh","activate"],[o.TerminalShellType.bash]:["activate.sh","activate"],[o.TerminalShellType.tcshell]:["activate.csh"],[o.TerminalShellType.cshell]:["activate.csh"],[o.TerminalShellType.fish]:["activate.fish"]};t.getAllScripts=function(){const e=[];for(const t of Object.keys(a)){const n=t;for(const t of a[n])e.includes(t)||e.push(t)}return e};let c=class extends s.VenvBaseActivationCommandProvider{constructor(){super(...arguments),this.scripts=a}async getActivationCommandsForInterpreter(e,t){const n=await this.findScriptFile(e,t);if(n)return[`source ${n.fileToCommandArgumentForPythonExt()}`]}};c=r([(0,i.injectable)()],c),t.Bash=c},8572:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandPromptAndPowerShell=t.getAllScripts=void 0;const o=n(86700),s=n(71017),a=n(77498);n(32727);const c=n(58400),u=n(86575),l={[c.TerminalShellType.commandPrompt]:["activate.bat","Activate.ps1"],[c.TerminalShellType.powershell]:["Activate.ps1","activate.bat"],[c.TerminalShellType.powershellCore]:["Activate.ps1","activate.bat"]};t.getAllScripts=function(e){const t=[];for(const n of Object.keys(l)){const r=n;for(const n of l[r])t.includes(n)||t.push(n,e("Scripts",n),e("scripts",n))}return t};let d=class extends u.VenvBaseActivationCommandProvider{constructor(e){super(e),this.scripts={};for(const e of Object.keys(l)){const t=e,n=[];for(const e of l[t])n.push(e,s.join("Scripts",e),s.join("scripts",e));this.scripts[t]=n}}async getActivationCommandsForInterpreter(e,t){const n=await this.findScriptFile(e,t);if(n)return t===c.TerminalShellType.commandPrompt&&n.endsWith("activate.bat")?[n.fileToCommandArgumentForPythonExt()]:t!==c.TerminalShellType.powershell&&t!==c.TerminalShellType.powershellCore||!n.endsWith("Activate.ps1")?t===c.TerminalShellType.commandPrompt&&n.endsWith("Activate.ps1")?[]:void 0:[`& ${n.fileToCommandArgumentForPythonExt()}`]}};d=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],d),t.CommandPromptAndPowerShell=d},78625:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t._getPowershellCommands=t.CondaActivationCommandProvider=void 0,n(32727);const o=n(86700),s=n(71017),a=n(18639),c=n(84974),u=n(61684),l=n(58400);let d=class{constructor(e,t,n,r){this.condaService=e,this.platform=t,this.configService=n,this.pyenvs=r}isShellSupported(){return!0}getActivationCommands(e,t){const{pythonPath:n}=this.configService.getSettings(e);return this.getActivationCommandsForInterpreter(n,t)}async getActivationCommandsForInterpreter(e,t){const n=await this.pyenvs.getCondaEnvironment(e);if(!n)return;const r=n.name.length>0?n.name:n.path,i=await this.condaService.getCondaVersion();if(i&&i.major>=4){if(i.minor>=6&&(t===l.TerminalShellType.powershell||t===l.TerminalShellType.powershellCore))return p(r);if(i.minor>=4){const e=await this.condaService.getInterpreterPathForEnvironment(n),i=await this.condaService.getActivationScriptFromInterpreter(e,n.name);if(null==i?void 0:i.path){if(this.platform.isWindows&&t!==l.TerminalShellType.bash&&t!==l.TerminalShellType.gitbash)return[i.path,`conda activate ${r.toCommandArgumentForPythonExt()}`];const e=await this.condaService.getCondaInfo();return"global"!==i.type||void 0===(null==e?void 0:e.conda_shlvl)||-1===e.conda_shlvl?"activate"===i.path?[`source ${i.path}`,`conda activate ${r.toCommandArgumentForPythonExt()}`]:[`source ${i.path} ${r.toCommandArgumentForPythonExt()}`]:[`conda activate ${r.toCommandArgumentForPythonExt()}`]}}}switch(t){case l.TerminalShellType.powershell:case l.TerminalShellType.powershellCore:return p(r);case l.TerminalShellType.fish:return async function(e,t){return[`${t.fileToCommandArgumentForPythonExt()} activate ${e.toCommandArgumentForPythonExt()}`]}(r,await this.condaService.getCondaFile());default:return this.platform.isWindows?this.getWindowsCommands(r):async function(e,t){const n=s.dirname(t);return[`source ${s.join(n,"activate").fileToCommandArgumentForPythonExt()} ${e.toCommandArgumentForPythonExt()}`]}(r,await this.condaService.getCondaFile())}}async getWindowsActivateCommand(){let e="activate";const t=await this.condaService.getCondaFile();if(t&&s.basename(t)!==t){const n=s.dirname(t);e=s.join(n,e),e=e.toCommandArgumentForPythonExt()}return e}async getWindowsCommands(e){return[`${await this.getWindowsActivateCommand()} ${e.toCommandArgumentForPythonExt()}`]}};async function p(e){return[`conda activate ${e.toCommandArgumentForPythonExt()}`]}d=r([(0,o.injectable)(),i(0,(0,o.inject)(a.ICondaService)),i(1,(0,o.inject)(c.IPlatformService)),i(2,(0,o.inject)(u.IConfigurationService)),i(3,(0,o.inject)(a.IComponentAdapter))],d),t.CondaActivationCommandProvider=d,t._getPowershellCommands=p},79152:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PipEnvActivationCommandProvider=void 0;const o=n(86700);n(32727);const s=n(18639),a=n(37924),c=n(81387),u=n(17585),l=n(61684);let d=class{constructor(e,t,n){this.interpreterService=e,this.pipEnvExecution=t,this.workspaceService=n}isShellSupported(){return!1}async getActivationCommands(e){const t=await this.interpreterService.getActiveInterpreter(e);if(!t||t.envType!==c.EnvironmentType.Pipenv)return;const n=e?this.workspaceService.getWorkspaceFolder(e):void 0;return!n||await(0,a.isPipenvEnvironmentRelatedToFolder)(t.path,null==n?void 0:n.uri.fsPath)?[`${this.pipEnvExecution.executable.fileToCommandArgumentForPythonExt()} shell`]:void 0}async getActivationCommandsForInterpreter(e){const t=await this.interpreterService.getInterpreterDetails(e);if(t&&t.envType===c.EnvironmentType.Pipenv)return[`${this.pipEnvExecution.executable.fileToCommandArgumentForPythonExt()} shell`]}};d=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IInterpreterService)),i(1,(0,o.inject)(l.IToolExecutionPath)),i(1,(0,o.named)(l.ToolExecutionPath.pipenv)),i(2,(0,o.inject)(u.IWorkspaceService))],d),t.PipEnvActivationCommandProvider=d},78558:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PyEnvActivationCommandProvider=void 0;const o=n(86700),s=n(18639),a=n(77498),c=n(81387);let u=class{constructor(e){this.serviceContainer=e}isShellSupported(e){return!0}async getActivationCommands(e,t){const n=await this.serviceContainer.get(s.IInterpreterService).getActiveInterpreter(e);if(n&&n.envType===c.EnvironmentType.Pyenv&&n.envName)return[`pyenv shell ${n.envName.toCommandArgumentForPythonExt()}`]}async getActivationCommandsForInterpreter(e,t){const n=await this.serviceContainer.get(s.IInterpreterService).getInterpreterDetails(e);if(n&&n.envType===c.EnvironmentType.Pyenv&&n.envName)return[`pyenv shell ${n.envName.toCommandArgumentForPythonExt()}`]}};u=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],u),t.PyEnvActivationCommandProvider=u},546:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalServiceFactory=void 0;const o=n(86700),s=n(18639),a=n(77498),c=n(17585),u=n(84974),l=n(97207),d=n(88624);let p=class{constructor(e,t,n){this.serviceContainer=e,this.fs=t,this.interpreterService=n,this.terminalServices=new Map}getTerminalService(e){const t=null==e?void 0:e.resource,n=null==e?void 0:e.title,r="string"==typeof n&&n.trim().length>0?n.trim():"Python",i=null==e?void 0:e.interpreter,o=this.getTerminalId(r,t,i);if(!this.terminalServices.has(o)){const t=new l.TerminalService(this.serviceContainer,e);this.terminalServices.set(o,t)}return new d.SynchronousTerminalService(this.fs,this.interpreterService,this.terminalServices.get(o),i)}createTerminalService(e,t){return t="string"==typeof t&&t.trim().length>0?t.trim():"Python",new l.TerminalService(this.serviceContainer,{resource:e,title:t})}getTerminalId(e,t,n){if(!t&&!n)return e;const r=this.serviceContainer.get(c.IWorkspaceService).getWorkspaceFolder(t||void 0);return`${e}:${(null==r?void 0:r.uri.fsPath)||""}:${null==n?void 0:n.path}`}};p=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer)),i(1,(0,o.inject)(u.IFileSystem)),i(2,(0,o.inject)(s.IInterpreterService))],p),t.TerminalServiceFactory=p},86678:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalHelper=void 0;const o=n(86700),s=n(18639),a=n(77498),c=n(19735),u=n(81387),l=n(54813),d=n(61522),p=n(17585);n(32727);const h=n(84974),f=n(61684),g=n(87450),m=n(71791),v=n(58400);let y=class{constructor(e,t,n,r,i,o,s,a,c,u,l){this.platform=e,this.terminalManager=t,this.serviceContainer=n,this.interpreterService=r,this.configurationService=i,this.conda=o,this.bashCShellFish=s,this.commandPromptAndPowerShell=a,this.pyenv=c,this.pipenv=u,this.shellDetector=new m.ShellDetector(this.platform,l)}createTerminal(e){return this.terminalManager.createTerminal({name:e})}identifyTerminalShell(e){return this.shellDetector.identifyTerminalShell(e)}buildCommandForTerminal(e,t,n){const r=e===v.TerminalShellType.powershell||e===v.TerminalShellType.powershellCore?"& ":"",i=n.map((e=>e.toCommandArgumentForPythonExt()));return`${r}${t.fileToCommandArgumentForPythonExt()} ${i.join(" ")}`.trim()}async getEnvironmentActivationCommands(e,t,n){const r=[this.pipenv,this.pyenv,this.bashCShellFish,this.commandPromptAndPowerShell],i=this.getActivationCommands(t||void 0,n,e,r);return this.sendTelemetry(e,d.EventName.PYTHON_INTERPRETER_ACTIVATION_FOR_TERMINAL,n,i).ignoreErrors(),i}async getEnvironmentActivationShellCommands(e,t,n){if(this.platform.osType===g.OSType.Unknown)return;const r=[this.bashCShellFish,this.commandPromptAndPowerShell],i=this.getActivationCommands(e,n,t,r);return this.sendTelemetry(t,d.EventName.PYTHON_INTERPRETER_ACTIVATION_FOR_RUNNING_CODE,n,i).ignoreErrors(),i}async sendTelemetry(e,t,n,r){let i=!1,o=!1;try{const e=await r;i=Array.isArray(e)&&e.length>0}catch(e){o=!0,(0,c.traceError)("Failed to get activation commands",e)}const s=n&&n.version?n.version.raw:void 0,a={failed:o,hasCommands:i,interpreterType:n?n.envType:u.EnvironmentType.Unknown,terminal:e,pythonVersion:s};(0,l.sendTelemetryEvent)(t,void 0,a)}async getActivationCommands(e,t,n,r){const i=this.configurationService.getSettings(e),o=this.serviceContainer.get(s.IComponentAdapter);if(t?t.envType===u.EnvironmentType.Conda:await o.isCondaEnvironment(i.pythonPath)){const r=t?await this.conda.getActivationCommandsForInterpreter(t.path,n):await this.conda.getActivationCommands(e,n);if(Array.isArray(r))return r}const a=r.filter((e=>e.isShellSupported(n)));for(const r of a){const i=t?await r.getActivationCommandsForInterpreter(t.path,n):await r.getActivationCommands(e,n);if(Array.isArray(i)&&i.length>0)return i}}};r([(0,c.traceDecoratorError)("Failed to capture telemetry")],y.prototype,"sendTelemetry",null),y=r([(0,o.injectable)(),i(0,(0,o.inject)(h.IPlatformService)),i(1,(0,o.inject)(p.ITerminalManager)),i(2,(0,o.inject)(a.IServiceContainer)),i(3,(0,o.inject)(s.IInterpreterService)),i(4,(0,o.inject)(f.IConfigurationService)),i(5,(0,o.inject)(v.ITerminalActivationCommandProvider)),i(5,(0,o.named)(v.TerminalActivationProviders.conda)),i(6,(0,o.inject)(v.ITerminalActivationCommandProvider)),i(6,(0,o.named)(v.TerminalActivationProviders.bashCShellFish)),i(7,(0,o.inject)(v.ITerminalActivationCommandProvider)),i(7,(0,o.named)(v.TerminalActivationProviders.commandPromptAndPowerShell)),i(8,(0,o.inject)(v.ITerminalActivationCommandProvider)),i(8,(0,o.named)(v.TerminalActivationProviders.pyenv)),i(9,(0,o.inject)(v.ITerminalActivationCommandProvider)),i(9,(0,o.named)(v.TerminalActivationProviders.pipenv)),i(10,(0,o.multiInject)(v.IShellDetector))],y),t.TerminalHelper=y},97207:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalService=void 0;const o=n(86700),s=n(66828);n(32727);const a=n(18639),c=n(77498),u=n(54813),l=n(61522),d=n(43200),p=n(17585),h=n(61684),f=n(58400);let g=class{constructor(e,t){this.serviceContainer=e,this.options=t,this.terminalClosed=new s.EventEmitter;const n=this.serviceContainer.get(h.IDisposableRegistry);n.push(this),this.terminalHelper=this.serviceContainer.get(f.ITerminalHelper),this.terminalManager=this.serviceContainer.get(p.ITerminalManager),this.terminalAutoActivator=this.serviceContainer.get(d.ITerminalAutoActivation),this.terminalManager.onDidCloseTerminal(this.terminalCloseHandler,this,n),this.terminalActivator=this.serviceContainer.get(f.ITerminalActivator)}get onDidCloseTerminal(){return this.terminalClosed.event.bind(this.terminalClosed)}dispose(){this.terminal&&this.terminal.dispose()}async sendCommand(e,t,n){var r;await this.ensureTerminal();const i=this.terminalHelper.buildCommandForTerminal(this.terminalShellType,e,t);(null===(r=this.options)||void 0===r?void 0:r.hideFromUser)||this.terminal.show(!0),this.terminal.sendText(i,!0)}async sendText(e){var t;await this.ensureTerminal(),(null===(t=this.options)||void 0===t?void 0:t.hideFromUser)||this.terminal.show(!0),this.terminal.sendText(e)}async show(e=!0){var t;await this.ensureTerminal(e),(null===(t=this.options)||void 0===t?void 0:t.hideFromUser)||this.terminal.show(e)}async ensureTerminal(e=!0){var t,n,r,i,o,s,a;this.terminal||(this.terminalShellType=this.terminalHelper.identifyTerminalShell(this.terminal),this.terminal=this.terminalManager.createTerminal({name:(null===(t=this.options)||void 0===t?void 0:t.title)||"Python",env:null===(n=this.options)||void 0===n?void 0:n.env,hideFromUser:null===(r=this.options)||void 0===r?void 0:r.hideFromUser}),this.terminalAutoActivator.disableAutoActivation(this.terminal),await new Promise((e=>setTimeout(e,100))),await this.terminalActivator.activateEnvironmentInTerminal(this.terminal,{resource:null===(i=this.options)||void 0===i?void 0:i.resource,preserveFocus:e,interpreter:null===(o=this.options)||void 0===o?void 0:o.interpreter,hideFromUser:null===(s=this.options)||void 0===s?void 0:s.hideFromUser}),(null===(a=this.options)||void 0===a?void 0:a.hideFromUser)||this.terminal.show(e),this.sendTelemetry().ignoreErrors())}terminalCloseHandler(e){e===this.terminal&&(this.terminalClosed.fire(),this.terminal=void 0)}async sendTelemetry(){var e,t;const n=this.serviceContainer.get(h.IConfigurationService).getSettings(null===(e=this.options)||void 0===e?void 0:e.resource).pythonPath,r=(null===(t=this.options)||void 0===t?void 0:t.interpreter)||await this.serviceContainer.get(a.IInterpreterService).getInterpreterDetails(n),i=r&&r.version?r.version.raw:void 0,o=r?r.envType:void 0;(0,u.captureTelemetry)(l.EventName.TERMINAL_CREATE,{terminal:this.terminalShellType,pythonVersion:i,interpreterType:o})}};g=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],g),t.TerminalService=g},71791:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ShellDetector=void 0;const o=n(86700),s=n(19735),a=n(54813),c=n(61522);n(32727);const u=n(84974),l=n(87450),d=n(58400),p={[l.OSType.Linux]:d.TerminalShellType.bash,[l.OSType.OSX]:d.TerminalShellType.bash,[l.OSType.Windows]:d.TerminalShellType.commandPrompt,[l.OSType.Unknown]:d.TerminalShellType.other};let h=class{constructor(e,t){this.platform=e,this.shellDetectors=t}identifyTerminalShell(e){let t;const n={failed:!0,shellIdentificationSource:"default",terminalProvided:!!e,hasCustomShell:void 0,hasShellInEnv:void 0},r=this.shellDetectors.slice().sort(((e,t)=>t.priority-e.priority));for(const i of r)if(t=i.identify(n,e),(0,s.traceVerbose)(`${i}. Shell identified as ${t} ${e?`(Terminal name is ${e.name})`:""}`),t&&t!==d.TerminalShellType.other){n.failed=!1;break}return(0,a.sendTelemetryEvent)(c.EventName.TERMINAL_SHELL_IDENTIFICATION,void 0,n),(0,s.traceVerbose)(`Shell identified as '${t}'`),void 0!==t&&t!==d.TerminalShellType.other||((0,s.traceVerbose)("Using default OS shell"),t=p[this.platform.osType]),t}};h=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IPlatformService)),i(1,(0,o.multiInject)(d.IShellDetector))],h),t.ShellDetector=h},89465:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseShellDetector=void 0;const o=n(86700),s=n(19735),a=n(58400),c=new Map;c.set(a.TerminalShellType.powershell,/(powershell$)/i),c.set(a.TerminalShellType.gitbash,/(gitbash$)/i),c.set(a.TerminalShellType.bash,/(bash$)/i),c.set(a.TerminalShellType.wsl,/(wsl$)/i),c.set(a.TerminalShellType.zsh,/(zsh$)/i),c.set(a.TerminalShellType.ksh,/(ksh$)/i),c.set(a.TerminalShellType.commandPrompt,/(cmd$)/i),c.set(a.TerminalShellType.fish,/(fish$)/i),c.set(a.TerminalShellType.tcshell,/(tcsh$)/i),c.set(a.TerminalShellType.cshell,/(csh$)/i),c.set(a.TerminalShellType.powershellCore,/(pwsh$)/i),c.set(a.TerminalShellType.xonsh,/(xonsh$)/i);let u=class{constructor(e){this.priority=e}identifyShellFromShellPath(e){const t=e.replace(/\.exe$/,""),n=Array.from(c.keys()).reduce(((e,n)=>{if(e===a.TerminalShellType.other){const e=c.get(n);if(e&&e.test(t))return n}return e}),a.TerminalShellType.other);return(0,s.traceVerbose)(`Shell path '${e}', base path '${t}'`),(0,s.traceVerbose)(`Shell path identified as shell '${n}'`),n}};u=r([(0,o.injectable)(),i(0,(0,o.unmanaged)())],u),t.BaseShellDetector=u},55928:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsShellDetector=void 0;const o=n(86700),s=n(19735),a=n(17585),c=n(84974),u=n(87450),l=n(58400),d=n(89465);let p=class extends d.BaseShellDetector{constructor(e,t){super(2),this.workspace=e,this.platform=t}getTerminalShellPath(){const e=this.workspace.getConfiguration("terminal.integrated.shell");let t="";switch(this.platform.osType){case u.OSType.Windows:t="windows";break;case u.OSType.OSX:t="osx";break;case u.OSType.Linux:t="linux";break;default:return""}return e.get(t)}identify(e,t){const n=this.getTerminalShellPath();e.hasCustomShell=!!n;const r=n?this.identifyShellFromShellPath(n):l.TerminalShellType.other;return r!==l.TerminalShellType.other?e.shellIdentificationSource="environment":e.shellIdentificationSource="settings",(0,s.traceVerbose)(`Shell path from user settings '${n}'`),r}};p=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IWorkspaceService)),i(1,(0,o.inject)(c.IPlatformService))],p),t.SettingsShellDetector=p},81731:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalNameShellDetector=void 0;const i=n(86700),o=n(19735),s=n(58400),a=n(89465);let c=class extends a.BaseShellDetector{constructor(){super(4)}identify(e,t){if(!t)return;const n=this.identifyShellFromShellPath(t.name);return(0,o.traceVerbose)(`Terminal name '${t.name}' identified as shell '${n}'`),e.shellIdentificationSource=n===s.TerminalShellType.other?e.shellIdentificationSource:"terminalName",n}};c=r([(0,i.injectable)()],c),t.TerminalNameShellDetector=c},67482:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserEnvironmentShellDetector=void 0;const o=n(86700),s=n(19735),a=n(84974),c=n(61684),u=n(87450),l=n(58400),d=n(89465);let p=class extends d.BaseShellDetector{constructor(e,t){super(1),this.currentProcess=e,this.platform=t}getDefaultPlatformShell(){return e=this.platform,t=this.currentProcess,e.osType===u.OSType.Windows?function(e,t){const n=parseFloat(e.osRelease)>=10,r=t.env.hasOwnProperty("PROCESSOR_ARCHITEW6432"),i=`${t.env.windir}\\${r?"Sysnative":"System32"}\\WindowsPowerShell\\v1.0\\powershell.exe`;return n?i:function(e){return e.env.comspec||"cmd.exe"}(t)}(e,t):t.env.SHELL&&"/bin/false"!==t.env.SHELL?t.env.SHELL:"/bin/bash";var e,t}identify(e,t){const n=this.getDefaultPlatformShell();e.hasShellInEnv=!!n;const r=this.identifyShellFromShellPath(n);return r!==l.TerminalShellType.other&&(e.shellIdentificationSource="environment"),(0,s.traceVerbose)(`Shell path from user env '${n}'`),r}};p=r([(0,o.injectable)(),i(0,(0,o.inject)(c.ICurrentProcess)),i(1,(0,o.inject)(a.IPlatformService))],p),t.UserEnvironmentShellDetector=p},80656:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VSCEnvironmentShellDetector=void 0;const o=n(86700),s=n(19735),a=n(17585),c=n(58400),u=n(89465);let l=class extends u.BaseShellDetector{constructor(e){super(3),this.appEnv=e}identify(e,t){const n=(null==t?void 0:t.creationOptions)&&"shellPath"in t.creationOptions&&t.creationOptions.shellPath?t.creationOptions.shellPath:this.appEnv.shell;if(!n)return;const r=this.identifyShellFromShellPath(n);return(0,s.traceVerbose)(`Terminal shell path '${n}' identified as shell '${r}'`),e.shellIdentificationSource=r===c.TerminalShellType.other?e.shellIdentificationSource:"vscode",e.failed=r!==c.TerminalShellType.other,r}};l=r([i(0,(0,o.inject)(a.IApplicationEnvironment))],l),t.VSCEnvironmentShellDetector=l},88624:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SynchronousTerminalService=void 0;const o=n(86700),s=n(18639),a=n(19735),c=n(29979),u=n(84974),l=n(4057),d=n(59314),p=n(3481);var h;!function(e){e[e.notStarted=0]="notStarted",e[e.started=1]="started",e[e.completed=2]="completed",e[e.errored=4]="errored"}(h||(h={}));class f{constructor(e,t,n){this.lockFile=e,this.fs=t,this.command=n,this.state=h.notStarted,this._completed=(0,d.createDeferred)(),this.registerStateUpdate(),this._completed.promise.finally((()=>this.dispose())).ignoreErrors()}get completed(){return this._completed.promise}dispose(){this.disposable&&(this.disposable.dispose(),this.disposable=void 0)}registerStateUpdate(){const e=setInterval((async()=>{const e=await this.getLockFileState(this.lockFile);if(e!==this.state&&(0,a.traceVerbose)(`Command state changed to ${e}. ${this.command.join(" ")}`),this.state=e,e&h.errored){const e=await this.fs.readFile(`${this.lockFile}.error`).catch((()=>""));this._completed.reject(new Error(`Command failed with errors, check the terminal for details. Command: ${this.command.join(" ")}\n${e}`))}else e&h.completed&&this._completed.resolve()}),100);this.disposable={dispose:()=>clearInterval(e)}}async getLockFileState(e){const t=await this.fs.readFile(e);let n=h.notStarted;return t.includes("START")&&(n|=h.started),t.includes("END")&&(n|=h.completed),t.includes("FAIL")&&(n|=h.completed|h.errored),n}}let g=class{constructor(e,t,n,r){this.fs=e,this.interpreter=t,this.terminalService=n,this.pythonInterpreter=r,this.disposables=[]}get onDidCloseTerminal(){return this.terminalService.onDidCloseTerminal}dispose(){for(this.terminalService.dispose();this.disposables.length;){const e=this.disposables.shift();if(!e)break;try{e.dispose()}catch(e){(0,p.noop)()}}}async sendCommand(e,t,n,r=!0){if(!n)return this.terminalService.sendCommand(e,t);const i=await this.createLockFile(),o=new f(i.filePath,this.fs,[e,...t]);try{const s=this.pythonInterpreter||await this.interpreter.getActiveInterpreter(void 0),a=l.shell_exec(e,i.filePath,t);await this.terminalService.sendCommand((null==s?void 0:s.path)||"python",a);const u=r?o.completed:o.completed.catch(p.noop);await c.Cancellation.race((()=>u),n)}finally{o.dispose(),i.dispose()}}sendText(e){return this.terminalService.sendText(e)}show(e){return this.terminalService.show(e)}createLockFile(){return this.fs.createTemporaryFile(".log").then((e=>(this.disposables.push(e),e)))}};g=r([i(0,(0,o.inject)(u.IFileSystem)),i(1,(0,o.inject)(s.IInterpreterService))],g),t.SynchronousTerminalService=g},58400:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.IShellDetector=t.ITerminalActivationHandler=t.ITerminalActivationCommandProvider=t.ITerminalActivator=t.ITerminalHelper=t.ITerminalServiceFactory=t.TerminalShellType=t.TerminalActivationProviders=void 0,(r=t.TerminalActivationProviders||(t.TerminalActivationProviders={})).bashCShellFish="bashCShellFish",r.commandPromptAndPowerShell="commandPromptAndPowerShell",r.pyenv="pyenv",r.conda="conda",r.pipenv="pipenv",(n=t.TerminalShellType||(t.TerminalShellType={})).powershell="powershell",n.powershellCore="powershellCore",n.commandPrompt="commandPrompt",n.gitbash="gitbash",n.bash="bash",n.zsh="zsh",n.ksh="ksh",n.fish="fish",n.cshell="cshell",n.tcshell="tshell",n.wsl="wsl",n.xonsh="xonsh",n.other="other",t.ITerminalServiceFactory=Symbol("ITerminalServiceFactory"),t.ITerminalHelper=Symbol("ITerminalHelper"),t.ITerminalActivator=Symbol("ITerminalActivator"),t.ITerminalActivationCommandProvider=Symbol("ITerminalActivationCommandProvider"),t.ITerminalActivationHandler=Symbol("ITerminalActivationHandler"),t.IShellDetector=Symbol("IShellDetector")},61684:(e,t)=>{"use strict";var n,r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.IDefaultLanguageServer=t.IInterpreterPathService=t.IExperimentService=t.IEditorUtils=t.IBrowserService=t.IExtensions=t.IExtensionContext=t.IHttpClient=t.IFileDownloader=t.ISocketServer=t.ToolExecutionPath=t.IToolExecutionPath=t.IConfigurationService=t.ICurrentProcess=t.IRandom=t.IPathUtils=t.IInstaller=t.Product=t.ProductType=t.ProductInstallStatus=t.InstallerResponse=t.IPersistentStateFactory=t.WORKSPACE_MEMENTO=t.GLOBAL_MEMENTO=t.IMemento=t.IDisposableRegistry=t.IsWindows=t.IDocumentSymbolProvider=t.IOutputChannel=void 0,t.IOutputChannel=Symbol("IOutputChannel"),t.IDocumentSymbolProvider=Symbol("IDocumentSymbolProvider"),t.IsWindows=Symbol("IS_WINDOWS"),t.IDisposableRegistry=Symbol("IDisposableRegistry"),t.IMemento=Symbol("IGlobalMemento"),t.GLOBAL_MEMENTO=Symbol("IGlobalMemento"),t.WORKSPACE_MEMENTO=Symbol("IWorkspaceMemento"),t.IPersistentStateFactory=Symbol("IPersistentStateFactory"),(o=t.InstallerResponse||(t.InstallerResponse={}))[o.Installed=0]="Installed",o[o.Disabled=1]="Disabled",o[o.Ignore=2]="Ignore",(i=t.ProductInstallStatus||(t.ProductInstallStatus={}))[i.Installed=0]="Installed",i[i.NotInstalled=1]="NotInstalled",i[i.NeedsUpgrade=2]="NeedsUpgrade",(r=t.ProductType||(t.ProductType={})).Linter="Linter",r.Formatter="Formatter",r.TestFramework="TestFramework",r.RefactoringLibrary="RefactoringLibrary",r.DataScience="DataScience",r.Python="Python",(n=t.Product||(t.Product={}))[n.pytest=1]="pytest",n[n.pylint=3]="pylint",n[n.flake8=4]="flake8",n[n.pycodestyle=5]="pycodestyle",n[n.pylama=6]="pylama",n[n.prospector=7]="prospector",n[n.pydocstyle=8]="pydocstyle",n[n.yapf=9]="yapf",n[n.autopep8=10]="autopep8",n[n.mypy=11]="mypy",n[n.unittest=12]="unittest",n[n.isort=15]="isort",n[n.black=16]="black",n[n.bandit=17]="bandit",n[n.jupyter=18]="jupyter",n[n.ipykernel=19]="ipykernel",n[n.notebook=20]="notebook",n[n.kernelspec=21]="kernelspec",n[n.nbconvert=22]="nbconvert",n[n.pandas=23]="pandas",n[n.tensorboard=24]="tensorboard",n[n.torchProfilerInstallName=25]="torchProfilerInstallName",n[n.torchProfilerImportName=26]="torchProfilerImportName",n[n.pip=27]="pip",n[n.ensurepip=28]="ensurepip",n[n.python=29]="python",t.IInstaller=Symbol("IInstaller"),t.IPathUtils=Symbol("IPathUtils"),t.IRandom=Symbol("IRandom"),t.ICurrentProcess=Symbol("ICurrentProcess"),t.IConfigurationService=Symbol("IConfigurationService"),t.IToolExecutionPath=Symbol("IToolExecutionPath"),(t.ToolExecutionPath||(t.ToolExecutionPath={})).pipenv="pipenv",t.ISocketServer=Symbol("ISocketServer"),t.IFileDownloader=Symbol("IFileDownloader"),t.IHttpClient=Symbol("IHttpClient"),t.IExtensionContext=Symbol("ExtensionContext"),t.IExtensions=Symbol("IExtensions"),t.IBrowserService=Symbol("IBrowserService"),t.IEditorUtils=Symbol("IEditorUtils"),t.IExperimentService=Symbol("IExperimentService"),t.IInterpreterPathService=Symbol("IInterpreterPathService"),t.IDefaultLanguageServer=Symbol("IDefaultLanguageServer")},99910:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asyncForEach=t.asyncFilter=void 0,t.asyncFilter=async function(e,t){const n=await Promise.all(e.map(t));return e.filter(((e,t)=>n[t]))},t.asyncForEach=async function(e,t){await Promise.all(e.map(t))}},59314:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenIterator=t.iterable=t.mapToIterator=t.chain=t.iterEmpty=t.createDeferredFromPromise=t.createDeferredFrom=t.createDeferred=t.isPromise=t.isThenable=t.sleep=void 0,t.sleep=async function(e){return new Promise((t=>{setTimeout((()=>t(e)),e)}))},t.isThenable=function(e){return"function"==typeof(null==e?void 0:e.then)},t.isPromise=function(e){return"function"==typeof(null==e?void 0:e.then)&&"function"==typeof(null==e?void 0:e.catch)};class n{constructor(e=null){this.scope=e,this._resolved=!1,this._rejected=!1,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}resolve(e){this._resolve.apply(this.scope?this.scope:this,[e]),this._resolved=!0}reject(e){this._reject.apply(this.scope?this.scope:this,[e]),this._rejected=!0}get promise(){return this._promise}get resolved(){return this._resolved}get rejected(){return this._rejected}get completed(){return this._rejected||this._resolved}}function r(e=null){return new n(e)}async function i(e,t){const n=void 0===t?-1:t;try{return{index:n,result:await e.next(),err:null}}catch(e){return{index:n,err:e,result:null}}}t.createDeferred=r,t.createDeferredFrom=function(...e){const t=r();return Promise.all(e).then(t.resolve.bind(t)).catch(t.reject.bind(t)),t},t.createDeferredFromPromise=function(e){const t=r();return e.then(t.resolve.bind(t)).catch(t.reject.bind(t)),t},t.iterEmpty=function(){return async function*(){}()};const o=new Promise((()=>{}));async function*s(e,t){const n=e.map(i);let r=e.length;for(;r>0;){const{index:s,result:a,err:c}=await Promise.race(n);null!==c?(n[s]=o,r-=1,void 0!==t&&await t(c,s)):a.done?(n[s]=o,r-=1,void 0!==a.value&&(yield a.value)):(n[s]=i(e[s],s),yield a.value)}}function a(e){const t=e;return void 0===t[Symbol.asyncIterator]&&(t[Symbol.asyncIterator]=()=>t),t}t.chain=s,t.mapToIterator=async function*(e,t,n=!0){if(n){const n=e.map((e=>async function*(){yield t(e)}()));yield*a(s(n))}else yield*e.map(t)},t.iterable=a,t.flattenIterator=async function(e){const t=[];for await(const n of a(e))t.push(n);return t}},35144:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryCache=t.clearCache=t.getCacheKeyFromFunctionArgs=t.getGlobalCacheStore=void 0;const n=new Map;t.getGlobalCacheStore=function(){return n},t.getCacheKeyFromFunctionArgs=function(e,t){return`KeyPrefix=${e}-Args=${t.map((e=>`${JSON.stringify(e)}`)).join("-Arg-Separator-")}`},t.clearCache=function(){n.clear()},t.InMemoryCache=class{constructor(e){this.expiryDurationMs=e}get hasData(){return!(!this.cacheData||this.hasExpired(this.cacheData.expiry))||(this.cacheData=void 0,!1)}get data(){var e;if(this.hasData)return null===(e=this.cacheData)||void 0===e?void 0:e.value}set data(e){this.cacheData=void 0!==e?{expiry:this.calculateExpiry(),value:e}:void 0}clear(){this.cacheData=void 0}hasExpired(e){return e<=Date.now()}calculateExpiry(){return Date.now()+this.expiryDurationMs}}},36952:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.swallowExceptions=t.cache=t.makeDebounceAsyncDecorator=t.makeDebounceDecorator=t.debounceAsync=t.debounceSync=void 0,n(32727);const r=n(19735),i=n(77570),o=n(59314),s=n(35144),a=n(70057),c=n(23279);function u(e){return function(t,n,r){const i=r.value,o=c((function(){return i.apply(this,arguments)}),e,{});r.value=o}}function l(e){return function(t,n,r){const i=r.value,s={started:!1,deferred:void 0,timer:void 0};r.value=function(){const t=s.deferred;if(t&&s.started)return t.promise;const n=t&&t.completed,r=s.deferred=!t||n?(0,o.createDeferred)():t;return s.timer&&clearTimeout(s.timer),s.timer=setTimeout((async()=>{s.started=!0,i.apply(this).then((e=>{s.started=!1,r.resolve(e)})).catch((e=>{s.started=!1,r.reject(e)}))}),e||0),r.promise}}}t.debounceSync=function(e){return(0,i.isTestExecution)()&&(e=void 0),u(e)},t.debounceAsync=function(e){return(0,i.isTestExecution)()&&(e=void 0),l(e)},t.makeDebounceDecorator=u,t.makeDebounceAsyncDecorator=l;const d=(0,s.getGlobalCacheStore)(),p=new a.StopWatch;t.cache=function(e,t=!1,n){return function(o,a,c){const u=c.value,l=`Cache_Method_Output_${"constructor"in o&&o.constructor.name?o.constructor.name:""}.${a}`;c.value=async function(...o){if((0,i.isTestExecution)())return u.apply(this,o);let a;try{a=(0,s.getCacheKeyFromFunctionArgs)(l,o)}catch(e){return(0,r.traceError)("Error while creating key for keyPrefix:",l,e),u.apply(this,o)}const c=d.get(a);if(c&&(c.expiry>Date.now()||-1===e))return(0,r.traceVerbose)(`Cached data exists ${a}`),Promise.resolve(c.data);const h=n&&p.elapsedTime>2e5?n:e,f=u.apply(this,o);return t?d.set(a,{data:f,expiry:Date.now()+h}):f.then((e=>d.set(a,{data:e,expiry:Date.now()+h}))).ignoreErrors(),f}}},t.swallowExceptions=function(e){return function(t,n,o){const s=o.value,a=`Python Extension (Error in ${e||n}, method:${n}):`;o.value=function(...e){try{const t=s.apply(this,e);if(t&&"function"==typeof t.then&&"function"==typeof t.catch)return t.catch((e=>{(0,i.isTestExecution)()||(0,r.traceError)(a,e)}))}catch(e){if((0,i.isTestExecution)())return;(0,r.traceError)(a,e)}}}}},4100:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DelayedTrigger=void 0;const r=n(39512),i=n(19735);t.DelayedTrigger=class{constructor(e,t,n){this.callback=e,this.ms=t,this.name=n,this.triggeredCounter=0,this.calledCounter=0}trigger(...e){this.triggeredCounter+=1,this.timerId&&(0,r.clearTimeout)(this.timerId),this.timerId=(0,r.setTimeout)((()=>{this.calledCounter+=1,(0,i.traceVerbose)(`Delay Trigger[${this.name}]: triggered=${this.triggeredCounter}, called=${this.calledCounter}`),this.callback(...e)}),this.ms)}dispose(){this.timerId&&(0,r.clearTimeout)(this.timerId)}}},47237:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidAndExecutable=t.getSearchPathEntries=t.getSearchPathEnvVarNames=void 0;const r=n(57147),i=n(71017),o=n(87450);function s(e=(0,o.getOSType)()){return e===o.OSType.Windows?["Path","PATH"]:["PATH"]}t.getSearchPathEnvVarNames=s,t.getSearchPathEntries=function(){const e=s();for(const t of e){const e=(0,o.getEnvironmentVariable)(t);if(void 0!==e)return e.split(i.delimiter).map((e=>e.trim())).filter((e=>e.length>0))}return[]},t.isValidAndExecutable=async function(e){try{await r.promises.access(e,r.constants.X_OK)}catch(e){return!1}if((0,o.getOSType)()!==o.OSType.Windows)return!0}},56091:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFileFilter=t.getFileType=t.convertFileType=t.FileType=void 0;const r=n(57147),i=n(66828),o=n(19735);function s(e){return e.isFile()?t.FileType.File:e.isDirectory()?t.FileType.Directory:e.isSymbolicLink()?t.FileType.SymbolicLink:t.FileType.Unknown}async function a(e,n={ignoreErrors:!0}){let i;try{i=await r.promises.lstat(e)}catch(r){if("ENOENT"===r.code)return;if(n.ignoreErrors)return(0,o.traceError)(`lstat() failed for "${e}" (${r})`),t.FileType.Unknown;throw r}return s(i)}t.FileType=i.FileType,t.convertFileType=s,t.getFileType=a,t.getFileFilter=function(e={ignoreMissing:!0}){const n=function(e){if(void 0!==e){if(Array.isArray(e)){if(0===e.length)return;return e}return[e]}}(e.ignoreFileType);if(e.ignoreMissing||n)return async function(r){let i=await async function(e,t={}){let n;if("string"!=typeof e){if(!t.ensure){if(void 0===t.onMissing)return e;if(void 0!==await a(e.filename))return e}n=e.filename}else n=e;const r=await a(n)||t.onMissing;if(void 0!==r)return{filename:n,filetype:r}}(r,{ensure:e.ensureEntry});if(!i){if(e.ignoreMissing)return!1;i={filename:"string"==typeof r?r:r.filename,filetype:t.FileType.Unknown}}return!n||!n.includes(i.filetype)}}},1040:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIcon=void 0;const r=n(71017),i=n(66828),o=n(63281),s=r.join(o.EXTENSION_ROOT_DIR,"resources","dark"),a=r.join(o.EXTENSION_ROOT_DIR,"resources","light");t.getIcon=function(e){return{dark:i.Uri.file(r.join(s,e)),light:i.Uri.file(r.join(a,e))}}},67098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateEnv=t.SwitchToDefaultLS=t.Python27Support=t.OutdatedDebugger=t.Testing=t.DebugConfigStrings=t.ExtensionSurveyBanner=t.Installer=t.Linters=t.Logging=t.OutputChannelNames=t.InterpreterQuickPickList=t.Interpreters=t.LanguageService=t.TensorBoard=t.Pylance=t.AttachProcess=t.CommonSurvey=t.Common=t.Diagnostics=void 0;const r=n(18472).loadMessageBundle();var i,o,s,a,c,u,l,d,p,h,f,g,m;(m=t.Diagnostics||(t.Diagnostics={})).warnSourceMaps=r("diagnostics.warnSourceMaps","Source map support is enabled in the Python Extension, this will adversely impact performance of the extension."),m.disableSourceMaps=r("diagnostics.disableSourceMaps","Disable Source Map Support"),m.warnBeforeEnablingSourceMaps=r("diagnostics.warnBeforeEnablingSourceMaps","Enabling source map support in the Python Extension will adversely impact performance of the extension."),m.enableSourceMapsAndReloadVSC=r("diagnostics.enableSourceMapsAndReloadVSC","Enable and reload Window."),m.lsNotSupported=r("diagnostics.lsNotSupported","Your operating system does not meet the minimum requirements of the Python Language Server. Reverting to the alternative autocompletion provider, Jedi."),m.removedPythonPathFromSettings=r("diagnostics.removedPythonPathFromSettings",'The "python.pythonPath" setting in your settings.json is no longer used by the Python extension. If you want, you can use a new setting called "python.defaultInterpreterPath" instead. Keep in mind that you need to change the value of this setting manually as the Python extension doesn\'t modify it when you change interpreters. [Learn more](https://aka.ms/AA7jfor).'),m.invalidPythonPathInDebuggerSettings=r("diagnostics.invalidPythonPathInDebuggerSettings",'You need to select a Python interpreter before you start debugging.\n\nTip: click on "Select Interpreter" in the status bar.'),m.invalidPythonPathInDebuggerLaunch=r("diagnostics.invalidPythonPathInDebuggerLaunch","The Python path in your debug configuration is invalid."),m.invalidDebuggerTypeDiagnostic=r("diagnostics.invalidDebuggerTypeDiagnostic",'Your launch.json file needs to be updated to change the "pythonExperimental" debug configurations to use the "python" debugger type, otherwise Python debugging may not work. Would you like to automatically update your launch.json file now?'),m.consoleTypeDiagnostic=r("diagnostics.consoleTypeDiagnostic",'Your launch.json file needs to be updated to change the console type string from "none" to "internalConsole", otherwise Python debugging may not work. Would you like to automatically update your launch.json file now?'),m.justMyCodeDiagnostic=r("diagnostics.justMyCodeDiagnostic",'Configuration "debugStdLib" in launch.json is no longer supported. It\'s recommended to replace it with "justMyCode", which is the exact opposite of using "debugStdLib". Would you like to automatically update your launch.json file to do that?'),m.yesUpdateLaunch=r("diagnostics.yesUpdateLaunch","Yes, update launch.json"),m.invalidTestSettings=r("diagnostics.invalidTestSettings",'Your settings needs to be updated to change the setting "python.unitTest." to "python.testing.", otherwise testing Python code using the extension may not work. Would you like to automatically update your settings now?'),m.updateSettings=r("diagnostics.updateSettings","Yes, update settings"),m.checkIsort5UpgradeGuide=r("diagnostics.checkIsort5UpgradeGuide","We found outdated configuration for sorting imports in this workspace. Check the [isort upgrade guide](https://aka.ms/AA9j5x4) to update your settings."),m.pylanceDefaultMessage=r("diagnostics.pylanceDefaultMessage","The Python extension now includes Pylance to improve completions, code navigation, overall performance and much more! You can learn more about the update and learn how to change your language server [here](https://aka.ms/new-python-bundle).\n\nRead Pylance's license [here](https://marketplace.visualstudio.com/items/ms-python.vscode-pylance/license)."),(g=t.Common||(t.Common={})).bannerLabelYes=r("Common.bannerLabelYes","Yes"),g.bannerLabelNo=r("Common.bannerLabelNo","No"),g.yesPlease=r("Common.yesPlease","Yes, please"),g.canceled=r("Common.canceled","Canceled"),g.cancel=r("Common.cancel","Cancel"),g.ok=r("Common.ok","Ok"),g.error=r("Common.error","Error"),g.gotIt=r("Common.gotIt","Got it!"),g.install=r("Common.install","Install"),g.loadingExtension=r("Common.loadingPythonExtension","Python extension loading..."),g.openOutputPanel=r("Common.openOutputPanel","Show output"),g.noIWillDoItLater=r("Common.noIWillDoItLater","No, I will do it later"),g.notNow=r("Common.notNow","Not now"),g.doNotShowAgain=r("Common.doNotShowAgain","Do not show again"),g.reload=r("Common.reload","Reload"),g.moreInfo=r("Common.moreInfo","More Info"),g.learnMore=r("Common.learnMore","Learn more"),g.and=r("Common.and","and"),g.reportThisIssue=r("Common.reportThisIssue","Report this issue"),g.recommended=r("Common.recommended","Recommended"),g.clearAll=r("Common.clearAll","Clear all"),g.alwaysIgnore=r("Common.alwaysIgnore","Always Ignore"),g.ignore=r("Common.ignore","Ignore"),g.selectPythonInterpreter=r("Common.selectPythonInterpreter","Select Python Interpreter"),g.openLaunch=r("Common.openLaunch","Open launch.json"),g.useCommandPrompt=r("Common.useCommandPrompt","Use Command Prompt"),g.download=r("Common.download","Download"),g.showLogs=r("Common.showLogs","Show logs"),(f=t.CommonSurvey||(t.CommonSurvey={})).remindMeLaterLabel=r("CommonSurvey.remindMeLaterLabel","Remind me later"),f.yesLabel=r("CommonSurvey.yesLabel","Yes, take survey now"),f.noLabel=r("CommonSurvey.noLabel","No, thanks"),(h=t.AttachProcess||(t.AttachProcess={})).attachTitle=r("AttachProcess.attachTitle","Attach to process"),h.selectProcessPlaceholder=r("AttachProcess.selectProcessPlaceholder","Select the process to attach to"),h.noProcessSelected=r("AttachProcess.noProcessSelected","No process selected"),h.refreshList=r("AttachProcess.refreshList","Refresh process list"),(p=t.Pylance||(t.Pylance={})).remindMeLater=r("Pylance.remindMeLater","Remind me later"),p.pylanceNotInstalledMessage=r("Pylance.pylanceNotInstalledMessage","Pylance extension is not installed."),p.pylanceInstalledReloadPromptMessage=r("Pylance.pylanceInstalledReloadPromptMessage","Pylance extension is now installed. Reload window to activate?"),p.pylanceRevertToJediPrompt=r("Pylance.pylanceRevertToJediPrompt",'The Pylance extension is not installed but the python.languageServer value is set to "Pylance". Would you like to install the Pylance extension to use Pylance, or revert back to Jedi?'),p.pylanceInstallPylance=r("Pylance.pylanceInstallPylance","Install Pylance"),p.pylanceRevertToJedi=r("Pylance.pylanceRevertToJedi","Revert to Jedi"),(d=t.TensorBoard||(t.TensorBoard={})).enterRemoteUrl=r("TensorBoard.enterRemoteUrl","Enter remote URL"),d.enterRemoteUrlDetail=r("TensorBoard.enterRemoteUrlDetail","Enter a URL pointing to a remote directory containing your TensorBoard log files"),d.useCurrentWorkingDirectoryDetail=r("TensorBoard.useCurrentWorkingDirectoryDetail","TensorBoard will search for tfevent files in all subdirectories of the current working directory"),d.useCurrentWorkingDirectory=r("TensorBoard.useCurrentWorkingDirectory","Use current working directory"),d.logDirectoryPrompt=r("TensorBoard.logDirectoryPrompt","Select a log directory to start TensorBoard with"),d.progressMessage=r("TensorBoard.progressMessage","Starting TensorBoard session..."),d.nativeTensorBoardPrompt=r("TensorBoard.nativeTensorBoardPrompt",'VS Code now has integrated TensorBoard support. Would you like to launch TensorBoard?  (Tip: Launch TensorBoard anytime by opening the command palette and searching for "Launch TensorBoard".)'),d.selectAFolder=r("TensorBoard.selectAFolder","Select a folder"),d.selectAFolderDetail=r("TensorBoard.selectAFolderDetail","Select a log directory containing tfevent files"),d.selectAnotherFolder=r("TensorBoard.selectAnotherFolder","Select another folder"),d.selectAnotherFolderDetail=r("TensorBoard.selectAnotherFolderDetail","Use the file explorer to select another folder"),d.installPrompt=r("TensorBoard.installPrompt","The package TensorBoard is required to launch a TensorBoard session. Would you like to install it?"),d.installTensorBoardAndProfilerPluginPrompt=r("TensorBoard.installTensorBoardAndProfilerPluginPrompt","TensorBoard >= 2.4.1 and the PyTorch Profiler TensorBoard plugin >= 0.2.0 are required. Would you like to install these packages?"),d.installProfilerPluginPrompt=r("TensorBoard.installProfilerPluginPrompt","We recommend installing version >= 0.2.0 of the PyTorch Profiler TensorBoard plugin. Would you like to install the package?"),d.upgradePrompt=r("TensorBoard.upgradePrompt","Integrated TensorBoard support is only available for TensorBoard >= 2.4.1. Would you like to upgrade your copy of TensorBoard?"),d.launchNativeTensorBoardSessionCodeLens=r("TensorBoard.launchNativeTensorBoardSessionCodeLens"," Launch TensorBoard Session"),d.launchNativeTensorBoardSessionCodeAction=r("TensorBoard.launchNativeTensorBoardSessionCodeAction","Launch TensorBoard session"),d.missingSourceFile=r("TensorBoard.missingSourceFile","We could not locate the requested source file on disk. Please manually specify the file."),d.selectMissingSourceFile=r("TensorBoard.selectMissingSourceFile","Choose File"),d.selectMissingSourceFileDescription=r("TensorBoard.selectMissingSourceFileDescription","The source file's contents may not match the original contents in the trace."),(l=t.LanguageService||(t.LanguageService={})).virtualWorkspaceStatusItem={detail:r("LanguageService.virtualWorkspaceStatusItem.detail","Limited IntelliSense supported by Jedi and Pylance")},l.statusItem={name:r("LanguageService.statusItem.name","Python IntelliSense Status"),text:r("LanguageService.statusItem.text","Partial Mode"),detail:r("LanguageService.statusItem.detail","Limited IntelliSense provided by Pylance")},l.startingPylance=r("LanguageService.startingPylance","Starting Pylance language server."),l.startingNone=r("LanguageService.startingNone","Editor support is inactive since language server is set to None."),l.untrustedWorkspaceMessage=r("LanguageService.untrustedWorkspaceMessage","Only Pylance is supported in untrusted workspaces, setting language server to None."),l.reloadAfterLanguageServerChange=r("LanguageService.reloadAfterLanguageServerChange","Please reload the window switching between language servers."),l.lsFailedToStart=r("LanguageService.lsFailedToStart","We encountered an issue starting the language server. Reverting to Jedi language engine. Check the Python output panel for details."),l.lsFailedToDownload=r("LanguageService.lsFailedToDownload","We encountered an issue downloading the language server. Reverting to Jedi language engine. Check the Python output panel for details."),l.lsFailedToExtract=r("LanguageService.lsFailedToExtract","We encountered an issue extracting the language server. Reverting to Jedi language engine. Check the Python output panel for details."),l.downloadFailedOutputMessage=r("LanguageService.downloadFailedOutputMessage","Language server download failed."),l.extractionFailedOutputMessage=r("LanguageService.extractionFailedOutputMessage","Language server extraction failed."),l.extractionCompletedOutputMessage=r("LanguageService.extractionCompletedOutputMessage","Language server download complete."),l.extractionDoneOutputMessage=r("LanguageService.extractionDoneOutputMessage","done."),l.reloadVSCodeIfSeachPathHasChanged=r("LanguageService.reloadVSCodeIfSeachPathHasChanged","Search paths have changed for this Python interpreter. Please reload the extension to ensure that the IntelliSense works correctly."),(u=t.Interpreters||(t.Interpreters={})).installingPython=r("Interpreters.installingPython","Installing Python into Environment..."),u.discovering=r("Interpreters.DiscoveringInterpreters","Discovering Python Interpreters"),u.refreshing=r("Interpreters.RefreshingInterpreters","Refreshing Python Interpreters"),u.condaInheritEnvMessage=r("Interpreters.condaInheritEnvMessage",'We noticed you\'re using a conda environment. If you are experiencing issues with this environment in the integrated terminal, we recommend that you let the Python extension change "terminal.integrated.inheritEnv" to false in your user settings.'),u.environmentPromptMessage=r("Interpreters.environmentPromptMessage","We noticed a new environment has been created. Do you want to select it for the workspace folder?"),u.entireWorkspace=r("Interpreters.entireWorkspace","Select at workspace level"),u.clearAtWorkspace=r("Interpreters.clearAtWorkspace","Clear at workspace level"),u.selectInterpreterTip=r("Interpreters.selectInterpreterTip","Tip: you can change the Python interpreter used by the Python extension by clicking on the Python version in the status bar"),u.installPythonTerminalMessage=r("Interpreters.installPythonTerminalMessage"," Please try installing the python package using your package manager. Alternatively you can also download it from https://www.python.org/downloads"),(c=t.InterpreterQuickPickList||(t.InterpreterQuickPickList={})).noPythonInstalled=r("InterpreterQuickPickList.noPythonInstalled","Python is not installed, please download and install it"),c.clickForInstructions=r("InterpreterQuickPickList.clickForInstructions","Click for instructions..."),c.globalGroupName=r("InterpreterQuickPickList.globalGroupName","Global"),c.workspaceGroupName=r("InterpreterQuickPickList.workspaceGroupName","Workspace"),c.enterPath={label:r("InterpreterQuickPickList.enterPath.label","Enter interpreter path..."),placeholder:r("InterpreterQuickPickList.enterPath.placeholder","Enter path to a Python interpreter.")},c.defaultInterpreterPath={label:r("InterpreterQuickPickList.defaultInterpreterPath.label","Use Python from `python.defaultInterpreterPath` setting")},c.browsePath={label:r("InterpreterQuickPickList.browsePath.label","Find..."),detail:r("InterpreterQuickPickList.browsePath.detail","Browse your file system to find a Python interpreter."),openButtonLabel:r("python.command.python.setInterpreter.title","Select Interpreter"),title:r("InterpreterQuickPickList.browsePath.title","Select Python interpreter")},c.refreshInterpreterList=r("InterpreterQuickPickList.refreshInterpreterList","Refresh Interpreter list"),c.refreshingInterpreterList=r("InterpreterQuickPickList.refreshingInterpreterList","Refreshing Interpreter list..."),(a=t.OutputChannelNames||(t.OutputChannelNames={})).languageServer=r("OutputChannelNames.languageServer","Python Language Server"),a.python=r("OutputChannelNames.python","Python"),a.pythonTest=r("OutputChannelNames.pythonTest","Python Test Log"),(t.Logging||(t.Logging={})).currentWorkingDirectory=r("Logging.CurrentWorkingDirectory","cwd:"),(t.Linters||(t.Linters={})).selectLinter=r("Linter.selectLinter","Select Linter"),(s=t.Installer||(t.Installer={})).noCondaOrPipInstaller=r("Installer.noCondaOrPipInstaller","There is no Conda or Pip installer available in the selected environment."),s.noPipInstaller=r("Installer.noPipInstaller","There is no Pip installer available in the selected environment."),s.searchForHelp=r("Installer.searchForHelp","Search for help"),(o=t.ExtensionSurveyBanner||(t.ExtensionSurveyBanner={})).bannerMessage=r("ExtensionSurveyBanner.bannerMessage","Can you please take 2 minutes to tell us how the Python extension is working for you?"),o.bannerLabelYes=r("ExtensionSurveyBanner.bannerLabelYes","Yes, take survey now"),o.bannerLabelNo=r("ExtensionSurveyBanner.bannerLabelNo","No, thanks"),o.maybeLater=r("ExtensionSurveyBanner.maybeLater","Maybe later"),function(e){let t,n,i,o,s,a,c,u;e.selectConfiguration={title:r("debug.selectConfigurationTitle","Select a debug configuration"),placeholder:r("debug.selectConfigurationPlaceholder","Debug Configuration")},e.launchJsonCompletions={label:r("debug.launchJsonConfigurationsCompletionLabel","Python"),description:r("debug.launchJsonConfigurationsCompletionDescription","Select a Python debug configuration")},function(e){e.snippet={name:r("python.snippet.launch.standard.label","Python: Current File")},e.selectConfiguration={label:r("debug.debugFileConfigurationLabel","Python File"),description:r("debug.debugFileConfigurationDescription","Debug the currently active Python file")}}(t=e.file||(e.file={})),function(e){e.snippet={name:r("python.snippet.launch.module.label","Python: Module"),default:r("python.snippet.launch.module.default","enter-your-module-name")},e.selectConfiguration={label:r("debug.debugModuleConfigurationLabel","Module"),description:r("debug.debugModuleConfigurationDescription","Debug a Python module by invoking it with '-m'")},e.enterModule={title:r("debug.moduleEnterModuleTitle","Debug Module"),prompt:r("debug.moduleEnterModulePrompt","Enter a Python module/package name"),default:r("debug.moduleEnterModuleDefault","enter-your-module-name"),invalid:r("debug.moduleEnterModuleInvalidNameError","Enter a valid module name")}}(n=e.module||(e.module={})),function(e){e.snippet={name:r("python.snippet.launch.attach.label","Python: Remote Attach")},e.selectConfiguration={label:r("debug.remoteAttachConfigurationLabel","Remote Attach"),description:r("debug.remoteAttachConfigurationDescription","Attach to a remote debug server")},e.enterRemoteHost={title:r("debug.attachRemoteHostTitle","Remote Debugging"),prompt:r("debug.attachRemoteHostPrompt","Enter a valid host name or IP address"),invalid:r("debug.attachRemoteHostValidationError","Enter a valid host name or IP address")},e.enterRemotePort={title:r("debug.attachRemotePortTitle","Remote Debugging"),prompt:r("debug.attachRemotePortPrompt","Enter the port number that the debug server is listening on"),invalid:r("debug.attachRemotePortValidationError","Enter a valid port number")}}(i=e.attach||(e.attach={})),function(e){e.snippet={name:r("python.snippet.launch.attachpid.label","Python: Attach using Process Id")},e.selectConfiguration={label:r("debug.attachPidConfigurationLabel","Attach using Process ID"),description:r("debug.attachPidConfigurationDescription","Attach to a local process")}}(o=e.attachPid||(e.attachPid={})),function(e){e.snippet={name:r("python.snippet.launch.django.label","Python: Django")},e.selectConfiguration={label:r("debug.debugDjangoConfigurationLabel","Django"),description:r("debug.debugDjangoConfigurationDescription","Launch and debug a Django web application")},e.enterManagePyPath={title:r("debug.djangoEnterManagePyPathTitle","Debug Django"),prompt:r("debug.djangoEnterManagePyPathPrompt","Enter the path to manage.py ('${workspaceFolderToken}' points to the root of the current workspace folder)"),invalid:r("debug.djangoEnterManagePyPathInvalidFilePathError","Enter a valid Python file path")}}(s=e.django||(e.django={})),function(e){e.snippet={name:r("python.snippet.launch.fastapi.label","Python: FastAPI")},e.selectConfiguration={label:r("debug.debugFastAPIConfigurationLabel","FastAPI"),description:r("debug.debugFastAPIConfigurationDescription","Launch and debug a FastAPI web application")},e.enterAppPathOrNamePath={title:r("debug.fastapiEnterAppPathOrNamePathTitle","Debug FastAPI"),prompt:r("debug.fastapiEnterAppPathOrNamePathPrompt","Enter the path to the application, e.g. 'main.py' or 'main'"),invalid:r("debug.fastapiEnterAppPathOrNamePathInvalidNameError","Enter a valid name")}}(a=e.fastapi||(e.fastapi={})),function(e){e.snippet={name:r("python.snippet.launch.flask.label","Python: Flask")},e.selectConfiguration={label:r("debug.debugFlaskConfigurationLabel","Flask"),description:r("debug.debugFlaskConfigurationDescription","Launch and debug a Flask web application")},e.enterAppPathOrNamePath={title:r("debug.flaskEnterAppPathOrNamePathTitle","Debug Flask"),prompt:r("debug.flaskEnterAppPathOrNamePathPrompt","Python: Flask"),invalid:r("debug.flaskEnterAppPathOrNamePathInvalidNameError","Enter a valid name")}}(c=e.flask||(e.flask={})),function(e){e.snippet={name:r("python.snippet.launch.pyramid.label","Python: Pyramid Application")},e.selectConfiguration={label:r("debug.debugPyramidConfigurationLabel","Pyramid"),description:r("debug.debugPyramidConfigurationDescription","Launch and debug a Pyramid web application")},e.enterDevelopmentIniPath={title:r("debug.pyramidEnterDevelopmentIniPathTitle","Debug Pyramid"),invalid:r("debug.pyramidEnterDevelopmentIniPathInvalidFilePathError","Enter a valid file path")}}(u=e.pyramid||(e.pyramid={}))}(t.DebugConfigStrings||(t.DebugConfigStrings={})),(i=t.Testing||(t.Testing={})).configureTests=r("Testing.configureTests","Configure Test Framework"),i.testNotConfigured=r("Testing.testNotConfigured","No test framework configured."),i.cancelUnittestDiscovery=r("Testing.cancelUnittestDiscovery","Canceled unittest test discovery"),i.errorUnittestDiscovery=r("Testing.errorUnittestDiscovery","Unittest test discovery error"),i.seePythonOutput=r("Testing.seePythonOutput","(see Output > Python)"),i.cancelUnittestExecution=r("Testing.cancelUnittestExecution","Canceled unittest test execution"),i.errorUnittestExecution=r("Testing.errorUnittestExecution","Unittest test execution error"),(t.OutdatedDebugger||(t.OutdatedDebugger={})).outdatedDebuggerMessage=r("OutdatedDebugger.updateDebuggerMessage","We noticed you are attaching to ptvsd (Python debugger), which was deprecated on May 1st, 2020. Please switch to [debugpy](https://aka.ms/migrateToDebugpy)."),(t.Python27Support||(t.Python27Support={})).jediMessage=r("Python27Support.jediMessage","IntelliSense with Jedi for Python 2.7 is no longer supported. [Learn more](https://aka.ms/python-27-support)."),(t.SwitchToDefaultLS||(t.SwitchToDefaultLS={})).bannerMessage=r("SwitchToDefaultLS.bannerMessage","The Microsoft Python Language Server has reached end of life. Your language server has been set to the default for Python in VS Code, Pylance.\n\nIf you'd like to change your language server, you can learn about how to do so [here](https://devblogs.microsoft.com/python/python-in-visual-studio-code-may-2021-release/#configuring-your-language-server).\n\nRead Pylance's license [here](https://marketplace.visualstudio.com/items/ms-python.vscode-pylance/license)."),function(e){let t,n;e.informEnvCreation=r("createEnv.informEnvCreation","We have selected the following environment:"),e.statusTitle=r("createEnv.statusTitle","Creating environment"),e.statusStarting=r("createEnv.statusStarting","Starting..."),e.hasVirtualEnv=r("createEnv.hasVirtualEnv","Workspace folder contains a virtual environment"),e.noWorkspace=r("createEnv.noWorkspace","Please open a directory when creating an environment using venv."),e.pickWorkspacePlaceholder=r("createEnv.workspaceQuickPick.placeholder","Select a workspace to create environment"),e.providersQuickPickPlaceholder=r("createEnv.providersQuickPick.placeholder","Select an environment type"),function(e){e.creating=r("createEnv.venv.creating","Creating venv..."),e.created=r("createEnv.venv.created","Environment created..."),e.installingPackages=r("createEnv.venv.installingPackages","Installing packages..."),e.errorCreatingEnvironment=r("createEnv.venv.errorCreatingEnvironment","Error while creating virtual environment."),e.selectPythonQuickPickTitle=r("createEnv.venv.basePython.title","Select a python to use for environment creation"),e.providerDescription=r("createEnv.venv.description","Creates a `.venv` virtual environment in the current workspace"),e.error=r("createEnv.venv.error","Creating virtual environment failed with error.")}(t=e.Venv||(e.Venv={})),function(e){e.condaMissing=r("createEnv.conda.missing","Please install `conda` to create conda environments."),e.created=r("createEnv.conda.created","Environment created..."),e.installingPackages=r("createEnv.conda.installingPackages","Installing packages..."),e.errorCreatingEnvironment=r("createEnv.conda.errorCreatingEnvironment","Error while creating conda environment."),e.selectPythonQuickPickPlaceholder=r("createEnv.conda.pythonSelection.placeholder","Please select the version of Python to install in the environment"),e.creating=r("createEnv.conda.creating","Creating conda environment..."),e.providerDescription=r("createEnv.conda.description","Creates a `.conda` Conda environment in the current workspace")}(n=e.Conda||(e.Conda={}))}(t.CreateEnv||(t.CreateEnv={}))},3481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNotebookCell=t.getURIFilter=t.isResource=t.noop=void 0;const r=n(77570),i=n(48431);t.noop=function(){},t.isResource=function(e){if(!e)return!0;const t=e;return"string"==typeof t.path&&"string"==typeof t.scheme},t.getURIFilter=function(e,t={checkParent:!0}){let n=e.path;for(;n.endsWith("/");)n=n.slice(0,-1);const r=`${n}/`;return function(o){if(o.scheme!==e.scheme)return!1;let s=o.path;for(;s.endsWith("/");)s=s.slice(0,-1);if(t.checkParent&&(0,i.isParentPath)(s,r))return!0;if(t.checkChild){const e=`${s}/`;if((0,i.isParentPath)(n,e))return!0}return!1}},t.isNotebookCell=function(e){const t=function(e){if(!e)return!1;const t=e;return"string"==typeof t.path&&"string"==typeof t.scheme}(e)?e:e.uri;return t.scheme.includes(r.NotebookCellScheme)||t.scheme.includes(r.InteractiveInputScheme)}},22207:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MultiStepInputFactory=t.IMultiStepInputFactory=t.MultiStepInput=t.InputFlowAction=void 0;const o=n(86700),s=n(66828),a=n(17585);class c{constructor(){}}t.InputFlowAction=c,c.back=new c,c.cancel=new c,c.resume=new c;class u{constructor(e){this.shell=e,this.steps=[]}run(e,t){return this.stepThrough(e,t)}async showQuickPick({title:e,step:t,totalSteps:n,items:r,activeItem:i,placeholder:o,customButtonSetups:a,matchOnDescription:u,matchOnDetail:l,acceptFilterBoxTextAsSelection:d,onChangeItem:p,keepScrollPosition:h,sortByLabel:f,initialize:g}){const m=[],v=this.shell.createQuickPick();if(v.title=e,v.step=t,v.sortByLabel=f||!1,v.totalSteps=n,v.placeholder=o,v.ignoreFocusOut=!0,v.items=r,v.matchOnDescription=u||!1,v.matchOnDetail=l||!1,v.buttons=this.steps.length>1?[s.QuickInputButtons.Back]:[],a)for(const e of a)v.buttons=[...v.buttons,e.button];this.current&&this.current.dispose(),this.current=v,p&&m.push(p.event((e=>p.callback(e,v)))),g&&g(),v.activeItems=i?[await i]:[],this.current.show(),v.keepScrollPosition=h;try{return await new Promise(((e,t)=>{m.push(v.onDidTriggerButton((async e=>{if(e===s.QuickInputButtons.Back&&t(c.back),a)for(const t of a)JSON.stringify(e)===JSON.stringify(null==t?void 0:t.button)&&await(null==t?void 0:t.callback(v))})),v.onDidChangeSelection((t=>e(t[0]))),v.onDidHide((()=>{e(void 0)}))),d&&m.push(v.onDidAccept((()=>{e(v.value)})))}))}finally{m.forEach((e=>e.dispose()))}}async showInputBox({title:e,step:t,totalSteps:n,value:r,prompt:i,validate:o,password:a,buttons:u}){const l=[];try{return await new Promise(((d,p)=>{const h=this.shell.createInputBox();h.title=e,h.step=t,h.totalSteps=n,h.password=!!a,h.value=r||"",h.prompt=i,h.ignoreFocusOut=!0,h.buttons=[...this.steps.length>1?[s.QuickInputButtons.Back]:[],...u||[]];let f=o("");l.push(h.onDidTriggerButton((e=>{e===s.QuickInputButtons.Back?p(c.back):d(e)})),h.onDidAccept((async()=>{const e=h.value;h.enabled=!1,h.busy=!0,await o(e)||d(e),h.enabled=!0,h.busy=!1})),h.onDidChangeValue((async e=>{const t=o(e);f=t;const n=await t;t===f&&(h.validationMessage=n)})),h.onDidHide((()=>{d(void 0)}))),this.current&&this.current.dispose(),this.current=h,this.current.show()}))}finally{l.forEach((e=>e.dispose()))}}async stepThrough(e,t){let n=e;for(;n;){this.steps.push(n),this.current&&(this.current.enabled=!1,this.current.busy=!0);try{n=await n(this,t)}catch(e){if(e===c.back)this.steps.pop(),n=this.steps.pop();else if(e===c.resume)n=this.steps.pop();else{if(e!==c.cancel)throw e;n=void 0}}}this.current&&this.current.dispose()}}t.MultiStepInput=u,t.IMultiStepInputFactory=Symbol("IMultiStepInputFactory");let l=class{constructor(e){this.shell=e}create(){return new u(this.shell)}};l=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IApplicationShell))],l),t.MultiStepInputFactory=l},87450:(e,t,n)=>{"use strict";var r,i;function o(e=process.platform){return/^win/.test(e)?i.Windows:/^darwin/.test(e)?i.OSX:/^linux/.test(e)?i.Linux:i.Unknown}Object.defineProperty(t,"__esModule",{value:!0}),t.getUserHomeDir=t.getEnvironmentVariable=t.getArchitecture=t.getOSType=t.OSType=t.Architecture=void 0,function(e){e[e.Unknown=1]="Unknown",e[e.x86=2]="x86",e[e.x64=3]="x64"}(r=t.Architecture||(t.Architecture={})),function(e){e.Unknown="Unknown",e.Windows="Windows",e.OSX="OSX",e.Linux="Linux"}(i=t.OSType||(t.OSType={})),t.getOSType=o;const s={x86:r.x86,x64:r.x64,"":r.Unknown};function a(e){return process.env[e]}t.getArchitecture=function(){const e=s[process.arch];if(void 0!==e)return e;const t=n(3901);return s[t()]||r.Unknown},t.getEnvironmentVariable=a,t.getUserHomeDir=function(){return o()===i.Windows?a("USERPROFILE"):a("HOME")||a("HOMEPATH")}},10195:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.Random=void 0;const i=n(6113),o=n(86700);let s=class{getRandomInt(e=0,t=10){return function(e=0,t=10){return e+function(){let e=0;const t=i.randomBytes(2);return e=(t.readUInt8(0)<<8)+t.readUInt8(1),e/(Math.pow(16,4)-1)}()*(t-e)}(e,t)}};s=r([(0,o.injectable)()],s),t.Random=s},45940:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verboseRegExp=void 0,t.verboseRegExp=function(e,t){return e=(e=e.replace(/(^| {2})# .*$/gm,"")).replace(/\s+?/g,""),RegExp(e,t)}},81837:(e,t)=>{"use strict";async function n(e){await Promise.all(e.map((async e=>{try{return Promise.resolve(e.dispose())}catch(e){}return Promise.resolve()})))}Object.defineProperty(t,"__esModule",{value:!0}),t.Disposables=t.disposeAll=void 0,t.disposeAll=n,t.Disposables=class{constructor(...e){this.disposables=[],this.disposables.push(...e)}push(...e){this.disposables.push(...e)}async dispose(){const{disposables:e}=this;this.disposables=[],await n(e)}}},58479:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runAfterActivation=t.addItemsToRunAfterActivation=void 0;const n=[];let r=!1;t.addItemsToRunAfterActivation=function(e){r?e():n.push(e)},t.runAfterActivation=function(){for(r=!0;n.length>0;){const e=n.shift();e&&e()}}},70057:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopWatch=void 0,t.StopWatch=class{constructor(){this.started=(new Date).getTime()}get elapsedTime(){return(new Date).getTime()-this.started}reset(){this.started=(new Date).getTime()}}},7086:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNumber=t.isObject=t.isString=t.isArray=void 0;const n="number";t.isArray=function(e){return Array.isArray?Array.isArray(e):!(!e||typeof e.length!==n||e.constructor!==Array)},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isObject=function(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)},t.isNumber=function(e){return(typeof e===n||e instanceof Number)&&!isNaN(e)}},52439:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSemVerSafe=t.areSimilarVersions=t.areIdenticalVersion=t.parseVersionInfo=t.validateVersionInfo=t.normalizeVersionInfo=t.compareVersions=t.isVersionInfoEmpty=t.parseBasicVersionInfo=t.getVersionString=t.EMPTY_VERSION=void 0;const r=n(36625),i=n(45940);function o(e){if("number"==typeof e)return Number.isNaN(e)?[-1,"missing"]:e<0?[-1,""]:[e,""];if("string"==typeof e){const t=parseInt(e,10);return Number.isNaN(t)?[-1,"string not numeric"]:t<0?[-1,""]:[t,""]}return null==e?[-1,"missing"]:[-1,"unsupported type"]}function s(e,t,n){if(!(0===t||t>0)&&n&&""!==n)throw Error(`invalid ${e} version (failed to normalize; ${n})`)}t.EMPTY_VERSION={major:-1,minor:-1,micro:-1,unnormalized:{major:void 0,minor:void 0,micro:void 0}},Object.freeze(t.EMPTY_VERSION),t.getVersionString=function(e){return e.major<0?"":e.minor<0?`${e.major}`:e.micro<0?`${e.major}.${e.minor}`:`${e.major}.${e.minor}.${e.micro}`};const a=(0,i.verboseRegExp)("\n    ^\n    (.*?)  # <before>\n    (\\d+)  # <major>\n    (?:\n        [.]\n        (\\d+)  # <minor>\n        (?:\n            [.]\n            (\\d+)  # <micro>\n        )?\n    )?\n    ([^\\d].*)?  # <after>\n    $\n","s");function c(e){const t=e.match(a);if(!t)return;const[,n,r,i,o,s]=t;if(!n||!n.endsWith(".")){if(s&&""!==s){if("."===s)return;if(!(n&&""!==n||o&&""!==o))return}return{version:{major:parseInt(r,10),minor:i?parseInt(i,10):-1,micro:o?parseInt(o,10):-1},before:n||"",after:s||""}}}function u(e,t,n){return e.major<t.major?[1,"major"]:e.major>t.major?[-1,"major"]:-1===e.major?[0,""]:e.minor<t.minor?[1,"minor"]:e.minor>t.minor?[-1,"minor"]:-1===e.minor?[0,""]:e.micro<t.micro?[1,"micro"]:e.micro>t.micro?[-1,"micro"]:void 0!==n?n(e,t):[0,""]}t.parseBasicVersionInfo=c,t.isVersionInfoEmpty=function(e){return!!e&&"number"==typeof e.major&&"number"==typeof e.minor&&"number"==typeof e.micro&&e.major<0&&e.minor<0&&e.micro<0},t.compareVersions=u,t.normalizeVersionInfo=function(e){const n=function(e){if(!e)return t.EMPTY_VERSION;const n=function(e){const t={major:e.major,minor:e.minor,micro:e.micro},{unnormalized:n}=e;return void 0!==n&&(t.unnormalized={major:n.major,minor:n.minor,micro:n.micro}),t}(e);return void 0===n.unnormalized&&(n.unnormalized={},[n.major,n.unnormalized.major]=o(n.major),[n.minor,n.unnormalized.minor]=o(n.minor),[n.micro,n.unnormalized.micro]=o(n.micro)),n}(e);return n.raw=e.raw,n.raw||(n.raw=""),n},t.validateVersionInfo=function(e){!function(e){var t,n,r;const i=e;if(s("major",e.major,null===(t=i.unnormalized)||void 0===t?void 0:t.major),s("minor",e.minor,null===(n=i.unnormalized)||void 0===n?void 0:n.minor),s("micro",e.micro,null===(r=i.unnormalized)||void 0===r?void 0:r.micro),e.major<0)throw Error("missing major version");if(e.minor<0&&(0===e.micro||e.micro>0))throw Error("missing minor version")}(e)},t.parseVersionInfo=function(e){const t=c(e);if(void 0!==t)return t.version.raw=e,t},t.areIdenticalVersion=function(e,t,n){const[r]=u(e,t,n);return 0===r},t.areSimilarVersions=function(e,t,n){const[r,i]=u(e,t,n);return 0===r||"major"!==i&&(r<0?-1===t[i]:-1===e[i])},t.parseSemVerSafe=function(e){e=e.replace(/\.00*(?=[1-9]|0\.)/,".");const t=r.coerce(e);return null!==t&&r.valid(t)?t:new r.SemVer("0.0.0")}},97749:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRunningWorkerPool=t.QueuePosition=void 0;const r=n(19735),i=n(59314);var o;!function(e){e[e.Back=0]="Back",e[e.Front=1]="Front"}(o=t.QueuePosition||(t.QueuePosition={}));class s{constructor(e,t,n,r){this.next=e,this.workFunc=t,this.postResult=n,this.name=r,this.stopProcessing=!1}stop(){this.stopProcessing=!0}async start(){for(;!this.stopProcessing;)try{const e=await this.next();try{const t=await this.workFunc(e);this.postResult(e,t)}catch(t){this.postResult(e,void 0,t)}}catch(e){(0,r.traceError)(`Error while running worker[${this.name}].`,e);continue}}}class a{constructor(){this.items=[],this.results=new Map}add(e,t){const n={item:e};t===o.Front?this.items.unshift(n):this.items.push(n);const r=(0,i.createDeferred)();return this.results.set(n,r),r.promise}completed(e,t,n){const r=this.results.get(e);void 0!==r&&(this.results.delete(e),void 0!==n&&r.reject(n),r.resolve(t))}next(){return this.items.shift()}clear(){this.results.forEach(((e,t,n)=>{e.reject(Error("Queue stopped processing")),n.delete(t)}))}}class c{constructor(e,t=2,n="Worker"){this.workerFunc=e,this.numWorkers=t,this.name=n,this.workers=[],this.waitingWorkersUnblockQueue=[],this.queue=new a,this.stopProcessing=!1}addToQueue(e,t){if(this.stopProcessing)throw Error("Queue is stopped");const n=this.queue.add(e,t),i=this.waitingWorkersUnblockQueue.shift();if(i){const e=this.queue.next();void 0!==e?i.unblock(e):(0,r.traceError)("Work queue was empty immediately after adding item.")}return n}start(){this.stopProcessing=!1;let e=this.numWorkers;for(;e>0;)this.workers.push(new s((()=>this.nextWorkItem()),(e=>this.workerFunc(e.item)),((e,t,n)=>this.queue.completed(e,t,n)),`${this.name} ${e}`)),e-=1;this.workers.forEach((async e=>e.start()))}stop(){this.stopProcessing=!0;let e=this.workers.shift();for(;e;)e.stop(),e=this.workers.shift();this.queue.clear();let t=this.waitingWorkersUnblockQueue.shift();for(;t;)t.stop(),t=this.waitingWorkersUnblockQueue.shift()}nextWorkItem(){const e=this.queue.next();return void 0!==e?Promise.resolve(e):new Promise(((e,t)=>{this.waitingWorkersUnblockQueue.push({unblock:n=>{this.stopProcessing&&t(),e(n)},stop:()=>{t()}})}))}}t.createRunningWorkerPool=function(e,t,n){const r=new c(e,t,n);return r.start(),r}},17197:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseEnvFile=t.EnvironmentVariablesService=void 0;const o=n(86700),s=n(71017),a=n(19735),c=n(54813),u=n(61522),l=n(84974),d=n(61684);let p=class{constructor(e,t){this.pathUtils=e,this.fs=t}async parseFile(e,t){if(!e||!await this.fs.pathExists(e))return;const n=await this.fs.readFile(e).catch((e=>{(0,a.traceError)("Custom .env is likely not pointing to a valid file",e)}));return n?h(n,t):void 0}mergeVariables(e,t,n){if(!t)return;const r=["PYTHONPATH",this.pathVariable];Object.keys(e).forEach((i=>{r.indexOf(i)>=0||(void 0===t[i]||(null==n?void 0:n.overwrite))&&(t[i]=e[i])}))}appendPythonPath(e,...t){return this.appendPaths(e,"PYTHONPATH",...t)}appendPath(e,...t){return this.appendPaths(e,this.pathVariable,...t)}get pathVariable(){return this._pathVariable||(this._pathVariable=this.pathUtils.getPathVariableName()),this._pathVariable}appendPaths(e,t,...n){const r=n.filter((e=>"string"==typeof e&&e.trim().length>0)).map((e=>e.trim())).join(s.delimiter);if(0===r.length)return e;const i=e?e[t]:void 0;return i&&"string"==typeof i&&i.length>0?e[t]=i+s.delimiter+r:e[t]=r,e}};function h(e,t){const n=t||{},r={};return e.toString().split("\n").forEach(((e,t)=>{const[i,o]=function(e){const t=e.match(/^\s*(_*[a-zA-Z]\w*)\s*=\s*(.*?)?\s*$/);if(!t)return["",""];const n=t[1];let r=t[2];return r&&""!==r?("'"===r[0]&&"'"===r[r.length-1]||'"'===r[0]&&'"'===r[r.length-1])&&(r=r.substring(1,r.length-1),r=r.replace(/\\n/gm,"\n")):r="",[n,r]}(e);""!==i&&(r[i]=function(e,t,n,r=""){let i=!1,o=e;return o=o.replace(f,((e,o,s,a,c)=>a>0&&"\\"===c[a-1]?e:s&&""!==s||!o||""===o?(i=!0,e):t[o]||n[o]||r)),i||o===e||(e=o,(0,c.sendTelemetryEvent)(u.EventName.ENVFILE_VARIABLE_SUBSTITUTION)),e.replace(/\\\$/g,"$")}(o,r,n))})),r}p=r([(0,o.injectable)(),i(0,(0,o.inject)(d.IPathUtils)),i(1,(0,o.inject)(l.IFileSystem))],p),t.EnvironmentVariablesService=p,t.parseEnvFile=h;const f=/\${([a-zA-Z]\w*)?([^}\w].*)?}/g},88939:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentVariablesProvider=void 0;const o=n(86700),s=n(66828),a=n(19735),c=n(98634),u=n(17585),l=n(89515),d=n(84974),p=n(61684),h=n(35144),f=n(48683),g=n(19909);let m=class{constructor(e,t,n,r,i,o=36e5){this.envVarsService=e,this.platformService=n,this.workspaceService=r,this.process=i,this.cacheDuration=o,this.trackedWorkspaceFolders=new Set,this.fileWatchers=new Map,this.disposables=[],this.envVarCaches=new Map,t.push(this),this.changeEventEmitter=new s.EventEmitter;const a=this.workspaceService.onDidChangeConfiguration(this.configurationChanged,this);this.disposables.push(a)}get onDidEnvironmentVariablesChange(){return this.changeEventEmitter.event}dispose(){this.changeEventEmitter.dispose(),this.fileWatchers.forEach((e=>{e&&e.dispose()}))}async getEnvironmentVariables(e){var t,n;const r=null!==(n=null===(t=this.getWorkspaceFolderUri(e))||void 0===t?void 0:t.fsPath)&&void 0!==n?n:"";let i=this.envVarCaches.get(r);if(i){const t=i.data;if(t)return(0,a.traceVerbose)(`Cached data exists getEnvironmentVariables, ${e?e.fsPath:"<No Resource>"}`),{...t}}else i=new h.InMemoryCache(this.cacheDuration),this.envVarCaches.set(r,i);const o=await this._getEnvironmentVariables(e);return i.data={...o},o}async _getEnvironmentVariables(e){let t=await this.getCustomEnvironmentVariables(e);t||(t={}),this.envVarsService.mergeVariables(this.process.env,t);const n=this.platformService.pathVariableName,r=this.process.env[n];return r&&this.envVarsService.appendPath(t,r),this.process.env.PYTHONPATH&&this.envVarsService.appendPythonPath(t,this.process.env.PYTHONPATH),t}async getCustomEnvironmentVariables(e){var t;const n=new f.SystemVariables(void 0,null===(t=l.PythonSettings.getSettingsUriAndTarget(e,this.workspaceService).uri)||void 0===t?void 0:t.fsPath,this.workspaceService),r=this.workspaceService.getConfiguration("python",e).get("envFile"),i=n.resolveAny(r),o=this.getWorkspaceFolderUri(e);return this.trackedWorkspaceFolders.add(o?o.fsPath:""),this.createFileWatcher(i,o),this.envVarsService.parseFile(i,this.process.env)}configurationChanged(e){this.trackedWorkspaceFolders.forEach((t=>{const n=t&&t.length>0?s.Uri.file(t):void 0;e.affectsConfiguration("python.envFile",n)&&this.onEnvironmentFileChanged(n)}))}createFileWatcher(e,t){if(this.fileWatchers.has(e))return;const n=this.workspaceService.createFileSystemWatcher(e);this.fileWatchers.set(e,n),n&&(this.disposables.push(n.onDidChange((()=>this.onEnvironmentFileChanged(t)))),this.disposables.push(n.onDidCreate((()=>this.onEnvironmentFileCreated(t)))),this.disposables.push(n.onDidDelete((()=>this.onEnvironmentFileChanged(t)))))}getWorkspaceFolderUri(e){if(!e)return;const t=this.workspaceService.getWorkspaceFolder(e);return t?t.uri:void 0}onEnvironmentFileCreated(e){this.onEnvironmentFileChanged(e),(0,c.sendFileCreationTelemetry)()}onEnvironmentFileChanged(e){this.envVarCaches.clear(),this.changeEventEmitter.fire(e)}};m=r([(0,o.injectable)(),i(0,(0,o.inject)(g.IEnvironmentVariablesService)),i(1,(0,o.inject)(p.IDisposableRegistry)),i(2,(0,o.inject)(d.IPlatformService)),i(3,(0,o.inject)(u.IWorkspaceService)),i(4,(0,o.inject)(p.ICurrentProcess)),i(5,(0,o.optional)())],m),t.EnvironmentVariablesProvider=m},28285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(17197),i=n(88939),o=n(19909);t.registerTypes=function(e){e.addSingleton(o.IEnvironmentVariablesService,r.EnvironmentVariablesService),e.addSingleton(o.IEnvironmentVariablesProvider,i.EnvironmentVariablesProvider)}},48683:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemVariables=void 0;const r=n(71017),i=n(66828),o=n(56792),s=n(7086);t.SystemVariables=class extends class{resolve(e){return s.isString(e)?this.__resolveString(e):s.isArray(e)?this.__resolveArray(e):s.isObject(e)?this.__resolveLiteral(e):e}resolveAny(e){return s.isString(e)?this.__resolveString(e):s.isArray(e)?this.__resolveAnyArray(e):s.isObject(e)?this.__resolveAnyLiteral(e):e}__resolveString(e){return e.replace(/\$\{(.*?)\}/g,((e,t)=>{const n=this[t];return s.isString(n)?n:e&&(e.indexOf("env.")>0||e.indexOf("env:")>0)?"":e}))}__resolveLiteral(e){const t=Object.create(null);return Object.keys(e).forEach((n=>{const r=e[n];t[n]=this.resolve(r)})),t}__resolveAnyLiteral(e){const t=Object.create(null);return Object.keys(e).forEach((n=>{const r=e[n];t[n]=this.resolveAny(r)})),t}__resolveArray(e){return e.map((e=>this.__resolveString(e)))}__resolveAnyArray(e){return e.map((e=>this.resolveAny(e)))}}{constructor(e,t,n,s){var a;super();const c=n&&e?n.getWorkspaceFolder(e):void 0;this._workspaceFolder=c?c.uri.fsPath:t||__dirname,this._workspaceFolderName=r.basename(this._workspaceFolder),this._filePath=e?e.fsPath:void 0,s&&s.activeTextEditor&&(this._lineNumber=s.activeTextEditor.selection.anchor.line+1,this._selectedText=s.activeTextEditor.document.getText(new i.Range(s.activeTextEditor.selection.start,s.activeTextEditor.selection.end))),this._execPath=process.execPath,Object.keys(process.env).forEach((e=>{this[`env:${e}`]=this[`env.${e}`]=process.env[e]})),n=null!=n?n:new o.WorkspaceService;try{null===(a=n.workspaceFolders)||void 0===a||a.forEach((e=>{this[`workspaceFolder:${r.basename(e.uri.fsPath)}`]=e.uri.fsPath}))}catch(e){}}get cwd(){return this.workspaceFolder}get workspaceRoot(){return this._workspaceFolder}get workspaceFolder(){return this._workspaceFolder}get workspaceRootFolderName(){return this._workspaceFolderName}get workspaceFolderBasename(){return this._workspaceFolderName}get file(){return this._filePath}get relativeFile(){return this.file?r.relative(this._workspaceFolder,this.file):void 0}get relativeFileDirname(){return this.relativeFile?r.dirname(this.relativeFile):void 0}get fileBasename(){return this.file?r.basename(this.file):void 0}get fileBasenameNoExtension(){return this.file?r.parse(this.file).name:void 0}get fileDirname(){return this.file?r.dirname(this.file):void 0}get fileExtname(){return this.file?r.extname(this.file):void 0}get lineNumber(){return this._lineNumber}get selectedText(){return this._selectedText}get execPath(){return this._execPath}}},19909:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEnvironmentVariablesProvider=t.IEnvironmentVariablesService=void 0,t.IEnvironmentVariablesService=Symbol("IEnvironmentVariablesService"),t.IEnvironmentVariablesProvider=Symbol("IEnvironmentVariablesProvider")},98638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeCommand=t.registerCommand=void 0;const r=n(66828);t.registerCommand=function(e,t,n){return r.commands.registerCommand(e,t,n)},t.executeCommand=function(e,...t){return r.commands.executeCommand(e,...t)}},56693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withProgress=t.showInformationMessage=t.showErrorMessage=t.showQuickPick=void 0;const r=n(66828);t.showQuickPick=function(e,t,n){return r.window.showQuickPick(e,t,n)},t.showErrorMessage=function(e,...t){return r.window.showErrorMessage(e,...t)},t.showInformationMessage=function(e,...t){return r.window.showInformationMessage(e,...t)},t.withProgress=function(e,t){return r.window.withProgress(e,t)}},85261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWorkspaceFolderPaths=t.getWorkspaceFolders=void 0;const r=n(66828);t.getWorkspaceFolders=function(){return r.workspace.workspaceFolders},t.getWorkspaceFolderPaths=function(){var e,t;return null!==(t=null===(e=r.workspace.workspaceFolders)||void 0===e?void 0:e.map((e=>e.uri.fsPath)))&&void 0!==t?t:[]}},63281:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenFilePrefix=t.EXTENSION_ROOT_DIR=void 0;const r=n(71017),i=r.basename(__dirname);t.EXTENSION_ROOT_DIR="client"===i?r.join(__dirname,"..",".."):r.join(__dirname,"..","..","..",".."),t.HiddenFilePrefix="_HiddenFile_"},51097:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggerTypeName=void 0,t.DebuggerTypeName="python"},11393:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugAdapterActivator=void 0;const o=n(86700),s=n(17585),a=n(61684),c=n(17585),u=n(51097),l=n(75791),d=n(41691);let p=class{constructor(e,t,n,r,i,o,s,a){this.debugService=e,this.configSettings=t,this.commandManager=n,this.descriptorFactory=r,this.debugSessionLoggingFactory=i,this.debuggerPromptFactory=o,this.disposables=s,this.attachProcessProviderFactory=a,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1}}async activate(){this.attachProcessProviderFactory.registerCommands(),this.disposables.push(this.debugService.registerDebugAdapterTrackerFactory(u.DebuggerTypeName,this.debugSessionLoggingFactory)),this.disposables.push(this.debugService.registerDebugAdapterTrackerFactory(u.DebuggerTypeName,this.debuggerPromptFactory)),this.disposables.push(this.debugService.registerDebugAdapterDescriptorFactory(u.DebuggerTypeName,this.descriptorFactory)),this.disposables.push(this.debugService.onDidStartDebugSession((e=>{var t;this.shouldTerminalFocusOnStart(null===(t=e.workspaceFolder)||void 0===t?void 0:t.uri)&&this.commandManager.executeCommand("workbench.action.terminal.focus")})))}shouldTerminalFocusOnStart(e){var t;return null===(t=this.configSettings.getSettings(e))||void 0===t?void 0:t.terminal.focusAfterLaunch}};p=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IDebugService)),i(1,(0,o.inject)(a.IConfigurationService)),i(2,(0,o.inject)(c.ICommandManager)),i(3,(0,o.inject)(d.IDebugAdapterDescriptorFactory)),i(4,(0,o.inject)(d.IDebugSessionLoggingFactory)),i(5,(0,o.inject)(d.IOutdatedDebuggerPromptFactory)),i(6,(0,o.inject)(a.IDisposableRegistry)),i(7,(0,o.inject)(l.IAttachProcessProviderFactory))],p),t.DebugAdapterActivator=p},44673:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugAdapterDescriptorFactory=void 0;const o=n(86700),s=n(71017),a=n(66828),c=n(17585),u=n(63281),l=n(18639),d=n(19735),p=n(54813),h=n(61522),f=n(18472).loadMessageBundle();let g=class{constructor(e,t){this.interpreterService=e,this.appShell=t}async createDebugAdapterDescriptor(e,t){var n,r,i,o,c;const l=e.configuration;if("attach"===l.request){if(void 0!==l.connect)return(0,d.traceLog)(`Connecting to DAP Server at:  ${null!==(n=l.connect.host)&&void 0!==n?n:"127.0.0.1"}:${l.connect.port}`),new a.DebugAdapterServer(l.connect.port,null!==(r=l.connect.host)&&void 0!==r?r:"127.0.0.1");if(void 0!==l.port)return(0,d.traceLog)(`Connecting to DAP Server at:  ${null!==(i=l.host)&&void 0!==i?i:"127.0.0.1"}:${l.port}`),new a.DebugAdapterServer(l.port,null!==(o=l.host)&&void 0!==o?o:"127.0.0.1");if(void 0===l.listen&&void 0===l.processId)throw new Error('"request":"attach" requires either "connect", "listen", or "processId"')}const f=await this.getDebugAdapterPython(l,e.workspaceFolder);if(0!==f.length){"attach"===l.request&&void 0!==l.processId&&(0,p.sendTelemetryEvent)(h.EventName.DEBUGGER_ATTACH_TO_LOCAL_PROCESS);const e=null!==(c=f.shift())&&void 0!==c?c:"python",t=l.logToFile?["--log-dir",u.EXTENSION_ROOT_DIR]:[];if(void 0!==l.debugAdapterPath){const n=f.concat([l.debugAdapterPath,...t]);return(0,d.traceLog)(`DAP Server launched with command: ${e} ${n.join(" ")}`),new a.DebugAdapterExecutable(e,n)}const n=s.join(u.EXTENSION_ROOT_DIR,"pythonFiles","lib","python","debugpy","adapter"),r=f.concat([n,...t]);return(0,d.traceLog)(`DAP Server launched with command: ${e} ${r.join(" ")}`),(0,p.sendTelemetryEvent)(h.EventName.DEBUG_ADAPTER_USING_WHEELS_PATH,void 0,{usingWheels:!0}),new a.DebugAdapterExecutable(e,r)}throw new Error("Debug Adapter Executable not provided")}async getDebugAdapterPython(e,t){if(void 0!==e.debugAdapterPython)return this.getExecutableCommand(await this.interpreterService.getInterpreterDetails(e.debugAdapterPython));if(e.pythonPath)return this.getExecutableCommand(await this.interpreterService.getInterpreterDetails(e.pythonPath));const n=t?t.uri:void 0,r=await this.interpreterService.getActiveInterpreter(n);if(r)return(0,d.traceVerbose)(`Selecting active interpreter as Python Executable for DA '${r.path}'`),this.getExecutableCommand(r);await this.interpreterService.hasInterpreters();const i=this.interpreterService.getInterpreters(n);return 0===i.length?(this.notifySelectInterpreter().ignoreErrors(),[]):((0,d.traceVerbose)(`Picking first available interpreter to launch the DA '${i[0].path}'`),this.getExecutableCommand(i[0]))}async getExecutableCommand(e){return e&&e.path.length>0?[e.path]:[]}async notifySelectInterpreter(){await this.appShell.showErrorMessage(f("interpreterError","Please install Python or select a Python Interpreter to use the debugger."))}};g=r([(0,o.injectable)(),i(0,(0,o.inject)(l.IInterpreterService)),i(1,(0,o.inject)(c.IApplicationShell))],g),t.DebugAdapterDescriptorFactory=g},2493:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSessionLoggingFactory=void 0;const o=n(86700),s=n(71017),a=n(84974),c=n(70057),u=n(63281);class l{constructor(e,t){if(this.session=e,this.enabled=!1,this.timer=new c.StopWatch,this.enabled=this.session.configuration.logToFile,this.enabled){const e=`debugger.vscode_${this.session.id}.log`;this.stream=t.createWriteStream(s.join(u.EXTENSION_ROOT_DIR,e))}}onWillStartSession(){this.timer.reset(),this.log(`Starting Session:\n${this.stringify(this.session.configuration)}\n`)}onWillReceiveMessage(e){this.log(`Client --\x3e Adapter:\n${this.stringify(e)}\n`)}onDidSendMessage(e){this.log(`Client <-- Adapter:\n${this.stringify(e)}\n`)}onWillStopSession(){this.log("Stopping Session\n")}onError(e){this.log(`Error:\n${this.stringify(e)}\n`)}onExit(e,t){var n;this.log(`Exit:\nExit-Code: ${e||0}\nSignal: ${t||"none"}\n`),null===(n=this.stream)||void 0===n||n.close()}log(e){this.enabled&&this.stream.write(`${this.timer.elapsedTime} ${e}`)}stringify(e){return JSON.stringify(e,null,4)}}let d=class{constructor(e){this.fileSystem=e}createDebugAdapterTracker(e){return new l(e,this.fileSystem)}};d=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IFileSystem))],d),t.DebugSessionLoggingFactory=d},93951:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OutdatedDebuggerPromptFactory=void 0;const o=n(86700),s=n(17585),a=n(61684),c=n(67098);class u{constructor(e,t,n){this.promptCheck=e,this.appShell=t,this.browserService=n}onDidSendMessage(e){if(this.promptCheck.shouldShowPrompt()&&this.isPtvsd(e)){const e=[c.Common.moreInfo];this.appShell.showInformationMessage(c.OutdatedDebugger.outdatedDebuggerMessage,...e).then((t=>{t===e[0]&&this.browserService.launch("https://aka.ms/migrateToDebugpy")}))}}isPtvsd(e){if("event"===e.type){const t=e;if("output"===t.event){const e=t;if("telemetry"===e.body.category){if("ptvsd"===e.body.output&&!e.body.data.packageVersion.startsWith("1"))return this.promptCheck.setShowPrompt(!1),!0;"debugpy"===e.body.output&&this.promptCheck.setShowPrompt(!1)}}}return!1}}class l{constructor(){this.shouldShow=!0}shouldShowPrompt(){return this.shouldShow}setShowPrompt(e){this.shouldShow=e}}let d=class{constructor(e,t){this.appShell=e,this.browserService=t,this.promptCheck=new l}createDebugAdapterTracker(e){return new u(this.promptCheck,this.appShell,this.browserService)}};d=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IApplicationShell)),i(1,(0,o.inject)(a.IBrowserService))],d),t.OutdatedDebuggerPromptFactory=d},12187:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDebugpyPackagePath=t.getDebugpyLauncherArgs=void 0;const r=n(71017),i=n(77570);n(32727);const o=r.join(i.EXTENSION_ROOT_DIR,"pythonFiles","lib","python"),s=r.join(o,"debugpy");t.getDebugpyLauncherArgs=function(e,t=s){const n=e.waitUntilDebuggerAttaches?["--wait-for-client"]:[];return[t.fileToCommandArgumentForPythonExt(),"--listen",`${e.host}:${e.port}`,...n]},t.getDebugpyPackagePath=function(){return s}},56471:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.AttachProcessProviderFactory=void 0;const o=n(86700),s=n(17585),a=n(77570),c=n(84974),u=n(29983),l=n(61684),d=n(52285),p=n(95868);let h=class{constructor(e,t,n,r,i){this.applicationShell=e,this.commandManager=t,this.platformService=n,this.processServiceFactory=r,this.disposableRegistry=i}registerCommands(){const e=new p.AttachProcessProvider(this.platformService,this.processServiceFactory),t=new d.AttachPicker(this.applicationShell,e),n=this.commandManager.registerCommand(a.Commands.PickLocalProcess,(()=>t.showQuickPick()),this);this.disposableRegistry.push(n)}};h=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IApplicationShell)),i(1,(0,o.inject)(s.ICommandManager)),i(2,(0,o.inject)(c.IPlatformService)),i(3,(0,o.inject)(u.IProcessServiceFactory)),i(4,(0,o.inject)(l.IDisposableRegistry))],h),t.AttachProcessProviderFactory=h},52285:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.AttachPicker=void 0;const o=n(86700),s=n(17585),a=n(1040),c=n(67098),u=n(75791);let l=class{constructor(e,t){this.applicationShell=e,this.attachItemsProvider=t}showQuickPick(){return new Promise((async(e,t)=>{const n=await this.attachItemsProvider.getAttachItems(),r={iconPath:(0,a.getIcon)(u.REFRESH_BUTTON_ICON),tooltip:c.AttachProcess.refreshList},i=this.applicationShell.createQuickPick();i.title=c.AttachProcess.attachTitle,i.placeholder=c.AttachProcess.selectProcessPlaceholder,i.canSelectMany=!1,i.matchOnDescription=!0,i.matchOnDetail=!0,i.items=n,i.buttons=[r];const o=[];i.onDidTriggerButton((async()=>{i.busy=!0;const e=await this.attachItemsProvider.getAttachItems();i.items=e,i.busy=!1}),this,o),i.onDidAccept((()=>{1!==i.selectedItems.length&&t(new Error(c.AttachProcess.noProcessSelected));const n=i.selectedItems[0].id;o.forEach((e=>e.dispose())),i.dispose(),e(n)}),void 0,o),i.onDidHide((()=>{o.forEach((e=>e.dispose())),i.dispose(),t(new Error(c.AttachProcess.noProcessSelected))}),void 0,o),i.show()}))}};l=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IApplicationShell))],l),t.AttachPicker=l},95868:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.AttachProcessProvider=void 0;const o=n(86700),s=n(18472),a=n(84974),c=n(29983),u=n(26942),l=n(20557),d=s.loadMessageBundle();let p=class{constructor(e,t){this.platformService=e,this.processServiceFactory=t}getAttachItems(){return this._getInternalProcessEntries().then((e=>(e.sort((({processName:e,commandLine:t},{processName:n,commandLine:r})=>{const i=(e,t)=>{const n=e.toLowerCase(),r=t.toLowerCase();return n===r?0:n<r?-1:1},o=e.startsWith("python"),s=n.startsWith("python");return o||s?o&&!s?-1:s&&!o?1:o?i(t,r):i(r,t):i(e,n)})),e)))}async _getInternalProcessEntries(){let e;if(this.platformService.isMac)e=u.PsProcessParser.psDarwinCommand;else if(this.platformService.isLinux)e=u.PsProcessParser.psLinuxCommand;else{if(!this.platformService.isWindows)throw new Error(d("AttachProcess.unsupportedOS","Operating system '{0}' not supported.",this.platformService.osType));e=l.WmicProcessParser.wmicCommand}const t=await this.processServiceFactory.create(),n=await t.exec(e.command,e.args,{throwOnStdErr:!0});return this.platformService.isWindows?l.WmicProcessParser.parseProcesses(n.stdout):u.PsProcessParser.parseProcesses(n.stdout)}};p=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IPlatformService)),i(1,(0,o.inject)(c.IProcessServiceFactory))],p),t.AttachProcessProvider=p},26942:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PsProcessParser=void 0,function(e){const t="".padStart(50,"a");function n(e){const t=new RegExp("^\\s*([0-9]+)\\s+(.{49})\\s+(.*)$").exec(e);if(4===(null==t?void 0:t.length)){const e=t[1].trim(),n=t[2].trim(),r=t[3].trim();return{label:n,description:e,detail:r,id:e,processName:n,commandLine:r}}}e.psLinuxCommand={command:"ps",args:["axww","-o",`pid=,comm=${t},args=`]},e.psDarwinCommand={command:"ps",args:["axww","-o",`pid=,comm=${t},args=`,"-c"]},e.parseProcesses=function(e){return function(e){const t=[];for(let r=1;r<e.length;r+=1){const i=e[r];if(!i)continue;const o=n(i);o&&t.push(o)}return t}(e.split("\n"))}}(t.PsProcessParser||(t.PsProcessParser={}))},75791:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REFRESH_BUTTON_ICON=t.IAttachProcessProviderFactory=void 0,t.IAttachProcessProviderFactory=Symbol("IAttachProcessProviderFactory"),t.REFRESH_BUTTON_ICON="refresh.svg"},20557:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WmicProcessParser=void 0,function(e){const t="ProcessId",n={label:"",description:"",detail:"",id:"",processName:"",commandLine:""};function r(e,n){const r=e.indexOf("="),i=n;if(r>0){const n=e.slice(0,r).trim();let o=e.slice(r+1).trim();if("Name"===n)i.label=o,i.processName=o;else if(n===t)i.description=o,i.id=o;else if("CommandLine"===n){const e="\\??\\";0===o.lastIndexOf(e,0)&&(o=o.slice(e.length)),i.detail=o,i.commandLine=o}}return i}e.wmicCommand={command:"wmic",args:["process","get","Name,ProcessId,CommandLine","/FORMAT:list"]},e.parseProcesses=function(e){const i=e.split("\r\n"),o=[];let s={...n};for(const e of i)e.length&&(r(e,s),0===e.lastIndexOf(t,0)&&(o.push(s),s={...n}));return o}}(t.WmicProcessParser||(t.WmicProcessParser={}))},15200:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggerBanner=t.PersistentStateKeys=void 0;const o=n(86700),s=n(66828),a=n(17585);n(32727);const c=n(61684),u=n(67098),l=n(77498),d=n(19735),p=n(51097),h=n(18472).loadMessageBundle();var f;!function(e){e.ShowBanner="ShowBanner",e.DebuggerLaunchCounter="DebuggerLaunchCounter",e.DebuggerLaunchThresholdCounter="DebuggerLaunchThresholdCounter",e.UserSelected="DebuggerUserSelected"}(f=t.PersistentStateKeys||(t.PersistentStateKeys={}));let g=class{constructor(e){this.serviceContainer=e}initialize(){this.initialized||(this.initialized=!0,this.isEnabled()&&this.addCallback())}isEnabled(){const e=this.serviceContainer.get(c.IPersistentStateFactory),t=f.ShowBanner;return e.createGlobalPersistentState(t,!0).value}async disable(){const e=this.serviceContainer.get(c.IPersistentStateFactory),t=f.ShowBanner,n=e.createGlobalPersistentState(t,!1);await n.updateValue(!1)}async shouldShow(){return!(!this.isEnabled()||this.disabledInCurrentSession||s.env.uiKind===(null===s.UIKind||void 0===s.UIKind?void 0:s.UIKind.Web))&&!!await this.passedThreshold()&&this.isUserSelected()}async show(){const e=this.serviceContainer.get(a.IApplicationShell),t=h("debuggerSurveyText","Can you please take 2 minutes to tell us how the debugger is working for you?"),n=u.CommonSurvey.yesLabel,r=u.CommonSurvey.noLabel,i=u.CommonSurvey.remindMeLaterLabel;switch(await e.showInformationMessage(t,n,r,i)){case n:await this.action(),await this.disable();break;case r:await this.disable();break;default:this.disabledInCurrentSession=!0}}async action(){const e=await this.getGetDebuggerLaunchCounter();this.serviceContainer.get(c.IBrowserService).launch(`https://www.research.net/r/N7B25RV?n=${e}`)}async isUserSelected(){if(void 0!==this.userSelected)return this.userSelected;const e=this.serviceContainer.get(c.IPersistentStateFactory),t=f.UserSelected,n=e.createGlobalPersistentState(t,void 0);let r=n.value;return void 0===r&&(r=this.serviceContainer.get(c.IRandom).getRandomInt(0,100)<10,n.updateValue(r).ignoreErrors()),this.userSelected=r,r}async passedThreshold(){const[e,t]=await Promise.all([this.getDebuggerLaunchThresholdCounter(),this.getGetDebuggerLaunchCounter()]);return t>=e}async incrementDebuggerLaunchCounter(){const e=this.serviceContainer.get(c.IPersistentStateFactory),t=f.DebuggerLaunchCounter,n=e.createGlobalPersistentState(t,0);await n.updateValue(n.value+1)}async getGetDebuggerLaunchCounter(){const e=this.serviceContainer.get(c.IPersistentStateFactory),t=f.DebuggerLaunchCounter;return e.createGlobalPersistentState(t,0).value}async getDebuggerLaunchThresholdCounter(){const e=this.serviceContainer.get(c.IPersistentStateFactory),t=f.DebuggerLaunchThresholdCounter,n=e.createGlobalPersistentState(t,void 0);if(void 0===n.value){const e=this.serviceContainer.get(c.IRandom).getRandomInt(1,11);await n.updateValue(e)}return n.value}addCallback(){const e=this.serviceContainer.get(a.IDebugService).onDidTerminateDebugSession((async e=>{e.type===p.DebuggerTypeName&&await this.onDidTerminateDebugSession().catch((e=>(0,d.traceError)("Error in debugger Banner",e)))}));this.serviceContainer.get(c.IDisposableRegistry).push(e)}async onDidTerminateDebugSession(){this.isEnabled()&&(await this.incrementDebuggerLaunchCounter(),await this.shouldShow()&&await this.show())}};g=r([(0,o.injectable)(),i(0,(0,o.inject)(l.IServiceContainer))],g),t.DebuggerBanner=g},23728:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonDebugConfigurationService=void 0;const o=n(86700),s=n(96486),a=n(67098),c=n(22207),u=n(41691),l=n(32442),d=n(80),p=n(4846),h=n(74200),f=n(37318),g=n(88372),m=n(32877),v=n(36489),y=n(45093);let b=class{constructor(e,t,n){this.attachResolver=e,this.launchResolver=t,this.multiStepFactory=n,this.cacheDebugConfig=void 0}async provideDebugConfigurations(e,t){const n={config:{},folder:e,token:t},r=this.multiStepFactory.create();return await r.run(((e,t)=>this.pickDebugConfiguration(e,t)),n),0===Object.keys(n.config).length?void 0:[n.config]}async resolveDebugConfiguration(e,t,n){if("attach"===t.request)return this.attachResolver.resolveDebugConfiguration(e,t,n);if("test"===t.request)throw Error('This configuration can only be used by the test debugging commands. `"request": "test"` is deprecated, please keep as `"request": "launch"` and add `"purpose": ["debug-test"]` instead.');if(0===Object.keys(t).length)if(this.cacheDebugConfig)t=(0,s.cloneDeep)(this.cacheDebugConfig);else{const r=await this.provideDebugConfigurations(e,n);if(void 0===r)return;Array.isArray(r)&&1===r.length&&(t=r[0]),this.cacheDebugConfig=(0,s.cloneDeep)(t)}return this.launchResolver.resolveDebugConfiguration(e,t,n)}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){function r(r){return r.resolveDebugConfigurationWithSubstitutedVariables(e,t,n)}return"attach"===t.request?r(this.attachResolver):r(this.launchResolver)}async pickDebugConfiguration(e,t){const n=[{label:a.DebugConfigStrings.file.selectConfiguration.label,type:u.DebugConfigurationType.launchFile,description:a.DebugConfigStrings.file.selectConfiguration.description},{label:a.DebugConfigStrings.module.selectConfiguration.label,type:u.DebugConfigurationType.launchModule,description:a.DebugConfigStrings.module.selectConfiguration.description},{label:a.DebugConfigStrings.attach.selectConfiguration.label,type:u.DebugConfigurationType.remoteAttach,description:a.DebugConfigStrings.attach.selectConfiguration.description},{label:a.DebugConfigStrings.attachPid.selectConfiguration.label,type:u.DebugConfigurationType.pidAttach,description:a.DebugConfigStrings.attachPid.selectConfiguration.description},{label:a.DebugConfigStrings.django.selectConfiguration.label,type:u.DebugConfigurationType.launchDjango,description:a.DebugConfigStrings.django.selectConfiguration.description},{label:a.DebugConfigStrings.fastapi.selectConfiguration.label,type:u.DebugConfigurationType.launchFastAPI,description:a.DebugConfigStrings.fastapi.selectConfiguration.description},{label:a.DebugConfigStrings.flask.selectConfiguration.label,type:u.DebugConfigurationType.launchFlask,description:a.DebugConfigStrings.flask.selectConfiguration.description},{label:a.DebugConfigStrings.pyramid.selectConfiguration.label,type:u.DebugConfigurationType.launchPyramid,description:a.DebugConfigStrings.pyramid.selectConfiguration.description}],r=new Map;r.set(u.DebugConfigurationType.launchDjango,l.buildDjangoLaunchDebugConfiguration),r.set(u.DebugConfigurationType.launchFastAPI,d.buildFastAPILaunchDebugConfiguration),r.set(u.DebugConfigurationType.launchFile,p.buildFileLaunchDebugConfiguration),r.set(u.DebugConfigurationType.launchFlask,h.buildFlaskLaunchDebugConfiguration),r.set(u.DebugConfigurationType.launchModule,f.buildModuleLaunchConfiguration),r.set(u.DebugConfigurationType.pidAttach,g.buildPidAttachConfiguration),r.set(u.DebugConfigurationType.remoteAttach,v.buildRemoteAttachConfiguration),r.set(u.DebugConfigurationType.launchPyramid,m.buildPyramidLaunchConfiguration),t.config={};const i=await e.showQuickPick({title:a.DebugConfigStrings.selectConfiguration.title,placeholder:a.DebugConfigStrings.selectConfiguration.placeholder,activeItem:n[0],items:n});if(i)return r.get(i.type)(e,t)}};b=r([(0,o.injectable)(),i(0,(0,o.inject)(y.IDebugConfigurationResolver)),i(0,(0,o.named)("attach")),i(1,(0,o.inject)(y.IDebugConfigurationResolver)),i(1,(0,o.named)("launch")),i(2,(0,o.inject)(c.IMultiStepInputFactory))],b),t.PythonDebugConfigurationService=b},58184:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicPythonDebugConfigurationService=void 0;const o=n(71017),s=n(86700),a=n(84974),c=n(61684),u=n(51097),l=n(99910);let d=class{constructor(e,t){this.fs=e,this.pathUtils=t}async provideDebugConfigurations(e,t){const n=[];n.push({name:"Python: File",type:u.DebuggerTypeName,request:"launch",program:"${file}",justMyCode:!0});const r=await this.getDjangoPath(e);r&&n.push({name:"Python: Django",type:u.DebuggerTypeName,request:"launch",program:`\${workspaceFolder}${this.pathUtils.separator}${r}`,args:["runserver"],django:!0,justMyCode:!0});const i=await this.getFlaskPath(e);i&&n.push({name:"Python: Flask",type:u.DebuggerTypeName,request:"launch",module:"flask",env:{FLASK_APP:o.relative(e.uri.fsPath,i),FLASK_DEBUG:"1"},args:["run","--no-debugger","--no-reload"],jinja:!0,justMyCode:!0});let s=await this.getFastApiPath(e);return s&&(s=o.relative(e.uri.fsPath,s).replaceAll(this.pathUtils.separator,".").replace(".py",""),n.push({name:"Python: FastAPI",type:u.DebuggerTypeName,request:"launch",module:"uvicorn",args:[`${s}:app`],jinja:!0,justMyCode:!0})),n}async getDjangoPath(e){const t=await this.getPossiblePaths(e,["manage.py","*/manage.py","app.py","*/app.py"],/execute_from_command_line\(/);return t.length?o.relative(e.uri.fsPath,t[0]):null}async getFastApiPath(e){const t=await this.getPossiblePaths(e,["main.py","app.py","*/main.py","*/app.py","*/*/main.py","*/*/app.py"],/app\s*=\s*FastAPI\(/);return t.length?t[0]:null}async getFlaskPath(e){const t=await this.getPossiblePaths(e,["__init__.py","app.py","wsgi.py","*/__init__.py","*/app.py","*/wsgi.py"],/app(?:lication)?\s*=\s*(?:flask\.)?Flask\(|def\s+(?:create|make)_app\(/);return t.length?t[0]:null}async getPossiblePaths(e,t,n){const r=await Promise.allSettled(t.map((async t=>this.fs.search(o.join(e.uri.fsPath,t))))),i=[];return r.forEach((e=>i.push(...e.value))),await(0,l.asyncFilter)(i,(async e=>n.exec((await this.fs.readFile(e)).toString())))}};d=r([(0,s.injectable)(),i(0,(0,s.inject)(a.IFileSystem)),i(1,(0,s.inject)(c.IPathUtils))],d),t.DynamicPythonDebugConfigurationService=d},88248:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LaunchJsonCompletionProvider=void 0;const o=n(86700),s=n(60516),a=n(71017),c=n(66828),u=n(17585),l=n(61684),d=n(67098);var p;!function(e){e.json="json",e.jsonWithComments="jsonc"}(p||(p={}));let h=class{constructor(e,t){this.languageService=e,this.disposableRegistry=t,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1}}async activate(){this.disposableRegistry.push(this.languageService.registerCompletionItemProvider({language:p.json},this)),this.disposableRegistry.push(this.languageService.registerCompletionItemProvider({language:p.jsonWithComments},this))}async provideCompletionItems(e,t,n){return this.canProvideCompletions(e,t)?[{command:{command:"python.SelectAndInsertDebugConfiguration",title:d.DebugConfigStrings.launchJsonCompletions.description,arguments:[e,t,n]},documentation:d.DebugConfigStrings.launchJsonCompletions.description,sortText:"AAAA",preselect:!0,kind:c.CompletionItemKind.Enum,label:d.DebugConfigStrings.launchJsonCompletions.label,insertText:new c.SnippetString}]:[]}canProvideCompletions(e,t){if("launch.json"!==a.basename(e.uri.fsPath))return!1;const n=(0,s.getLocation)(e.getText(),e.offsetAt(t));return"configurations"===n.path[0]&&2===n.path.length}};h=r([(0,o.injectable)(),i(0,(0,o.inject)(u.ILanguageService)),i(1,(0,o.inject)(l.IDisposableRegistry))],h),t.LaunchJsonCompletionProvider=h},71762:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterPathCommand=void 0;const o=n(86700),s=n(66828),a=n(17585),c=n(77570),u=n(61684),l=n(18639);let d=class{constructor(e,t,n){this.commandManager=e,this.interpreterService=t,this.disposables=n,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1}}async activate(){this.disposables.push(this.commandManager.registerCommand(c.Commands.GetSelectedInterpreterPath,(e=>this._getSelectedInterpreterPath(e))))}async _getSelectedInterpreterPath(e){var t,n;const r="workspaceFolder"in e?e.workspaceFolder:e[1]?e[1]:void 0;let i;try{i=r?s.Uri.parse(r):void 0}catch(e){i=void 0}return null!==(n=null===(t=await this.interpreterService.getActiveInterpreter(i))||void 0===t?void 0:t.path)&&void 0!==n?n:"python"}};d=r([(0,o.injectable)(),i(0,(0,o.inject)(a.ICommandManager)),i(1,(0,o.inject)(l.IInterpreterService)),i(2,(0,o.inject)(u.IDisposableRegistry))],d),t.InterpreterPathCommand=d},40169:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LaunchJsonReader=void 0;const o=n(71017),s=n(60516),a=n(86700),c=n(84974),u=n(17585);let l=class{constructor(e,t){this.fs=e,this.workspaceService=t}async getConfigurationsForWorkspace(e){const t=o.join(e.uri.fsPath,".vscode","launch.json");if(!await this.fs.fileExists(t))return[];const n=await this.fs.readFile(t),r=(0,s.parse)(n,[],{allowTrailingComma:!0,disallowComments:!1});if(!r.configurations||!Array.isArray(r.configurations))throw Error("Missing field in launch.json: configurations");if(!r.version)throw Error("Missing field in launch.json: version");return r.configurations}async getConfigurationsByUri(e){const t=this.workspaceService.getWorkspaceFolder(e);return t?this.getConfigurationsForWorkspace(t):[]}};l=r([(0,a.injectable)(),i(0,(0,a.inject)(c.IFileSystem)),i(1,(0,a.inject)(u.IWorkspaceService))],l),t.LaunchJsonReader=l},75734:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LaunchJsonUpdaterService=t.LaunchJsonUpdaterServiceHelper=void 0;const o=n(86700),s=n(60516),a=n(66828),c=n(17585),u=n(61684),l=n(3481),d=n(54813),p=n(61522),h=n(41691);class f{constructor(e,t,n,r){this.commandManager=e,this.workspace=t,this.documentManager=n,this.configurationProvider=r}async selectAndInsertDebugConfig(e,t,n){if(this.documentManager.activeTextEditor&&this.documentManager.activeTextEditor.document===e){const r=this.workspace.getWorkspaceFolder(e.uri),i=await this.configurationProvider.provideDebugConfigurations(r,n);!n.isCancellationRequested&&Array.isArray(i)&&i.length>0&&await this.insertDebugConfiguration(e,t,i[0])}}async insertDebugConfiguration(e,t,n){const r=this.getCursorPositionInConfigurationsArray(e,t);if(!r)return;const i=this.isCommaImmediatelyBeforeCursor(e,t)?"BeforeCursor":void 0,o=this.getTextForInsertion(n,r,i),s=new a.WorkspaceEdit;s.insert(e.uri,t,o),await this.documentManager.applyEdit(s),this.commandManager.executeCommand("editor.action.formatDocument").then(l.noop,l.noop)}getTextForInsertion(e,t,n){const r=JSON.stringify(e);return"AfterItem"===t?"BeforeCursor"===n?r:`,${r}`:"BeforeItem"===t?`${r},`:r}getCursorPositionInConfigurationsArray(e,t){if(this.isConfigurationArrayEmpty(e))return"InsideEmptyArray";const n=(0,s.createScanner)(e.getText(),!0);n.setPosition(e.offsetAt(t));const r=n.scan();return 5===r||4===r?"AfterItem":1===r?"BeforeItem":void 0}isConfigurationArrayEmpty(e){const t=(0,s.parse)(e.getText(),[],{allowTrailingComma:!0,disallowComments:!1});return!t||!Array.isArray(t.configurations)||0===t.configurations.length}isCommaImmediatelyBeforeCursor(e,t){const n=e.lineAt(t.line),r=e.getText(new a.Range(n.range.start,t));if(r.trim().endsWith(","))return!0;if(0!==r.trim().length)return!1;let i=t.line-1;for(;i>0;){const t=e.lineAt(i).text;if(t.trim().endsWith(","))return!0;if(0!==t.trim().length)return!1;i-=1}return!1}}r([(0,d.captureTelemetry)(p.EventName.DEBUGGER_CONFIGURATION_PROMPTS_IN_LAUNCH_JSON)],f.prototype,"selectAndInsertDebugConfig",null),t.LaunchJsonUpdaterServiceHelper=f;let g=class{constructor(e,t,n,r,i){this.commandManager=e,this.disposableRegistry=t,this.workspace=n,this.documentManager=r,this.configurationProvider=i,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1}}async activate(){const e=new f(this.commandManager,this.workspace,this.documentManager,this.configurationProvider);this.disposableRegistry.push(this.commandManager.registerCommand("python.SelectAndInsertDebugConfiguration",e.selectAndInsertDebugConfig,e))}};g=r([(0,o.injectable)(),i(0,(0,o.inject)(c.ICommandManager)),i(1,(0,o.inject)(u.IDisposableRegistry)),i(2,(0,o.inject)(c.IWorkspaceService)),i(3,(0,o.inject)(c.IDocumentManager)),i(4,(0,o.inject)(h.IDebugConfigurationService))],g),t.LaunchJsonUpdaterService=g},32442:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getManagePyPath=t.validateManagePy=t.buildDjangoLaunchDebugConfiguration=void 0;const r=n(71017),i=n(55674),o=n(67098),s=n(54813),a=n(61522),c=n(51097),u=n(41691),l=n(64551);async function d(e,t,n){const r=o.DebugConfigStrings.django.enterManagePyPath.invalid;if(!n||0===n.trim().length)return r;const s=(0,l.resolveVariables)(n,void 0,e);return(n===t||await i.pathExists(s))&&s.trim().toLowerCase().endsWith(".py")?void 0:r}async function p(e){if(!e)return;const t=r.join(e.uri.fsPath,"manage.py");return await i.pathExists(t)?`\${workspaceFolder}${r.sep}manage.py`:void 0}t.buildDjangoLaunchDebugConfiguration=async function(e,t){const n=await p(t.folder);let i;const l=`\${workspaceFolder}${r.sep}manage.py`,h={name:o.DebugConfigStrings.django.snippet.name,type:c.DebuggerTypeName,request:"launch",program:n||l,args:["runserver"],django:!0,justMyCode:!0};if(!n){const n=await e.showInputBox({title:o.DebugConfigStrings.django.enterManagePyPath.title,value:l,prompt:o.DebugConfigStrings.django.enterManagePyPath.prompt,validate:e=>d(t.folder,l,e)});n&&(i=!0,h.program=n)}(0,s.sendTelemetryEvent)(a.EventName.DEBUGGER_CONFIGURATION_PROMPTS,void 0,{configurationType:u.DebugConfigurationType.launchDjango,autoDetectedDjangoManagePyPath:!!n,manuallyEnteredAValue:i}),Object.assign(t.config,h)},t.validateManagePy=d,t.getManagePyPath=p},80:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getApplicationPath=t.buildFastAPILaunchDebugConfiguration=void 0;const r=n(71017),i=n(55674),o=n(67098),s=n(54813),a=n(61522),c=n(51097),u=n(41691);async function l(e){if(!e)return;const t=r.join(e.uri.fsPath,"main.py");return await i.pathExists(t)?"main.py":void 0}t.buildFastAPILaunchDebugConfiguration=async function(e,t){const n=await l(t.folder);let i;const d={name:o.DebugConfigStrings.fastapi.snippet.name,type:c.DebuggerTypeName,request:"launch",module:"uvicorn",args:["main:app"],jinja:!0,justMyCode:!0};if(!n){const t=await e.showInputBox({title:o.DebugConfigStrings.fastapi.enterAppPathOrNamePath.title,value:"main.py",prompt:o.DebugConfigStrings.fastapi.enterAppPathOrNamePath.prompt,validate:e=>Promise.resolve(e&&e.trim().length>0?void 0:o.DebugConfigStrings.fastapi.enterAppPathOrNamePath.invalid)});t&&(i=!0,d.args=[`${r.basename(t,".py").replace("/",".")}:app`])}(0,s.sendTelemetryEvent)(a.EventName.DEBUGGER_CONFIGURATION_PROMPTS,void 0,{configurationType:u.DebugConfigurationType.launchFastAPI,autoDetectedFastAPIMainPyPath:!!n,manuallyEnteredAValue:i}),Object.assign(t.config,d)},t.getApplicationPath=l},4846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildFileLaunchDebugConfiguration=void 0;const r=n(67098),i=n(54813),o=n(61522),s=n(51097),a=n(41691);t.buildFileLaunchDebugConfiguration=async function(e,t){const n={name:r.DebugConfigStrings.file.snippet.name,type:s.DebuggerTypeName,request:"launch",program:"${file}",console:"integratedTerminal",justMyCode:!0};(0,i.sendTelemetryEvent)(o.EventName.DEBUGGER_CONFIGURATION_PROMPTS,void 0,{configurationType:a.DebugConfigurationType.launchFastAPI}),Object.assign(t.config,n)}},74200:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getApplicationPath=t.buildFlaskLaunchDebugConfiguration=void 0;const r=n(71017),i=n(55674),o=n(67098),s=n(54813),a=n(61522),c=n(51097),u=n(41691);async function l(e){if(!e)return;const t=r.join(e.uri.fsPath,"app.py");return await i.pathExists(t)?"app.py":void 0}t.buildFlaskLaunchDebugConfiguration=async function(e,t){const n=await l(t.folder);let r;const i={name:o.DebugConfigStrings.flask.snippet.name,type:c.DebuggerTypeName,request:"launch",module:"flask",env:{FLASK_APP:n||"app.py",FLASK_DEBUG:"1"},args:["run","--no-debugger","--no-reload"],jinja:!0,justMyCode:!0};if(!n){const t=await e.showInputBox({title:o.DebugConfigStrings.flask.enterAppPathOrNamePath.title,value:"app.py",prompt:o.DebugConfigStrings.flask.enterAppPathOrNamePath.prompt,validate:e=>Promise.resolve(e&&e.trim().length>0?void 0:o.DebugConfigStrings.flask.enterAppPathOrNamePath.invalid)});t&&(r=!0,i.env.FLASK_APP=t)}(0,s.sendTelemetryEvent)(a.EventName.DEBUGGER_CONFIGURATION_PROMPTS,void 0,{configurationType:u.DebugConfigurationType.launchFlask,autoDetectedFlaskAppPyPath:!!n,manuallyEnteredAValue:r}),Object.assign(t.config,i)},t.getApplicationPath=l},37318:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildModuleLaunchConfiguration=void 0;const r=n(67098),i=n(54813),o=n(61522),s=n(51097),a=n(41691);t.buildModuleLaunchConfiguration=async function(e,t){let n;const c={name:r.DebugConfigStrings.module.snippet.name,type:s.DebuggerTypeName,request:"launch",module:r.DebugConfigStrings.module.snippet.default,justMyCode:!0},u=await e.showInputBox({title:r.DebugConfigStrings.module.enterModule.title,value:c.module||r.DebugConfigStrings.module.enterModule.default,prompt:r.DebugConfigStrings.module.enterModule.prompt,validate:e=>Promise.resolve(e&&e.trim().length>0?void 0:r.DebugConfigStrings.module.enterModule.invalid)});u&&(n=!0,c.module=u),(0,i.sendTelemetryEvent)(o.EventName.DEBUGGER_CONFIGURATION_PROMPTS,void 0,{configurationType:a.DebugConfigurationType.launchModule,manuallyEnteredAValue:n}),Object.assign(t.config,c)}},88372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildPidAttachConfiguration=void 0;const r=n(67098),i=n(54813),o=n(61522),s=n(51097),a=n(41691);t.buildPidAttachConfiguration=async function(e,t){const n={name:r.DebugConfigStrings.attachPid.snippet.name,type:s.DebuggerTypeName,request:"attach",processId:"${command:pickProcess}",justMyCode:!0};(0,i.sendTelemetryEvent)(o.EventName.DEBUGGER_CONFIGURATION_PROMPTS,void 0,{configurationType:a.DebugConfigurationType.pidAttach}),Object.assign(t.config,n)}},32877:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDevelopmentIniPath=t.validateIniPath=t.buildPyramidLaunchConfiguration=void 0;const r=n(71017),i=n(55674),o=n(67098),s=n(54813),a=n(61522),c=n(51097),u=n(41691),l=n(18472),d=n(64551),p=l.loadMessageBundle();async function h(e,t,n){if(!e)return;const r=o.DebugConfigStrings.pyramid.enterDevelopmentIniPath.invalid;if(!n||0===n.trim().length)return r;const s=(0,d.resolveVariables)(n,void 0,e);return(n===t||i.pathExists(s))&&s.trim().toLowerCase().endsWith(".ini")?void 0:r}async function f(e){if(!e)return;const t=r.join(e.uri.fsPath,"development.ini");return await i.pathExists(t)?`\${workspaceFolder}${r.sep}development.ini`:void 0}t.buildPyramidLaunchConfiguration=async function(e,t){const n=await f(t.folder),i=`\${workspaceFolder}${r.sep}development.ini`;let l;const d={name:o.DebugConfigStrings.pyramid.snippet.name,type:c.DebuggerTypeName,request:"launch",module:"pyramid.scripts.pserve",args:[n||i],pyramid:!0,jinja:!0,justMyCode:!0};if(!n){const n=await e.showInputBox({title:o.DebugConfigStrings.pyramid.enterDevelopmentIniPath.title,value:i,prompt:p("debug.pyramidEnterDevelopmentIniPathPrompt","Enter the path to development.ini ({0} points to the root of the current workspace folder)","${workspaceFolder}"),validate:e=>h(t?t.folder:void 0,i,e)});n&&(l=!0,d.args=[n])}(0,s.sendTelemetryEvent)(a.EventName.DEBUGGER_CONFIGURATION_PROMPTS,void 0,{configurationType:u.DebugConfigurationType.launchPyramid,autoDetectedPyramidIniPath:!!n,manuallyEnteredAValue:l}),Object.assign(t.config,d)},t.validateIniPath=h,t.getDevelopmentIniPath=f},36489:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildRemoteAttachConfiguration=void 0;const r=n(67098),i=n(54813),o=n(61522),s=n(51097),a=n(41691),c=n(84290),u="localhost";t.buildRemoteAttachConfiguration=async function(e,t){const n={name:r.DebugConfigStrings.attach.snippet.name,type:s.DebuggerTypeName,request:"attach",connect:{host:u,port:5678},pathMappings:[{localRoot:"${workspaceFolder}",remoteRoot:"."}],justMyCode:!0},l=n.connect;return l.host=await e.showInputBox({title:r.DebugConfigStrings.attach.enterRemoteHost.title,step:1,totalSteps:2,value:l.host||u,prompt:r.DebugConfigStrings.attach.enterRemoteHost.prompt,validate:e=>Promise.resolve(e&&e.trim().length>0?void 0:r.DebugConfigStrings.attach.enterRemoteHost.invalid)}),l.host||(l.host=u),(0,i.sendTelemetryEvent)(o.EventName.DEBUGGER_CONFIGURATION_PROMPTS,void 0,{configurationType:a.DebugConfigurationType.remoteAttach,manuallyEnteredAValue:l.host!==u}),Object.assign(t.config,n),n=>(0,c.configurePort)(e,t.config)}},91922:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.AttachConfigurationResolver=void 0;const o=n(86700),s=n(17585),a=n(84974),c=n(61684),u=n(18639),l=n(7317),d=n(52062);let p=class extends d.BaseConfigurationResolver{constructor(e,t,n,r,i){super(e,t,n,r,i)}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){const r=this.getWorkspaceFolder(e);await this.provideAttachDefaults(r,t);const i=t;return Array.isArray(i.debugOptions)&&(i.debugOptions=i.debugOptions.filter(((e,t)=>i.debugOptions.indexOf(e)===t))),t}async provideAttachDefaults(e,t){Array.isArray(t.debugOptions)||(t.debugOptions=[]),t.connect||t.listen||t.host||(t.host="localhost"),void 0===t.justMyCode&&(t.justMyCode=!t.debugStdLib),t.showReturnValue=!1!==t.showReturnValue,t.workspaceFolder=e?e.fsPath:void 0;const n=t.debugOptions;t.justMyCode||this.debugOption(n,l.DebugOptions.DebugStdLib),t.django&&this.debugOption(n,l.DebugOptions.Django),t.jinja&&this.debugOption(n,l.DebugOptions.Jinja),!0===t.subProcess&&this.debugOption(n,l.DebugOptions.SubProcess),t.pyramid&&-1===n.indexOf(l.DebugOptions.Jinja)&&!1!==t.jinja&&this.debugOption(n,l.DebugOptions.Jinja),(t.redirectOutput||void 0===t.redirectOutput)&&this.debugOption(n,l.DebugOptions.RedirectOutput);const r=this.isLocalHost(t.host);this.platformService.isWindows&&r&&this.debugOption(n,l.DebugOptions.FixFilePathCase),this.platformService.isWindows?this.debugOption(n,l.DebugOptions.WindowsClient):this.debugOption(n,l.DebugOptions.UnixClient),t.showReturnValue&&this.debugOption(n,l.DebugOptions.ShowReturnValue),t.pathMappings=this.resolvePathMappings(t.pathMappings||[],t.host,t.localRoot,t.remoteRoot,e),this.sendTelemetry("attach",t)}resolvePathMappings(e,t,n,r,i){return n&&r&&e.push({localRoot:n,remoteRoot:r}),this.isLocalHost(t)&&(e=this.fixUpPathMappings(e,i?i.fsPath:"")),e.length>0?e:void 0}};p=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IWorkspaceService)),i(1,(0,o.inject)(s.IDocumentManager)),i(2,(0,o.inject)(a.IPlatformService)),i(3,(0,o.inject)(c.IConfigurationService)),i(4,(0,o.inject)(u.IInterpreterService))],p),t.AttachConfigurationResolver=p},52062:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseConfigurationResolver=void 0;const i=n(86700),o=n(71017),s=n(66828),a=n(77570),c=n(48683),u=n(54813),l=n(61522),d=n(41691);let p=class{constructor(e,t,n,r,i){this.workspaceService=e,this.documentManager=t,this.platformService=n,this.configurationService=r,this.interpreterService=i,this.pythonPathSource=d.PythonPathSource.launchJson}async resolveDebugConfiguration(e,t,n){return t}getWorkspaceFolder(e){if(e)return e.uri;const t=this.getProgram();if(!Array.isArray(this.workspaceService.workspaceFolders)||0===this.workspaceService.workspaceFolders.length)return t?s.Uri.file(o.dirname(t)):void 0;if(1===this.workspaceService.workspaceFolders.length)return this.workspaceService.workspaceFolders[0].uri;if(t){const e=this.workspaceService.getWorkspaceFolder(s.Uri.file(t));if(e)return e.uri}}getProgram(){const e=this.documentManager.activeTextEditor;if(e&&e.document.languageId===a.PYTHON_LANGUAGE)return e.document.fileName}async resolveAndUpdatePaths(e,t){this.resolveAndUpdateEnvFilePath(e,t),await this.resolveAndUpdatePythonPath(e,t)}resolveAndUpdateEnvFilePath(e,t){if(t&&t.envFile&&(e||t.cwd)){const n=new c.SystemVariables(void 0,(e?e.fsPath:void 0)||t.cwd);t.envFile=n.resolveAny(t.envFile)}}async resolveAndUpdatePythonPath(e,t){var n,r;if(!t)return;const i=new c.SystemVariables(void 0,null==e?void 0:e.fsPath,this.workspaceService);if("${command:python.interpreterPath}"!==t.pythonPath&&t.pythonPath)t.pythonPath=i.resolveAny(t.pythonPath);else{const i=null!==(r=null===(n=await this.interpreterService.getActiveInterpreter(e))||void 0===n?void 0:n.path)&&void 0!==r?r:this.configurationService.getSettings(e).pythonPath;t.pythonPath=i}"${command:python.interpreterPath}"!==t.python&&t.python?this.pythonPathSource=d.PythonPathSource.launchJson:this.pythonPathSource=d.PythonPathSource.settingsJson,t.python=i.resolveAny(t.python)}debugOption(e,t){e.indexOf(t)>=0||e.push(t)}isLocalHost(e){return!!(e&&["localhost","127.0.0.1","::1"].indexOf(e.toLowerCase())>=0)}fixUpPathMappings(e,t,n){if(!t)return[];if(n||(n=t),0===e.length)e=[{localRoot:t,remoteRoot:n}];else{const n=new c.SystemVariables(void 0,t);e=e.map((({localRoot:e,remoteRoot:t})=>({localRoot:n.resolveAny(e),remoteRoot:t})))}return this.platformService.isWindows&&(e=e.map((({localRoot:e,remoteRoot:t})=>{let n=e;return e.match(/^[A-Z]:/)&&(n=`${e[0].toLowerCase()}${e.substr(1)}`),{localRoot:n,remoteRoot:t}}))),e}isDebuggingFastAPI(e){return!(!e.module||"FASTAPI"!==e.module.toUpperCase())}isDebuggingFlask(e){return!(!e.module||"FLASK"!==e.module.toUpperCase())}sendTelemetry(e,t){const n=t.name||"",r=t.module||"",i={trigger:e,console:t.console,hasEnvVars:"object"==typeof t.env&&Object.keys(t.env).length>0,django:!!t.django,fastapi:this.isDebuggingFastAPI(t),flask:this.isDebuggingFlask(t),hasArgs:Array.isArray(t.args)&&t.args.length>0,isLocalhost:this.isLocalHost(t.host),isModule:r.length>0,isSudo:!!t.sudo,jinja:!!t.jinja,pyramid:!!t.pyramid,stopOnEntry:!!t.stopOnEntry,showReturnValue:!!t.showReturnValue,subProcess:!!t.subProcess,watson:n.toLowerCase().indexOf("watson")>=0,pyspark:n.toLowerCase().indexOf("pyspark")>=0,gevent:n.toLowerCase().indexOf("gevent")>=0,scrapy:"scrapy"===r.toLowerCase()};(0,u.sendTelemetryEvent)(l.EventName.DEBUGGER,void 0,i)}};p=r([(0,i.injectable)()],p),t.BaseConfigurationResolver=p},29741:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugEnvironmentVariablesHelper=t.IDebugEnvironmentVariablesService=void 0;const o=n(86700),s=n(61684),a=n(19909);t.IDebugEnvironmentVariablesService=Symbol("IDebugEnvironmentVariablesService");let c=class{constructor(e,t,n){this.envParser=e,this.pathUtils=t,this.process=n}async getEnvironmentVariables(e){const t=this.pathUtils.getPathVariableName(),n=e.env&&Object.keys(e.env).length>0?{...e.env}:{},r=await this.envParser.parseFile(e.envFile,n),i=r?{...r}:{};return this.envParser.mergeVariables(n,i,{overwrite:!0}),this.envParser.appendPath(i,n[t]),this.envParser.appendPythonPath(i,n.PYTHONPATH),"string"==typeof i[t]&&i[t].length>0&&this.envParser.appendPath(i,this.process.env[t]),"string"==typeof i.PYTHONPATH&&i.PYTHONPATH.length>0&&this.envParser.appendPythonPath(i,this.process.env.PYTHONPATH),"internalConsole"===e.console&&(this.envParser.mergeVariables(this.process.env,i),void 0===i[t]&&"string"==typeof this.process.env[t]&&(i[t]=this.process.env[t]),void 0===i.PYTHONPATH&&"string"==typeof this.process.env.PYTHONPATH&&(i.PYTHONPATH=this.process.env.PYTHONPATH)),i.hasOwnProperty("PYTHONIOENCODING")||(i.PYTHONIOENCODING="UTF-8"),i.hasOwnProperty("PYTHONUNBUFFERED")||(i.PYTHONUNBUFFERED="1"),e.gevent&&(i.GEVENT_SUPPORT="True"),i}};c=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IEnvironmentVariablesService)),i(1,(0,o.inject)(s.IPathUtils)),i(2,(0,o.inject)(s.ICurrentProcess))],c),t.DebugEnvironmentVariablesHelper=c},18512:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LaunchConfigurationResolver=void 0;const o=n(86700),s=n(42655),a=n(93971),c=n(17585),u=n(84974),l=n(61684),d=n(18639),p=n(51097),h=n(7317),f=n(52062),g=n(29741);let m=class extends f.BaseConfigurationResolver{constructor(e,t,n,r,i,o,s){super(e,t,r,i,s),this.invalidPythonPathInDebuggerService=n,this.debugEnvHelper=o}async resolveDebugConfiguration(e,t,n){if(void 0===t.name&&void 0===t.type&&void 0===t.request&&void 0===t.program&&void 0===t.env){const e=this.getProgram();t.name="Launch",t.type=p.DebuggerTypeName,t.request="launch",t.program=null!=e?e:"",t.env={}}const r=this.getWorkspaceFolder(e);return await this.resolveAndUpdatePaths(r,t),t}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){const r=this.getWorkspaceFolder(e);if(await this.provideLaunchDefaults(r,t),await this.validateLaunchConfiguration(e,t))return Array.isArray(t.debugOptions)&&(t.debugOptions=t.debugOptions.filter(((e,n)=>t.debugOptions.indexOf(e)===n))),t}async provideLaunchDefaults(e,t){var n;if(void 0===t.python&&(t.python=t.pythonPath),void 0===t.debugAdapterPython&&(t.debugAdapterPython=t.pythonPath),void 0===t.debugLauncherPython&&(t.debugLauncherPython=t.pythonPath),delete t.pythonPath,"string"!=typeof t.cwd&&e&&(t.cwd=e.fsPath),"string"!=typeof t.envFile&&e){const n=this.configurationService.getSettings(e);t.envFile=n.envFile}t.env=await this.debugEnvHelper.getEnvironmentVariables(t),"boolean"!=typeof t.stopOnEntry&&(t.stopOnEntry=!1),t.showReturnValue=!1!==t.showReturnValue,t.console||(t.console="integratedTerminal"),"internalConsole"===t.console||t.internalConsoleOptions||(t.internalConsoleOptions="neverOpen"),Array.isArray(t.debugOptions)||(t.debugOptions=[]),void 0===t.justMyCode&&(t.justMyCode=!t.debugStdLib),t.workspaceFolder=e?e.fsPath:void 0;const r=t.debugOptions;t.justMyCode||this.debugOption(r,h.DebugOptions.DebugStdLib),t.stopOnEntry&&this.debugOption(r,h.DebugOptions.StopOnEntry),t.showReturnValue&&this.debugOption(r,h.DebugOptions.ShowReturnValue),t.django&&this.debugOption(r,h.DebugOptions.Django),t.jinja&&this.debugOption(r,h.DebugOptions.Jinja),void 0===t.redirectOutput&&"internalConsole"===t.console&&(t.redirectOutput=!0),t.redirectOutput&&this.debugOption(r,h.DebugOptions.RedirectOutput),t.sudo&&this.debugOption(r,h.DebugOptions.Sudo),!0===t.subProcess&&this.debugOption(r,h.DebugOptions.SubProcess),this.platformService.isWindows&&this.debugOption(r,h.DebugOptions.FixFilePathCase);const i=this.isDebuggingFastAPI(t),o=this.isDebuggingFlask(t);if((t.pyramid||o||i)&&-1===r.indexOf(h.DebugOptions.Jinja)&&!1!==t.jinja&&this.debugOption(r,h.DebugOptions.Jinja),t.pathMappings){let n=t.pathMappings;n.length>0&&(n=this.fixUpPathMappings(n||[],e?e.fsPath:"")),t.pathMappings=n.length>0?n:void 0}const s=(null===(n=t.purpose)||void 0===n?void 0:n.includes(h.DebugPurpose.DebugTest))||"test"===t.request?"test":"launch";this.sendTelemetry(s,t)}async validateLaunchConfiguration(e,t){const n=this.invalidPythonPathInDebuggerService;for(const r of[t.python,t.debugAdapterPython,t.debugLauncherPython])if(!await n.validatePythonPath(r,this.pythonPathSource,null==e?void 0:e.uri))return!1;return!0}};m=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IWorkspaceService)),i(1,(0,o.inject)(c.IDocumentManager)),i(2,(0,o.inject)(a.IDiagnosticsService)),i(2,(0,o.named)(s.InvalidPythonPathInDebuggerServiceId)),i(3,(0,o.inject)(u.IPlatformService)),i(4,(0,o.inject)(l.IConfigurationService)),i(5,(0,o.inject)(g.IDebugEnvironmentVariablesService)),i(6,(0,o.inject)(d.IInterpreterService))],m),t.LaunchConfigurationResolver=m},45093:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ILaunchJsonReader=t.IDebugConfigurationResolver=void 0,t.IDebugConfigurationResolver=Symbol("IDebugConfigurationResolver"),t.ILaunchJsonReader=Symbol("ILaunchJsonReader")},64551:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveVariables=void 0;const r=n(5741);t.resolveVariables=function(e,t,n){const i=n?(0,r.getWorkspaceFolder)(n.uri):void 0,o={};return o.workspaceFolder=i?i.uri.fsPath:t,e.replace(/\$\{(.*?)\}/g,((e,t)=>{const n=o[t];return"string"==typeof(r=n)||r instanceof String?n:e&&(e.indexOf("env.")>0||e.indexOf("env:")>0)?"":e;var r}))}},84290:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configurePort=void 0;const r=n(67098),i=n(54813),o=n(61522),s=n(41691),a=5678;t.configurePort=async function(e,t){const n=t.connect||(t.connect={}),c=await e.showInputBox({title:r.DebugConfigStrings.attach.enterRemotePort.title,step:2,totalSteps:2,value:(n.port||a).toString(),prompt:r.DebugConfigStrings.attach.enterRemotePort.prompt,validate:e=>Promise.resolve(e&&/^\d+$/.test(e.trim())?void 0:r.DebugConfigStrings.attach.enterRemotePort.invalid)});c&&/^\d+$/.test(c.trim())&&(n.port=parseInt(c,10)),n.port||(n.port=a),(0,i.sendTelemetryEvent)(o.EventName.DEBUGGER_CONFIGURATION_PROMPTS,void 0,{configurationType:s.DebugConfigurationType.remoteAttach,manuallyEnteredAValue:n.port!==a})}},5741:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWorkspaceFolder=void 0;const r=n(66828);t.getWorkspaceFolder=function(e){return r.workspace.getWorkspaceFolder(e)}},98730:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugCommands=void 0;const o=n(71017),s=n(86700),a=n(17585),c=n(77570),u=n(61684),l=n(54813),d=n(61522),p=n(45093),h=n(7317),f=n(18639),g=n(3481);let m=class{constructor(e,t,n,r,i){this.commandManager=e,this.debugService=t,this.launchJsonReader=n,this.disposables=r,this.interpreterService=i,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1}}activate(){return this.disposables.push(this.commandManager.registerCommand(c.Commands.Debug_In_Terminal,(async e=>{if((0,l.sendTelemetryEvent)(d.EventName.DEBUG_IN_TERMINAL_BUTTON),!await this.interpreterService.getActiveInterpreter(e))return void this.commandManager.executeCommand(c.Commands.TriggerEnvironmentSelection,e).then(g.noop,g.noop);const t=await this.getDebugConfiguration(e);this.debugService.startDebugging(void 0,t)}))),Promise.resolve()}async getDebugConfiguration(e){var t,n,r;const i=(await this.launchJsonReader.getConfigurationsByUri(e)).filter((e=>"launch"===e.request));for(const r of i)if(null===(t=r.purpose)||void 0===t?void 0:t.includes(h.DebugPurpose.DebugInTerminal))return r.program||r.module||r.code||(r.program=null!==(n=null==e?void 0:e.fsPath)&&void 0!==n?n:"${file}"),r.purpose=[],r;return{name:`Debug ${e?o.basename(e.fsPath):"File"}`,type:"python",request:"launch",program:null!==(r=null==e?void 0:e.fsPath)&&void 0!==r?r:"${file}",console:"integratedTerminal"}}};m=r([(0,s.injectable)(),i(0,(0,s.inject)(a.ICommandManager)),i(1,(0,s.inject)(a.IDebugService)),i(2,(0,s.inject)(p.ILaunchJsonReader)),i(3,(0,s.inject)(u.IDisposableRegistry)),i(4,(0,s.inject)(f.IInterpreterService))],m),t.DebugCommands=m},53964:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChildProcessAttachEventHandler=void 0;const o=n(86700),s=n(36952),a=n(27620),c=n(92378);let u=class{constructor(e){this.childProcessAttachService=e}async handleCustomEvent(e){if(!e)return;let t;e.event!==a.DebuggerEvents.PtvsdAttachToSubprocess&&e.event!==a.DebuggerEvents.DebugpyAttachToSubprocess||(t=e.body,Object.keys(t).length>0&&await this.childProcessAttachService.attach(t,e.session))}};r([(0,s.swallowExceptions)("Handle child process launch")],u.prototype,"handleCustomEvent",null),u=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IChildProcessAttachService))],u),t.ChildProcessAttachEventHandler=u},47282:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChildProcessAttachService=void 0;const o=n(86700),s=n(17585),a=n(3481),c=n(54813),u=n(61522),l=n(18472).loadMessageBundle();let d=class{constructor(e,t,n){this.appShell=e,this.debugService=t,this.workspaceService=n}async attach(e,t){const n=e,r=n.subProcessId,i=this.getRelatedWorkspaceFolder(n);await this.debugService.startDebugging(i,n,t)||this.appShell.showErrorMessage(l("debuggerError","Failed to launch debugger for child process {0}",r)).then(a.noop,a.noop)}getRelatedWorkspaceFolder(e){var t;const n=e.workspaceFolder;if(((null===(t=this.workspaceService.workspaceFolders)||void 0===t?void 0:t.length)||0)>0&&n)return this.workspaceService.workspaceFolders.find((e=>e.uri.fsPath===n))}};r([(0,c.captureTelemetry)(u.EventName.DEBUGGER_ATTACH_TO_CHILD_PROCESS)],d.prototype,"attach",null),d=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IApplicationShell)),i(1,(0,o.inject)(s.IDebugService)),i(2,(0,o.inject)(s.IWorkspaceService))],d),t.ChildProcessAttachService=d},27620:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DebuggerEvents=void 0,(n=t.DebuggerEvents||(t.DebuggerEvents={})).PtvsdAttachToSubprocess="ptvsd_attach",n.DebugpyAttachToSubprocess="debugpyAttach"},43397:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSessionEventDispatcher=void 0;const o=n(86700),s=n(17585),a=n(61684),c=n(92378);let u=class{constructor(e,t,n){this.eventHandlers=e,this.debugService=t,this.disposables=n}registerEventHandlers(){this.disposables.push(this.debugService.onDidReceiveDebugSessionCustomEvent((e=>{this.eventHandlers.forEach((t=>t.handleCustomEvent?t.handleCustomEvent(e).ignoreErrors():void 0))}))),this.disposables.push(this.debugService.onDidTerminateDebugSession((e=>{this.eventHandlers.forEach((t=>t.handleTerminateEvent?t.handleTerminateEvent(e).ignoreErrors():void 0))})))}};u=r([i(0,(0,o.multiInject)(c.IDebugSessionEventHandlers)),i(1,(0,o.inject)(s.IDebugService)),i(2,(0,o.inject)(a.IDisposableRegistry))],u),t.DebugSessionEventDispatcher=u},92378:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IChildProcessAttachService=t.IDebugSessionEventHandlers=void 0,t.IDebugSessionEventHandlers=Symbol("IDebugSessionEventHandlers"),t.IChildProcessAttachService=Symbol("IChildProcessAttachService")},3509:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(90819),i=n(11393),o=n(44673),s=n(2493),a=n(93951),c=n(56471),u=n(75791),l=n(15200),d=n(23728),p=n(58184),h=n(88248),f=n(71762),g=n(40169),m=n(75734),v=n(91922),y=n(29741),b=n(18512),S=n(45093),_=n(98730),E=n(53964),w=n(47282),P=n(92378),T=n(41691);t.registerTypes=function(e){e.addSingleton(r.IExtensionSingleActivationService,h.LaunchJsonCompletionProvider),e.addSingleton(r.IExtensionSingleActivationService,f.InterpreterPathCommand),e.addSingleton(r.IExtensionSingleActivationService,m.LaunchJsonUpdaterService),e.addSingleton(T.IDebugConfigurationService,d.PythonDebugConfigurationService),e.addSingleton(T.IDynamicDebugConfigurationService,p.DynamicPythonDebugConfigurationService),e.addSingleton(T.IDebuggerBanner,l.DebuggerBanner),e.addSingleton(P.IChildProcessAttachService,w.ChildProcessAttachService),e.addSingleton(P.IDebugSessionEventHandlers,E.ChildProcessAttachEventHandler),e.addSingleton(S.IDebugConfigurationResolver,b.LaunchConfigurationResolver,"launch"),e.addSingleton(S.IDebugConfigurationResolver,v.AttachConfigurationResolver,"attach"),e.addSingleton(y.IDebugEnvironmentVariablesService,y.DebugEnvironmentVariablesHelper),e.addSingleton(r.IExtensionSingleActivationService,i.DebugAdapterActivator),e.addSingleton(T.IDebugAdapterDescriptorFactory,o.DebugAdapterDescriptorFactory),e.addSingleton(T.IDebugSessionLoggingFactory,s.DebugSessionLoggingFactory),e.addSingleton(T.IOutdatedDebuggerPromptFactory,a.OutdatedDebuggerPromptFactory),e.addSingleton(u.IAttachProcessProviderFactory,c.AttachProcessProviderFactory),e.addSingleton(r.IExtensionSingleActivationService,_.DebugCommands),e.addSingleton(S.ILaunchJsonReader,g.LaunchJsonReader)}},41691:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.IProtocolParser=t.IOutdatedDebuggerPromptFactory=t.IDebugSessionLoggingFactory=t.IDebugAdapterDescriptorFactory=t.PythonPathSource=t.DebugConfigurationType=t.IDebuggerBanner=t.IDynamicDebugConfigurationService=t.IDebugConfigurationService=void 0,t.IDebugConfigurationService=Symbol("IDebugConfigurationService"),t.IDynamicDebugConfigurationService=Symbol("IDynamicDebugConfigurationService"),t.IDebuggerBanner=Symbol("IDebuggerBanner"),(r=t.DebugConfigurationType||(t.DebugConfigurationType={})).launchFile="launchFile",r.remoteAttach="remoteAttach",r.launchDjango="launchDjango",r.launchFastAPI="launchFastAPI",r.launchFlask="launchFlask",r.launchModule="launchModule",r.launchPyramid="launchPyramid",r.pidAttach="pidAttach",(n=t.PythonPathSource||(t.PythonPathSource={})).launchJson="launch.json",n.settingsJson="settings.json",t.IDebugAdapterDescriptorFactory=Symbol("IDebugAdapterDescriptorFactory"),t.IDebugSessionLoggingFactory=Symbol("IDebugSessionLoggingFactory"),t.IOutdatedDebuggerPromptFactory=Symbol("IOutdatedDebuggerPromptFactory"),t.IProtocolParser=Symbol("IProtocolParser")},7317:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.DebugPurpose=t.DebugOptions=void 0,(r=t.DebugOptions||(t.DebugOptions={})).RedirectOutput="RedirectOutput",r.Django="Django",r.Jinja="Jinja",r.DebugStdLib="DebugStdLib",r.Sudo="Sudo",r.Pyramid="Pyramid",r.FixFilePathCase="FixFilePathCase",r.WindowsClient="WindowsClient",r.UnixClient="UnixClient",r.StopOnEntry="StopOnEntry",r.ShowReturnValue="ShowReturnValue",r.SubProcess="Multiprocess",(n=t.DebugPurpose||(t.DebugPurpose={})).DebugTest="debug-test",n.DebugInTerminal="debug-in-terminal"},70301:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildDeprecatedProposedApi=t.reportActiveInterpreterChangedDeprecated=t.reportInterpretersChanged=void 0;const r=n(66828),i=n(48431),o=n(61684),s=n(18639),a=n(19735),c=n(44773),u=n(54813),l=n(61522),d=new r.EventEmitter;t.reportInterpretersChanged=function(e){d.fire(e)};const p=new r.EventEmitter;function h(e){const t=[`${e.version.major}`,`${e.version.minor}`,`${e.version.micro}`];return e.version.release&&(t.push(`${e.version.release}`),e.version.sysVersion&&t.push(`${e.version.release}`)),t}t.reportActiveInterpreterChangedDeprecated=function(e){p.fire(e)},t.buildDeprecatedProposedApi=function(e,t){const n=t.get(o.IInterpreterPathService),f=t.get(s.IInterpreterService),g=t.get(o.IExtensions),m=new Set;function v(e,t=!0){g.determineExtensionFromCallStack().then((n=>{(0,u.sendTelemetryEvent)(l.EventName.PYTHON_ENVIRONMENTS_API,void 0,{apiName:e,extensionId:n.extensionId}),(0,a.traceVerbose)(`Extension ${n.extensionId} accessed ${e}`),t&&!m.has(n.extensionId)&&(console.warn(`${n.extensionId} extension is using deprecated python APIs which will be removed soon.`),m.add(n.extensionId))})).ignoreErrors()}return{environment:{async getExecutionDetails(e){v("deprecated.getExecutionDetails");const t=await f.getActiveInterpreter(e);return t?{execCommand:[t.path]}:{execCommand:void 0}},async getActiveEnvironmentPath(e){v("deprecated.getActiveEnvironmentPath");const t=await f.getActiveInterpreter(e);if(t)return(0,c.getEnvPath)(t.path,t.envPath)},async getEnvironmentDetails(t,n){let r;if(v("deprecated.getEnvironmentDetails"),(null==n?void 0:n.useCache)&&(r=e.getEnvs().find((e=>function(e,t){return(0,i.arePathsSame)(e,t.location)||(0,i.arePathsSame)(e,t.executable.filename)}(t,e)))),r||(r=await e.resolveEnv(t),r))return{interpreterPath:r.executable.filename,envFolderPath:r.location.length?r.location:void 0,version:h(r),environmentType:[r.kind],metadata:{sysPrefix:r.executable.sysPrefix,bitness:r.arch,project:r.searchLocation}}},getEnvironmentPaths(){v("deprecated.getEnvironmentPaths");const t=e.getEnvs().map((e=>(0,c.getEnvPath)(e.executable.filename,e.location)));return Promise.resolve(t)},setActiveEnvironment:(e,t)=>(v("deprecated.setActiveEnvironment"),n.update(t,r.ConfigurationTarget.WorkspaceFolder,e)),async refreshEnvironment(){v("deprecated.refreshEnvironment"),await e.triggerRefresh();const t=e.getEnvs().map((e=>(0,c.getEnvPath)(e.executable.filename,e.location)));return Promise.resolve(t)},getRefreshPromise:t=>(v("deprecated.getRefreshPromise"),e.getRefreshPromise(t)),get onDidChangeExecutionDetails(){return v("deprecated.onDidChangeExecutionDetails",!1),f.onDidChangeInterpreterConfiguration},get onDidEnvironmentsChanged(){return v("deprecated.onDidEnvironmentsChanged",!1),d.event},get onDidActiveEnvironmentChanged(){return v("deprecated.onDidActiveEnvironmentChanged",!1),p.event},get onRefreshProgress(){return v("deprecated.onRefreshProgress",!1),e.onProgress}}}}},20910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activateFeatures=t.activateComponents=void 0;const r=n(66828),i=n(76546),o=n(90819),s=n(30086),a=n(77651),c=n(17585),u=n(77570),l=n(34061),d=n(84974),p=n(61684),h=n(3481),f=n(51097),g=n(3509),m=n(41691),v=n(88681),y=n(18639),b=n(29917),S=n(10900),_=n(52842),E=n(19735),w=n(67370),P=n(6342),T=n(76687),C=n(43768),I=n(8593),R=n(81377),D=n(72392),O=n(94611),k=n(73607),x=n(43200),N=n(59857),A=n(51863),j=n(29817),M=n(14306),L=n(14164),F=n(54144),q=n(43397),U=n(92378),W=n(56792),V=n(85949),H=n(54351);t.activateComponents=async function(e,t){const n=await async function(e){const{context:t,legacyIOC:n}=e,{serviceManager:j,serviceContainer:W}=n,V=j.get(d.IFileSystem);await(0,D.setExtensionInstallTelemetryProperties)(V);const H=j.get(c.IApplicationEnvironment),{enableProposedApi:$}=H.packageJson;j.addSingletonInstance(u.UseProposedApi,$),(0,N.registerTypes)(j),(0,_.registerTypes)(j),(0,A.registerTypes)(j),(0,v.registerTypes)(j),(0,l.registerTypes)(j),(0,k.registerTypes)(j),(0,g.registerTypes)(j),(0,O.registerTypes)(j);const B=W.get(p.IExtensions);await(0,M.setDefaultLanguageServer)(B,j),(0,E.setLoggingLevel)((0,L.getLoggingLevel)());const G=j.get(p.IConfigurationService);W.get(p.IConfigurationService).getSettings().register(),(0,s.registerTypes)(j),(0,C.registerTypes)(j),(0,i.registerTypes)(j);const K=j.get(p.IDisposableRegistry),z=W.get(c.IWorkspaceService),Y=W.get(c.ICommandManager);if(r.languages.setLanguageConfiguration(u.PYTHON_LANGUAGE,(0,b.getLanguageConfiguration)()),z.isTrusted&&(W.get(y.IInterpreterService).initialize(),!z.isVirtualWorkspace)){const e=j.getAll(U.IDebugSessionEventHandlers);new q.DebugSessionEventDispatcher(e,F.DebugService.instance,K).registerEventHandlers();const n=j.get(p.IOutputChannel,u.STANDARD_OUTPUT_CHANNEL);K.push(Y.registerCommand(u.Commands.ViewOutput,(()=>n.show()))),Y.executeCommand("setContext","python.vscode.channel",H.channel).then(h.noop,h.noop),W.get(a.IApplicationDiagnostics).register(),j.get(x.ITerminalAutoActivation).register();const i=G.getSettings();if(W.get(R.ISortImportsEditingProvider).registerCommands(),j.get(x.ICodeExecutionManager).registerCommands(),K.push(new S.LinterCommands(j)),i&&i.formatting&&"internalConsole"!==i.formatting.provider){const e=new P.PythonFormattingEditProvider(t,W);K.push(r.languages.registerDocumentFormattingEditProvider(u.PYTHON,e)),K.push(r.languages.registerDocumentRangeFormattingEditProvider(u.PYTHON,e))}K.push(new T.ReplProvider(W));const o=new I.TerminalProvider(W);o.initialize(r.window.activeTerminal).ignoreErrors(),K.push(o),K.push(r.languages.registerCodeActionsProvider(u.PYTHON,new w.PythonCodeActionProvider,{providedCodeActionKinds:[r.CodeActionKind.SourceOrganizeImports]})),W.getAll(m.IDebugConfigurationService).forEach((e=>{K.push(r.debug.registerDebugConfigurationProvider(f.DebuggerTypeName,e))})),t.subscriptions.push(r.debug.registerDebugConfigurationProvider(f.DebuggerTypeName,W.get(m.IDynamicDebugConfigurationService),r.DebugConfigurationProviderTriggerKind.Dynamic)),W.get(m.IDebuggerBanner).initialize()}const J=W.get(o.IExtensionActivationManager);return K.push(J),{fullyReady:J.activate()}}(e);if(!(new W.WorkspaceService).isTrusted)return[n];const V=[j.activate(t.pythonEnvs,e)];return Promise.all([n,...V])},t.activateFeatures=function(e,t){const n=e.legacyIOC.serviceContainer.get(H.IInterpreterQuickPick),r=e.legacyIOC.serviceContainer.get(p.IInterpreterPathService);(0,V.registerCreateEnvironmentFeatures)(e.disposables,n,r)}},63912:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeComponents=t.initializeStandard=t.initializeGlobals=void 0;const r=n(86700),i=n(66828),o=n(74351),s=n(77570),a=n(29992),c=n(52615),u=n(39702),l=n(61684),d=n(28285),p=n(67098),h=n(61466),f=n(37104),g=n(77498),m=n(29817),v=n(74954),y=n(19735),b=n(4247),S=n(56792);t.initializeGlobals=function(e){const t=e.subscriptions,n=new r.Container({skipBaseClassChecks:!0}),a=new f.ServiceManager(n),c=new h.ServiceContainer(n);a.addSingletonInstance(g.IServiceContainer,c),a.addSingletonInstance(g.IServiceManager,a),a.addSingletonInstance(l.IDisposableRegistry,t),a.addSingletonInstance(l.IMemento,e.globalState,l.GLOBAL_MEMENTO),a.addSingletonInstance(l.IMemento,e.workspaceState,l.WORKSPACE_MEMENTO),a.addSingletonInstance(l.IExtensionContext,e);const u=i.window.createOutputChannel(p.OutputChannelNames.python);t.push(u),t.push((0,y.registerLogger)(new b.OutputChannelLogger(u)));const d=new S.WorkspaceService,m=d.isVirtualWorkspace||!d.isTrusted?(0,o.instance)((0,o.mock)()):i.window.createOutputChannel(p.OutputChannelNames.pythonTest);return t.push(m),a.addSingletonInstance(l.IOutputChannel,u,s.STANDARD_OUTPUT_CHANNEL),a.addSingletonInstance(l.IOutputChannel,m,v.TEST_OUTPUT_CHANNEL),{context:e,disposables:t,legacyIOC:{serviceManager:a,serviceContainer:c}}},t.initializeStandard=function(e){const{serviceManager:t}=e.legacyIOC;(0,u.registerTypes)(t),(0,d.registerTypes)(t),(0,a.registerTypes)(t),(0,c.registerTypes)(t)},t.initializeComponents=async function(e){return{pythonEnvs:await m.initialize(e)}}},64314:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoPep8Formatter=void 0;const r=n(80819),i=n(61684),o=n(70057),s=n(54813),a=n(61522),c=n(40515);class u extends c.BaseFormatter{constructor(e){super("autopep8",r.Product.autopep8,e)}formatDocument(e,t,n,r){const c=new o.StopWatch,u=this.serviceContainer.get(i.IConfigurationService).getSettings(e.uri),l=Array.isArray(u.formatting.autopep8Args)&&u.formatting.autopep8Args.length>0,d=!!r&&!r.isEmpty,p=["--diff"];d&&p.push("--line-range",(r.start.line+1).toString(),(r.end.line+1).toString());const h=super.provideDocumentFormattingEdits(e,t,n,p);return(0,s.sendTelemetryWhenDone)(a.EventName.FORMAT,h,c,{tool:"autopep8",hasCustomArgs:l,formatSelection:d}),h}}t.AutoPep8Formatter=u},40515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFormatter=void 0;const r=n(71017),i=n(66828),o=n(17585);n(32727);const s=n(40071),a=n(84974),c=n(29983),u=n(61684),l=n(3481),d=n(19735),p=n(84911),h=n(44263);t.BaseFormatter=class{constructor(e,t,n){this.Id=e,this.product=t,this.serviceContainer=n,this.helper=n.get(h.IFormatterHelper),this.workspace=n.get(o.IWorkspaceService)}getDocumentPath(e,t){return r.basename(e.uri.fsPath)===e.uri.fsPath?t:r.dirname(e.fileName)}getWorkspaceUri(e){const t=this.workspace.getWorkspaceFolder(e.uri);if(t)return t.uri;const n=this.workspace.workspaceFolders;return Array.isArray(n)&&n.length>0?n[0].uri:i.Uri.file(__dirname)}async provideDocumentFormattingEdits(e,t,n,r,i){"string"==typeof i&&0!==i.length||(i=this.getWorkspaceUri(e).fsPath);const s=await this.createTempFile(e);if(this.checkCancellation(e.fileName,s,n))return[];const a=this.helper.getExecutionInfo(this.product,r,e.uri);a.args.push(s);const l=this.serviceContainer.get(c.IPythonToolExecutionService).exec(a,{cwd:i,throwOnStdErr:!1,token:n},e.uri).then((e=>e.stdout)).then((t=>this.checkCancellation(e.fileName,s,n)?[]:(0,p.getTextEditsFromPatch)(e.getText(),t))).catch((t=>(this.checkCancellation(e.fileName,s,n)||this.handleError(this.Id,t,e.uri).catch((()=>{})),[]))).then((t=>(this.deleteTempFile(e.fileName,s).ignoreErrors(),t))),d=this.serviceContainer.get(o.IApplicationShell),h=this.serviceContainer.get(u.IDisposableRegistry),f=d.setStatusBarMessage(`Formatting with ${this.Id}`,l);return h.push(f),l}async handleError(e,t,n){let r=`Formatting with ${this.Id} failed.`;if((0,s.isNotInstalledError)(t)){const e=this.serviceContainer.get(u.IInstaller);await e.isInstalled(this.product,n)||(r+=`\nYou could either install the '${this.Id}' formatter, turn it off or use another formatter.`,e.promptToInstall(this.product,n).catch((e=>(0,d.traceError)("Python Extension: promptToInstall",e))))}(0,d.traceLog)(`\n${r}\n${t}`)}async createTempFile(e){const t=this.serviceContainer.get(a.IFileSystem);return e.isDirty||(0,l.isNotebookCell)(e)?(0,p.getTempFileWithDocumentContents)(e,t):e.fileName}deleteTempFile(e,t){return e!==t?this.serviceContainer.get(a.IFileSystem).deleteFile(t):Promise.resolve()}checkCancellation(e,t,n){return!(!n||!n.isCancellationRequested||(this.deleteTempFile(e,t).ignoreErrors(),0))}}},23199:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlackFormatter=void 0;const r=n(71017),i=n(18472),o=n(17585),s=n(80819),a=n(61684),c=n(3481),u=n(70057),l=n(54813),d=n(61522),p=n(40515),h=i.loadMessageBundle();class f extends p.BaseFormatter{constructor(e){super("black",s.Product.black,e)}async formatDocument(e,t,n,i){const s=new u.StopWatch,p=this.serviceContainer.get(a.IConfigurationService).getSettings(e.uri),f=Array.isArray(p.formatting.blackArgs)&&p.formatting.blackArgs.length>0,g=!!i&&!i.isEmpty;if(g)return this.serviceContainer.get(o.IApplicationShell).showErrorMessage(h("formatSelectionError",'Black does not support the "Format Selection" command')).then(c.noop,c.noop),[];const m=["--diff","--quiet"];".pyi"===r.extname(e.fileName)&&m.push("--pyi");const v=super.provideDocumentFormattingEdits(e,t,n,m);return(0,l.sendTelemetryWhenDone)(d.EventName.FORMAT,v,s,{tool:"black",hasCustomArgs:f,formatSelection:g}),v}}t.BlackFormatter=f},89027:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DummyFormatter=void 0;const r=n(61684),i=n(40515);class o extends i.BaseFormatter{constructor(e){super("none",r.Product.yapf,e)}formatDocument(e,t,n,r){return Promise.resolve([])}}t.DummyFormatter=o},6350:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.FormatterHelper=void 0;const o=n(86700),s=n(71017),a=n(61684),c=n(77498);let u=class{constructor(e){this.serviceContainer=e}translateToId(e){switch(e){case a.Product.autopep8:return"autopep8";case a.Product.black:return"black";case a.Product.yapf:return"yapf";default:throw new Error(`Unrecognized Formatter '${e}'`)}}getSettingsPropertyNames(e){const t=this.translateToId(e);return{argsName:`${t}Args`,pathName:`${t}Path`}}getExecutionInfo(e,t,n){const r=this.serviceContainer.get(a.IConfigurationService).getSettings(n),i=this.getSettingsPropertyNames(e),o=r.formatting[i.pathName];let c,u=Array.isArray(r.formatting[i.argsName])?r.formatting[i.argsName]:[];return u=u.concat(t),s.basename(o)===o&&(c=o),{execPath:o,moduleName:c,args:u,product:e}}};u=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],u),t.FormatterHelper=u},88681:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(6350),i=n(44263);t.registerTypes=function(e){e.addSingleton(i.IFormatterHelper,r.FormatterHelper)}},44263:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFormatterHelper=void 0,t.IFormatterHelper=Symbol("IFormatterHelper")},57619:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YapfFormatter=void 0;const r=n(61684),i=n(70057),o=n(54813),s=n(61522),a=n(40515);class c extends a.BaseFormatter{constructor(e){super("yapf",r.Product.yapf,e)}formatDocument(e,t,n,a){const c=new i.StopWatch,u=this.serviceContainer.get(r.IConfigurationService).getSettings(e.uri),l=Array.isArray(u.formatting.yapfArgs)&&u.formatting.yapfArgs.length>0,d=!!a&&!a.isEmpty,p=["--diff"];d&&void 0!==a&&p.push("--lines",`${a.start.line+1}-${a.end.line+1}`);const h=this.getWorkspaceUri(e).fsPath,f=this.getDocumentPath(e,h),g=super.provideDocumentFormattingEdits(e,t,n,p,f);return(0,o.sendTelemetryWhenDone)(s.EventName.FORMAT,g,c,{tool:"yapf",hasCustomArgs:l,formatSelection:d}),g}}t.YapfFormatter=c},94144:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentActivationService=t.EnvironmentActivationServiceCache=t.defaultShells=void 0,n(32727);const o=n(86700),s=n(17585),a=n(77570),c=n(84974),u=n(4057),l=n(29983),d=n(58400),p=n(61684),h=n(59314),f=n(35144),g=n(87450),m=n(19909),v=n(54813),y=n(61522),b=n(18639),S=n(49903),_=n(19735),E="e8b39361-0157-4923-80e1-22d70d46dee6";t.defaultShells={[g.OSType.Windows]:{shell:"cmd",shellType:d.TerminalShellType.commandPrompt},[g.OSType.OSX]:{shell:"bash",shellType:d.TerminalShellType.bash},[g.OSType.Linux]:{shell:"bash",shellType:d.TerminalShellType.bash},[g.OSType.Unknown]:void 0};const w=["The process cannot access the file because it is being used by another process","The directory is not empty"];class P{constructor(){this.normalMap=new Map}static forceUseStatic(){P.useStatic=!0}static forceUseNormal(){P.useStatic=!1}get(e){return P.useStatic?P.staticMap.get(e):this.normalMap.get(e)}set(e,t){P.useStatic?P.staticMap.set(e,t):this.normalMap.set(e,t)}delete(e){P.useStatic?P.staticMap.delete(e):this.normalMap.delete(e)}clear(){P.useStatic||this.normalMap.clear()}}t.EnvironmentActivationServiceCache=P,P.useStatic=!1,P.staticMap=new Map;let T=class{constructor(e,t,n,r,i,o,s){this.helper=e,this.platform=t,this.processServiceFactory=n,this.currentProcess=r,this.workspace=i,this.interpreterService=o,this.envVarsService=s,this.disposables=[],this.activatedEnvVariablesCache=new P,this.envVarsService.onDidEnvironmentVariablesChange((()=>this.activatedEnvVariablesCache.clear()),this,this.disposables),this.interpreterService.onDidChangeInterpreter((()=>this.activatedEnvVariablesCache.clear()),this,this.disposables)}dispose(){this.disposables.forEach((e=>e.dispose()))}async getActivatedEnvironmentVariables(e,t,n){var r;const i=`${this.workspace.getWorkspaceFolderIdentifier(e)}_${this.platform.isWindows?null==t?void 0:t.path.toLowerCase():null==t?void 0:t.path}`;if(null===(r=this.activatedEnvVariablesCache.get(i))||void 0===r?void 0:r.hasData)return this.activatedEnvVariablesCache.get(i).data;const o=new f.InMemoryCache(6e5);return this.getActivatedEnvironmentVariablesImpl(e,t,n).then((e=>(o.data=e,this.activatedEnvVariablesCache.set(i,o),e)))}async getEnvironmentActivationShellCommands(e,n){const r=t.defaultShells[this.platform.osType];return r?this.helper.getEnvironmentActivationShellCommands(e,r.shellType,n):[]}async getActivatedEnvironmentVariablesImpl(e,n,r){const i=t.defaultShells[this.platform.osType];if(!i)return;let o=!1;try{const t=await this.helper.getEnvironmentActivationShellCommands(e,i.shellType,n);if((0,_.traceVerbose)(`Activation Commands received ${t} for shell ${i.shell}`),!t||!Array.isArray(t)||0===t.length)return;o=t.join(" ").toLowerCase().includes("conda");const r=this.fixActivationCommands(t).join(" && "),s=await this.processServiceFactory.create(e),c=await this.envVarsService.getEnvironmentVariables(e),l=Object.keys(c).length,d=l?c:{...this.currentProcess.env},p=d[a.PYTHON_WARNINGS];d[a.PYTHON_WARNINGS]="ignore",(0,_.traceVerbose)((l?"Has":"No")+" Custom Env Vars");const[f,g]=u.printEnvVariables();f.forEach(((e,t)=>{f[t]=e.toCommandArgumentForPythonExt()}));const m=`${r} && echo '${E}' && python ${f.join(" ")}`;let v;(0,_.traceVerbose)(`Activating Environment to capture Environment variables, ${m}`);let y,b=1;for(;!v;)try{v=await s.shellExec(m,{env:d,shell:i.shell,timeout:o?6e4:3e4,maxBuffer:1e6,throwOnStdErr:!1});try{y=this.parseEnvironmentOutput(v.stdout,g)}catch(e){if(!v.stderr)throw e}if(v.stderr){if(!y)throw new Error(`StdErr from ShellExec, ${v.stderr} for ${m}`);(0,_.traceWarn)("Got env variables but with errors",v.stderr)}}catch(e){const t=e.toString();if(!(w.find((e=>t.includes(e)))&&b<10))throw e;(0,_.traceInfo)("Conda is busy, attempting to retry ..."),v=void 0,b+=1,await(0,h.sleep)(500)}return p&&y?y[a.PYTHON_WARNINGS]=p:y&&delete y[a.PYTHON_WARNINGS],y}catch(e){if((0,_.traceError)("getActivatedEnvironmentVariables",e),(0,v.sendTelemetryEvent)(y.EventName.ACTIVATE_ENV_TO_GET_ENV_VARS_FAILED,void 0,{isPossiblyCondaEnv:o,terminal:i.shellType}),r)throw e}}fixActivationCommands(e){return e.map((e=>e.replace(/^source\s+/,". ")))}parseEnvironmentOutput(e,t){return t((e=e.substring(e.indexOf(E)+E.length)).substring(e.indexOf("{")).trim())}};r([(0,_.traceDecoratorVerbose)("getActivatedEnvironmentVariables",S.TraceOptions.Arguments),(0,v.captureTelemetry)(y.EventName.PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES,{failed:!1},!0)],T.prototype,"getActivatedEnvironmentVariables",null),r([(0,_.traceDecoratorError)("Failed to parse Environment variables"),(0,_.traceDecoratorVerbose)("parseEnvironmentOutput",S.TraceOptions.None)],T.prototype,"parseEnvironmentOutput",null),T=r([(0,o.injectable)(),i(0,(0,o.inject)(d.ITerminalHelper)),i(1,(0,o.inject)(c.IPlatformService)),i(2,(0,o.inject)(l.IProcessServiceFactory)),i(3,(0,o.inject)(p.ICurrentProcess)),i(4,(0,o.inject)(s.IWorkspaceService)),i(5,(0,o.inject)(b.IInterpreterService)),i(6,(0,o.inject)(m.IEnvironmentVariablesProvider))],T),t.EnvironmentActivationService=T},80351:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IEnvironmentActivationService=void 0,t.IEnvironmentActivationService=Symbol("IEnvironmentActivationService")},20741:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterAutoSelectionService=void 0;const o=n(86700),s=n(66828),a=n(17585);n(32727);const c=n(84974),u=n(61684),l=n(59314),d=n(95084),p=n(54813),h=n(61522),f=n(54351),g=n(18639),m=n(87282),v="preferredGlobalPyInterpreter";let y=class{constructor(e,t,n,r,i,o,a){this.workspaceService=e,this.stateFactory=t,this.fs=n,this.interpreterService=r,this.envTypeComparer=i,this.interpreterHelper=a,this.autoSelectedWorkspacePromises=new Map,this.didAutoSelectedInterpreterEmitter=new s.EventEmitter,this.autoSelectedInterpreterByWorkspace=new Map,this.globallyPreferredInterpreter=this.stateFactory.createGlobalPersistentState(v,void 0),o.registerInstance(this)}async autoSelectInterpreter(e){const t=this.getWorkspacePathKey(e),n=this.autoSelectedWorkspacePromises.has(t);if(!n){const n=(0,l.createDeferred)();this.autoSelectedWorkspacePromises.set(t,n),await this.initializeStore(e),await this.clearWorkspaceStoreIfInvalid(e),await this.autoselectInterpreterWithLocators(e),n.resolve()}return(0,p.sendTelemetryEvent)(h.EventName.PYTHON_INTERPRETER_AUTO_SELECTION,void 0,{useCachedInterpreter:n}),this.autoSelectedWorkspacePromises.get(t).promise}get onDidChangeAutoSelectedInterpreter(){return this.didAutoSelectedInterpreterEmitter.event}getAutoSelectedInterpreter(e){const t=this.getWorkspaceState(e);if(t&&t.value)return t.value;const n=this.getWorkspacePathKey(e);return this.autoSelectedInterpreterByWorkspace.has(n)?this.autoSelectedInterpreterByWorkspace.get(n):this.globallyPreferredInterpreter.value}async setWorkspaceInterpreter(e,t){await this.storeAutoSelectedInterpreter(e,t)}async setGlobalInterpreter(e){await this.storeAutoSelectedInterpreter(void 0,e)}async clearWorkspaceStoreIfInvalid(e){const t=this.getWorkspaceState(e);t&&t.value&&!await this.fs.fileExists(t.value.path)&&await t.updateValue(void 0)}async storeAutoSelectedInterpreter(e,t){const n=this.getWorkspacePathKey(e);if(""===n){if(this.globallyPreferredInterpreter.value&&this.globallyPreferredInterpreter.value.version&&t&&t.version&&(0,d.compareSemVerLikeVersions)(this.globallyPreferredInterpreter.value.version,t.version)>0)return;await this.globallyPreferredInterpreter.updateValue(t),this.autoSelectedInterpreterByWorkspace.set(n,t)}else{const r=this.getWorkspaceState(e);r&&t&&await r.updateValue(t),this.autoSelectedInterpreterByWorkspace.set(n,t)}}async initializeStore(e){const t=this.getWorkspacePathKey(e);this.autoSelectedInterpreterByWorkspace.delete(t),this.globallyPreferredInterpreter||await this.clearStoreIfFileIsInvalid()}async clearStoreIfFileIsInvalid(){this.globallyPreferredInterpreter=this.stateFactory.createGlobalPersistentState(v,void 0),this.globallyPreferredInterpreter.value&&!await this.fs.fileExists(this.globallyPreferredInterpreter.value.path)&&await this.globallyPreferredInterpreter.updateValue(void 0)}getWorkspacePathKey(e){return this.workspaceService.getWorkspaceFolderIdentifier(e,"")}getWorkspaceState(e){const t=this.interpreterHelper.getActiveWorkspaceUri(e);if(t){const e=`autoSelectedWorkspacePythonInterpreter-${t.folderUri.fsPath}`;return this.stateFactory.createWorkspacePersistentState(e,void 0)}}getAutoSelectionInterpretersQueryState(e){const t=this.interpreterHelper.getActiveWorkspaceUri(e),n=`autoSelectionInterpretersQueried-${(null==t?void 0:t.folderUri.fsPath)||"global"}`;return this.stateFactory.createWorkspacePersistentState(n,void 0)}async autoselectInterpreterWithLocators(e){const t=this.getAutoSelectionInterpretersQueryState(e);!0!==t.value&&e&&await this.interpreterService.triggerRefresh({searchLocations:{roots:[e],doNotIncludeNonRooted:!0}}),await this.interpreterService.refreshPromise;const n=this.interpreterService.getInterpreters(e),r=this.interpreterHelper.getActiveWorkspaceUri(e),i=this.envTypeComparer.getRecommended(n,null==r?void 0:r.folderUri);i&&(r?this.setWorkspaceInterpreter(r.folderUri,i):this.setGlobalInterpreter(i),t.updateValue(!0),this.didAutoSelectedInterpreterEmitter.fire())}};y=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IWorkspaceService)),i(1,(0,o.inject)(u.IPersistentStateFactory)),i(2,(0,o.inject)(c.IFileSystem)),i(3,(0,o.inject)(g.IInterpreterService)),i(4,(0,o.inject)(f.IInterpreterComparer)),i(5,(0,o.inject)(m.IInterpreterAutoSelectionProxyService)),i(6,(0,o.inject)(g.IInterpreterHelper))],y),t.InterpreterAutoSelectionService=y},45297:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterAutoSelectionProxyService=void 0;const o=n(86700),s=n(66828),a=n(61684);let c=class{constructor(e){this.disposables=e,this.didAutoSelectedInterpreterEmitter=new s.EventEmitter}registerInstance(e){this.instance=e,this.disposables.push(this.instance.onDidChangeAutoSelectedInterpreter((()=>this.didAutoSelectedInterpreterEmitter.fire())))}get onDidChangeAutoSelectedInterpreter(){return this.didAutoSelectedInterpreterEmitter.event}getAutoSelectedInterpreter(e){return this.instance?this.instance.getAutoSelectedInterpreter(e):void 0}async setWorkspaceInterpreter(e,t){return this.instance?this.instance.setWorkspaceInterpreter(e,t):void 0}};c=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IDisposableRegistry))],c),t.InterpreterAutoSelectionProxyService=c},87282:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AutoSelectionRule=t.IInterpreterAutoSelectionService=t.IInterpreterAutoSelectionProxyService=void 0,t.IInterpreterAutoSelectionProxyService=Symbol("IInterpreterAutoSelectionProxyService"),t.IInterpreterAutoSelectionService=Symbol("IInterpreterAutoSelectionService"),(n=t.AutoSelectionRule||(t.AutoSelectionRule={})).all="all",n.currentPath="currentPath",n.workspaceVirtualEnvs="workspaceEnvs",n.settings="settings",n.cachedInterpreters="cachedInterpreters",n.systemWide="system",n.windowsRegistry="windowsRegistry"},95356:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvLocationHeuristic=t.isProblematicCondaEnvironment=t.EnvironmentTypeComparer=t.EnvLocationHeuristic=void 0;const o=n(86700),s=n(87450),a=n(37769),c=n(81387),u=n(18639);var l;!function(e){e[e.Local=1]="Local",e[e.Global=2]="Global"}(l=t.EnvLocationHeuristic||(t.EnvLocationHeuristic={}));let d=class{constructor(e){var t,n;this.interpreterHelper=e,this.workspaceFolderPath=null!==(n=null===(t=this.interpreterHelper.getActiveWorkspaceUri(void 0))||void 0===t?void 0:t.folderUri.fsPath)&&void 0!==n?n:""}compare(e,t){if(f(e))return 1;if(f(t))return-1;const n=function(e,t,n){const r=g(e,n),i=g(t,n);return Math.sign(r-i)}(e,t,this.workspaceFolderPath);if(0!==n)return n;const r=function(e,t){const n=[c.EnvironmentType.Poetry,c.EnvironmentType.Pipenv,c.EnvironmentType.VirtualEnvWrapper,c.EnvironmentType.Venv,c.EnvironmentType.VirtualEnv,c.EnvironmentType.Conda,c.EnvironmentType.Pyenv,c.EnvironmentType.MicrosoftStore,c.EnvironmentType.Global,c.EnvironmentType.System,c.EnvironmentType.Unknown];return Math.sign(n.indexOf(e.envType)-n.indexOf(t.envType))}(e,t);if(0!==r)return r;const i=function(e,t){return e?t?e.raw===t.raw?0:e.major===t.major?e.minor===t.minor?e.patch===t.patch?e.build.join(" ")>t.build.join(" ")?-1:1:e.patch>t.patch?-1:1:e.minor>t.minor?-1:1:e.major>t.major?-1:1:-1:1}(e.version,t.version);if(0!==i)return i;if(h(e))return 1;if(h(t))return-1;const o=p(e,this.interpreterHelper),s=p(t,this.interpreterHelper);return o===s?0:o>s?1:-1}getRecommended(e,t){const n=this.interpreterHelper.getActiveWorkspaceUri(t),r=e.filter((e=>!(f(e)||g(e,(null==n?void 0:n.folderUri.fsPath)||"")!==l.Local&&c.virtualEnvTypes.includes(e.envType))));return r.sort(this.compare.bind(this)),r.length?r[0]:void 0}};function p(e,t){const n=[],r=[];if(e.version&&n.push(e.version.raw),e.architecture&&n.push(function(e){switch(e){case s.Architecture.x64:return"x64";case s.Architecture.x86:return"x86";default:return""}}(e.architecture)),e.companyDisplayName&&e.companyDisplayName.length>0?n.push(e.companyDisplayName.trim()):n.push("Python"),e.envType){const n=t.getInterpreterTypeDisplayName(e.envType);n&&r.push(n)}e.envName&&e.envName.length>0&&r.push(e.envName);const i=0===r.length?"":`(${r.join(": ")})`;return`${n.join(" ")} ${i}`.trim()}function h(e){return e.envType===c.EnvironmentType.Conda&&("base"===e.envName||"miniconda"===e.envName)}function f(e){return e.envType===c.EnvironmentType.Conda&&"python"===e.path}function g(e,t){return t.length>0&&(e.envPath&&(0,a.isParentPath)(e.envPath,t)||e.path&&(0,a.isParentPath)(e.path,t))?l.Local:l.Global}d=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IInterpreterHelper))],d),t.EnvironmentTypeComparer=d,t.isProblematicCondaEnvironment=f,t.getEnvLocationHeuristic=g},74326:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseInterpreterSelectorCommand=void 0;const o=n(86700),s=n(71017),a=n(66828),c=n(67098);let u=class{constructor(e,t,n,r,i,o){this.pythonPathUpdaterService=e,this.commandManager=t,this.applicationShell=n,this.workspaceService=r,this.pathUtils=i,this.configurationService=o,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0},this.disposables=[],this.disposables.push(this)}dispose(){this.disposables.forEach((e=>e.dispose()))}async getConfigTargets(e){const t=this.workspaceService.workspaceFolders;if(void 0===t||0===t.length)return[{folderUri:void 0,configTarget:a.ConfigurationTarget.Global}];if(!this.workspaceService.workspaceFile&&1===t.length)return[{folderUri:t[0].uri,configTarget:a.ConfigurationTarget.WorkspaceFolder}];let n=(null==e?void 0:e.resetTarget)?[{label:c.Common.clearAll}]:[];n.push(...t.map((e=>{const t=this.pathUtils.getDisplayName(this.configurationService.getSettings(e.uri).pythonPath,e.uri.fsPath);return{label:e.name,description:this.pathUtils.getDisplayName(s.dirname(e.uri.fsPath)),uri:e.uri,detail:t}})),{label:(null==e?void 0:e.resetTarget)?c.Interpreters.clearAtWorkspace:c.Interpreters.entireWorkspace,uri:t[0].uri});const r=await this.applicationShell.showQuickPick(n,{placeHolder:(null==e?void 0:e.resetTarget)?"Select the workspace folder to clear the interpreter for":"Select the workspace folder to set the interpreter"});return(null==r?void 0:r.label)===c.Common.clearAll?[...t.map((e=>({folderUri:e.uri,configTarget:a.ConfigurationTarget.WorkspaceFolder}))),{folderUri:t[0].uri,configTarget:a.ConfigurationTarget.Workspace}]:r?r.label===c.Interpreters.entireWorkspace||r.label===c.Interpreters.clearAtWorkspace?[{folderUri:r.uri,configTarget:a.ConfigurationTarget.Workspace}]:[{folderUri:r.uri,configTarget:a.ConfigurationTarget.WorkspaceFolder}]:void 0}};u=r([(0,o.injectable)(),i(0,(0,o.unmanaged)()),i(1,(0,o.unmanaged)()),i(2,(0,o.unmanaged)()),i(3,(0,o.unmanaged)()),i(4,(0,o.unmanaged)()),i(5,(0,o.unmanaged)())],u),t.BaseInterpreterSelectorCommand=u},89294:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InstallPythonCommand=void 0;const o=n(86700),s=n(56994),a=n(17585),c=n(91932),u=n(77570),l=n(61684),d=n(84974);let p=class{constructor(e,t,n,r,i){this.commandManager=e,this.contextManager=t,this.browserService=n,this.platformService=r,this.disposables=i,this.supportedWorkspaceTypes={untrustedWorkspace:!0,virtualWorkspace:!1}}async activate(){this.disposables.push(this.commandManager.registerCommand(u.Commands.InstallPython,(()=>this._installPython())))}async _installPython(){this.platformService.isWindows&&(await this.platformService.getVersion()).major>8?this.browserService.launch("ms-windows-store://pdp/?ProductId=9PJPW5LDXLZ5"):this.showInstallPythonTile()}showInstallPythonTile(){let e;this.contextManager.setContext(s.ExtensionContextKey.showInstallPythonTile,!0),e=this.platformService.isWindows?c.PythonWelcome.windowsInstallId:this.platformService.isLinux?c.PythonWelcome.linuxInstallId:c.PythonWelcome.macOSInstallId,this.commandManager.executeCommand("workbench.action.openWalkthrough",{category:`${u.PVSC_EXTENSION_ID}#${c.PythonWelcome.name}`,step:`${u.PVSC_EXTENSION_ID}#${c.PythonWelcome.name}#${e}`},!1)}};p=r([(0,o.injectable)(),i(0,(0,o.inject)(a.ICommandManager)),i(1,(0,o.inject)(a.IContextKeyManager)),i(2,(0,o.inject)(l.IBrowserService)),i(3,(0,o.inject)(d.IPlatformService)),i(4,(0,o.inject)(l.IDisposableRegistry))],p),t.InstallPythonCommand=p},65313:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InstallPythonViaTerminal=void 0;const o=n(86700),s=n(77570),a=n(61684),c=n(17585),u=n(59314),l=n(87450),d=n(19735),p=n(67098);var h;!function(e){e.brew="brew",e.apt="apt",e.dnf="dnf"}(h||(h={}));let f=class{constructor(e,t,n){this.commandManager=e,this.terminalManager=t,this.disposables=n,this.supportedWorkspaceTypes={untrustedWorkspace:!0,virtualWorkspace:!1},this.packageManagerCommands={brew:["brew install python3"],dnf:["sudo dnf install python3"],apt:["sudo apt-get update","sudo apt-get install python3 python3-venv python3-pip"]}}async activate(){this.disposables.push(this.commandManager.registerCommand(s.Commands.InstallPythonOnMac,(()=>this._installPythonOnUnix(l.OSType.OSX)))),this.disposables.push(this.commandManager.registerCommand(s.Commands.InstallPythonOnLinux,(()=>this._installPythonOnUnix(l.OSType.Linux))))}async _installPythonOnUnix(e){const t=await this.getCommands(e),n=this.terminalManager.createTerminal({name:"Python",message:t.length?void 0:p.Interpreters.installPythonTerminalMessage});n.show(!0),await async function(){await(0,u.sleep)(100)}();for(const e of t)n.sendText(e),await g()}async getCommands(e){return e===l.OSType.OSX?this.packageManagerCommands[h.brew]:this.getCommandsForLinux()}async getCommandsForLinux(){for(const e of[h.apt,h.dnf]){let t=!1;try{const r=n(22806),i=await r(e);(0,d.traceVerbose)(`Resolved path to ${e} module:`,i),t=i.trim().length>0}catch(n){(0,d.traceVerbose)(`${e} not found`,n),t=!1}if(t)return this.packageManagerCommands[e]}return[]}};async function g(){await(0,u.sleep)(500)}f=r([(0,o.injectable)(),i(0,(0,o.inject)(c.ICommandManager)),i(1,(0,o.inject)(c.ITerminalManager)),i(2,(0,o.inject)(a.IDisposableRegistry))],f),t.InstallPythonViaTerminal=f},90780:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ResetInterpreterCommand=void 0;const o=n(86700),s=n(17585),a=n(77570),c=n(61684),u=n(54351),l=n(74326);let d=class extends l.BaseInterpreterSelectorCommand{constructor(e,t,n,r,i,o){super(e,t,n,r,i,o)}async activate(){this.disposables.push(this.commandManager.registerCommand(a.Commands.ClearWorkspaceInterpreter,this.resetInterpreter.bind(this)))}async resetInterpreter(){const e=await this.getConfigTargets({resetTarget:!0});e&&await Promise.all(e.map((async e=>{const t=e.configTarget,n=e.folderUri;await this.pythonPathUpdaterService.updatePythonPath(void 0,t,"ui",n)})))}};d=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IPythonPathUpdaterServiceManager)),i(1,(0,o.inject)(s.ICommandManager)),i(2,(0,o.inject)(s.IApplicationShell)),i(3,(0,o.inject)(s.IWorkspaceService)),i(4,(0,o.inject)(c.IPathUtils)),i(5,(0,o.inject)(c.IConfigurationService))],d),t.ResetInterpreterCommand=d},50902:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SetInterpreterCommand=t.EnvGroups=void 0;const o=n(86700),s=n(96486),a=n(71017),c=n(66828),u=n(18472),l=n(17585),d=n(77570),p=n(48431),h=n(84974),f=n(61684),g=n(67098),m=n(3481),v=n(22207),y=n(48683),b=n(81387),S=n(54813),_=n(61522),E=n(18639),w=n(95356),P=n(54351),T=n(74326),C=u.loadMessageBundle(),I=n(58967);function R(e){return"interpreter"in e}function D(e){return"alwaysShow"in e}function O(e){return"kind"in e&&e.kind===c.QuickPickItemKind.Separator}var k;!function(e){e.Workspace=g.InterpreterQuickPickList.workspaceGroupName,e.Conda="Conda",e.Global=g.InterpreterQuickPickList.globalGroupName,e.VirtualEnv="VirtualEnv",e.PipEnv="PipEnv",e.Pyenv="Pyenv",e.Venv="Venv",e.Poetry="Poetry",e.VirtualEnvWrapper="VirtualEnvWrapper",e.Recommended=g.Common.recommended}(k=t.EnvGroups||(t.EnvGroups={}));let x=class extends T.BaseInterpreterSelectorCommand{constructor(e,t,n,r,i,o,s,a,u,l){super(n,i,e,u,t,r),this.multiStepFactory=o,this.platformService=s,this.interpreterSelector=a,this.interpreterService=l,this.manualEntrySuggestion={label:`${d.Octicons.Add} ${g.InterpreterQuickPickList.enterPath.label}`,alwaysShow:!0},this.refreshButton={iconPath:new c.ThemeIcon(d.ThemeIcons.Refresh),tooltip:g.InterpreterQuickPickList.refreshInterpreterList},this.noPythonInstalled={label:`${d.Octicons.Error} ${g.InterpreterQuickPickList.noPythonInstalled}`,detail:g.InterpreterQuickPickList.clickForInstructions,alwaysShow:!0},this.wasNoPythonInstalledItemClicked=!1,this.tipToReloadWindow={label:`${d.Octicons.Lightbulb} Reload the window if you installed Python but don't see it`,detail:"Click to run `Developer: Reload Window` command",alwaysShow:!0}}async activate(){this.disposables.push(this.commandManager.registerCommand(d.Commands.Set_Interpreter,this.setInterpreter.bind(this)))}async _pickInterpreter(e,t,n,r){var i,o;const s=!!this.interpreterService.refreshPromise,a=this._getItems(t.workspace,n);t.path=void 0;const c=this.pathUtils.getDisplayName(this.configurationService.getSettings(t.workspace).pythonPath,t.workspace?t.workspace.fsPath:void 0),u=null===(null==r?void 0:r.placeholder)?void 0:null!==(i=null==r?void 0:r.placeholder)&&void 0!==i?i:C("InterpreterQuickPickList.quickPickListPlaceholder","Selected Interpreter: {0}",c),l=null===(null==r?void 0:r.title)?void 0:null!==(o=null==r?void 0:r.title)&&void 0!==o?o:g.InterpreterQuickPickList.browsePath.openButtonLabel,p=await e.showQuickPick({placeholder:u,items:a,sortByLabel:!s,keepScrollPosition:!0,activeItem:this.getActiveItem(t.workspace,a),matchOnDetail:!0,matchOnDescription:!0,title:l,customButtonSetups:[{button:this.refreshButton,callback:e=>{this.refreshButtonCallback(e)}}],initialize:()=>{0===this.interpreterService.getInterpreters().length?this.interpreterService.triggerRefresh().ignoreErrors():this.interpreterService.triggerRefresh(void 0,{ifNotTriggerredAlready:!0}).ignoreErrors()},onChangeItem:{event:this.interpreterService.onDidChangeInterpreters,callback:(e,r)=>{this.interpreterService.refreshPromise&&(r.busy=!0,this.interpreterService.refreshPromise.then((()=>{r.busy=!1,this.updateQuickPickItems(r,{},t.workspace,n)}))),this.updateQuickPickItems(r,e,t.workspace,n)}}});if(void 0===p)(0,S.sendTelemetryEvent)(_.EventName.SELECT_INTERPRETER_SELECTED,void 0,{action:"escape"});else{if(p.label===this.manualEntrySuggestion.label)return(0,S.sendTelemetryEvent)(_.EventName.SELECT_INTERPRETER_ENTER_OR_FIND),this._enterOrBrowseInterpreterPath.bind(this);p.label===this.noPythonInstalled.label?(this.commandManager.executeCommand(d.Commands.InstallPython).then(m.noop,m.noop),this.wasNoPythonInstalledItemClicked=!0):p.label===this.tipToReloadWindow.label?this.commandManager.executeCommand("workbench.action.reloadWindow").then(m.noop,m.noop):((0,S.sendTelemetryEvent)(_.EventName.SELECT_INTERPRETER_SELECTED,void 0,{action:"selected"}),t.path=p.path)}}_getItems(e,t){const n=[this.manualEntrySuggestion],r=this.getDefaultInterpreterPathSuggestion(e);r&&n.push(r);const i=this.getSuggestions(e,t);return this.finalizeItems(i,e),n.push(...i),n}getSuggestions(e,t){var n;const r=this.workspaceService.getWorkspaceFolder(e),i=this.interpreterSelector.getSuggestions(e,!!this.interpreterService.refreshPromise).filter((e=>!t||t(e.interpreter)));if(this.interpreterService.refreshPromise)return i;const o=this.interpreterSelector.getSuggestions(e,!0).filter((e=>!t||t(e.interpreter))),s=this.interpreterSelector.getRecommendedSuggestion(o,null===(n=this.workspaceService.getWorkspaceFolder(e))||void 0===n?void 0:n.uri);return s&&i[0].interpreter.id===s.interpreter.id&&i.shift(),function(e,t,n){const r=[];t&&r.push({label:k.Recommended,kind:c.QuickPickItemKind.Separator},t);let i=k.Recommended;for(const t of e)i=N(r,t,n,i),r.push(t);return r}(i,s,null==r?void 0:r.uri.fsPath)}async getActiveItem(e,t){const n=await this.interpreterService.getActiveInterpreter(e),r=t.find((e=>R(e)&&e.interpreter.id===(null==n?void 0:n.id)));if(r)return r;const i=t.find((e=>R(e)));if(i)return i;const o=t.find((e=>D(e)&&e.label===this.noPythonInstalled.label));return null!=o?o:t[0]}getDefaultInterpreterPathSuggestion(e){const t=this.workspaceService.getConfiguration("python",e),n=new y.SystemVariables(e,void 0,this.workspaceService).resolveAny(t.get("defaultInterpreterPath"));if(n&&"python"!==n)return{label:`${d.Octicons.Gear} ${g.InterpreterQuickPickList.defaultInterpreterPath.label}`,description:this.pathUtils.getDisplayName(n,e?e.fsPath:void 0),path:n,alwaysShow:!0}}updateQuickPickItems(e,t,n,r){const i=e.activeItems.length>0?e.activeItems[0]:void 0;e.items=this.getUpdatedItems(e.items,t,n,r);const o=i?e.items.find((e=>R(e)&&R(i)?e.interpreter.id===i.interpreter.id:!(!D(e)||!D(i))&&e.label===i.label)):void 0;e.activeItems=o?[o]:[]}getUpdatedItems(e,t,n,r){var i,o;const s=[...e.values()],a=e.find((e=>O(e))),c=null!==(i=t.old)&&void 0!==i?i:t.new;r&&t.new&&!r(t.new)&&(t.new=void 0);let u=-1;if(c&&(u=s.findIndex((e=>R(e)&&e.interpreter.id===c.id))),t.new){const e=this.interpreterSelector.suggestionToQuickPickItem(t.new,n,!a);if(-1===u){const t=s.findIndex((e=>D(e)&&e.label===this.noPythonInstalled.label));-1!==t&&s.splice(t,1);const r=s.findIndex((e=>D(e)&&e.label===this.tipToReloadWindow.label));-1!==r&&s.splice(r,1),a&&N(s,e,null===(o=this.workspaceService.getWorkspaceFolder(n))||void 0===o?void 0:o.uri.fsPath),s.push(e)}else s[u]=e}return-1!==u&&void 0===t.new&&s.splice(u,1),this.finalizeItems(s,n),s}finalizeItems(e,t){const n=this.interpreterSelector.getSuggestions(t,!0);this.interpreterService.refreshPromise||(n.length?(this.setRecommendedItem(n,e,t),e.forEach(((t,n)=>{R(t)&&(0,w.isProblematicCondaEnvironment)(t.interpreter)&&(e[n].label.includes(d.Octicons.Warning)||(e[n].label=`${d.Octicons.Warning} ${e[n].label}`))}))):(e.some((e=>D(e)&&e.label===this.noPythonInstalled.label))||e.push(this.noPythonInstalled),this.wasNoPythonInstalledItemClicked&&!e.some((e=>D(e)&&e.label===this.tipToReloadWindow.label))&&e.push(this.tipToReloadWindow)))}setRecommendedItem(e,t,n){var r,i;const o=this.interpreterSelector.getRecommendedSuggestion(e,null===(r=this.workspaceService.getWorkspaceFolder(n))||void 0===r?void 0:r.uri);if(!o)return;const a=t.find((e=>O(e)&&e.label===k.Recommended)),c=(0,s.cloneDeep)(o);c.label=`${d.Octicons.Star} ${c.label}`,c.description=a?c.description:`${null!==(i=c.description)&&void 0!==i?i:""} - ${g.Common.recommended}`;const u=t.findIndex((e=>R(e)&&e.interpreter.id===c.interpreter.id));-1!==u&&(t[u]=c)}refreshButtonCallback(e){e.buttons=[{iconPath:new c.ThemeIcon(d.ThemeIcons.SpinningLoader),tooltip:g.InterpreterQuickPickList.refreshingInterpreterList}],this.interpreterService.triggerRefresh().finally((()=>{e.buttons=[this.refreshButton]})).ignoreErrors()}async _enterOrBrowseInterpreterPath(e,t){const n=[{label:g.InterpreterQuickPickList.browsePath.label,detail:g.InterpreterQuickPickList.browsePath.detail}],r=await e.showQuickPick({placeholder:g.InterpreterQuickPickList.enterPath.placeholder,items:n,acceptFilterBoxTextAsSelection:!0});if("string"==typeof r)(0,S.sendTelemetryEvent)(_.EventName.SELECT_INTERPRETER_ENTER_CHOICE,void 0,{choice:"enter"}),t.path=r,this.sendInterpreterEntryTelemetry(r,t.workspace);else if(r&&r.label===g.InterpreterQuickPickList.browsePath.label){(0,S.sendTelemetryEvent)(_.EventName.SELECT_INTERPRETER_ENTER_CHOICE,void 0,{choice:"browse"});const e={Executables:["exe"]},n=await this.applicationShell.showOpenDialog({filters:this.platformService.isWindows?e:void 0,openLabel:g.InterpreterQuickPickList.browsePath.openButtonLabel,canSelectMany:!1,title:g.InterpreterQuickPickList.browsePath.title});if(!(n&&n.length>0))return Promise.reject(v.InputFlowAction.resume);t.path=n[0].fsPath,this.sendInterpreterEntryTelemetry(t.path,t.workspace)}return Promise.resolve()}async setInterpreter(){const e=await this.getConfigTargets();if(!e)return;const{configTarget:t}=e[0],n=e[0].folderUri,r={path:void 0,workspace:n},i=this.multiStepFactory.create();await i.run(((e,t)=>this._pickInterpreter(e,t,void 0)),r),void 0!==r.path&&await this.pythonPathUpdaterService.updatePythonPath(r.path,t,"ui",n)}async getInterpreterViaQuickPick(e,t,n){const r={path:void 0,workspace:e},i=this.multiStepFactory.create();return await i.run(((e,r)=>this._pickInterpreter(e,r,t,n)),r),r.path}sendInterpreterEntryTelemetry(e,t){const n=this._getItems(t,void 0);let r=a.normalize(I(e));a.isAbsolute(r)||(r=a.resolve((null==t?void 0:t.fsPath)||"",e));const i=n.map((e=>{const n=R(e)?e.interpreter.path:"";let r=a.normalize(I(n));return a.isAbsolute(n)||(r=a.resolve((null==t?void 0:t.fsPath)||"",n)),r})).includes(r);(0,S.sendTelemetryEvent)(_.EventName.SELECT_INTERPRETER_ENTERED_EXISTS,void 0,{discovered:i})}};function N(e,t,n,r){if(!r){const t=e.length?e[e.length-1]:void 0;r=t&&R(t)?A(t,n):void 0}const i=A(t,n);if(!r||i!==r){const t={label:i,kind:c.QuickPickItemKind.Separator};e.push(t),r=i}return r}function A(e,t){if(t&&(0,p.isParentPath)(e.path,t))return k.Workspace;switch(e.interpreter.envType){case b.EnvironmentType.Global:case b.EnvironmentType.System:case b.EnvironmentType.Unknown:case b.EnvironmentType.MicrosoftStore:return k.Global;default:return k[e.interpreter.envType]}}r([(0,S.captureTelemetry)(_.EventName.SELECT_INTERPRETER_ENTER_BUTTON)],x.prototype,"_enterOrBrowseInterpreterPath",null),r([(0,S.captureTelemetry)(_.EventName.SELECT_INTERPRETER)],x.prototype,"setInterpreter",null),x=r([(0,o.injectable)(),i(0,(0,o.inject)(l.IApplicationShell)),i(1,(0,o.inject)(f.IPathUtils)),i(2,(0,o.inject)(P.IPythonPathUpdaterServiceManager)),i(3,(0,o.inject)(f.IConfigurationService)),i(4,(0,o.inject)(l.ICommandManager)),i(5,(0,o.inject)(v.IMultiStepInputFactory)),i(6,(0,o.inject)(h.IPlatformService)),i(7,(0,o.inject)(P.IInterpreterSelector)),i(8,(0,o.inject)(l.IWorkspaceService)),i(9,(0,o.inject)(E.IInterpreterService))],x),t.SetInterpreterCommand=x},49071:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterSelector=void 0;const o=n(86700),s=n(48431),a=n(61684),c=n(44773),u=n(18639),l=n(54351);let d=class{constructor(e,t,n){this.interpreterManager=e,this.envTypeComparer=t,this.pathUtils=n,this.disposables=[]}dispose(){this.disposables.forEach((e=>e.dispose()))}getSuggestions(e,t=!1){const n=this.interpreterManager.getInterpreters(e);return n.sort(this.envTypeComparer.compare.bind(this.envTypeComparer)),n.map((n=>this.suggestionToQuickPickItem(n,e,t)))}async getAllSuggestions(e){const t=await this.interpreterManager.getAllInterpreters(e);return t.sort(this.envTypeComparer.compare.bind(this.envTypeComparer)),Promise.all(t.map((t=>this.suggestionToQuickPickItem(t,e))))}suggestionToQuickPickItem(e,t,n=!1){const r=e.envPath&&"envFolderPath"===(0,c.getEnvPath)(e.path,e.envPath).pathType?e.envPath:e.path,i=this.pathUtils.getDisplayName(r,t?t.fsPath:void 0),o=e.cachedEntry?"(cached) ":"";return{label:(n?e.detailedDisplayName:e.displayName)||"Python",description:`${o}${i}`,path:r,interpreter:e}}getRecommendedSuggestion(e,t){const n=this.interpreterManager.getInterpreters(t),r=this.envTypeComparer.getRecommended(n,t);if(r)return e.find((e=>(0,s.arePathsSame)(e.interpreter.path,r.path)))}};d=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IInterpreterService)),i(1,(0,o.inject)(l.IInterpreterComparer)),i(2,(0,o.inject)(a.IPathUtils))],d),t.InterpreterSelector=d},68618:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonPathUpdaterService=void 0;const o=n(86700),s=n(71017),a=n(66828),c=n(18472),u=n(70057),l=n(48683),d=n(19735),p=n(54813),h=n(61522),f=n(18639),g=n(54351),m=c.loadMessageBundle();let v=class{constructor(e,t){this.pythonPathSettingsUpdaterFactory=e,this.pyenvs=t}async updatePythonPath(e,t,n,r){const i=new u.StopWatch,o=this.getPythonUpdaterService(t,r);let c=!1;try{await o.updatePythonPath(e?s.normalize(e):void 0)}catch(e){c=!0;const t=e,n=t&&"string"==typeof t.message?t.message:"";a.window.showErrorMessage(m("setInterpreterError","Failed to set interpreter path. Error: {0}",n)),(0,d.traceError)(t)}this.sendTelemetry(i.elapsedTime,c,n,e,r).catch((e=>(0,d.traceError)("Python Extension: sendTelemetry",e)))}async sendTelemetry(e,t,n,r,i){var o;const s={failed:t,trigger:n};if(!t&&r){const e=new l.SystemVariables(void 0,null==i?void 0:i.fsPath),t=await this.pyenvs.getInterpreterInformation(e.resolveAny(r));t&&(s.pythonVersion=null===(o=t.version)||void 0===o?void 0:o.raw)}(0,p.sendTelemetryEvent)(h.EventName.PYTHON_INTERPRETER,e,s)}getPythonUpdaterService(e,t){switch(e){case a.ConfigurationTarget.Global:return this.pythonPathSettingsUpdaterFactory.getGlobalPythonPathConfigurationService();case a.ConfigurationTarget.Workspace:if(!t)throw new Error("Workspace Uri not defined");return this.pythonPathSettingsUpdaterFactory.getWorkspacePythonPathConfigurationService(t);default:if(!t)throw new Error("Workspace Uri not defined");return this.pythonPathSettingsUpdaterFactory.getWorkspaceFolderPythonPathConfigurationService(t)}}};v=r([(0,o.injectable)(),i(0,(0,o.inject)(g.IPythonPathUpdaterServiceFactory)),i(1,(0,o.inject)(f.IComponentAdapter))],v),t.PythonPathUpdaterService=v},79721:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonPathUpdaterServiceFactory=void 0;const o=n(86700),s=n(61684),a=n(77498),c=n(56798),u=n(95791),l=n(35543);let d=class{constructor(e){this.interpreterPathService=e.get(s.IInterpreterPathService)}getGlobalPythonPathConfigurationService(){return new c.GlobalPythonPathUpdaterService(this.interpreterPathService)}getWorkspacePythonPathConfigurationService(e){return new l.WorkspacePythonPathUpdaterService(e,this.interpreterPathService)}getWorkspaceFolderPythonPathConfigurationService(e){return new u.WorkspaceFolderPythonPathUpdaterService(e,this.interpreterPathService)}};d=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],d),t.PythonPathUpdaterServiceFactory=d},56798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalPythonPathUpdaterService=void 0;const r=n(66828);t.GlobalPythonPathUpdaterService=class{constructor(e){this.interpreterPathService=e}async updatePythonPath(e){const t=this.interpreterPathService.inspect(void 0);t&&t.globalValue===e||await this.interpreterPathService.update(void 0,r.ConfigurationTarget.Global,e)}}},95791:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFolderPythonPathUpdaterService=void 0;const r=n(71017),i=n(66828);t.WorkspaceFolderPythonPathUpdaterService=class{constructor(e,t){this.workspaceFolder=e,this.interpreterPathService=t}async updatePythonPath(e){const t=this.interpreterPathService.inspect(this.workspaceFolder);t&&t.workspaceFolderValue===e||(e&&e.startsWith(this.workspaceFolder.fsPath)&&(e=r.relative(this.workspaceFolder.fsPath,e)),await this.interpreterPathService.update(this.workspaceFolder,i.ConfigurationTarget.WorkspaceFolder,e))}}},35543:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspacePythonPathUpdaterService=void 0;const r=n(71017),i=n(66828);t.WorkspacePythonPathUpdaterService=class{constructor(e,t){this.workspace=e,this.interpreterPathService=t}async updatePythonPath(e){const t=this.interpreterPathService.inspect(this.workspace);t&&t.workspaceValue===e||(e&&e.startsWith(this.workspace.fsPath)&&(e=r.relative(this.workspace.fsPath,e)),await this.interpreterPathService.update(this.workspace,i.ConfigurationTarget.Workspace,e))}}},54351:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IInterpreterQuickPick=t.IInterpreterComparer=t.IInterpreterSelector=t.IPythonPathUpdaterServiceManager=t.IPythonPathUpdaterServiceFactory=void 0,t.IPythonPathUpdaterServiceFactory=Symbol("IPythonPathUpdaterServiceFactory"),t.IPythonPathUpdaterServiceManager=Symbol("IPythonPathUpdaterServiceManager"),t.IInterpreterSelector=Symbol("IInterpreterSelector"),t.IInterpreterComparer=Symbol("IInterpreterComparer"),t.IInterpreterQuickPick=Symbol("IInterpreterQuickPick")},18639:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IInterpreterStatusbarVisibilityFilter=t.IInterpreterHelper=t.IInterpreterDisplay=t.IInterpreterService=t.ICondaService=t.IComponentAdapter=void 0,t.IComponentAdapter=Symbol("IComponentAdapter"),t.ICondaService=Symbol("ICondaService"),t.IInterpreterService=Symbol("IInterpreterService"),t.IInterpreterDisplay=Symbol("IInterpreterDisplay"),t.IInterpreterHelper=Symbol("IInterpreterHelper"),t.IInterpreterStatusbarVisibilityFilter=Symbol("IInterpreterStatusbarVisibilityFilter")},36543:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterDisplay=void 0;const o=n(86700),s=n(66828),a=n(17585),c=n(77570);n(32727);const u=n(61684),l=n(67098),d=n(77498),p=n(19735),h=n(18639),f=n(18472).loadMessageBundle();let g=class{constructor(e){this.serviceContainer=e,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0},this.useLanguageStatus=!1,this.visibilityFilters=[],this.helper=e.get(h.IInterpreterHelper),this.workspaceService=e.get(a.IWorkspaceService),this.pathUtils=e.get(u.IPathUtils),this.interpreterService=e.get(h.IInterpreterService),this.disposableRegistry=e.get(u.IDisposableRegistry),this.interpreterService.onDidChangeInterpreterInformation(this.onDidChangeInterpreterInformation,this,this.disposableRegistry)}async activate(){const e=this.serviceContainer.get(a.IApplicationShell);if(this.useLanguageStatus)this.languageStatus=e.createLanguageStatusItem("python.selectedInterpreter",{language:c.PYTHON_LANGUAGE}),this.languageStatus.severity=s.LanguageStatusSeverity.Information,this.languageStatus.command={title:l.InterpreterQuickPickList.browsePath.openButtonLabel,command:c.Commands.Set_Interpreter},this.disposableRegistry.push(this.languageStatus);else{const[t,n]=[s.StatusBarAlignment.Right,100.09999];this.statusBar=e.createStatusBarItem(t,n),this.statusBar.command=c.Commands.Set_Interpreter,this.disposableRegistry.push(this.statusBar)}}async refresh(e){if(e&&this.workspaceService.getWorkspaceFolder(e)&&(e=this.workspaceService.getWorkspaceFolder(e).uri),!e){const t=this.helper.getActiveWorkspaceUri(e);e=t?t.folderUri:void 0}await this.updateDisplay(e)}registerVisibilityFilter(e){const t=this.serviceContainer.get(u.IDisposableRegistry);this.visibilityFilters.push(e),e.changed&&e.changed(this.updateVisibility,this,t)}onDidChangeInterpreterInformation(e){this.currentlySelectedInterpreterPath&&this.currentlySelectedInterpreterPath!==e.path||this.updateDisplay(this.currentlySelectedWorkspaceFolder).ignoreErrors()}async updateDisplay(e){var t;const n=await this.interpreterService.getActiveInterpreter(e);if(!this.currentlySelectedInterpreterDisplay||this.currentlySelectedInterpreterDisplay!==(null==n?void 0:n.detailedDisplayName)||this.currentlySelectedInterpreterPath!==n.path){if(this.currentlySelectedWorkspaceFolder=e,this.statusBar)if(n){this.statusBar.color="",this.statusBar.tooltip=this.pathUtils.getDisplayName(n.path,null==e?void 0:e.fsPath),this.currentlySelectedInterpreterPath!==n.path&&((0,p.traceLog)(f("Interpreters.sttausBarPythonInterpreterPath","Python interpreter path: {0}",this.pathUtils.getDisplayName(n.path,null==e?void 0:e.fsPath))),this.currentlySelectedInterpreterPath=n.path);let r=n.detailedDisplayName;r=(null==r?void 0:r.startsWith("Python"))?null===(t=null==r?void 0:r.substring("Python".length))||void 0===t?void 0:t.trim():r,this.statusBar.text=null!=r?r:"",this.statusBar.backgroundColor=void 0,this.currentlySelectedInterpreterDisplay=n.detailedDisplayName}else this.statusBar.tooltip="",this.statusBar.color="",this.statusBar.backgroundColor=new s.ThemeColor("statusBarItem.warningBackground"),this.statusBar.text=`$(alert) ${l.InterpreterQuickPickList.browsePath.openButtonLabel}`,this.currentlySelectedInterpreterDisplay=void 0;else if(this.languageStatus)if(n){this.languageStatus.detail=this.pathUtils.getDisplayName(n.path,null==e?void 0:e.fsPath),this.currentlySelectedInterpreterPath!==n.path&&((0,p.traceLog)(f("Interpreters.pythonInterpreterPath","Python interpreter path: {0}",this.pathUtils.getDisplayName(n.path,null==e?void 0:e.fsPath))),this.currentlySelectedInterpreterPath=n.path);let t=n.detailedDisplayName;t=t.startsWith("Python")?t.substring("Python".length).trim():t,this.languageStatus.text=t,this.currentlySelectedInterpreterDisplay=n.detailedDisplayName,this.languageStatus.severity=s.LanguageStatusSeverity.Information}else this.languageStatus.severity=s.LanguageStatusSeverity.Warning,this.languageStatus.text=`$(alert) ${l.InterpreterQuickPickList.browsePath.openButtonLabel}`,this.languageStatus.detail=void 0,this.currentlySelectedInterpreterDisplay=void 0;this.statusBarCanBeDisplayed=!0,this.updateVisibility()}}updateVisibility(){this.statusBar&&this.statusBarCanBeDisplayed&&(0===this.visibilityFilters.length||this.visibilityFilters.every((e=>!e.hidden))?this.statusBar.show():this.statusBar.hide())}};g=r([(0,o.injectable)(),i(0,(0,o.inject)(d.IServiceContainer))],g),t.InterpreterDisplay=g},24001:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterLocatorProgressStatubarHandler=void 0;const o=n(86700),s=n(66828),a=n(17585),c=n(77570),u=n(61684),l=n(59314),d=n(67098),p=n(19735),h=n(44538),f=n(18639);let g=class{constructor(e,t,n){this.shell=e,this.disposables=t,this.pyenvs=n,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0},this.isFirstTimeLoadingInterpreters=!0}async activate(){this.pyenvs.onProgress((e=>{if(e.stage===h.ProgressReportStage.discoveryStarted){this.showProgress();const e=this.pyenvs.getRefreshPromise();e&&e.then((()=>this.hideProgress()))}}),this,this.disposables)}showProgress(){this.deferred||this.createProgress()}hideProgress(){this.deferred&&(this.deferred.resolve(),this.deferred=void 0)}createProgress(){const e={location:s.ProgressLocation.Window,title:`[${this.isFirstTimeLoadingInterpreters?d.Interpreters.discovering:d.Interpreters.refreshing}](command:${c.Commands.Set_Interpreter})`};this.isFirstTimeLoadingInterpreters=!1,this.shell.withProgress(e,(()=>(this.deferred=(0,l.createDeferred)(),this.deferred.promise)))}};r([(0,p.traceDecoratorVerbose)("Display locator refreshing progress")],g.prototype,"showProgress",null),r([(0,p.traceDecoratorVerbose)("Hide locator refreshing progress")],g.prototype,"hideProgress",null),g=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IApplicationShell)),i(1,(0,o.inject)(u.IDisposableRegistry)),i(2,(0,o.inject)(f.IComponentAdapter))],g),t.InterpreterLocatorProgressStatubarHandler=g},43490:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterHelper=t.isInterpreterLocatedInWorkspace=void 0;const o=n(86700),s=n(66828),a=n(17585),c=n(48431),u=n(77498),l=n(95084),d=n(81387),p=n(18639);function h(e){if(0===e.length)return[];if(1===e.length)return[e[0]];const t=e.slice();return t.sort(((e,t)=>e.version&&t.version?(0,l.compareSemVerLikeVersions)(e.version,t.version):0)),t}t.isInterpreterLocatedInWorkspace=function(e,t){const n=c.FileSystemPaths.withDefaults(),r=n.normCase(e.path),i=n.normCase(t.fsPath);return r.startsWith(i)};let f=class{constructor(e,t){this.serviceContainer=e,this.pyenvs=t}getActiveWorkspaceUri(e){var t;const n=this.serviceContainer.get(a.IWorkspaceService);if(!(((null===(t=n.workspaceFolders)||void 0===t?void 0:t.length)||0)>0))return;if(Array.isArray(n.workspaceFolders)&&1===n.workspaceFolders.length)return{folderUri:n.workspaceFolders[0].uri,configTarget:s.ConfigurationTarget.Workspace};if(e){const t=n.getWorkspaceFolder(e);if(t)return{configTarget:s.ConfigurationTarget.WorkspaceFolder,folderUri:t.uri}}const r=this.serviceContainer.get(a.IDocumentManager);if(r.activeTextEditor){const e=n.getWorkspaceFolder(r.activeTextEditor.document.uri);if(e)return{configTarget:s.ConfigurationTarget.WorkspaceFolder,folderUri:e.uri}}}async getInterpreterInformation(e){return this.pyenvs.getInterpreterInformation(e)}async getInterpreters({resource:e,source:t}={}){return h(await this.pyenvs.getInterpreters(e,t))}async getInterpreterPath(e){const t=await this.getInterpreterInformation(e);return t?t.path:e}async isMacDefaultPythonPath(e){return this.pyenvs.isMacDefaultPythonPath(e)}getInterpreterTypeDisplayName(e){return(0,d.getEnvironmentTypeName)(e)}getBestInterpreter(e){if(!Array.isArray(e)||0===e.length)return;const t=h(e);return t[t.length-1]}};f=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IServiceContainer)),i(1,(0,o.inject)(p.IComponentAdapter))],f),t.InterpreterHelper=f},62643:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InterpreterService=void 0;const o=n(86700),s=n(71017),a=n(66828);n(32727);const c=n(17585),u=n(61684),l=n(77498),d=n(18639),p=n(19735),h=n(77570),f=n(65854),g=n(29983),m=n(67098),v=n(54813),y=n(61522),b=n(36952),S=n(59314);let _=class{constructor(e,t){this.serviceContainer=e,this.pyenvs=t,this._pythonPathSetting="",this.didChangeInterpreterConfigurationEmitter=new a.EventEmitter,this.didChangeInterpreterEmitter=new a.EventEmitter,this.didChangeInterpreterInformation=new a.EventEmitter,this.configService=this.serviceContainer.get(u.IConfigurationService),this.interpreterPathService=this.serviceContainer.get(u.IInterpreterPathService),this.onDidChangeInterpreters=t.onChanged}async hasInterpreters(e=(async()=>!0)){return this.pyenvs.hasInterpreters(e)}triggerRefresh(e,t){return this.pyenvs.triggerRefresh(e,t)}get refreshPromise(){return this.pyenvs.getRefreshPromise()}get onDidChangeInterpreter(){return this.didChangeInterpreterEmitter.event}get onDidChangeInterpreterInformation(){return this.didChangeInterpreterInformation.event}get onDidChangeInterpreterConfiguration(){return this.didChangeInterpreterConfigurationEmitter.event}async refresh(e){const t=this.serviceContainer.get(d.IInterpreterDisplay);await t.refresh(e),this.ensureEnvironmentContainsPython(this.configService.getSettings(e).pythonPath).ignoreErrors()}initialize(){const e=this.serviceContainer.get(u.IDisposableRegistry),t=this.serviceContainer.get(c.IDocumentManager),n=this.serviceContainer.get(d.IInterpreterDisplay),r=new class{constructor(e,t,n){this.docManager=e,this.configService=t,this.disposablesReg=n,this.interpreterVisibilityEmitter=new a.EventEmitter,this.changed=this.interpreterVisibilityEmitter.event,this.disposablesReg.push(this.configService.onDidChange((async e=>{(null==e?void 0:e.affectsConfiguration("python.interpreter.infoVisibility"))&&this.interpreterVisibilityEmitter.fire()})))}get hidden(){var e;const t=this.configService.getSettings().interpreter.infoVisibility;if("never"===t)return!0;if("always"===t)return!1;const n=null===(e=this.docManager.activeTextEditor)||void 0===e?void 0:e.document;return!(null==n?void 0:n.fileName.endsWith("settings.json"))&&(null==n?void 0:n.languageId)!==h.PYTHON_LANGUAGE}}(t,this.configService,e);n.registerVisibilityFilter(r),e.push(this.onDidChangeInterpreters((e=>{var t;const n=null!==(t=e.old)&&void 0!==t?t:e.new;n&&this.didChangeInterpreterInformation.fire(n)}))),e.push(t.onDidOpenTextDocument((()=>{r.interpreterVisibilityEmitter.fire()})),t.onDidChangeActiveTextEditor((e=>{r.interpreterVisibilityEmitter.fire(),e&&e.document&&this.refresh(e.document.uri)}))),e.push(this.interpreterPathService.onDidChange((e=>this._onConfigChanged(e.uri))))}getInterpreters(e){return this.pyenvs.getInterpreters(e)}async getAllInterpreters(e){return this.triggerRefresh(void 0,{ifNotTriggerredAlready:!0}).ignoreErrors(),await this.refreshPromise,this.getInterpreters(e)}dispose(){this.didChangeInterpreterEmitter.dispose(),this.didChangeInterpreterInformation.dispose()}async getActiveInterpreter(e){let t=this.configService.getSettings(e).pythonPath;if(s.basename(t)===t){const n=this.serviceContainer.tryGet(g.IPythonExecutionFactory),r=n?await n.create({resource:e}):void 0,i=r?await r.getExecutablePath().catch((e=>{(0,p.traceError)(e)})):void 0;if(!i)return;t=i}return this.getInterpreterDetails(t)}async getInterpreterDetails(e){return this.pyenvs.getInterpreterDetails(e)}async _onConfigChanged(e){await(0,S.sleep)(1);const t=this.configService.getSettings(e);this.didChangeInterpreterConfigurationEmitter.fire(e),(""===this._pythonPathSetting||this._pythonPathSetting!==t.pythonPath)&&(this._pythonPathSetting=t.pythonPath,this.didChangeInterpreterEmitter.fire(),(0,f.reportActiveInterpreterChanged)({path:t.pythonPath,resource:this.serviceContainer.get(c.IWorkspaceService).getWorkspaceFolder(e)}),this.serviceContainer.get(d.IInterpreterDisplay).refresh().catch((e=>(0,p.traceError)("Python Extension: display.refresh",e))),await this.ensureEnvironmentContainsPython(this._pythonPathSetting))}async ensureEnvironmentContainsPython(e){const t=this.serviceContainer.get(u.IInstaller);if(!await t.isInstalled(u.Product.python)){(0,v.sendTelemetryEvent)(y.EventName.ENVIRONMENT_WITHOUT_PYTHON_SELECTED);const n=this.serviceContainer.get(c.IApplicationShell),r={location:a.ProgressLocation.Window,title:`[${m.Interpreters.installingPython}](command:${h.Commands.ViewOutput})`};(0,p.traceLog)("Conda envs without Python are known to not work well; fixing conda environment...");const i=t.install(u.Product.python,await this.getInterpreterDetails(e));n.withProgress(r,(()=>i)),i.then((()=>this.triggerRefresh().ignoreErrors()))}}};r([(0,b.cache)(-1,!0)],_.prototype,"ensureEnvironmentContainsPython",null),_=r([(0,o.injectable)(),i(0,(0,o.inject)(l.IServiceContainer)),i(1,(0,o.inject)(d.IComponentAdapter))],_),t.InterpreterService=_},51863:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=t.registerInterpreterTypes=void 0;const r=n(90819),i=n(94144),o=n(80351),s=n(20741),a=n(45297),c=n(87282),u=n(95356),l=n(89294),d=n(65313),p=n(90780),h=n(50902),f=n(49071),g=n(68618),m=n(79721),v=n(54351),y=n(18639),b=n(36543),S=n(24001),_=n(43490),E=n(62643),w=n(45107),P=n(66950);function T(e){e.addSingleton(r.IExtensionSingleActivationService,l.InstallPythonCommand),e.addSingleton(r.IExtensionSingleActivationService,d.InstallPythonViaTerminal),e.addSingleton(r.IExtensionSingleActivationService,h.SetInterpreterCommand),e.addSingleton(r.IExtensionSingleActivationService,p.ResetInterpreterCommand),e.addSingleton(v.IInterpreterQuickPick,h.SetInterpreterCommand),e.addSingleton(r.IExtensionActivationService,P.VirtualEnvironmentPrompt),e.addSingleton(y.IInterpreterService,E.InterpreterService),e.addSingleton(y.IInterpreterDisplay,b.InterpreterDisplay),e.addBinding(y.IInterpreterDisplay,r.IExtensionSingleActivationService),e.addSingleton(v.IPythonPathUpdaterServiceFactory,m.PythonPathUpdaterServiceFactory),e.addSingleton(v.IPythonPathUpdaterServiceManager,g.PythonPathUpdaterService),e.addSingleton(v.IInterpreterSelector,f.InterpreterSelector),e.addSingleton(y.IInterpreterHelper,_.InterpreterHelper),e.addSingleton(v.IInterpreterComparer,u.EnvironmentTypeComparer),e.addSingleton(r.IExtensionSingleActivationService,S.InterpreterLocatorProgressStatubarHandler),e.addSingleton(c.IInterpreterAutoSelectionService,s.InterpreterAutoSelectionService),e.addSingleton(r.IExtensionActivationService,w.CondaInheritEnvPrompt)}t.registerInterpreterTypes=T,t.registerTypes=function(e){T(e),e.addSingleton(c.IInterpreterAutoSelectionProxyService,a.InterpreterAutoSelectionProxyService),e.addSingleton(i.EnvironmentActivationService,i.EnvironmentActivationService),e.addSingleton(o.IEnvironmentActivationService,i.EnvironmentActivationService)}},45107:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CondaInheritEnvPrompt=t.condaInheritEnvPromptKey=void 0;const o=n(86700),s=n(66828),a=n(17585),c=n(84974),u=n(61684),l=n(67098),d=n(19735),p=n(81387),h=n(54813),f=n(61522),g=n(18639);t.condaInheritEnvPromptKey="CONDA_INHERIT_ENV_PROMPT_KEY";let m=class{constructor(e,t,n,r,i,o,s,a=!1){this.interpreterService=e,this.workspaceService=t,this.browserService=n,this.appShell=r,this.persistentStateFactory=i,this.platformService=o,this.appEnvironment=s,this.hasPromptBeenShownInCurrentSession=a,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0}}async activate(e){this.initializeInBackground(e).ignoreErrors()}async initializeInBackground(e){await this.shouldShowPrompt(e)&&await this.promptAndUpdate()}async promptAndUpdate(){const e=this.persistentStateFactory.createGlobalPersistentState(t.condaInheritEnvPromptKey,!0);if(!e.value)return;const n=[l.Common.bannerLabelYes,l.Common.bannerLabelNo,l.Common.moreInfo],r=await this.appShell.showInformationMessage(l.Interpreters.condaInheritEnvMessage,...n);(0,h.sendTelemetryEvent)(f.EventName.CONDA_INHERIT_ENV_PROMPT,void 0,{selection:r?["Yes","No","More Info"][n.indexOf(r)]:void 0}),r&&(r===n[0]?await this.workspaceService.getConfiguration("terminal").update("integrated.inheritEnv",!1,s.ConfigurationTarget.Global):r===n[1]?await e.updateValue(!1):r===n[2]&&this.browserService.launch("https://aka.ms/AA66i8f"))}async shouldShowPrompt(e){if(this.hasPromptBeenShownInCurrentSession)return!1;if(this.appEnvironment.remoteName)return!1;if(this.platformService.isWindows)return!1;const t=await this.interpreterService.getActiveInterpreter(e);if(!t||t.envType!==p.EnvironmentType.Conda)return!1;const n=this.workspaceService.getConfiguration("terminal",e).inspect("integrated.inheritEnv");return n?void 0===n.globalValue&&void 0===n.workspaceValue&&void 0===n.workspaceFolderValue&&(this.hasPromptBeenShownInCurrentSession=!0,!0):((0,d.traceError)("WorkspaceConfiguration.inspect returns `undefined` for setting `terminal.integrated.inheritEnv`"),!1)}};r([(0,d.traceDecoratorError)("Failed to intialize conda inherit env prompt")],m.prototype,"initializeInBackground",null),r([(0,d.traceDecoratorError)("Failed to display conda inherit env prompt")],m.prototype,"promptAndUpdate",null),r([(0,d.traceDecoratorError)("Failed to check whether to display prompt for conda inherit env setting")],m.prototype,"shouldShowPrompt",null),m=r([(0,o.injectable)(),i(0,(0,o.inject)(g.IInterpreterService)),i(1,(0,o.inject)(a.IWorkspaceService)),i(2,(0,o.inject)(u.IBrowserService)),i(3,(0,o.inject)(a.IApplicationShell)),i(4,(0,o.inject)(u.IPersistentStateFactory)),i(5,(0,o.inject)(c.IPlatformService)),i(6,(0,o.inject)(a.IApplicationEnvironment)),i(7,(0,o.optional)())],m),t.CondaInheritEnvPrompt=m},66950:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualEnvironmentPrompt=void 0;const o=n(86700),s=n(66828),a=n(17585),c=n(61684),u=n(67098),l=n(19735),d=n(85949),p=n(54813),h=n(61522),f=n(54351),g=n(18639);let m=class{constructor(e,t,n,r,i,o,s){this.persistentStateFactory=e,this.helper=t,this.pythonPathUpdaterService=n,this.disposableRegistry=r,this.appShell=i,this.pyenvs=o,this.interpreterService=s,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0}}async activate(e){const t=this.pyenvs.onDidCreate(e,(()=>this.handleNewEnvironment(e)));this.disposableRegistry.push(t)}async handleNewEnvironment(e){if((0,d.isCreatingEnvironment)())return;const t=await this.pyenvs.getWorkspaceVirtualEnvInterpreters(e),n=Array.isArray(t)&&t.length>0?this.helper.getBestInterpreter(t):void 0;if(!n)return;const r=await this.interpreterService.getActiveInterpreter(e);(null==r?void 0:r.id)!==n.id?await this.notifyUser(n,e):(0,l.traceVerbose)("New environment has already been selected")}async notifyUser(e,t){const n=this.persistentStateFactory.createWorkspacePersistentState("MESSAGE_KEY_FOR_VIRTUAL_ENV",!0);if(!n.value)return;const r=[u.Common.bannerLabelYes,u.Common.bannerLabelNo,u.Common.doNotShowAgain],i=await this.appShell.showInformationMessage(u.Interpreters.environmentPromptMessage,...r);(0,p.sendTelemetryEvent)(h.EventName.PYTHON_INTERPRETER_ACTIVATE_ENVIRONMENT_PROMPT,void 0,{selection:i?["Yes","No","Ignore"][r.indexOf(i)]:void 0}),i&&(i===r[0]?await this.pythonPathUpdaterService.updatePythonPath(e.path,s.ConfigurationTarget.WorkspaceFolder,"ui",t):i===r[2]&&await n.updateValue(!1))}};r([(0,l.traceDecoratorError)("Error in event handler for detection of new environment")],m.prototype,"handleNewEnvironment",null),m=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IPersistentStateFactory)),i(1,(0,o.inject)(g.IInterpreterHelper)),i(2,(0,o.inject)(f.IPythonPathUpdaterServiceManager)),i(3,(0,o.inject)(c.IDisposableRegistry)),i(4,(0,o.inject)(a.IApplicationShell)),i(5,(0,o.inject)(g.IComponentAdapter)),i(6,(0,o.inject)(g.IInterpreterService))],m),t.VirtualEnvironmentPrompt=m},61466:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceContainer=void 0;const i=n(82361),o=n(86700),s=n(19735);try{(0,o.decorate)((0,o.injectable)(),i.EventEmitter)}catch(e){(0,s.traceWarn)("Failed to decorate EventEmitter for DI (possibly already decorated by another Extension)",e)}let a=class{constructor(e){this.container=e}get(e,t){return t?this.container.getNamed(e,t):this.container.get(e)}getAll(e,t){return t?this.container.getAllNamed(e,t):this.container.getAll(e)}tryGet(e,t){try{return t?this.container.getNamed(e,t):this.container.get(e)}catch(e){}}};a=r([(0,o.injectable)()],a),t.ServiceContainer=a},37104:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceManager=void 0;const i=n(86700);let o=class{constructor(e){this.container=e}add(e,t,n,r){n?this.container.bind(e).to(t).whenTargetNamed(n):this.container.bind(e).to(t),r&&r.forEach((t=>{this.addBinding(e,t)}))}addFactory(e,t){this.container.bind(e).toFactory(t)}addBinding(e,t){this.container.bind(t).toService(e)}addSingleton(e,t,n,r){n?this.container.bind(e).to(t).inSingletonScope().whenTargetNamed(n):this.container.bind(e).to(t).inSingletonScope(),r&&r.forEach((t=>{this.addBinding(e,t)}))}addSingletonInstance(e,t,n){n?this.container.bind(e).toConstantValue(t).whenTargetNamed(n):this.container.bind(e).toConstantValue(t)}get(e,t){return t?this.container.getNamed(e,t):this.container.get(e)}tryGet(e,t){try{return t?this.container.getNamed(e,t):this.container.get(e)}catch(e){}}getAll(e,t){return t?this.container.getAllNamed(e,t):this.container.getAll(e)}rebind(e,t,n){n?this.container.rebind(e).to(t).whenTargetNamed(n):this.container.rebind(e).to(t)}rebindSingleton(e,t,n){n?this.container.rebind(e).to(t).inSingletonScope().whenTargetNamed(n):this.container.rebind(e).to(t).inSingletonScope()}rebindInstance(e,t,n){n?this.container.rebind(e).toConstantValue(t).whenTargetNamed(n):this.container.rebind(e).toConstantValue(t)}dispose(){this.container.unbindAll(),this.container.unload()}};o=r([(0,i.injectable)()],o),t.ServiceManager=o},77498:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IServiceContainer=t.IServiceManager=void 0,t.IServiceManager=Symbol("IServiceManager"),t.IServiceContainer=Symbol("IServiceContainer")},11272:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterExtensionDependencyManager=void 0;const o=n(86700),s=n(77570),a=n(61684);let c=class{constructor(e){this.extensions=e}get isJupyterExtensionInstalled(){return void 0!==this.extensions.getExtension(s.JUPYTER_EXTENSION_ID)}};c=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IExtensions))],c),t.JupyterExtensionDependencyManager=c},66259:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.JupyterExtensionIntegration=void 0;const o=n(86700),s=n(71017),a=n(17585),c=n(77570),u=n(59747),l=n(61684),d=n(12187),p=n(80351),h=n(54351),f=n(18639);var g;!function(e){e.jupyter="jupyter",e.ipykernel="ipykernel",e.notebook="notebook",e.kernelspec="kernelspec",e.nbconvert="nbconvert",e.pandas="pandas",e.pip="pip"}(g||(g={}));const m={[g.ipykernel]:l.Product.ipykernel,[g.jupyter]:l.Product.jupyter,[g.kernelspec]:l.Product.kernelspec,[g.nbconvert]:l.Product.nbconvert,[g.notebook]:l.Product.notebook,[g.pandas]:l.Product.pandas,[g.pip]:l.Product.pip};let v=class{constructor(e,t,n,r,i,o,s,a,c,u){this.extensions=e,this.interpreterService=t,this.interpreterSelector=n,this.installer=r,this.envActivation=i,this.globalState=o,this.interpreterDisplay=s,this.pyenvs=a,this.workspaceService=c,this.condaService=u}registerApi(e){this.workspaceService.isTrusted&&e.registerPythonApi({onDidChangeInterpreter:this.interpreterService.onDidChangeInterpreter,getActiveInterpreter:async e=>this.interpreterService.getActiveInterpreter(e),getInterpreterDetails:async e=>this.interpreterService.getInterpreterDetails(e),refreshPromise:this.interpreterService.refreshPromise,onDidChangeInterpreters:this.interpreterService.onDidChangeInterpreters,getKnownInterpreters:e=>this.pyenvs.getInterpreters(e),getInterpreters:async e=>this.interpreterService.getAllInterpreters(e),getActivatedEnvironmentVariables:async(e,t,n)=>this.envActivation.getActivatedEnvironmentVariables(e,t,n),isMicrosoftStoreInterpreter:async e=>this.pyenvs.isMicrosoftStoreInterpreter(e),getSuggestions:async e=>this.interpreterSelector.getAllSuggestions(e),getKnownSuggestions:e=>this.interpreterSelector.getSuggestions(e),suggestionToQuickPickItem:(e,t)=>this.interpreterSelector.suggestionToQuickPickItem(e,t),install:async(e,t,n,r,i)=>{let o=!0===r?u.ModuleInstallFlags.updateDependencies|u.ModuleInstallFlags.reInstall:void 0;return!0===i&&(o=o?o|u.ModuleInstallFlags.installPipIfRequired:u.ModuleInstallFlags.installPipIfRequired),this.installer.install(m[e],t,n,o)},isProductVersionCompatible:async(e,t,n)=>this.installer.isProductVersionCompatible(e,t,n),getDebuggerPath:async()=>(0,s.dirname)((0,d.getDebugpyPackagePath)()),getInterpreterPathSelectedForJupyterServer:()=>this.globalState.get("INTERPRETER_PATH_SELECTED_FOR_JUPYTER_SERVER"),registerInterpreterStatusFilter:this.interpreterDisplay.registerVisibilityFilter.bind(this.interpreterDisplay),getCondaFile:()=>this.condaService.getCondaFile(),getCondaVersion:()=>this.condaService.getCondaVersion(),getEnvironmentActivationShellCommands:(e,t)=>this.envActivation.getEnvironmentActivationShellCommands(e,t),registerJupyterPythonPathFunction:e=>this.registerJupyterPythonPathFunction(e),registerGetNotebookUriForTextDocumentUriFunction:e=>this.registerGetNotebookUriForTextDocumentUriFunction(e)})}async integrateWithJupyterExtension(){const e=await this.getExtensionApi();e&&this.registerApi(e)}registerRemoteServerProvider(e){this.getExtensionApi().then((t=>{t&&t.registerRemoteServerProvider(e)})).ignoreErrors()}async showDataViewer(e,t){const n=await this.getExtensionApi();if(n)return n.showDataViewer(e,t)}async getExtensionApi(){if(this.jupyterExtension)return this.jupyterExtension.exports;{const e=this.extensions.getExtension(c.JUPYTER_EXTENSION_ID);if(!e)return;if(await e.activate(),e.isActive)return this.jupyterExtension=e,this.jupyterExtension.exports}}registerJupyterPythonPathFunction(e){this.jupyterPythonPathFunction=e}getJupyterPythonPathFunction(){return this.jupyterPythonPathFunction}registerGetNotebookUriForTextDocumentUriFunction(e){this.getNotebookUriForTextDocumentUriFunction=e}getGetNotebookUriForTextDocumentUriFunction(){return this.getNotebookUriForTextDocumentUriFunction}};v=r([(0,o.injectable)(),i(0,(0,o.inject)(l.IExtensions)),i(1,(0,o.inject)(f.IInterpreterService)),i(2,(0,o.inject)(h.IInterpreterSelector)),i(3,(0,o.inject)(l.IInstaller)),i(4,(0,o.inject)(p.IEnvironmentActivationService)),i(5,(0,o.inject)(l.IMemento)),i(5,(0,o.named)(l.GLOBAL_MEMENTO)),i(6,(0,o.inject)(f.IInterpreterDisplay)),i(7,(0,o.inject)(f.IComponentAdapter)),i(8,(0,o.inject)(a.IWorkspaceService)),i(9,(0,o.inject)(f.ICondaService))],v),t.JupyterExtensionIntegration=v},29917:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLanguageConfiguration=void 0;const r=n(66828),i=n(45940);t.getLanguageConfiguration=function(){return{onEnterRules:[{beforeText:(0,i.verboseRegExp)("\n                    ^\n                    (?! \\s+ \\\\ )\n                    [^#\n]+\n                    \\\\\n                    $\n                "),action:{indentAction:r.IndentAction.Indent}},{beforeText:/^\s*#.*/,afterText:/.+$/,action:{indentAction:r.IndentAction.None,appendText:"# "}},{beforeText:(0,i.verboseRegExp)("\n                    ^\n                    \\s*\n                    (?:\n                        (?:\n                            (?:\n                                class |\n                                def |\n                                async \\s+ def |\n                                except |\n                                for |\n                                async \\s+ for |\n                                if |\n                                elif |\n                                while |\n                                with |\n                                async \\s+ with |\n                                match |\n                                case\n                            )\n                            \\b .*\n                        ) |\n                        else |\n                        try |\n                        finally\n                    )\n                    \\s*\n                    [:]\n                    \\s*\n                    (?: [#] .* )?\n                    $\n                "),action:{indentAction:r.IndentAction.Indent}},{beforeText:(0,i.verboseRegExp)("\n                    ^\n                    (?:\n                        (?:\n                            \\s*\n                            (?:\n                                pass\n                            )\n                        ) |\n                        (?:\n                            \\s+\n                            (?:\n                                raise |\n                                break |\n                                continue\n                            )\n                        )\n                    )\n                    \\s*\n                    (?: [#] .* )?\n                    $\n                "),action:{indentAction:r.IndentAction.Outdent}}]}}},75715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JediLSExtensionManager=void 0;const r=n(67220),i=n(49532),o=n(17192),s=n(73461),a=n(19735);t.JediLSExtensionManager=class{constructor(e,t,n,a,c,u,l,d,p){this.analysisOptions=new r.JediLanguageServerAnalysisOptions(d,t,c,a),this.clientFactory=new i.JediLanguageClientFactory(l),this.serverProxy=new o.JediLanguageServerProxy(this.clientFactory),this.serverManager=new s.JediLanguageServerManager(e,this.analysisOptions,this.serverProxy,p)}dispose(){this.serverManager.disconnect(),this.serverManager.dispose(),this.serverProxy.dispose(),this.analysisOptions.dispose()}async startLanguageServer(e,t){await this.serverManager.start(e,t),this.serverManager.connect()}async stopLanguageServer(){this.serverManager.disconnect(),await this.serverProxy.stop()}canStartLanguageServer(e){return!!e||((0,a.traceError)("Unable to start Jedi language server as a valid interpreter is not selected"),!1)}languageServerNotAvailable(){return Promise.resolve()}}},34181:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoneLSExtensionManager=void 0,t.NoneLSExtensionManager=class{dispose(){}startLanguageServer(){return Promise.resolve()}stopLanguageServer(){return Promise.resolve()}canStartLanguageServer(){return!0}languageServerNotAvailable(){return Promise.resolve()}}},30588:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PylanceLSExtensionManager=void 0;const r=n(65188),i=n(22473),o=n(46888),s=n(82602),a=n(57582),c=n(77570),u=n(67098),l=n(19735);t.PylanceLSExtensionManager=class{constructor(e,t,n,r,c,u,l,d,p,h,f,g,m){this.workspaceService=r,this.configurationService=c,this.commandManager=p,this.extensions=f,this.applicationShell=g,this.analysisOptions=new i.NodeLanguageServerAnalysisOptions(t,r,n,m),this.clientFactory=new o.NodeLanguageClientFactory(h,f),this.serverProxy=new s.NodeLanguageServerProxy(this.clientFactory,n,u,d,r,f),this.serverManager=new a.NodeLanguageServerManager(e,this.analysisOptions,this.serverProxy,p,f)}dispose(){this.serverManager.disconnect(),this.serverManager.dispose(),this.serverProxy.dispose(),this.analysisOptions.dispose()}async startLanguageServer(e,t){await this.serverManager.start(e,t),this.serverManager.connect()}async stopLanguageServer(){this.serverManager.disconnect(),await this.serverProxy.stop()}canStartLanguageServer(){return!!this.extensions.getExtension(c.PYLANCE_EXTENSION_ID)}async languageServerNotAvailable(){await(0,r.promptForPylanceInstall)(this.applicationShell,this.commandManager,this.workspaceService,this.configurationService),(0,l.traceLog)(u.Pylance.pylanceNotInstalledMessage)}}},72391:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ILanguageServerWatcher=void 0,t.ILanguageServerWatcher=Symbol("ILanguageServerWatcher")},8335:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageServerWatcher=void 0;const o=n(71017),s=n(86700),a=n(66828),c=n(18472),u=n(65188),l=n(90819),d=n(17585),p=n(84974),h=n(61684),f=n(67098),g=n(19909),m=n(18639),v=n(77498),y=n(19735),b=n(75715),S=n(34181),_=n(30588),E=n(32342),w=c.loadMessageBundle();let P=class{constructor(e,t,n,r,i,o,s,a,c,u,l,d,p,h,f){this.serviceContainer=e,this.lsOutputChannel=t,this.configurationService=n,this.experimentService=r,this.interpreterHelper=i,this.interpreterPathService=o,this.interpreterService=s,this.environmentService=a,this.workspaceService=c,this.commandManager=u,this.fileSystem=l,this.extensions=d,this.applicationShell=p,this.lspNotebooksExperiment=h,this.disposables=f,this.supportedWorkspaceTypes={untrustedWorkspace:!0,virtualWorkspace:!0},this.registered=!1,this.workspaceInterpreters=new Map,this.workspaceLanguageServers=new Map,this.languageServerType=this.configurationService.getSettings().languageServer}async activate(e){this.register(),await this.startLanguageServer(this.languageServerType,e)}async startLanguageServer(e,t){await this.startAndGetLanguageServer(e,t)}register(){this.registered||(this.registered=!0,this.disposables.push(this.workspaceService.onDidChangeConfiguration(this.onDidChangeConfiguration.bind(this))),this.disposables.push(this.workspaceService.onDidChangeWorkspaceFolders(this.onDidChangeWorkspaceFolders.bind(this))),this.disposables.push(this.interpreterService.onDidChangeInterpreterInformation(this.onDidChangeInterpreterInformation,this)),this.workspaceService.isTrusted&&this.disposables.push(this.interpreterPathService.onDidChange(this.onDidChangeInterpreter.bind(this))),this.disposables.push(this.extensions.onDidChange((async()=>{await this.extensionsChangeHandler()}))),this.disposables.push(new u.LanguageServerChangeHandler(this.languageServerType,this.extensions,this.applicationShell,this.commandManager,this.workspaceService,this.configurationService)))}async startAndGetLanguageServer(e,t){var n,r,i;const o=this.getWorkspaceUri(t),s=this.workspaceInterpreters.get(o.fsPath),a=await(null===(n=this.interpreterService)||void 0===n?void 0:n.getActiveInterpreter(t));s&&a!==s&&await this.stopLanguageServer(o);let c=e;a&&(null!==(i=null===(r=a.version)||void 0===r?void 0:r.major)&&void 0!==i?i:0)<3&&(c===l.LanguageServerType.Jedi?c=l.LanguageServerType.None:this.getCurrentLanguageServerTypeIsDefault()&&(c=l.LanguageServerType.Node)),this.workspaceService.isTrusted||c===l.LanguageServerType.Node||c===l.LanguageServerType.None||((0,y.traceLog)(f.LanguageService.untrustedWorkspaceMessage),c=l.LanguageServerType.None);const u=this.getWorkspaceKey(t,c),d=this.workspaceLanguageServers.get(u);if((c===l.LanguageServerType.Node||c===l.LanguageServerType.None)&&d)return T(c,o),d;const p=this.createLanguageServer(c);return this.workspaceLanguageServers.set(u,p),p.canStartLanguageServer(a)?(await p.startLanguageServer(o,a),T(e,o),this.languageServerType=e,this.workspaceInterpreters.set(o.fsPath,a)):await p.languageServerNotAvailable(),p}async restartLanguageServers(){this.workspaceLanguageServers.forEach((async(e,t)=>{const n=a.Uri.parse(t);await this.stopLanguageServer(n),await this.startLanguageServer(this.languageServerType,n)}))}async get(e){const t=this.getWorkspaceKey(e,this.languageServerType);let n=this.workspaceLanguageServers.get(t);return n||(n=await this.startAndGetLanguageServer(this.languageServerType,e)),Promise.resolve(n)}async stopLanguageServer(e){const t=this.getWorkspaceKey(e,this.languageServerType),n=this.workspaceLanguageServers.get(t);n&&(await n.stopLanguageServer(),n.dispose(),this.workspaceLanguageServers.delete(t))}createLanguageServer(e){let t;switch(e){case l.LanguageServerType.Jedi:t=new b.JediLSExtensionManager(this.serviceContainer,this.lsOutputChannel,this.experimentService,this.workspaceService,this.configurationService,this.interpreterPathService,this.interpreterService,this.environmentService,this.commandManager);break;case l.LanguageServerType.Node:t=new _.PylanceLSExtensionManager(this.serviceContainer,this.lsOutputChannel,this.experimentService,this.workspaceService,this.configurationService,this.interpreterPathService,this.interpreterService,this.environmentService,this.commandManager,this.fileSystem,this.extensions,this.applicationShell,this.lspNotebooksExperiment);break;case l.LanguageServerType.None:default:t=new S.NoneLSExtensionManager}return this.disposables.push({dispose:async()=>{await t.stopLanguageServer(),t.dispose()}}),t}async refreshLanguageServer(e){const t=this.getWorkspaceUri(e),n=this.configurationService.getSettings(t).languageServer;n!==this.languageServerType&&(await this.stopLanguageServer(e),await this.startLanguageServer(n,t))}getCurrentLanguageServerTypeIsDefault(){return this.configurationService.getSettings().languageServerIsDefault}async onDidChangeConfiguration(e){var t,n;(null!==(n=null===(t=this.workspaceService.workspaceFolders)||void 0===t?void 0:t.map((e=>e.uri)))&&void 0!==n?n:[]).forEach((async t=>{e.affectsConfiguration("python.languageServer",t)&&await this.refreshLanguageServer(t)}))}async onDidChangeInterpreter(e){return this.languageServerType===l.LanguageServerType.Node?Promise.resolve():this.activate(e.uri)}async onDidChangeInterpreterInformation(e){if(!e.envPath||""===e.envPath)return;const t=this.workspaceInterpreters.entries();let n=t.next(),r=n.done||!1;for(;!r;){const[i,o]=n.value,s=a.Uri.parse(i);e.envPath===(null==o?void 0:o.envPath)&&e.path!==(null==o?void 0:o.path)?(await this.activate(s),r=!0):(n=t.next(),r=n.done||!1)}}async extensionsChangeHandler(){this.configurationService.getSettings().languageServer!==this.languageServerType&&await this.refreshLanguageServer()}async onDidChangeWorkspaceFolders(e){if(e.removed.length&&this.languageServerType===l.LanguageServerType.Jedi)for(const t of e.removed)await this.stopLanguageServer(t.uri)}getWorkspaceUri(e){var t,n;let r;return r=e?null===(t=this.workspaceService.getWorkspaceFolder(e))||void 0===t?void 0:t.uri:null===(n=this.interpreterHelper.getActiveWorkspaceUri(e))||void 0===n?void 0:n.folderUri,null!=r?r:a.Uri.parse("default")}getWorkspaceKey(e,t){switch(t){case l.LanguageServerType.Node:return"Pylance";case l.LanguageServerType.None:return"None";default:return this.getWorkspaceUri(e).fsPath}}};function T(e,t){let n;const r=o.basename(t.fsPath);switch(e){case l.LanguageServerType.Jedi:n=w("LanguageService.startingJedi","Starting Jedi language server for {0}.",r);break;case l.LanguageServerType.Node:n=f.LanguageService.startingPylance;break;case l.LanguageServerType.None:n=f.LanguageService.startingNone;break;default:throw new Error(`Unknown language server type: ${e}`)}(0,y.traceLog)(n)}P=r([(0,s.injectable)(),i(0,(0,s.inject)(v.IServiceContainer)),i(1,(0,s.inject)(l.ILanguageServerOutputChannel)),i(2,(0,s.inject)(h.IConfigurationService)),i(3,(0,s.inject)(h.IExperimentService)),i(4,(0,s.inject)(m.IInterpreterHelper)),i(5,(0,s.inject)(h.IInterpreterPathService)),i(6,(0,s.inject)(m.IInterpreterService)),i(7,(0,s.inject)(g.IEnvironmentVariablesProvider)),i(8,(0,s.inject)(d.IWorkspaceService)),i(9,(0,s.inject)(d.ICommandManager)),i(10,(0,s.inject)(p.IFileSystem)),i(11,(0,s.inject)(h.IExtensions)),i(12,(0,s.inject)(d.IApplicationShell)),i(13,(0,s.inject)(E.LspNotebooksExperiment)),i(14,(0,s.inject)(h.IDisposableRegistry))],P),t.LanguageServerWatcher=P},98779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Bandit=t.BANDIT_REGEX=void 0,n(32727);const r=n(61684),i=n(95981),o=n(62964),s={LOW:o.LintMessageSeverity.Information,MEDIUM:o.LintMessageSeverity.Warning,HIGH:o.LintMessageSeverity.Error};t.BANDIT_REGEX="(?<line>\\d+),(?<column>(col)?(\\d+)?),(?<type>\\w+),(?<code>\\w+\\d+):(?<message>.*)\\r?(\\n|$)";class a extends i.BaseLinter{constructor(e){super(r.Product.bandit,e)}async runLinter(e,n){const r=await this.run([e.uri.fsPath],e,n,t.BANDIT_REGEX);return r.forEach((e=>{e.severity=s[e.type]})),r}}t.Bandit=a},95981:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseLinter=t.parseLine=void 0;const r=n(71017),i=n(17585),o=n(77570);n(32727);const s=n(29983),a=n(61684),c=n(19735),u=n(92488),l=n(62964),d=n(84266);function p(e,t,n,r=0){const i=function(e,t){const n=d(t,"g").exec(e);if(null!==n)return n.groups()}(e,t);if(i)return i.line=Number(i.line),i.column=Number(i.column),{code:i.code,message:i.message,column:Number.isNaN(i.column)||i.column<=0?0:i.column-r,line:i.line,type:i.type,provider:n}}t.parseLine=p,t.BaseLinter=class{constructor(e,t,n=0){this.serviceContainer=t,this.columnOffset=n,this._info=t.get(l.ILinterManager).getLinterInfo(e),this.errorHandler=new u.ErrorHandler(this.info.product,t),this.configService=t.get(a.IConfigurationService),this.workspace=t.get(i.IWorkspaceService)}get pythonSettings(){return this._pythonSettings}get info(){return this._info}async lint(e,t){return this._pythonSettings=this.configService.getSettings(e.uri),this.runLinter(e,t)}getWorkspaceRootPath(e){const t=this.workspace.getWorkspaceFolder(e.uri),n=t&&"string"==typeof t.uri.fsPath?t.uri.fsPath:void 0;return"string"==typeof n?n:r.dirname(e.uri.fsPath)}getWorkingDirectoryPath(e){return this._pythonSettings.linting.cwd||this.getWorkspaceRootPath(e)}parseMessagesSeverity(e,t){const n=e;if(t[n]){const e=t[n];switch(e){case"Error":return l.LintMessageSeverity.Error;case"Hint":return l.LintMessageSeverity.Hint;case"Information":return l.LintMessageSeverity.Information;case"Warning":return l.LintMessageSeverity.Warning;default:if(l.LintMessageSeverity[e])return l.LintMessageSeverity[e]}}return l.LintMessageSeverity.Information}async run(e,t,n,r="(?<line>\\d+),(?<column>-?\\d+),(?<type>\\w+),(?<code>\\w+\\d+):(?<message>.*)\\r?(\\n|$)"){if(!this.info.isEnabled(t.uri))return[];const i=this.info.getExecutionInfo(e,t.uri),o=this.getWorkingDirectoryPath(t),a=this.serviceContainer.get(s.IPythonToolExecutionService);try{const e=await a.execForLinter(i,{cwd:o,token:n,mergeStdOutErr:!1},t.uri);return this.displayLinterResultHeader(e.stdout),await this.parseMessages(e.stdout,t,n,r)}catch(e){return await this.handleError(e,t.uri,i),[]}}async parseMessages(e,t,n,r){const i=e.splitLines({removeEmptyEntries:!1,trim:!1});return this.parseLines(i,r)}async handleError(e,t,n){(0,o.isTestExecution)()?this.errorHandler.handleError(e,t,n).ignoreErrors():this.errorHandler.handleError(e,t,n).catch((e=>(0,c.traceError)("Error in errorHandler.handleError",e))).ignoreErrors()}parseLine(e,t){return p(e,t,this.info.id,this.columnOffset)}parseLines(e,t){const n=[];for(const r of e)try{const e=this.parseLine(r,t);if(e&&(n.push(e),n.length>=this.pythonSettings.linting.maxNumberOfProblems))break}catch(e){(0,c.traceError)(`Linter '${this.info.id}' failed to parse the line '${r}.`,e)}return n}displayLinterResultHeader(e){(0,c.traceLog)(`${"#".repeat(10)}Linting Output - ${this.info.id}${"#".repeat(10)}\n`),(0,c.traceLog)(e)}}},43022:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseErrorHandler=void 0;const r=n(61684);t.BaseErrorHandler=class{constructor(e,t){this.product=e,this.serviceContainer=t,this.installer=this.serviceContainer.get(r.IInstaller)}get nextHandler(){return this.handler}setNextHandler(e){this.handler=e}}},92488:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorHandler=void 0;const r=n(92261),i=n(49748);t.ErrorHandler=class{constructor(e,t){const n=new i.StandardErrorHandler(e,t);this.handler=new r.NotInstalledErrorHandler(e,t),this.handler.setNextHandler(n)}handleError(e,t,n){return this.handler.handleError(e,t,n)}}},92261:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotInstalledErrorHandler=void 0;const r=n(29983),i=n(19735),o=n(62964),s=n(43022);class a extends s.BaseErrorHandler{async handleError(e,t,n){const s=await this.serviceContainer.get(r.IPythonExecutionFactory).create({resource:t});if(await s.isModuleInstalled(n.moduleName))return!!this.nextHandler&&this.nextHandler.handleError(e,t,n);this.installer.promptToInstall(this.product,t).catch((e=>(0,i.traceError)("NotInstalledErrorHandler.promptToInstall",e)));const a=`Linter '${this.serviceContainer.get(o.ILinterManager).getLinterInfo(n.product).id}' is not installed. Please install it or select another linter".`;return(0,i.traceLog)(`\n${a}\n${e}`),(0,i.traceWarn)(a,e),!0}}t.NotInstalledErrorHandler=a},49748:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StandardErrorHandler=void 0;const r=n(18472),i=n(17585),o=n(77570),s=n(61684),a=n(19735),c=n(62964),u=n(43022),l=r.loadMessageBundle();class d extends u.BaseErrorHandler{async handleError(e,t,n){if("string"==typeof e&&e.includes("OSError: [Errno 2] No such file or directory: '/"))return this.nextHandler?this.nextHandler.handleError(e,t,n):Promise.resolve(!1);const r=this.serviceContainer.get(c.ILinterManager).getLinterInfo(n.product);return(0,a.traceError)(`There was an error in running the linter ${r.id}`,e),(0,a.traceLog)(`Linting with ${r.id} failed.`),(0,a.traceLog)(e.toString()),this.displayLinterError(r.id).ignoreErrors(),!0}async displayLinterError(e){const t=l("linterError","There was an error in running the linter '{0}'",e),n=this.serviceContainer.get(i.IApplicationShell),r=this.serviceContainer.get(s.IOutputChannel,o.STANDARD_OUTPUT_CHANNEL);"View Errors"===await n.showErrorMessage(t,"View Errors")&&r.show()}}t.StandardErrorHandler=d},87351:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Flake8=void 0,n(32727);const r=n(61684),i=n(95981);class o extends i.BaseLinter{constructor(e){super(r.Product.flake8,e,1)}async runLinter(e,t){const n=await this.run([e.uri.fsPath],e,t);return n.forEach((e=>{e.severity=this.parseMessagesSeverity(e.type,this.pythonSettings.linting.flake8CategorySeverity),0===e.line&&(e.line=1)})),n}}t.Flake8=o},10900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinterCommands=void 0;const r=n(18472),i=n(17585),o=n(77570),s=n(67098),a=n(54813),c=n(61522),u=n(62964),l=r.loadMessageBundle();t.LinterCommands=class{constructor(e){this.serviceContainer=e,this.disposables=[],this.linterManager=this.serviceContainer.get(u.ILinterManager),this.appShell=this.serviceContainer.get(i.IApplicationShell),this.documentManager=this.serviceContainer.get(i.IDocumentManager);const t=this.serviceContainer.get(i.ICommandManager);t.registerCommand(o.Commands.Set_Linter,this.setLinterAsync.bind(this)),t.registerCommand(o.Commands.Enable_Linter,this.enableLintingAsync.bind(this)),t.registerCommand(o.Commands.Run_Linter,this.runLinting.bind(this))}dispose(){this.disposables.forEach((e=>e.dispose()))}async setLinterAsync(){const e=this.linterManager.getAllLinterInfos(),t=["Disable Linting",...e.map((e=>e.id)).sort()],n=await this.linterManager.getActiveLinters(this.settingsUri);let r;switch(n.length){case 0:r="none";break;case 1:r=n[0].id;break;default:r="multiple selected"}const i={matchOnDetail:!0,matchOnDescription:!0,placeHolder:`current: ${r}`},o=await this.appShell.showQuickPick(t,i);if(void 0!==o)if("Disable Linting"===o)await this.linterManager.enableLintingAsync(!1),(0,a.sendTelemetryEvent)(c.EventName.SELECT_LINTER,void 0,{enabled:!1});else{const t=e.findIndex((e=>e.id===o));if(n.length>1&&await this.appShell.showWarningMessage(l("Linter.replaceWithSelectedLinter","Multiple linters are enabled in settings. Replace with '{0}'?",o),s.Common.bannerLabelYes,s.Common.bannerLabelNo)!==s.Common.bannerLabelYes)return;await this.linterManager.setActiveLintersAsync([e[t].product],this.settingsUri),(0,a.sendTelemetryEvent)(c.EventName.SELECT_LINTER,void 0,{tool:o,enabled:!0})}}async enableLintingAsync(){const e=["Enable","Disable"],t={matchOnDetail:!0,matchOnDescription:!0,placeHolder:`current: ${await this.linterManager.isLintingEnabled(this.settingsUri)?e[0]:e[1]}`},n=await this.appShell.showQuickPick(e,t);if(void 0!==n){const t=n===e[0];await this.linterManager.enableLintingAsync(t,this.settingsUri)}}runLinting(){return this.serviceContainer.get(u.ILintingEngine).lintOpenPythonFiles("manual")}get settingsUri(){return this.documentManager.activeTextEditor?this.documentManager.activeTextEditor.document.uri:void 0}}},33621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinterInfo=void 0;const r=n(71017),i=n(4057);t.LinterInfo=class{constructor(e,t,n,r=[]){this.configService=n,this._product=e,this._id=t,this._configFileNames=r}get id(){return this._id}get product(){return this._product}get pathSettingName(){return`${this.id}Path`}get argsSettingName(){return`${this.id}Args`}get enabledSettingName(){return`${this.id}Enabled`}get configFileNames(){return this._configFileNames}async enableAsync(e,t){return this.configService.updateSetting(`linting.${this.enabledSettingName}`,e,t)}isEnabled(e){const t=this.configService.getSettings(e),n=this.enabledSettingName;return t.linting[n]}pathName(e){const t=this.configService.getSettings(e),n=this.pathSettingName;return t.linting[n]}linterArgs(e){const t=this.configService.getSettings(e),n=this.argsSettingName,r=t.linting[n];return Array.isArray(r)?r:[]}getExecutionInfo(e,t){const n=this.pathName(t),o=this.linterArgs(t).concat(e),s=(0,i.linterScript)();return r.basename(n)===n?{execPath:void 0,args:[s,"-m",this.id,...o],product:this.product,moduleName:n}:{execPath:n,moduleName:this.id,args:[s,"-p",this.id,n,...o],product:this.product}}}},68882:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LinterManager=void 0;const o=n(86700),s=n(61684),a=n(19735),c=n(98779),u=n(87351),l=n(33621),d=n(67060),p=n(39415),h=n(52607),f=n(18310),g=n(10032),m=n(16393),v=n(62964);class y{constructor(e){this.configService=e}get info(){return new l.LinterInfo(s.Product.pylint,v.LinterId.PyLint,this.configService)}async lint(e,t){return[]}}let b=class{constructor(e){this.configService=e,this.linters=[new l.LinterInfo(s.Product.bandit,v.LinterId.Bandit,this.configService),new l.LinterInfo(s.Product.flake8,v.LinterId.Flake8,this.configService),new l.LinterInfo(s.Product.pylint,v.LinterId.PyLint,this.configService,["pylintrc",".pylintrc"]),new l.LinterInfo(s.Product.mypy,v.LinterId.MyPy,this.configService),new l.LinterInfo(s.Product.pycodestyle,v.LinterId.PyCodeStyle,this.configService),new l.LinterInfo(s.Product.prospector,v.LinterId.Prospector,this.configService),new l.LinterInfo(s.Product.pydocstyle,v.LinterId.PyDocStyle,this.configService),new l.LinterInfo(s.Product.pylama,v.LinterId.PyLama,this.configService)]}getAllLinterInfos(){return this.linters}getLinterInfo(e){const t=this.linters.findIndex(((t,n,r)=>t.product===e));if(t>=0)return this.linters[t];throw new Error(`Invalid linter '${s.Product[e]}'`)}async isLintingEnabled(e){const t=this.configService.getSettings(e),n=await this.getActiveLinters(e);return t.linting.enabled&&n.length>0}async enableLintingAsync(e,t){await this.configService.updateSetting("linting.enabled",e,t)}async getActiveLinters(e){return this.linters.filter((t=>t.isEnabled(e)))}async setActiveLintersAsync(e,t){if(e.filter((e=>-1!==this.linters.findIndex((t=>t.product===e)))).length>0){const n=await this.getActiveLinters(t);for(const e of n)await e.enableAsync(!1,t);if(e.length>0){const n=this.linters.filter((t=>e.findIndex((e=>t.product===e))>=0));for(const e of n)await e.enableAsync(!0,t);await this.enableLintingAsync(!0,t)}}}async createLinter(e,t,n){if(!await this.isLintingEnabled(n))return new y(this.configService);const r="Linter manager: Unknown linter";switch(e){case s.Product.bandit:return new c.Bandit(t);case s.Product.flake8:return new u.Flake8(t);case s.Product.pylint:return new m.Pylint(t);case s.Product.mypy:return new d.MyPy(t);case s.Product.prospector:return new p.Prospector(t);case s.Product.pylama:return new g.PyLama(t);case s.Product.pydocstyle:return new f.PyDocStyle(t);case s.Product.pycodestyle:return new h.Pycodestyle(t);default:(0,a.traceError)(r)}throw new Error(r)}};b=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IConfigurationService))],b),t.LinterManager=b},53193:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LintingEngine=void 0;const o=n(86700),s=n(91171),a=n(71017),c=n(66828),u=n(17585),l=n(77570),d=n(84974),p=n(61684),h=n(3481),f=n(70057),g=n(18639),m=n(77498),v=n(54813),y=n(61522),b=n(62964),S=new Map;S.set(b.LintMessageSeverity.Error,c.DiagnosticSeverity.Error),S.set(b.LintMessageSeverity.Hint,c.DiagnosticSeverity.Hint),S.set(b.LintMessageSeverity.Information,c.DiagnosticSeverity.Information),S.set(b.LintMessageSeverity.Warning,c.DiagnosticSeverity.Warning);let _=class{constructor(e){this.serviceContainer=e,this.pendingLintings=new Map,this.documents=e.get(u.IDocumentManager),this.workspace=e.get(u.IWorkspaceService),this.configurationService=e.get(p.IConfigurationService),this.linterManager=e.get(b.ILinterManager),this.fileSystem=e.get(d.IFileSystem),this.diagnosticCollection=c.languages.createDiagnosticCollection("python")}get diagnostics(){return this.diagnosticCollection}clearDiagnostics(e){this.diagnosticCollection.has(e.uri)&&this.diagnosticCollection.delete(e.uri)}async lintOpenPythonFiles(e="auto"){this.diagnosticCollection.clear();const t=this.documents.textDocuments.map((async t=>this.lintDocument(t,e)));return await Promise.all(t),this.diagnosticCollection}async lintDocument(e,t){if((0,h.isNotebookCell)(e))return;if(this.diagnosticCollection.set(e.uri,[]),!await this.shouldLintDocument(e,t))return;this.pendingLintings.has(e.uri.fsPath)&&(this.pendingLintings.get(e.uri.fsPath).cancel(),this.pendingLintings.delete(e.uri.fsPath));const n=new c.CancellationTokenSource;n.token.onCancellationRequested((()=>{this.pendingLintings.has(e.uri.fsPath)&&this.pendingLintings.delete(e.uri.fsPath)})),this.pendingLintings.set(e.uri.fsPath,n);const r=(await this.linterManager.getActiveLinters(e.uri)).map((async r=>{const i=new f.StopWatch,o=(await this.linterManager.createLinter(r.product,this.serviceContainer,e.uri)).lint(e,n.token);return this.sendLinterRunTelemetry(r,e.uri,o,i,t),o}));let i=[];const o=this.configurationService.getSettings(e.uri);for(const t of r){const r=await t;if(n.token.isCancellationRequested)break;if(this.isDocumentOpen(e.uri)){for(const t of r)i.push(this.createDiagnostics(t,e));i=i.filter(((e,t)=>t<=o.linting.maxNumberOfProblems))}}this.diagnosticCollection.set(e.uri,i)}sendLinterRunTelemetry(e,t,n,r,i){const o=e.pathName(t),s={tool:e.id,hasCustomArgs:e.linterArgs(t).length>0,trigger:i,executableSpecified:o!==e.id};(0,v.sendTelemetryWhenDone)(y.EventName.LINTING,n,r,s)}isDocumentOpen(e){return this.documents.textDocuments.some((t=>t.uri.fsPath===e.fsPath))}createDiagnostics(e,t){const n=new c.Position(e.line-1,e.column);let r=n;e.endLine&&e.endColumn&&(r=new c.Position(e.endLine-1,e.endColumn));const i=new c.Range(n,r),o=S.get(e.severity),s=new c.Diagnostic(i,e.message,o);return s.code=e.code,s.source=e.provider,s}async shouldLintDocument(e,t){const n=this.serviceContainer.get(g.IInterpreterService);if(!await n.getActiveInterpreter(e.uri)&&"manual"===t)return this.serviceContainer.get(u.ICommandManager).executeCommand(l.Commands.TriggerEnvironmentSelection,e.uri).then(h.noop,h.noop),!1;if(!await this.linterManager.isLintingEnabled(e.uri))return this.diagnosticCollection.set(e.uri,[]),!1;if("python"!==e.languageId)return!1;const r=this.workspace.getWorkspaceFolder(e.uri),i=r&&"string"==typeof r.uri.fsPath?r.uri.fsPath:void 0,o="string"==typeof i?a.relative(i,e.fileName):e.fileName;return!this.configurationService.getSettings(e.uri).linting.ignorePatterns.map((e=>new s.Minimatch(e,{dot:!0}))).some((t=>t.match(e.fileName)||t.match(o)))&&!("file"!==e.uri.scheme||!e.uri.fsPath)&&this.fileSystem.fileExists(e.uri.fsPath)}};_=r([(0,o.injectable)(),i(0,(0,o.inject)(m.IServiceContainer))],_),t.LintingEngine=_},67060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MyPy=t.getRegex=void 0,n(32727);const r=n(96486),i=n(61684),o=n(95981);function s(e){return`${(0,r.escapeRegExp)(e)}:(?<line>\\d+)(:(?<column>\\d+))?: (?<type>\\w+): (?<message>.*)\\r?(\\n|$)`}t.getRegex=s;class a extends o.BaseLinter{constructor(e){super(i.Product.mypy,e,1)}async runLinter(e,t){const n=s(e.uri.fsPath.slice(this.getWorkspaceRootPath(e).length+1)),r=await this.run([e.uri.fsPath],e,t,n);return r.forEach((e=>{e.severity=this.parseMessagesSeverity(e.type,this.pythonSettings.linting.mypyCategorySeverity),e.code=e.type})),r}}t.MyPy=a},39415:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Prospector=void 0;const r=n(71017);n(32727);const i=n(61684),o=n(19735),s=n(95981);class a extends s.BaseLinter{constructor(e){super(i.Product.prospector,e)}async runLinter(e,t){const n=this.getWorkingDirectoryPath(e),i=r.relative(n,e.uri.fsPath);return this.run([i],e,t)}async parseMessages(e,t,n,r){let i;try{i=JSON.parse(e)}catch(t){return(0,o.traceLog)(`${"#".repeat(10)}Linting Output - ${this.info.id}${"#".repeat(10)}`),(0,o.traceLog)(e),(0,o.traceError)("Failed to parse Prospector output",t),[]}return i.messages.filter(((e,t)=>t<=this.pythonSettings.linting.maxNumberOfProblems)).map((e=>{const t=null===e.location.line||Number.isNaN(e.location.line)?1:e.location.line;return{code:e.code,message:e.message,column:e.location.character,line:t,type:e.code,provider:`${this.info.id} - ${e.source}`}}))}}t.Prospector=a},52607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pycodestyle=void 0,n(32727);const r=n(61684),i=n(95981);class o extends i.BaseLinter{constructor(e){super(r.Product.pycodestyle,e,1)}async runLinter(e,t){const n=await this.run([e.uri.fsPath],e,t);return n.forEach((e=>{e.severity=this.parseMessagesSeverity(e.type,this.pythonSettings.linting.pycodestyleCategorySeverity)})),n}}t.Pycodestyle=o},18310:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PyDocStyle=void 0;const r=n(71017);n(32727);const i=n(61684),o=n(19735),s=n(93666),a=n(95981),c=n(62964);class u extends a.BaseLinter{constructor(e){super(i.Product.pydocstyle,e)}async runLinter(e,t){const n=await this.run([e.uri.fsPath],e,t);return n.forEach((e=>{e.severity=c.LintMessageSeverity.Warning})),n}async parseMessages(e,t,n,i){let a=e.split(/\r?\n/g);const c=r.basename(t.uri.fsPath),u=2*this.pythonSettings.linting.maxNumberOfProblems,l=a.filter((e=>e.length>0));a=[];for(let e=0;e<l.length/2;e+=1)a.push(l[2*e]+l[2*e+1]);return a.filter(((e,t)=>t<u&&e.indexOf(":")>=0)).map((e=>s.IS_WINDOWS?e.substring(e.indexOf(`${c}:`)+c.length+1).trim():e.substring(e.indexOf(":")+1).trim())).map((e=>{try{if(0===e.trim().length)return;const n=parseInt(e.substring(0,e.indexOf(" ")),10),r=e.substring(e.indexOf(":")+1).trim(),i=r.substring(0,r.indexOf(":")).trim(),o=r.substring(r.indexOf(":")+1).trim(),s=t.lineAt(n-1).text,a=s.trim();return{code:i,message:o,column:s.indexOf(a),line:n,type:"",provider:this.info.id}}catch(t){(0,o.traceError)(`Failed to parse pydocstyle line '${e}'`,t)}})).filter((e=>void 0!==e)).map((e=>e))}}t.PyDocStyle=u},10032:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PyLama=void 0,n(32727);const r=n(61684),i=n(95981),o=n(62964);class s extends i.BaseLinter{constructor(e){super(r.Product.pylama,e,1)}async runLinter(e,t){const n=await this.run([e.uri.fsPath],e,t,"(?<file>.py):(?<line>\\d+):(?<column>\\d+):? \\[(?<type>\\w+)\\]( (?<code>\\w\\d+)?:?)? (?<message>.*)\\r?(\\n|$)");return n.forEach((e=>{e.severity=o.LintMessageSeverity.Warning})),n}}t.PyLama=s},16393:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pylint=void 0,n(32727);const r=n(61684),i=n(19735),o=n(95981);class s extends o.BaseLinter{constructor(e){super(r.Product.pylint,e)}async runLinter(e,t){const{uri:n}=e,r=this.configService.getSettings(n),i=[n.fsPath],o=await this.run(i,e,t);return o.forEach((e=>{e.severity=this.parseMessagesSeverity(e.type,r.linting.pylintCategorySeverity)})),o}parseOutputMessage(e,t=0){return e.endColumn?e.endColumn=e.endColumn<=0?0:e.endColumn-t:e.endColumn=void 0,{code:e.symbol,message:e.message,column:null===e.column||e.column<=0?0:e.column-t,line:e.line,type:e.type,provider:this.info.id,endLine:null===e.endLine?void 0:e.endLine,endColumn:e.endColumn}}async parseMessages(e,t,n,r){const o=[];try{const t=JSON.parse(e);for(const e of t){const t=this.parseOutputMessage(e,this.columnOffset);if(t&&(o.push(t),o.length>=this.pythonSettings.linting.maxNumberOfProblems))break}}catch(t){(0,i.traceError)(`Linter '${this.info.id}' failed to parse the output '${e}.`,t)}return o}}t.Pylint=s},52842:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(90819),i=n(54273),o=n(68882),s=n(53193),a=n(62964);t.registerTypes=function(e){e.addSingleton(a.ILintingEngine,s.LintingEngine),e.addSingleton(a.ILinterManager,o.LinterManager),e.addSingleton(r.IExtensionActivationService,i.LinterProvider)}},62964:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.ILintingEngine=t.LintMessageSeverity=t.ILinterManager=t.LinterId=void 0,(r=t.LinterId||(t.LinterId={})).Flake8="flake8",r.MyPy="mypy",r.PyCodeStyle="pycodestyle",r.Prospector="prospector",r.PyDocStyle="pydocstyle",r.PyLama="pylama",r.PyLint="pylint",r.Bandit="bandit",t.ILinterManager=Symbol("ILinterManager"),(n=t.LintMessageSeverity||(t.LintMessageSeverity={}))[n.Hint=0]="Hint",n[n.Error=1]="Error",n[n.Warning=2]="Warning",n[n.Information=3]="Information",t.ILintingEngine=Symbol("ILintingEngine")},42310:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileLogger=void 0;const r=n(73837),i=n(41719);function o(e,...t){return e?`[${e.toUpperCase()} ${(0,i.getTimeForLogging)()}]: ${r.format(...t)}\r\n`:`${r.format(...t)}\r\n`}t.FileLogger=class{constructor(e){this.stream=e}traceLog(...e){this.stream.write(o(void 0,...e))}traceError(...e){this.stream.write(o("error",...e))}traceWarn(...e){this.stream.write(o("warn",...e))}traceInfo(...e){this.stream.write(o("info",...e))}traceVerbose(...e){this.stream.write(o("debug",...e))}dispose(){try{this.stream.close()}catch(e){}}}},19735:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logTo=t.traceDecoratorWarn=t.traceDecoratorInfo=t.traceDecoratorError=t.traceDecoratorVerbose=t.traceVerbose=t.traceInfo=t.traceWarn=t.traceError=t.traceLog=t.initializeFileLogging=t.setLoggingLevel=t.registerLogger=void 0;const r=n(55674),i=n(25472),o=n(70057),s=n(54813),a=n(42310),c=n(49903),u=n(41719),l=c.TraceOptions.Arguments|c.TraceOptions.ReturnValue;let d=[];function p(e){return d.push(e),{dispose:()=>{d=d.filter((t=>t!==e))}}}t.registerLogger=p;const h=new Map([["error",c.LogLevel.Error],["warn",c.LogLevel.Warn],["info",c.LogLevel.Info],["debug",c.LogLevel.Debug],["none",c.LogLevel.Off],["off",c.LogLevel.Off],[void 0,c.LogLevel.Error]]);let f;function g(...e){f>=c.LogLevel.Error&&d.forEach((t=>t.traceError(...e)))}function m(...e){f>=c.LogLevel.Warn&&d.forEach((t=>t.traceWarn(...e)))}function v(...e){f>=c.LogLevel.Info&&d.forEach((t=>t.traceInfo(...e)))}function y(...e){f>=c.LogLevel.Debug&&d.forEach((t=>t.traceVerbose(...e)))}function b(e){return function(t,n,r){const s=r.value;return r.value=function(...n){const r={kind:"Class",name:t&&t.constructor?t.constructor.name:"",args:n},a=this;return function(e,t){const r=new o.StopWatch;try{const t=s.apply(a,n);return(0,i.isPromise)(t)?t.then((t=>(e({elapsed:r.elapsedTime,returnValue:t}),t))).catch((t=>{e({elapsed:r.elapsedTime,err:t})})):e({elapsed:r.elapsedTime,returnValue:t}),t}catch(t){throw e({elapsed:r.elapsedTime,err:t}),t}}((t=>e(r,t)))},r}}function S(e){return b(((t,n)=>function(e,t,n){const r=function(e,t,n){n=function(e){let{kind:t,name:n,args:r}=e;return t&&""!==t||(t="Function"),n&&""!==n||(n="<anon>"),r||(r=[]),{kind:t,name:n,args:r}}(n);const r=[e.message];return r.push(`${n.kind} name = ${n.name}`.trim(),`completed in ${t.elapsed}ms`,`has a ${t.returnValue?"truthy":"falsy"} return value`),(e.opts&c.TraceOptions.Arguments)===c.TraceOptions.Arguments&&r.push((0,u.argsToLogString)(n.args)),(e.opts&c.TraceOptions.ReturnValue)===c.TraceOptions.ReturnValue&&r.push((0,u.returnValueToLogString)(t.returnValue)),r.join(", ")}(e,t,n);void 0===t.err?(!e.level||e.level>c.LogLevel.Error)&&_(c.LogLevel.Info,[r]):(_(c.LogLevel.Error,[r,t.err]),(0,s.sendTelemetryEvent)("ERROR",void 0,void 0,t.err))}(e,n,t)))}function _(e,...t){switch(e){case c.LogLevel.Error:g(...t);break;case c.LogLevel.Warn:m(...t);break;case c.LogLevel.Info:v(...t);break;case c.LogLevel.Debug:y(...t)}}t.setLoggingLevel=function(e){var t;f=null!==(t=h.get(e))&&void 0!==t?t:c.LogLevel.Error},t.initializeFileLogging=function(e){if(process.env.VSC_PYTHON_LOG_FILE){const t=new a.FileLogger((0,r.createWriteStream)(process.env.VSC_PYTHON_LOG_FILE));e.push(t),e.push(p(t))}},t.traceLog=function(...e){d.forEach((t=>t.traceLog(...e)))},t.traceError=g,t.traceWarn=m,t.traceInfo=v,t.traceVerbose=y,t.traceDecoratorVerbose=function(e,t=l){return S({message:e,opts:t,level:c.LogLevel.Debug})},t.traceDecoratorError=function(e){return S({message:e,opts:l,level:c.LogLevel.Error})},t.traceDecoratorInfo=function(e){return S({message:e,opts:l,level:c.LogLevel.Info})},t.traceDecoratorWarn=function(e){return S({message:e,opts:l,level:c.LogLevel.Warn})},t.logTo=_},4247:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputChannelLogger=void 0;const r=n(73837),i=n(41719);function o(e,...t){return e?`[${e.toUpperCase()} ${(0,i.getTimeForLogging)()}]: ${r.format(...t)}`:r.format(...t)}t.OutputChannelLogger=class{constructor(e){this.channel=e}traceLog(...e){this.channel.appendLine(r.format(...e))}traceError(...e){this.channel.appendLine(o("error",...e))}traceWarn(...e){this.channel.appendLine(o("warn",...e))}traceInfo(...e){this.channel.appendLine(o("info",...e))}traceVerbose(...e){this.channel.appendLine(o("debug",...e))}}},14164:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLoggingLevel=void 0;const r=n(56792);t.getLoggingLevel=function(){var e;return null!==(e=(new r.WorkspaceService).getConfiguration("python").get("logging.level"))&&void 0!==e?e:"error"}},49903:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.TraceOptions=t.LogLevel=void 0,(r=t.LogLevel||(t.LogLevel={}))[r.Off=0]="Off",r[r.Error=10]="Error",r[r.Warn=20]="Warn",r[r.Info=30]="Info",r[r.Debug=40]="Debug",(n=t.TraceOptions||(t.TraceOptions={}))[n.None=0]="None",n[n.Arguments=1]="Arguments",n[n.ReturnValue=2]="ReturnValue"},41719:(e,t)=>{"use strict";function n(e,t){if(void 0===e)return"undefined";if(null===e)return"null";try{return e&&e.fsPath?`<Uri:${e.fsPath}>`:JSON.stringify(e)}catch(e){return`<${t} cannot be serialized for logging>`}}Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeForLogging=t.returnValueToLogString=t.argsToLogString=void 0,t.argsToLogString=function(e){if(!e)return"";try{return e.map(((e,t)=>`Arg ${t+1}: ${n(e,"argument")}`)).join(", ")}catch(e){return""}},t.returnValueToLogString=function(e){return`Return Value: ${n(e,"Return value")}`},t.getTimeForLogging=function(){const e=new Date;return`${e.getFullYear()}-${e.getMonth()}-${e.getDate()} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}.${e.getMilliseconds()}`}},65854:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertEnvInfo=t.convertCompleteEnvInfo=t.buildProposedApi=t.EnvironmentReference=t.reportActiveInterpreterChanged=void 0;const r=n(66828),i=n(71017),o=n(61684),s=n(87450),a=n(45878),c=n(44773),u=n(29983),l=n(19735),d=n(48431),p=n(54813),h=n(61522),f=n(70301),g=new r.EventEmitter;t.reportActiveInterpreterChanged=function(e){var t;g.fire({id:P(e.path),path:e.path,resource:e.resource}),(0,f.reportActiveInterpreterChangedDeprecated)({path:e.path,resource:null===(t=e.resource)||void 0===t?void 0:t.uri})};const m=new r.EventEmitter,v=new Map;class y{constructor(e){this.internal=e,this.id=e.id}get executable(){return Object.freeze(this.internal.executable)}get environment(){return Object.freeze(this.internal.environment)}get version(){return Object.freeze(this.internal.version)}get tools(){return Object.freeze(this.internal.tools)}get path(){return Object.freeze(this.internal.path)}updateEnv(e){this.internal=e}}function b(e){let t=v.get(e.id);return t?t.updateEnv(e):t=new y(e),v.set(e.id,t),t}function S(e){const t={...e.version,sysVersion:e.version.sysVersion};let n=function(e){switch(e){case a.PythonEnvKind.Venv:return"Venv";case a.PythonEnvKind.Pipenv:return"Pipenv";case a.PythonEnvKind.Poetry:return"Poetry";case a.PythonEnvKind.VirtualEnvWrapper:return"VirtualEnvWrapper";case a.PythonEnvKind.VirtualEnv:return"VirtualEnv";case a.PythonEnvKind.Conda:return"Conda";case a.PythonEnvKind.Pyenv:return"Pyenv";default:return}}(e.kind);e.type&&!n&&(n="Unknown");const{path:i}=(0,c.getEnvPath)(e.executable.filename,e.location);return{path:i,id:P(i),executable:{uri:r.Uri.file(e.executable.filename),bitness:w(e.arch),sysPrefix:e.executable.sysPrefix},environment:e.type?{type:(o=e.type,o===a.PythonEnvType.Conda?"Conda":o===a.PythonEnvType.Virtual?"VirtualEnvironment":"Unknown"),name:e.name,folderUri:r.Uri.file(e.location),workspaceFolder:e.searchLocation}:void 0,version:t,tools:n?[n]:[]};var o}function _(e){var t,n;const r=S(e);return""===r.executable.sysPrefix&&(r.executable.sysPrefix=void 0),"python"===(null===(t=r.executable.uri)||void 0===t?void 0:t.fsPath)&&(r.executable.uri=void 0),""===(null===(n=r.environment)||void 0===n?void 0:n.name)&&(r.environment.name=void 0),-1===r.version.major&&(r.version.major=void 0),-1===r.version.micro&&(r.version.micro=void 0),-1===r.version.minor&&(r.version.minor=void 0),r}function E(e){return b(_(e))}function w(e){switch(e){case s.Architecture.x64:return"64-bit";case s.Architecture.x86:return"32-bit";default:return"Unknown"}}function P(e){return(0,d.normCasePath)(e)}t.EnvironmentReference=y,t.buildProposedApi=function(e,t){const n=t.get(o.IInterpreterPathService),s=t.get(o.IConfigurationService),a=t.get(o.IDisposableRegistry),d=t.get(o.IExtensions);function v(e){d.determineExtensionFromCallStack().then((t=>{(0,p.sendTelemetryEvent)(h.EventName.PYTHON_ENVIRONMENTS_API,void 0,{apiName:e,extensionId:t.extensionId}),(0,l.traceVerbose)(`Extension ${t.extensionId} accessed ${e}`)})).ignoreErrors()}let y;a.push(e.onChanged((e=>{e.old?e.new?(m.fire({type:"update",env:E(e.new)}),(0,f.reportInterpretersChanged)([{path:(0,c.getEnvPath)(e.new.executable.filename,e.new.location).path,type:"update"}])):(m.fire({type:"remove",env:E(e.old)}),(0,f.reportInterpretersChanged)([{path:(0,c.getEnvPath)(e.old.executable.filename,e.old.location).path,type:"remove"}])):e.new&&(m.fire({type:"add",env:E(e.new)}),(0,f.reportInterpretersChanged)([{path:(0,c.getEnvPath)(e.new.executable.filename,e.new.location).path,type:"add"}]))})),m);try{y={...(0,f.buildDeprecatedProposedApi)(e,t)}}catch(e){y={}}const _={...y,environments:{getActiveEnvironmentPath(e){v("getActiveEnvironmentPath"),e=e&&"uri"in e?e.uri:e;const t=s.getSettings(e).pythonPath;return{id:"python"===t?"DEFAULT_PYTHON":P(t),path:t}},updateActiveEnvironmentPath(e,t){v("updateActiveEnvironmentPath");const i="string"!=typeof e?e.path:e;return t=t&&"uri"in t?t.uri:t,n.update(t,r.ConfigurationTarget.WorkspaceFolder,i)},get onDidChangeActiveEnvironmentPath(){return v("onDidChangeActiveEnvironmentPath"),g.event},resolveEnvironment:async n=>{let r="string"!=typeof n?n.path:n;if(i.basename(r)===r){const e=t.get(u.IPythonExecutionFactory),n=await e.create({pythonPath:r}),i=await n.getExecutablePath().catch((e=>{(0,l.traceError)("Cannot resolve full path",e)}));if(!i)return;r=i}return v("resolveEnvironment"),async function(e,t){const n=await t.resolveEnv(e);if(n)return b(S(n))}(r,e)},get known(){return v("known"),e.getEnvs().map((e=>E(e)))},async refreshEnvironments(t){await e.triggerRefresh(void 0,{ifNotTriggerredAlready:!(null==t?void 0:t.forceRefresh)}),v("refreshEnvironments")},get onDidChangeEnvironments(){return v("onDidChangeEnvironments"),m.event}}};return _},t.convertCompleteEnvInfo=S,t.convertEnvInfo=_},61673:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LaunchJsonCodeActionProvider=void 0;const r=n(66828);t.LaunchJsonCodeActionProvider=class{provideCodeActions(e,t,n){return n.diagnostics.filter((e=>'Incorrect type. Expected "string".'===e.message)).map((t=>this.createFix(e,t)))}createFix(e,t){const n=`"${e.getText(t.range)}"`,i=new r.CodeAction(`Convert to ${n}`,r.CodeActionKind.QuickFix);return i.edit=new r.WorkspaceEdit,i.edit.replace(e.uri,t.range,n),i}}},76530:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeActionProviderService=void 0;const o=n(86700),s=n(61684),a=n(61673);let c=class{constructor(e){this.disposableRegistry=e,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1}}async activate(){const e=n(66828);this.disposableRegistry.push(e.languages.registerCodeActionsProvider({scheme:"file",language:"jsonc",pattern:"**/launch.json"},new a.LaunchJsonCodeActionProvider,{providedCodeActionKinds:[e.CodeActionKind.QuickFix]}))}};c=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IDisposableRegistry))],c),t.CodeActionProviderService=c},67370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonCodeActionProvider=void 0;const r=n(66828),i=n(3481);t.PythonCodeActionProvider=class{provideCodeActions(e,t,n,o){if((0,i.isNotebookCell)(e))return[];const s=new r.CodeAction("Sort imports",r.CodeActionKind.SourceOrganizeImports);return s.command={title:"Sort imports",command:"python.sortImports"},[s]}}},6342:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonFormattingEditProvider=void 0;const r=n(17585),i=n(77570),o=n(61684),s=n(18639),a=n(64314),c=n(23199),u=n(89027),l=n(57619);t.PythonFormattingEditProvider=class{constructor(e,t){this.formatters=new Map,this.disposables=[],this.documentVersionBeforeFormatting=-1,this.formatterMadeChanges=!1,this.saving=!1;const n=new l.YapfFormatter(t),i=new a.AutoPep8Formatter(t),d=new c.BlackFormatter(t),p=new u.DummyFormatter(t);this.formatters.set(n.Id,n),this.formatters.set(d.Id,d),this.formatters.set(i.Id,i),this.formatters.set(p.Id,p),this.commands=t.get(r.ICommandManager),this.workspace=t.get(r.IWorkspaceService),this.documentManager=t.get(r.IDocumentManager),this.config=t.get(o.IConfigurationService);const h=t.get(s.IInterpreterService);this.disposables.push(this.documentManager.onDidSaveTextDocument((async e=>this.onSaveDocument(e)))),this.disposables.push(h.onDidChangeInterpreter((async()=>{if(this.documentManager.activeTextEditor)return this.onSaveDocument(this.documentManager.activeTextEditor.document)})))}dispose(){this.disposables.forEach((e=>e.dispose()))}provideDocumentFormattingEdits(e,t,n){return this.provideDocumentRangeFormattingEdits(e,void 0,t,n)}async provideDocumentRangeFormattingEdits(e,t,n,r){if(this.saving||e.languageId!==i.PYTHON_LANGUAGE)return[];!0===this.workspace.getConfiguration("editor",e.uri).get("formatOnSave")&&(this.documentVersionBeforeFormatting=e.version);const o=this.config.getSettings(e.uri),s=this.formatters.get(o.formatting.provider),a=await s.formatDocument(e,n,r,t);return this.formatterMadeChanges=a.length>0,a}async onSaveDocument(e){setTimeout((()=>{try{this.formatterMadeChanges&&!e.isDirty&&e.version===this.documentVersionBeforeFormatting&&this.commands.executeCommand("editor.action.formatDocument").then((async()=>{this.saving=!0,await e.save(),this.saving=!1}))}finally{this.documentVersionBeforeFormatting=-1,this.saving=!1,this.formatterMadeChanges=!1}}),50)}}},13488:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SortImportsEditingProvider=void 0;const o=n(86700),s=n(22037),a=n(71017),c=n(66828),u=n(18472),l=n(17585),d=n(77570),p=n(4057),h=n(29983),f=n(61684),g=n(59314),m=n(67098),v=n(3481),y=n(18639),b=n(77498),S=n(19735),_=n(54813),E=n(61522),w=u.loadMessageBundle();let P=class{constructor(e){this.serviceContainer=e,this.isortPromises=new Map,this.shell=e.get(l.IApplicationShell),this.documentManager=e.get(l.IDocumentManager),this.configurationService=e.get(f.IConfigurationService),this.pythonExecutionFactory=e.get(h.IPythonExecutionFactory),this.processServiceFactory=e.get(h.IProcessServiceFactory),this.editorUtils=e.get(f.IEditorUtils),this.persistentStateFactory=e.get(f.IPersistentStateFactory),this.extensions=e.get(f.IExtensions)}async provideDocumentSortImportsEdits(e){if(this.isortPromises.has(e.fsPath)){const t=this.isortPromises.get(e.fsPath);t.deferred.completed||t.tokenSource.cancel()}const t=new c.CancellationTokenSource,n=this._provideDocumentSortImportsEdits(e,t.token),r=(0,g.createDeferredFromPromise)(n);return this.isortPromises.set(e.fsPath,{deferred:r,tokenSource:t}),n.then((e=>t.token.isCancellationRequested?void 0:e))}async _provideDocumentSortImportsEdits(e,t){const n=await this.documentManager.openTextDocument(e);if(!n)return;if(n.lineCount<=1)return;const r=await this.getExecIsort(n,e,t);if(t&&t.isCancellationRequested)return;const i=await r(n.getText());return i?this.editorUtils.getWorkspaceEditsFromPatch(n.getText(),i,n.uri):void 0}registerCommands(){const e=this.serviceContainer.get(l.ICommandManager).registerCommand(d.Commands.Sort_Imports,this.sortImports,this);this.serviceContainer.get(f.IDisposableRegistry).push(e)}async sortImports(e){const t=this.serviceContainer.get(y.IInterpreterService);if(!await t.getActiveInterpreter(e))return void this.serviceContainer.get(l.ICommandManager).executeCommand(d.Commands.TriggerEnvironmentSelection,e).then(v.noop,v.noop);const n=this.extensions.getExtension("ms-python.isort");if(n&&n.isActive)return;if(!e){const t=this.documentManager.activeTextEditor;if(!t||t.document.languageId!==d.PYTHON_LANGUAGE)return void this.shell.showErrorMessage(w("sortImportError","Please open a Python file to sort the imports.")).then(v.noop,v.noop);e=t.document.uri}const r=await this.documentManager.openTextDocument(e);if(r.lineCount<=1)return;const i=r.lineAt(r.lineCount-1);if(i.text.trim().length>0){const t=new c.WorkspaceEdit;t.insert(e,i.range.end,s.EOL),await this.documentManager.applyEdit(t)}try{const t=await this.provideDocumentSortImportsEdits(e);if(!t||0===t.entries().length)return;await this.documentManager.applyEdit(t)}catch(t){let n=t;"string"==typeof t?n=t:t instanceof Error&&(n=t.message),(0,S.traceError)(`Failed to format imports for '${e.fsPath}'.`,t),this.shell.showErrorMessage(n).then(v.noop,v.noop)}}async _showWarningAndOptionallyShowOutput(){const e=this.persistentStateFactory.createGlobalPersistentState("ISORT5_UPGRADE_WARNING_KEY",!1);if(e.value)return;const t=await this.shell.showWarningMessage(m.Diagnostics.checkIsort5UpgradeGuide,m.Common.openOutputPanel,m.Common.doNotShowAgain);if(t===m.Common.openOutputPanel){const e=this.serviceContainer.get(l.ICommandManager);await e.executeCommand(d.Commands.ViewOutput)}else t===m.Common.doNotShowAgain&&await e.updateValue(!0)}async getExecIsort(e,t,n){const r=this.configurationService.getSettings(t),i=r.sortImports.path,o="string"==typeof i&&i.length>0?i:void 0,s=r.sortImports.args,c={token:n,cwd:a.dirname(t.fsPath)};if(o){const t=await this.processServiceFactory.create(e.uri);return async e=>{const n=function(e,t){const n=["-","--diff"];return t&&n.push(...t),n}(0,s),r=t.execObservable(o,n,c);return this.communicateWithIsortProcess(r,e)}}const u=await this.pythonExecutionFactory.create({resource:e.uri});return async e=>{const[t,n]=p.sortImports("-",s),r=u.execObservable(t,c);return n(await this.communicateWithIsortProcess(r,e))}}async communicateWithIsortProcess(e,t){var n,r,i,o;let s="",a=!1;const c=(0,g.createDeferred)();return e.out.subscribe({next:e=>{"stdout"===e.source?s+=e.out:(a=a||e.out.includes("W050"),(0,S.traceError)(e.out),e.out.includes("W050")||c.reject(e.out))},complete:()=>{c.resolve(s)}}),null===(r=null===(n=e.proc)||void 0===n?void 0:n.stdin)||void 0===r||r.write(t),null===(o=null===(i=e.proc)||void 0===i?void 0:i.stdin)||void 0===o||o.end(),await c.promise,a&&this._showWarningAndOptionallyShowOutput().ignoreErrors(),s}};r([(0,_.captureTelemetry)(E.EventName.FORMAT_SORT_IMPORTS)],P.prototype,"provideDocumentSortImportsEdits",null),P=r([(0,o.injectable)(),i(0,(0,o.inject)(b.IServiceContainer))],P),t.SortImportsEditingProvider=P},54273:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LinterProvider=void 0;const o=n(86700),s=n(71017),a=n(66828),c=n(17585),u=n(77570);n(32727);const l=n(84974),d=n(61684),p=n(18639),h=n(77498),f=n(62964);let g=class{constructor(e){this.serviceContainer=e,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1},this.disposables=[],this.activatedOnce=!1,this.serviceContainer=e,this.fs=this.serviceContainer.get(l.IFileSystem),this.engine=this.serviceContainer.get(f.ILintingEngine),this.linterManager=this.serviceContainer.get(f.ILinterManager),this.interpreterService=this.serviceContainer.get(p.IInterpreterService),this.documents=this.serviceContainer.get(c.IDocumentManager),this.configuration=this.serviceContainer.get(d.IConfigurationService),this.workspaceService=this.serviceContainer.get(c.IWorkspaceService)}async activate(){if(this.activatedOnce)return;this.activatedOnce=!0,this.disposables.push(this.interpreterService.onDidChangeInterpreter((()=>this.engine.lintOpenPythonFiles()))),this.documents.onDidOpenTextDocument((e=>this.onDocumentOpened(e)),this.disposables),this.documents.onDidCloseTextDocument((e=>this.onDocumentClosed(e)),this.disposables),this.documents.onDidSaveTextDocument((e=>this.onDocumentSaved(e)),this.disposables);const e=this.workspaceService.onDidChangeConfiguration(this.lintSettingsChangedHandler.bind(this));if(this.disposables.push(e),!(0,u.isTestExecution)()){const e=setTimeout((()=>this.engine.lintOpenPythonFiles().ignoreErrors()),1200);this.disposables.push({dispose:()=>clearTimeout(e)})}}dispose(){this.disposables.forEach((e=>e.dispose()))}isDocumentOpen(e){return this.documents.textDocuments.some((t=>this.fs.arePathsSame(t.uri.fsPath,e.fsPath)))}lintSettingsChangedHandler(e){a.workspace.textDocuments.forEach((t=>{e.affectsConfiguration("python.linting",t.uri)&&this.engine.lintDocument(t,"auto").ignoreErrors()}))}onDocumentOpened(e){this.engine.lintDocument(e,"auto").ignoreErrors()}onDocumentSaved(e){const t=this.configuration.getSettings(e.uri);"python"===e.languageId&&t.linting.enabled&&t.linting.lintOnSave?this.engine.lintDocument(e,"save").ignoreErrors():this.linterManager.getActiveLinters(e.uri).then((t=>{const n=s.basename(e.uri.fsPath).toLowerCase();t.filter((e=>e.configFileNames.indexOf(n)>=0)).length>0&&setTimeout((()=>this.engine.lintOpenPythonFiles()),1e3)})).ignoreErrors()}onDocumentClosed(e){e&&e.fileName&&e.uri&&(this.isDocumentOpen(e.uri)||this.engine.clearDiagnostics(e))}};g=r([(0,o.injectable)(),i(0,(0,o.inject)(h.IServiceContainer))],g),t.LinterProvider=g},76687:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ReplProvider=void 0;const i=n(17585),o=n(77570),s=n(3481),a=n(18639),c=n(54813),u=n(61522),l=n(43200);class d{constructor(e){this.serviceContainer=e,this.disposables=[],this.activeResourceService=this.serviceContainer.get(i.IActiveResourceService),this.registerCommand()}dispose(){this.disposables.forEach((e=>e.dispose()))}registerCommand(){const e=this.serviceContainer.get(i.ICommandManager).registerCommand(o.Commands.Start_REPL,this.commandHandler,this);this.disposables.push(e)}async commandHandler(){const e=this.activeResourceService.getActiveResource(),t=this.serviceContainer.get(a.IInterpreterService);if(!await t.getActiveInterpreter(e))return void this.serviceContainer.get(i.ICommandManager).executeCommand(o.Commands.TriggerEnvironmentSelection,e).then(s.noop,s.noop);const n=this.serviceContainer.get(l.ICodeExecutionService,"repl");await n.initializeRepl(e)}}r([(0,c.captureTelemetry)(u.EventName.REPL)],d.prototype,"commandHandler",null),t.ReplProvider=d},43768:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(90819),i=n(76530),o=n(13488),s=n(81377);t.registerTypes=function(e){e.addSingleton(s.ISortImportsEditingProvider,o.SortImportsEditingProvider),e.addSingleton(r.IExtensionSingleActivationService,i.CodeActionProviderService)}},8593:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalProvider=void 0;const i=n(17585),o=n(77570),s=n(58400),a=n(61684),c=n(36952),u=n(54813),l=n(61522);class d{constructor(e){this.serviceContainer=e,this.disposables=[],this.registerCommands(),this.activeResourceService=this.serviceContainer.get(i.IActiveResourceService)}async initialize(e){const t=this.serviceContainer.get(a.IConfigurationService).getSettings(this.activeResourceService.getActiveResource());if(e&&t.terminal.activateEnvInCurrentTerminal){const t="hideFromUser"in e.creationOptions&&e.creationOptions.hideFromUser;if(!t){const t=this.serviceContainer.get(s.ITerminalActivator);await t.activateEnvironmentInTerminal(e,{preserveFocus:!0})}(0,u.sendTelemetryEvent)(l.EventName.ACTIVATE_ENV_IN_CURRENT_TERMINAL,void 0,{isTerminalVisible:!t})}}dispose(){this.disposables.forEach((e=>e.dispose()))}registerCommands(){const e=this.serviceContainer.get(i.ICommandManager).registerCommand(o.Commands.Create_Terminal,this.onCreateTerminal,this);this.disposables.push(e)}async onCreateTerminal(){const e=this.serviceContainer.get(s.ITerminalServiceFactory),t=this.activeResourceService.getActiveResource();await e.createTerminalService(t,"Python").show(!1)}}r([(0,c.swallowExceptions)("Failed to initialize terminal provider")],d.prototype,"initialize",null),r([(0,u.captureTelemetry)(l.EventName.TERMINAL_CREATE,{triggeredBy:"commandpalette"})],d.prototype,"onCreateTerminal",null),t.TerminalProvider=d},81377:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ISortImportsEditingProvider=void 0,t.ISortImportsEditingProvider=Symbol("ISortImportsEditingProvider")},11069:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPythonEnvironments=void 0;class n{constructor(e){this.getLocator=e}async activate(){this.locator=await this.getLocator()}get onProgress(){return this.locator.onProgress}get refreshState(){return this.locator.refreshState}getRefreshPromise(e){return this.locator.getRefreshPromise(e)}get onChanged(){return this.locator.onChanged}getEnvs(e){return this.locator.getEnvs(e)}async resolveEnv(e){return this.locator.resolveEnv(e)}async triggerRefresh(e,t){return this.locator.triggerRefresh(e,t)}}t.createPythonEnvironments=async function(e){const t=new n(e);return await t.activate(),t}},44773:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.comparePythonVersionSpecificity=t.areSameEnv=t.getEnvID=t.getEnvPath=t.setEnvDisplayString=t.copyEnvInfo=t.buildEnvInfo=void 0;const r=n(96486),i=n(71017),o=n(3522),s=n(87450),a=n(37769),c=n(24563),u=n(95084),l=n(45878);function d(e,t){void 0!==t.kind&&(e.kind=t.kind),void 0!==t.executable&&(e.executable.filename=t.executable),void 0!==t.location&&(e.location=t.location),void 0!==t.version&&(e.version=t.version),void 0!==t.searchLocation&&(e.searchLocation=t.searchLocation),void 0!==t.type&&(e.type=t.type)}function p(e,t=!1){const n=t||e.searchLocation||l.globallyInstalledEnvKinds.includes(e.kind),r=!l.virtualEnvKinds.includes(e.kind),i=["Python"];if(e.version&&!(0,u.isVersionEmpty)(e.version)&&i.push((0,u.getVersionDisplayString)(e.version)),r){const t=(0,o.getArchitectureDisplayName)(e.arch);""!==t&&i.push(t)}const s=[];if(e.name&&""!==e.name&&s.push(`'${e.name}'`),n){const t=(0,c.getKindDisplayName)(e.kind);""!==t&&s.push(t)}const a=0===s.length?"":`(${s.join(": ")})`;return`${i.join(" ")} ${a}`.trim()}function h(e){if("string"==typeof e){if(""===e)return;return{executable:{filename:e,sysPrefix:"",ctime:-1,mtime:-1}}}return"executablePath"in e?{executable:{filename:e.executablePath,sysPrefix:"",ctime:-1,mtime:-1},location:e.envPath,kind:e.kind,source:e.source}:e}function f(e,t){let n={path:e,pathType:"interpreterPath"};return t&&!(0,a.isParentPath)(e,t)&&(n={path:t,pathType:"envFolderPath"}),n}function g(e,t){return(0,a.normCasePath)(f(e,t).path)}function m(e){var t,n;let r=0;return e.major>0&&(r+=20),e.minor>=0&&(r+=10),e.micro>=0&&(r+=5),(null===(t=e.release)||void 0===t?void 0:t.level)&&(r+=3),((null===(n=e.release)||void 0===n?void 0:n.serial)||e.sysVersion)&&(r+=1),r}t.buildEnvInfo=function(e){var t,n,r,i,o,a,c,u,p;const h={name:null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"",location:"",kind:l.PythonEnvKind.Unknown,executable:{filename:"",sysPrefix:null!==(n=null==e?void 0:e.sysPrefix)&&void 0!==n?n:"",ctime:null!==(i=null===(r=null==e?void 0:e.fileInfo)||void 0===r?void 0:r.ctime)&&void 0!==i?i:-1,mtime:null!==(a=null===(o=null==e?void 0:e.fileInfo)||void 0===o?void 0:o.mtime)&&void 0!==a?a:-1},searchLocation:void 0,display:null==e?void 0:e.display,version:{major:-1,minor:-1,micro:-1,release:{level:l.PythonReleaseLevel.Final,serial:0}},arch:null!==(c=null==e?void 0:e.arch)&&void 0!==c?c:s.Architecture.Unknown,distro:{org:null!==(u=null==e?void 0:e.org)&&void 0!==u?u:""},source:null!==(p=null==e?void 0:e.source)&&void 0!==p?p:[]};return void 0!==e&&d(h,e),h.id=g(h.executable.filename,h.location),h},t.copyEnvInfo=function(e,t){const n=(0,r.cloneDeep)(e);return void 0!==t&&d(n,t),n},t.setEnvDisplayString=function(e){e.display=p(e),e.detailedDisplayName=p(e,!0)},t.getEnvPath=f,t.getEnvID=g,t.areSameEnv=function(e,t,n=!0){const r=h(e),o=h(t);if(void 0===r||void 0===o)return;const s=r.executable.filename,c=o.executable.filename;if(g(s,r.location)===g(c,o.location))return!0;if(n&&"python"!==s&&"python"!==c&&(0,a.arePathsSame)(i.dirname(s),i.dirname(c))){const n="string"==typeof e?void 0:r.version,i="string"==typeof t?void 0:o.version;if(n&&i&&((0,u.areIdenticalVersion)(n,i)||(0,u.areSimilarVersions)(n,i)))return!0}return!1},t.comparePythonVersionSpecificity=function(e,t){return Math.sign(m(e)-m(t))}},24563:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrioritizedEnvKinds=t.getKindDisplayName=void 0;const r=n(45878);t.getKindDisplayName=function(e){for(const[t,n]of[[r.PythonEnvKind.System,"system"],[r.PythonEnvKind.MicrosoftStore,"microsoft store"],[r.PythonEnvKind.Pyenv,"pyenv"],[r.PythonEnvKind.Poetry,"poetry"],[r.PythonEnvKind.Custom,"custom"],[r.PythonEnvKind.Venv,"venv"],[r.PythonEnvKind.VirtualEnv,"virtualenv"],[r.PythonEnvKind.VirtualEnvWrapper,"virtualenv"],[r.PythonEnvKind.Pipenv,"pipenv"],[r.PythonEnvKind.Conda,"conda"]])if(e===t)return n;return""},t.getPrioritizedEnvKinds=function(){return[r.PythonEnvKind.Pyenv,r.PythonEnvKind.Conda,r.PythonEnvKind.MicrosoftStore,r.PythonEnvKind.Pipenv,r.PythonEnvKind.Poetry,r.PythonEnvKind.Venv,r.PythonEnvKind.VirtualEnvWrapper,r.PythonEnvKind.VirtualEnv,r.PythonEnvKind.OtherVirtual,r.PythonEnvKind.OtherGlobal,r.PythonEnvKind.System,r.PythonEnvKind.Custom,r.PythonEnvKind.Unknown]}},67931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvironmentInfoService=t.EnvironmentInfoServiceQueuePriority=void 0;const r=n(59314),i=n(97749),o=n(67029),s=n(24708),a=n(19735),c=n(75470),u=n(45878),l=n(37769),d=n(4057),p=n(87450),h=n(95084);var f;async function g(e){const t=[e.executable.filename,d.OUTPUT_MARKER_SCRIPT];return await(0,o.getInterpreterInfo)((0,s.buildPythonExecInfo)(t,void 0,e.executable.filename))}async function m(e){const t=await c.Conda.getConda(),n=e.location.length?e.location:e.executable.filename,r=await(null==t?void 0:t.getCondaEnvironment(n));if(!r)return;const i=await(null==t?void 0:t.getRunPythonArgs(r,!0));return i?await(0,o.getInterpreterInfo)((0,s.buildPythonExecInfo)(i,void 0,e.executable.filename),c.CONDA_ACTIVATION_TIMEOUT):void 0}!function(e){e[e.Default=0]="Default",e[e.High=1]="High"}(f=t.EnvironmentInfoServiceQueuePriority||(t.EnvironmentInfoServiceQueuePriority={}));class v{constructor(){this.cache=new Map}dispose(){void 0!==this.workerPool&&(this.workerPool.stop(),this.workerPool=void 0),void 0!==this.condaRunWorkerPool&&(this.condaRunWorkerPool.stop(),this.condaRunWorkerPool=void 0)}async getEnvironmentInfo(e,t){const n=e.executable.filename,i=this.cache.get((0,l.normCasePath)(n));if(void 0!==i)return i.promise;const o=(0,r.createDeferred)();return this.cache.set((0,l.normCasePath)(n),o),this._getEnvironmentInfo(e,t).then((e=>{o.resolve(e)})).catch((e=>{o.reject(e)})),o.promise}async _getEnvironmentInfo(e,t){if(e.kind===u.PythonEnvKind.Conda&&"python"===e.executable.filename)return{arch:p.Architecture.Unknown,executable:{filename:"python",ctime:-1,mtime:-1,sysPrefix:""},version:(0,h.getEmptyVersion)()};let n;void 0===this.workerPool&&(this.workerPool=(0,i.createRunningWorkerPool)(g));let r=await y(this.workerPool,e,t).catch((e=>{n=e}));return void 0===r&&(e.kind===u.PythonEnvKind.Conda||await(0,c.isCondaEnvironment)(e.executable.filename)?((0,a.traceInfo)(`Validating ${e.executable.filename} normally failed with error, falling back to using conda run: (${n})`),void 0===this.condaRunWorkerPool&&(this.condaRunWorkerPool=(0,i.createRunningWorkerPool)(m)),r=await y(this.condaRunWorkerPool,e,t).catch((e=>{(0,a.traceError)(e)}))):n&&(0,a.traceError)(n)),r}}function y(e,t,n){return n===f.High?e.addToQueue(t,i.QueuePosition.Front):e.addToQueue(t,i.QueuePosition.Back)}let b;t.getEnvironmentInfoService=function(e){if(void 0===b){const t=new v;null==e||e.push({dispose:()=>{t.dispose(),b=void 0}}),b=t}return b}},82035:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseVersionFromExecutable=void 0;const r=n(71017),i=n(87450),o=n(95084),s=n(37769);t.parseVersionFromExecutable=function(e){const t=function(e){if(e=(0,s.normCasePath)(e),(0,i.getOSType)()===i.OSType.Windows){if("python.exe"===e)return(0,o.getEmptyVersion)()}else if("python"===e)return(0,o.parseVersion)("2.7");if(!e.startsWith("python"))throw Error(`not a Python executable (expected "python..", got "${e}")`);return(0,o.parseVersion)(e)}(r.basename(e));return 2===t.major&&-1===t.minor&&(t.minor=7),t}},45878:(e,t)=>{"use strict";var n,r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.UNKNOWN_PYTHON_VERSION=t.PythonReleaseLevel=t.PythonEnvSource=t.globallyInstalledEnvKinds=t.virtualEnvKinds=t.PythonEnvType=t.PythonEnvKind=void 0,function(e){e.Unknown="unknown",e.System="global-system",e.MicrosoftStore="global-microsoft-store",e.Pyenv="global-pyenv",e.Poetry="poetry",e.Custom="global-custom",e.OtherGlobal="global-other",e.Venv="virt-venv",e.VirtualEnv="virt-virtualenv",e.VirtualEnvWrapper="virt-virtualenvwrapper",e.Pipenv="virt-pipenv",e.Conda="virt-conda",e.OtherVirtual="virt-other"}(n=t.PythonEnvKind||(t.PythonEnvKind={})),(o=t.PythonEnvType||(t.PythonEnvType={})).Conda="Conda",o.Virtual="Virtual",t.virtualEnvKinds=[n.Poetry,n.Pipenv,n.Venv,n.VirtualEnvWrapper,n.Conda,n.VirtualEnv],t.globallyInstalledEnvKinds=[n.OtherGlobal,n.Unknown,n.MicrosoftStore,n.System,n.Custom],(i=t.PythonEnvSource||(t.PythonEnvSource={})).PathEnvVar="path env var",i.WindowsRegistry="windows registry",function(e){e.Alpha="alpha",e.Beta="beta",e.Candidate="candidate",e.Final="final"}(r=t.PythonReleaseLevel||(t.PythonReleaseLevel={})),t.UNKNOWN_PYTHON_VERSION={major:-1,minor:-1,micro:-1,release:{level:r.Final,serial:-1},sysVersion:void 0},Object.freeze(t.UNKNOWN_PYTHON_VERSION)},67029:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterpreterInfo=void 0;const r=n(4057),i=n(87450),o=n(19735),s=n(37769),a=n(24708),c=n(95084);t.getInterpreterInfo=async function(e,t){const[n,u]=(0,r.interpreterInfo)(),l=(0,a.copyPythonExecInfo)(e,n),d=[l.command,...l.args],p=d.reduce(((e,t)=>e?`${e} ${t.toCommandArgumentForPythonExt()}`:`${t.toCommandArgumentForPythonExt()}`),""),h=await(0,s.shellExecute)(p,{timeout:null!=t?t:15e3});h.stderr&&(0,o.traceError)(`Stderr when executing script with ${d} stderr: ${h.stderr}, still attempting to parse output`);const f=u(h.stdout);if(f)return(0,o.traceInfo)(`Found interpreter for ${d}`),function(e,t){let n=`${t.versionInfo.slice(0,3).join(".")}`;if(void 0!==t.versionInfo[3]&&["final","alpha","beta","candidate"].includes(t.versionInfo[3])&&(n=`${n}-${t.versionInfo[3]}`,void 0!==t.versionInfo[4])){let e=-1;try{e=parseInt(`${t.versionInfo[4]}`,10)}catch(t){e=-1}n=e>=0?`${n}${e}`:n}return{arch:t.is64Bit?i.Architecture.x64:i.Architecture.x86,executable:{filename:e,sysPrefix:t.sysPrefix,mtime:-1,ctime:-1},version:{...(0,c.parseVersion)(n),sysVersion:t.sysVersion}}}(e.pythonExecutable,f)}},95084:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareSemVerLikeVersions=t.toSemverLikeVersion=t.areSimilarVersions=t.areIdenticalVersion=t.getShortVersionString=t.getVersionDisplayString=t.isVersionEmpty=t.getEmptyVersion=t.parseBasicVersion=t.parseRelease=t.parseVersion=t.getPythonVersionFromPath=void 0;const r=n(96486),i=n(71017),o=n(52439),s=n(45878),a=n(19735);function c(e){const[t,n]=l(e);if(-1===t.micro)return t;const[r]=u(n);return t.release=r,t}function u(e){let t,n,r,i,o,a,c,u=e.match(/^(?:-?final|\.final(?:\.0)?)(.*)$/);if(u)[,t]=u,o="final",a="0";else for(const o of[/^(?:(a)|(b)|(rc))([1-9]\d*)(.*)$/,/^-(?:(?:(alpha)|(beta)|(candidate))([1-9]\d*))(.*)$/,/^\.(?:(?:(alpha)|(beta)|(candidate))\.([1-9]\d*))(.*)$/])if(u=e.match(o),u){[,n,r,i,a,t]=u;break}if(o)c=s.PythonReleaseLevel.Final;else if(i)c=s.PythonReleaseLevel.Candidate;else if(r)c=s.PythonReleaseLevel.Beta;else{if(!n)return[void 0,e];c=s.PythonReleaseLevel.Alpha}return[{level:c,serial:parseInt(a,10)},t]}function l(e){const t=o.parseBasicVersionInfo(`ignored-${e}`);if(!t){if(""===e)return[d(),""];throw Error(`invalid version ${e}`)}const{version:n,after:r}=t;if(n.release=void 0,-1===n.minor&&n.major>9){const e=10**(n.major.toString().length-1);n.minor=n.major%e,n.major=Math.floor(n.major/e)}return[n,r]}function d(){return(0,r.cloneDeep)(o.EMPTY_VERSION)}function p(e){return o.isVersionInfoEmpty(e)}function h(e){let t=o.getVersionString(e);if(void 0===e.release)return t;if(e.release.level===s.PythonReleaseLevel.Final)return t;if(e.release.level===s.PythonReleaseLevel.Candidate)t=`${t}rc${e.release.serial}`;else if(e.release.level===s.PythonReleaseLevel.Beta)t=`${t}b${e.release.serial}`;else{if(e.release.level!==s.PythonReleaseLevel.Alpha)throw Error(`unsupported release level ${e.release.level}`);t=`${t}a${e.release.serial}`}return t}function f(e,t){return void 0===e.release?void 0===t.release?[0,""]:[1,"level"]:void 0===t.release?[-1,"level"]:e.release.level<t.release.level?[1,"level"]:e.release.level>t.release.level?[-1,"level"]:e.release.level===s.PythonReleaseLevel.Final?[0,""]:e.release.serial<t.release.serial?[1,"serial"]:e.release.serial>t.release.serial?[-1,"serial"]:[0,""]}t.getPythonVersionFromPath=function(e){let t=s.UNKNOWN_PYTHON_VERSION;try{t=c(i.basename(e))}catch(t){(0,a.traceError)(`Failed to parse version from path: ${e}`,t)}return t},t.parseVersion=c,t.parseRelease=u,t.parseBasicVersion=l,t.getEmptyVersion=d,t.isVersionEmpty=p,t.getVersionDisplayString=function(e){return p(e)?"":-1!==e.micro?h(e):`${h(e)}.x`},t.getShortVersionString=h,t.areIdenticalVersion=function(e,t){return o.areIdenticalVersion(e,t,f)},t.areSimilarVersions=function(e,t){return!!o.areSimilarVersions(e,t,f)&&(2===e.major||e.minor>-1&&t.minor>-1)},t.toSemverLikeVersion=function(e){const t=o.getVersionString(e);let n=[];return e.release&&(n=e.release.serial<0?[`${e.release.level}`]:[`${e.release.level}`,`${e.release.serial}`]),{raw:t,major:e.major,minor:e.minor,patch:e.micro,build:[],prerelease:n}},t.compareSemVerLikeVersions=function(e,t){return e.major===t.major?e.minor===t.minor?e.patch===t.patch?0:e.patch>t.patch?1:-1:e.minor>t.minor?1:-1:e.major>t.major?1:-1}},44538:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Locator=t.NOOP_ITERATOR=t.isProgressEvent=t.ProgressReportStage=void 0;const r=n(59314),i=n(34354);var o;(o=t.ProgressReportStage||(t.ProgressReportStage={})).discoveryStarted="discoveryStarted",o.allPathsDiscovered="allPathsDiscovered",o.discoveryFinished="discoveryFinished",t.isProgressEvent=function(e){return"stage"in e},t.NOOP_ITERATOR=(0,r.iterEmpty)(),t.Locator=class extends class{constructor(e){this.emitter=e,this.onChanged=e.onChanged}}{constructor(){super(new i.PythonEnvsWatcher)}}},69270:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvs=t.getQueryFilter=void 0;const r=n(59314),i=n(3481),o=n(19735),s=n(44538);t.getQueryFilter=function(e){var t;const n=void 0!==e.kinds&&e.kinds.length>0?e.kinds:void 0,r=!(null===(t=e.searchLocations)||void 0===t?void 0:t.doNotIncludeNonRooted),o=function(e){if(void 0!==e.searchLocations)return 0===e.searchLocations.roots.length?[]:e.searchLocations.roots.map((e=>(0,i.getURIFilter)(e,{checkParent:!0})))}(e);return e=>!!function(e){return void 0===n||n.includes(e.kind)}(e)&&!!function(e){if(void 0===e.searchLocation)return r;const t=e.searchLocation;return void 0===o||o.some((e=>e(t)))}(e)},t.getEnvs=async function(e){const t=[],n=(0,r.createDeferred)();if(void 0===e.onUpdated)n.resolve();else{const r=e.onUpdated((e=>{if((0,s.isProgressEvent)(e)){if(e.stage!==s.ProgressReportStage.discoveryFinished)return;n.resolve(),r.dispose()}else{const{index:n,update:r}=e;if(void 0===t[n]){const e=JSON.stringify(r);(0,o.traceVerbose)(`Updates sent for an env which was classified as invalid earlier, currently not expected, ${e}`)}t[n]=r}}))}let i=0;for await(const n of e)void 0===t[i]&&(t[i]=n),i+=1;return await n.promise,t.filter((e=>void 0!==e)).map((e=>e))}},2839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Locators=t.combineIterators=void 0;const r=n(59314),i=n(81837),o=n(44538),s=n(38514);function a(e){const t=(0,r.chain)(e),n=e.map((e=>e.onUpdated)).filter((e=>e));return n&&0!==n.length?(t.onUpdated=e=>{const t=new i.Disposables;let r=n.length;return n.forEach((n=>{const i=n((t=>{(0,o.isProgressEvent)(t)?t.stage===o.ProgressReportStage.discoveryFinished?(r-=1,0===r&&e({stage:o.ProgressReportStage.discoveryFinished})):e({stage:t.stage}):e(t)}));t.push(i)})),t},t):t}t.combineIterators=a;class c extends s.PythonEnvsWatchers{constructor(e){super(e),this.locators=e}iterEnvs(e){return a(this.locators.map((t=>t.iterEnvs(e))))}}t.Locators=c},77882:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LazyResourceBasedLocator=void 0;const r=n(59314),i=n(81837),o=n(19735),s=n(44538);class a extends s.Locator{constructor(){super(...arguments),this.disposables=new i.Disposables}async activate(){await this.ensureResourcesReady(),this.ensureWatchersReady().ignoreErrors()}async dispose(){await this.disposables.dispose()}async*iterEnvs(e){await this.activate(),yield*this.doIterEnvs(e)}async initResources(){}async initWatchers(){}async ensureResourcesReady(){void 0===this.resourcesReady?(this.resourcesReady=(0,r.createDeferred)(),await this.initResources().catch((e=>{var t;(0,o.traceError)(e),null===(t=this.resourcesReady)||void 0===t||t.reject(e)})),this.resourcesReady.resolve()):await this.resourcesReady.promise}async ensureWatchersReady(){void 0===this.watchersReady?(this.watchersReady=(0,r.createDeferred)(),await this.initWatchers().catch((e=>{var t;(0,o.traceError)(e),null===(t=this.watchersReady)||void 0===t||t.reject(e)})),this.watchersReady.resolve()):await this.watchersReady.promise}}t.LazyResourceBasedLocator=a},97954:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCollectionCache=t.PythonEnvInfoCache=void 0;const r=n(77570),i=n(19735),o=n(37769),s=n(44773),a=n(34354);class c extends a.PythonEnvsWatcher{constructor(e){super(),this.persistentStorage=e,this.envs=[]}async validateCache(e){(await Promise.all(this.envs.map((async t=>{const{path:n}=(0,s.getEnvPath)(t.executable.filename,t.location);if(await(0,o.pathExists)(n)){if(!e)return!0;if(t.searchLocation)return!0;if(e.some((e=>t.id===e.id)))return!0}return!1})))).map(((e,t)=>e?-1:t)).filter((e=>-1!==e)).reverse().forEach((e=>{const t=this.envs.splice(e,1)[0];this.fire({old:t,new:void 0})}))}getAllEnvs(){return this.envs}addEnv(e,t){const n=this.envs.find((t=>(0,s.areSameEnv)(t,e)));t&&(e.hasLatestInfo=!0,this.flush(!1).ignoreErrors()),n||(this.envs.push(e),this.fire({new:e}))}updateEnv(e,t){const n=this.envs.findIndex((t=>(0,s.areSameEnv)(t,e)));-1!==n&&(void 0===t?this.envs.splice(n,1):this.envs[n]=t,this.fire({old:e,new:t}))}async getLatestInfo(e){var t;const n=null!==(t=this.envs.find((t=>(0,o.arePathsSame)(t.location,e))))&&void 0!==t?t:this.envs.find((t=>(0,s.areSameEnv)(t,e)));return(null==n?void 0:n.hasLatestInfo)||n&&((null==n?void 0:n.hasLatestInfo)||await async function(e){const{ctime:t,mtime:n}=await(0,o.getFileInfo)(e.executable.filename);return t===e.executable.ctime&&n===e.executable.mtime||(e.executable.ctime=t,e.executable.mtime=n,!1)}(n))?n:void 0}async clearAndReloadFromStorage(){this.envs=await this.persistentStorage.load(),this.envs.forEach((e=>{delete e.hasLatestInfo}))}async flush(e=!0){this.envs.length&&((0,i.traceInfo)("Environments added to cache",JSON.stringify(this.envs)),e&&this.envs.forEach((e=>{e.hasLatestInfo=!0})),await this.persistentStorage.store(this.envs))}clearCache(){return this.envs.forEach((e=>{this.fire({old:e,new:void 0})})),this.envs=[],Promise.resolve()}}t.PythonEnvInfoCache=c,t.createCollectionCache=async function(e){const t=new c(e);return await t.clearAndReloadFromStorage(),await async function(e){return(0,r.isTestExecution)()?e.validateCache():e.validateCache().ignoreErrors()}(t),t}},17021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnvsCollectionService=void 0;const r=n(66828);n(32727);const i=n(59314),o=n(70057),s=n(19735),a=n(54813),c=n(61522),u=n(37769),l=n(44773),d=n(44538),p=n(69270),h=n(34354);class f extends h.PythonEnvsWatcher{constructor(e,t){super(),this.cache=e,this.locator=t,this.refreshesPerQuery=new Map,this.scheduledRefreshesPerQuery=new Map,this.progressPromises=new Map,this.hasRefreshFinishedForQuery=new Map,this.progress=new r.EventEmitter,this.refreshState=d.ProgressReportStage.discoveryFinished,this.locator.onChanged((e=>{const t=void 0;let n=this.scheduledRefreshesPerQuery.get(t);n||(n=this.scheduleNewRefresh(t)),n.then((()=>{this.fire(e)}))})),this.cache.onChanged((e=>{this.fire(e)})),this.onProgress((e=>{var t;this.refreshState=e.stage,null===(t=this.progressPromises.get(e.stage))||void 0===t||t.resolve(),this.progressPromises.delete(e.stage)}))}get onProgress(){return this.progress.event}getRefreshPromise(e){var t,n;const r=null!==(t=null==e?void 0:e.stage)&&void 0!==t?t:d.ProgressReportStage.discoveryFinished;return null===(n=this.progressPromises.get(r))||void 0===n?void 0:n.promise}async resolveEnv(e){e=(0,u.normalizePath)(e);const t=await this.cache.getLatestInfo(e);if(t)return t;const n=await this.locator.resolveEnv(e).catch((t=>{(0,s.traceError)(`Failed to resolve ${e}`,t)}));return n&&this.cache.addEnv(n,!0),n}getEnvs(e){const t=this.cache.getAllEnvs();return e?t.filter((0,p.getQueryFilter)(e)):t}triggerRefresh(e,t){const n=new o.StopWatch;let r=this.getRefreshPromiseForQuery(e);if(!r){if((null==t?void 0:t.ifNotTriggerredAlready)&&this.hasRefreshFinished(e))return Promise.resolve();r=this.startRefresh(e)}return r.then((()=>this.sendTelemetry(e,n)))}startRefresh(e){return this.createProgressStates(e),this.addEnvsToCacheForQuery(e).then((async()=>{this.resolveProgressStates(e)})).catch((t=>{this.rejectProgressStates(e,t)}))}async addEnvsToCacheForQuery(e){const t=this.locator.iterEnvs(e),n=[],r={done:!1,pending:0},o=(0,i.createDeferred)();if(void 0!==t.onUpdated){const i=t.onUpdated((async t=>{if((0,d.isProgressEvent)(t))switch(t.stage){case d.ProgressReportStage.discoveryFinished:r.done=!0,i.dispose();break;case d.ProgressReportStage.allPathsDiscovered:e||this.progress.fire(t);break;default:this.progress.fire(t)}else r.pending+=1,this.cache.updateEnv(n[t.index],t.update),t.update&&(n[t.index]=t.update),r.pending-=1;r.done&&0===r.pending&&o.resolve()}))}else this.progress.fire({stage:d.ProgressReportStage.discoveryStarted}),o.resolve();for await(const e of t)n.push(e),this.cache.addEnv(e);await o.promise,await this.cache.validateCache(void 0===e?n:void 0),this.cache.flush().ignoreErrors()}getRefreshPromiseForQuery(e){var t,n,r;return null!==(n=null===(t=this.refreshesPerQuery.get(e))||void 0===t?void 0:t.promise)&&void 0!==n?n:null===(r=this.refreshesPerQuery.get(void 0))||void 0===r?void 0:r.promise}hasRefreshFinished(e){var t;return null!==(t=this.hasRefreshFinishedForQuery.get(e))&&void 0!==t?t:this.hasRefreshFinishedForQuery.get(void 0)}async scheduleNewRefresh(e){const t=this.getRefreshPromiseForQuery(e);let n;return t?(n=t.then((()=>{this.scheduledRefreshesPerQuery.delete(e),this.startRefresh(e)})),this.scheduledRefreshesPerQuery.set(e,n)):n=this.startRefresh(e),n}createProgressStates(e){this.refreshesPerQuery.set(e,(0,i.createDeferred)()),Object.values(d.ProgressReportStage).forEach((e=>{this.progressPromises.set(e,(0,i.createDeferred)())})),d.ProgressReportStage.allPathsDiscovered&&e&&this.progressPromises.delete(d.ProgressReportStage.allPathsDiscovered)}rejectProgressStates(e,t){var n;null===(n=this.refreshesPerQuery.get(e))||void 0===n||n.reject(t),this.refreshesPerQuery.delete(e),Object.values(d.ProgressReportStage).forEach((e=>{var n;null===(n=this.progressPromises.get(e))||void 0===n||n.reject(t),this.progressPromises.delete(e)}))}resolveProgressStates(e){var t;null===(t=this.refreshesPerQuery.get(e))||void 0===t||t.resolve(),this.refreshesPerQuery.delete(e),Array.from(this.refreshesPerQuery.values()).every((e=>e.completed))&&this.progress.fire({stage:d.ProgressReportStage.discoveryFinished})}sendTelemetry(e,t){e||this.hasRefreshFinished(e)||(0,a.sendTelemetryEvent)(c.EventName.PYTHON_INTERPRETER_DISCOVERY,t.elapsedTime,{interpreters:this.cache.getAllEnvs().length,environmentsWithoutPython:this.cache.getAllEnvs().filter((e=>"envFolderPath"===(0,l.getEnvPath)(e.executable.filename,e.location).pathType)).length}),this.hasRefreshFinishedForQuery.set(e,!0)}}t.EnvsCollectionService=f},30752:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonEnvsReducer=void 0;const r=n(96486),i=n(66828),o=n(19735),s=n(44773),a=n(24563),c=n(44538);async function u(e,t,n,i,o){n.pending+=1;const s=o[e],c=function(e,t){var n,i;const[o]=function(...e){const t=(0,a.getPrioritizedEnvKinds)();return e.sort(((e,n)=>t.indexOf(e.kind)-t.indexOf(n.kind)))}(e,t),s=(0,r.cloneDeep)(o);return s.source=(0,r.uniq)((null!==(n=e.source)&&void 0!==n?n:[]).concat(null!==(i=t.source)&&void 0!==i?i:[])),s}(s,t);(0,r.isEqual)(s,c)||(o[e]=c,i.fire({index:e,old:s,update:c})),n.pending-=1,l(n,i)}function l(e,t){e.done&&0===e.pending&&(t.fire({stage:c.ProgressReportStage.discoveryFinished}),t.dispose())}t.PythonEnvsReducer=class{constructor(e){this.parentLocator=e}get onChanged(){return this.parentLocator.onChanged}iterEnvs(e){const t=new i.EventEmitter,n=async function*(e,t){const n={done:!1,pending:0},r=[];if(void 0!==e.onUpdated){const i=e.onUpdated((e=>{if(n.pending+=1,(0,c.isProgressEvent)(e))e.stage===c.ProgressReportStage.discoveryFinished?(n.done=!0,i.dispose()):t.fire(e);else{if(void 0===e.update)throw new Error("Unsupported behavior: `undefined` environment updates are not supported from downstream locators in reducer");if(void 0!==r[e.index]){const n=r[e.index];r[e.index]=e.update,t.fire({index:e.index,old:n,update:e.update})}else(0,o.traceVerbose)(`Expected already iterated env, got ${e.old} (#${e.index})`)}n.pending-=1,l(n,t)}))}else t.fire({stage:c.ProgressReportStage.discoveryStarted});let i=await e.next();for(;!i.done;){const o=i.value,a=r.findIndex((e=>(0,s.areSameEnv)(e,o)));-1!==a?u(a,o,n,t,r).ignoreErrors():(yield o,r.push(o)),i=await e.next()}void 0===e.onUpdated&&(n.done=!0,l(n,t))}(this.parentLocator.iterEnvs(e),t);return n.onUpdated=t.event,n}}},27736:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonEnvsResolver=void 0;const r=n(96486),i=n(66828),o=n(13367),s=n(44773),a=n(44538),c=n(80640),u=n(19735),l=n(29616),d=n(95084);async function p(e,t){const{path:n}=(0,s.getEnvPath)(e.executablePath,e.envPath);let r=t.get(n);r||(r=await(0,o.identifyEnvironment)(n),t.set(n,r)),e.kind=r}function h(e,t){e.done&&0===e.pending&&(t.fire({stage:a.ProgressReportStage.discoveryFinished}),t.dispose())}function f(e,t){const n=(0,r.cloneDeep)(t);n.executable.filename=e.executable.filename,n.executable.sysPrefix=e.executable.sysPrefix;const i="envFolderPath"===(0,s.getEnvPath)(n.executable.filename,n.location).pathType;return n.version=i?(0,d.getEmptyVersion)():e.version,n.arch=e.arch,(0,s.setEnvDisplayString)(n),n}t.PythonEnvsResolver=class{constructor(e,t){this.parentLocator=e,this.environmentInfoService=t}get onChanged(){return this.parentLocator.onChanged}async resolveEnv(e){const[t,n]=await async function(e){var t;let n,r;return await(0,l.isPythonExecutable)(e).catch((t=>((0,u.traceWarn)("Failed to check if",e,"is an executable",t),!0)))?(n=e,r=(0,l.getEnvironmentDirFromPath)(n)):(r=e,n=null!==(t=await(0,l.getInterpreterPathFromDir)(r))&&void 0!==t?t:""),[n,r]}(e);e=t.length?t:n;const r=await(0,o.identifyEnvironment)(e),i=await(0,c.resolveBasicEnv)({kind:r,executablePath:t,envPath:n}),s=await this.environmentInfoService.getEnvironmentInfo(i);if(s)return f(s,i)}iterEnvs(e){const t=new i.EventEmitter,n=this.parentLocator.iterEnvs(e),r=this.iterEnvsIterator(n,t);return r.onUpdated=t.event,r}async*iterEnvsIterator(e,t){const n=new Map,r={done:!1,pending:0},i=[];if(void 0!==e.onUpdated){const o=e.onUpdated((async e=>{if(r.pending+=1,(0,a.isProgressEvent)(e))e.stage===a.ProgressReportStage.discoveryFinished?(t.fire({stage:a.ProgressReportStage.allPathsDiscovered}),r.done=!0,o.dispose()):t.fire(e);else{if(void 0===e.update)throw new Error("Unsupported behavior: `undefined` environment updates are not supported from downstream locators in resolver");if(void 0!==i[e.index]){const o=i[e.index];await p(e.update,n),i[e.index]=await(0,c.resolveBasicEnv)(e.update,!0),t.fire({old:o,index:e.index,update:i[e.index]}),this.resolveInBackground(e.index,r,t,i).ignoreErrors()}else(0,u.traceVerbose)(`Expected already iterated env, got ${e.old} (#${e.index})`)}r.pending-=1,h(r,t)}))}else t.fire({stage:a.ProgressReportStage.discoveryStarted});let o=await e.next();for(;!o.done;){await p(o.value,n);const s=await(0,c.resolveBasicEnv)(o.value,!0);i.push(s),yield s,this.resolveInBackground(i.indexOf(s),r,t,i).ignoreErrors(),o=await e.next()}void 0===e.onUpdated&&(r.done=!0,h(r,t))}async resolveInBackground(e,t,n,r){t.pending+=1;const i=await this.environmentInfoService.getEnvironmentInfo(r[e]),o=r[e];if(i){const t=f(i,r[e]);r[e]=t,n.fire({old:o,index:e,update:t})}else n.fire({old:o,index:e,update:void 0});t.pending-=1,h(t,n)}}},80640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveBasicEnv=void 0;const r=n(71017),i=n(66828),o=n(96486),s=n(45878),a=n(44773),c=n(29616),u=n(37769),l=n(75470),d=n(77826),p=n(87450),h=n(95084),f=n(38366),g=n(82035),m=n(19735),v=n(64715),y=n(85261);async function b(e){const{executablePath:t}=e;let n;try{n=(0,g.parseVersionFromExecutable)(t)}catch(e){n=s.UNKNOWN_PYTHON_VERSION}return(0,a.buildEnvInfo)({kind:e.kind,version:n,executable:t})}async function S(e){const{executablePath:t,kind:n}=e,i=(0,a.buildEnvInfo)({kind:n,version:await(0,c.getPythonVersionFromPath)(t),executable:t,type:s.PythonEnvType.Virtual}),o=(0,c.getEnvironmentDirFromPath)(t);return i.location=o,i.name=r.basename(o),i}async function _(e,t){var n,r;const{executablePath:i}=e,o=await l.Conda.getConda();void 0===o&&(0,m.traceWarn)(`${i} identified as Conda environment even though Conda is not installed`);const u=null!==(n=await(null==o?void 0:o.getEnvList(t)))&&void 0!==n?n:[];for(const{name:t,prefix:n}of u){let r=await(0,c.getInterpreterPathFromDir)(n);const i={executablePath:null!=r?r:"",kind:s.PythonEnvKind.Conda,envPath:n};if((0,a.areSameEnv)(e,i)){r=e.executablePath.length>0?e.executablePath:await(null==o?void 0:o.getInterpreterPathForEnvironment({name:t,prefix:n}));const i=(0,a.buildEnvInfo)({executable:r,kind:s.PythonEnvKind.Conda,org:l.AnacondaCompanyName,location:n,source:[],version:r?await(0,c.getPythonVersionFromPath)(r):void 0,type:s.PythonEnvType.Conda});return t&&(i.name=t),i}}(0,m.traceError)(`${null!==(r=e.envPath)&&void 0!==r?r:e.executablePath} identified as a Conda environment but is not returned via '${null==o?void 0:o.command} info' command`),e.kind=s.PythonEnvKind.Unknown;const d=await S(e);return d.type=s.PythonEnvType.Conda,d}async function E(e){const{executablePath:t}=e,n=(0,c.getEnvironmentDirFromPath)(t),i=r.basename(n),o=(0,d.parsePyenvVersion)(i),p=(0,a.buildEnvInfo)({kind:s.PythonEnvKind.Pyenv,executable:t,source:[],location:n,version:await(0,c.getPythonVersionFromPath)(t,null==o?void 0:o.pythonVer),org:o&&o.distro?o.distro:""});return await async function(e){if(!await(0,l.isCondaEnvironment)(e))return!1;const t=(0,c.getEnvironmentDirFromPath)(e),n=(0,d.getPyenvVersionsDir)();return(0,u.arePathsSame)(r.dirname(t),n)}(t)?p.name="base":p.name=i,p}async function w(e){const{executablePath:t}=e;return(0,a.buildEnvInfo)({kind:s.PythonEnvKind.MicrosoftStore,executable:t,version:(0,h.getPythonVersionFromPath)(t),org:"Microsoft",arch:p.Architecture.x64,source:[s.PythonEnvSource.PathEnvVar]})}t.resolveBasicEnv=async function(e,t=!1){var n;const{kind:r,source:c}=e,d=function(){const e=new Map;return Object.values(s.PythonEnvKind).forEach((t=>{e.set(t,b)})),s.virtualEnvKinds.forEach((t=>{e.set(t,S)})),e.set(s.PythonEnvKind.Conda,_),e.set(s.PythonEnvKind.MicrosoftStore,w),e.set(s.PythonEnvKind.Pyenv,E),e}().get(r),g=await d(e,t);g.searchLocation=function(e){if((0,y.getWorkspaceFolderPaths)().some((t=>(0,u.isParentPath)(e.executable.filename,t)||(0,u.isParentPath)(e.location,t))))return i.Uri.file(e.location)}(g),g.source=(0,o.uniq)(g.source.concat(null!=c?c:[])),(0,p.getOSType)()===p.OSType.Windows&&(null===(n=g.source)||void 0===n?void 0:n.includes(s.PythonEnvSource.WindowsRegistry))&&await async function(e){var t,n,r;let i=(0,f.getRegistryInterpretersSync)();i||((0,m.traceError)("Expected registry interpreter cache to be initialized already"),i=await(0,f.getRegistryInterpreters)());const c=i.find((t=>(0,u.arePathsSame)(t.interpreterPath,e.executable.filename)));if(c){const i=null!==(n=null!==(t=c.versionStr)&&void 0!==t?t:c.sysVersionStr)&&void 0!==n?n:c.interpreterPath;let u;try{u=(0,h.parseVersion)(i)}catch(e){u=s.UNKNOWN_PYTHON_VERSION}e.kind=e.kind===s.PythonEnvKind.Unknown?s.PythonEnvKind.OtherGlobal:e.kind,e.version=(0,a.comparePythonVersionSpecificity)(u,e.version)>0?u:e.version,e.distro.defaultDisplayName=c.companyDisplayName,e.arch="32bit"===c.bitnessStr?p.Architecture.x86:p.Architecture.x64,e.distro.org=null!==(r=c.distroOrgName)&&void 0!==r?r:e.distro.org,e.source=(0,o.uniq)(e.source.concat(s.PythonEnvSource.WindowsRegistry))}else(0,m.traceWarn)("Expected registry to find the interpreter as source was set")}(g),(0,a.setEnvDisplayString)(g),g.id=(0,a.getEnvID)(g.executable.filename,g.location);const{ctime:P,mtime:T}=await(0,u.getFileInfo)(g.executable.filename);g.executable.ctime=P,g.executable.mtime=T;const C=await async function(e){return e.type?e.type:await(0,v.isVirtualEnvironment)(e.executable.filename)?s.PythonEnvType.Virtual:await(0,l.isCondaEnvironment)(e.executable.filename)?s.PythonEnvType.Conda:void 0}(g);return C&&(g.type=C),g}},74437:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CondaEnvironmentLocator=void 0,n(32727);const r=n(45878),i=n(75470),o=n(19735),s=n(65349);class a extends s.FSWatchingLocator{constructor(){super((()=>(0,i.getCondaEnvironmentsTxt)()),(async()=>r.PythonEnvKind.Conda),{isFile:!0})}async*doIterEnvs(){const e=await i.Conda.getConda();if(void 0===e)return void(0,o.traceVerbose)("Couldn't locate the conda binary.");(0,o.traceVerbose)(`Searching for conda environments using ${e.command}`);const t=await e.getEnvList();for(const n of t)try{(0,o.traceVerbose)(`Looking into conda env for executable: ${JSON.stringify(n)}`);const t=await e.getInterpreterPathForEnvironment(n);void 0!==t?((0,o.traceVerbose)(`Found conda executable: ${t}`),yield{kind:r.PythonEnvKind.Conda,executablePath:t,envPath:n.prefix}):(0,o.traceError)(`Executable for conda env not found: ${JSON.stringify(n)}`)}catch(e){(0,o.traceError)(`Failed to process conda env: ${JSON.stringify(n)}`,e)}}}t.CondaEnvironmentLocator=a},82399:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomVirtualEnvironmentLocator=t.VENVFOLDERS_SETTING_KEY=t.VENVPATH_SETTING_KEY=void 0;const r=n(96486),i=n(71017),o=n(59314),s=n(87450),a=n(45878),c=n(65349),u=n(29616),l=n(37769),d=n(37924),p=n(64715);n(32727);const h=n(99910),f=n(19735);async function g(){var e;const n=[],o=(0,l.getPythonSetting)(t.VENVPATH_SETTING_KEY);o&&n.push((0,l.untildify)(o));const a=null!==(e=(0,l.getPythonSetting)(t.VENVFOLDERS_SETTING_KEY))&&void 0!==e?e:[],c=(0,s.getUserHomeDir)();return c&&await(0,l.pathExists)(c)&&a.map((e=>i.join(c,e))).forEach((e=>n.push(e))),(0,h.asyncFilter)((0,r.uniq)(n),l.pathExists)}async function m(e){return await(0,d.isPipenvEnvironment)(e)?a.PythonEnvKind.Pipenv:await(0,p.isVirtualenvwrapperEnvironment)(e)?a.PythonEnvKind.VirtualEnvWrapper:await(0,p.isVenvEnvironment)(e)?a.PythonEnvKind.Venv:await(0,p.isVirtualenvEnvironment)(e)?a.PythonEnvKind.VirtualEnv:a.PythonEnvKind.Unknown}t.VENVPATH_SETTING_KEY="venvPath",t.VENVFOLDERS_SETTING_KEY="venvFolders";class v extends c.FSWatchingLocator{constructor(){super(g,m,{delayOnCreated:1e3})}async initResources(){this.disposables.push((0,l.onDidChangePythonSetting)(t.VENVPATH_SETTING_KEY,(()=>this.emitter.fire({})))),this.disposables.push((0,l.onDidChangePythonSetting)(t.VENVFOLDERS_SETTING_KEY,(()=>this.emitter.fire({}))))}doIterEnvs(){return async function*(){const e=(await g()).map((e=>async function*(){(0,f.traceVerbose)(`Searching for custom virtual envs in: ${e}`);const t=(0,u.findInterpretersInDir)(e,2);for await(const e of t){const{filename:t}=e;if(await(0,u.looksLikeBasicVirtualPython)(e))try{const e=await m(t);yield{kind:e,executablePath:t},(0,f.traceVerbose)(`Custom Virtual Environment: [added] ${t}`)}catch(e){(0,f.traceError)(`Failed to process environment: ${t}`,e)}else(0,f.traceVerbose)(`Custom Virtual Environment: [skipped] ${t}`)}}()));yield*(0,o.iterable)((0,o.chain)(e))}()}}t.CustomVirtualEnvironmentLocator=v},3649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirFilesLocator=void 0;const r=n(29616),i=n(34354);async function*o(e){for await(const t of(0,r.iterPythonExecutablesInDir)(e))yield t.filename}t.DirFilesLocator=class extends class{constructor(e,t,n){this.kind=e,this.getExecutables=t,this.source=n,this.watcher=new i.PythonEnvsWatcher,this.onChanged=this.watcher.onChanged}iterEnvs(e){const t=this.getExecutables();return async function*(e,n){for await(const r of t)yield{executablePath:r,kind:e,source:n}}(this.kind,this.source)}}{constructor(e,t,n=o,r){super(t,(()=>n(e)),r)}}},65349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FSWatchingLocator=t.FSWatcherKind=void 0;const r=n(57147),i=n(71017),o=n(66828),s=n(88409),a=n(59314),c=n(19735),u=n(29616),l=n(53476),d=n(77882);var p;!function(e){e[e.Global=0]="Global",e[e.Workspace=1]="Workspace"}(p=t.FSWatcherKind||(t.FSWatcherKind={}));class h extends d.LazyResourceBasedLocator{constructor(e,t,n={},r=p.Global){super(),this.getRoots=e,this.getKind=t,this.creationOptions=n,this.watcherKind=r,this.activate().ignoreErrors()}async initWatchers(){if(this.watcherKind===p.Global&&!f(this.creationOptions))return;(0,c.traceVerbose)("Getting roots");let e=await this.getRoots();(0,c.traceVerbose)("Found roots"),"string"==typeof e&&(e=[e]);const t=e.map((async e=>{if(f(this.creationOptions))return e;const t=await function(e){let t;try{t=r.readdirSync(e)}catch(e){const t=e;if((0,c.traceError)("Reading directory to watch failed",t),"ENOENT"===t.code)return"directory does not exist";throw e}if(t.length>200)return"too many files"}(e);if(!t)return e;(0,c.traceError)(`Dir "${e}" is not watchable (${t})`)}));(await Promise.all(t)).filter((e=>!!e)).forEach((e=>this.startWatchers(e)))}startWatchers(e){const t=this.creationOptions;if(f(t))return(0,c.traceVerbose)("Start watching file for changes",e),void this.disposables.push((0,s.watchLocationForPattern)(i.dirname(e),i.basename(e),(()=>{(0,c.traceVerbose)("Detected change in file: ",e,"initiating a refresh"),this.emitter.fire({})})));const n=async(e,n)=>{var r;e===s.FileChangeType.Created&&void 0!==t.delayOnCreated&&await(0,a.sleep)(t.delayOnCreated);const l=await this.getKind(n).catch((()=>{})),d=o.Uri.file(null!==(r=t.searchLocation)&&void 0!==r?r:i.dirname((0,u.getEnvironmentDirFromPath)(n)));(0,c.traceVerbose)("Fired event ",JSON.stringify({type:e,kind:l,searchLocation:d}),"from locator"),this.emitter.fire({type:e,kind:l,searchLocation:d})},r=(0,l.resolvePythonExeGlobs)(t.baseGlob,t.envStructure);(0,c.traceVerbose)("Start watching root",e,"for globs",JSON.stringify(r));const d=r.map((t=>(0,l.watchLocationForPythonBinaries)(e,n,t)));this.disposables.push(...d)}}function f(e){return"isFile"in e&&e.isFile}t.FSWatchingLocator=h},93235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalVirtualEnvironmentLocator=void 0;const r=n(96486),i=n(71017),o=n(59314),s=n(87450),a=n(45878),c=n(65349),u=n(29616),l=n(37769),d=n(37924),p=n(64715);n(32727);const h=n(99910),f=n(19735);async function g(){const e=[];let t=(0,s.getEnvironmentVariable)("WORKON_HOME");t&&(t=(0,l.untildify)(t),await(0,l.pathExists)(t)&&e.push(t));const n=(0,s.getUserHomeDir)();if(n&&await(0,l.pathExists)(n)){const t=["Envs",".direnv",".venvs",".virtualenvs",i.join(".local","share","virtualenvs")];(0,s.getOSType)()!==s.OSType.Windows&&t.push("envs"),(await(0,h.asyncFilter)(t.map((e=>i.join(n,e))),l.pathExists)).forEach((t=>e.push(t)))}return(0,r.uniq)(e)}async function m(e){return await(0,d.isPipenvEnvironment)(e)?a.PythonEnvKind.Pipenv:await(0,p.isVirtualenvwrapperEnvironment)(e)?a.PythonEnvKind.VirtualEnvWrapper:await(0,p.isVenvEnvironment)(e)?a.PythonEnvKind.Venv:await(0,p.isVirtualenvEnvironment)(e)?a.PythonEnvKind.VirtualEnv:a.PythonEnvKind.Unknown}class v extends c.FSWatchingLocator{constructor(e){super(g,m,{delayOnCreated:1e3}),this.searchDepth=e}doIterEnvs(){var e;const t=null!==(e=this.searchDepth)&&void 0!==e?e:2;return async function*(){const e=(await g()).map((e=>async function*(){(0,f.traceVerbose)(`Searching for global virtual envs in: ${e}`);const n=(0,u.findInterpretersInDir)(e,t);for await(const e of n){const{filename:t}=e;if(await(0,u.looksLikeBasicVirtualPython)(e)){const e=await m(t);try{yield{kind:e,executablePath:t},(0,f.traceVerbose)(`Global Virtual Environment: [added] ${t}`)}catch(e){(0,f.traceError)(`Failed to process environment: ${t}`,e)}}else(0,f.traceVerbose)(`Global Virtual Environment: [skipped] ${t}`)}}()));yield*(0,o.iterable)((0,o.chain)(e))}()}}t.GlobalVirtualEnvironmentLocator=v},51372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMacDefaultPythonPath=void 0;const r=n(87450);t.isMacDefaultPythonPath=function(e){return(0,r.getOSType)()===r.OSType.OSX&&(["python","/usr/bin/python"].includes(e)||e.startsWith("/usr/bin/python2"))}},39046:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MicrosoftStoreLocator=t.getMicrosoftStorePythonExes=void 0;const r=n(55674),i=n(91171),o=n(71017),s=n(45878),a=n(65349),c=n(53476),u=n(10423),l="python3.{[0-9],[0-9][0-9]}.exe";function d(e){return i(o.basename(e),l,{nocase:!0})}async function p(){if(await(0,u.isStorePythonInstalled)()){const e=(0,u.getMicrosoftStoreAppsRoot)();return(await r.readdir(e)).map((t=>o.join(e,t))).filter(d)}return[]}t.getMicrosoftStorePythonExes=p;class h extends a.FSWatchingLocator{constructor(){super(u.getMicrosoftStoreAppsRoot,(async()=>this.kind),{baseGlob:l,searchLocation:(0,u.getMicrosoftStoreAppsRoot)(),envStructure:c.PythonEnvStructure.Flat}),this.kind=s.PythonEnvKind.MicrosoftStore}doIterEnvs(){return async function*(e){const t=await p();yield*t.map((async t=>({kind:e,executablePath:t})))}(this.kind)}}t.MicrosoftStoreLocator=h},68624:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PoetryLocator=void 0;const r=n(71017),i=n(59314),o=n(45878),s=n(65349),a=n(29616),c=n(37769),u=n(13298);n(32727);const l=n(99910),d=n(19735);class p extends s.FSWatchingLocator{constructor(e){super((()=>async function(e){const t=[],n=await u.Poetry.getPoetry(e),i=await(null==n?void 0:n.getEnvList());if(null==i?void 0:i.length)t.push(r.dirname(i[0]));else{const e=await(null==n?void 0:n.getVirtualenvsPathSetting());e&&t.push(e)}return t}(e)),(async()=>o.PythonEnvKind.Poetry),void 0,s.FSWatcherKind.Workspace),this.root=e}doIterEnvs(){return async function*(e){const t=await async function(e){const t=[r.join(e,u.localPoetryEnvDirName)],n=await u.Poetry.getPoetry(e),i=await(null==n?void 0:n.getEnvList());return i&&t.push(...i),(0,l.asyncFilter)(t,c.pathExists)}(e),n=t.map((e=>async function*(){(0,d.traceVerbose)(`Searching for poetry virtual envs in: ${e}`);const t=await(0,a.getInterpreterPathFromDir)(e);if(void 0!==t){const e=await async function(e){return await(0,u.isPoetryEnvironment)(e)?o.PythonEnvKind.Poetry:o.PythonEnvKind.Unknown}(t);try{yield{executablePath:t,kind:e},(0,d.traceVerbose)(`Poetry Virtual Environment: [added] ${t}`)}catch(e){(0,d.traceError)(`Failed to process environment: ${t}`,e)}}}()));yield*(0,i.iterable)((0,i.chain)(n))}(this.root)}}t.PoetryLocator=p},43160:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PosixKnownPathsLocator=void 0;const r=n(22037),i=n(36625),o=n(45878),s=n(44538),a=n(72927),c=n(77826),u=n(87450),l=n(51372),d=n(19735);class p extends s.Locator{constructor(){super(...arguments),this.kind=o.PythonEnvKind.OtherGlobal}iterEnvs(){let e=!1;return(0,u.getOSType)()===u.OSType.OSX&&(0,i.gte)(r.release(),"21.0.0")&&(e=!0),async function*(t){const n=(await(0,a.commonPosixBinPaths)()).filter((e=>!(0,c.isPyenvShimDir)(e)));let r=await(0,a.getPythonBinFromPosixPaths)(n);e&&(r=r.filter((e=>!(0,l.isMacDefaultPythonPath)(e))));for(const e of r)try{yield{executablePath:e,kind:t,source:[o.PythonEnvSource.PathEnvVar]}}catch(t){(0,d.traceError)(`Failed to process environment: ${e}`,t)}}(this.kind)}}t.PosixKnownPathsLocator=p},41770:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PyenvLocator=void 0;const r=n(45878),i=n(65349),o=n(29616),s=n(37769),a=n(77826),c=n(19735);class u extends i.FSWatchingLocator{constructor(){super(a.getPyenvVersionsDir,(async()=>r.PythonEnvKind.Pyenv))}doIterEnvs(){return async function*(){const e=(0,a.getPyenvVersionsDir)(),t=(0,s.getSubDirs)(e,{resolveSymlinks:!0});for await(const e of t){const t=await(0,o.getInterpreterPathFromDir)(e);if(t)try{yield{kind:r.PythonEnvKind.Pyenv,executablePath:t}}catch(e){(0,c.traceError)(`Failed to process environment: ${t}`,e)}}}()}}t.PyenvLocator=u},44644:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowsPathEnvVarLocator=void 0;const r=n(47237),i=n(81837),o=n(29616),s=n(77826),a=n(10423),c=n(45878),u=n(2839),l=n(69270),d=n(3649);async function*p(e){for await(const t of(0,o.iterPythonExecutablesInDir)(e))await(0,o.looksLikeBasicGlobalPython)(t)&&(yield t.filename)}t.WindowsPathEnvVarLocator=class{constructor(){this.disposables=new i.Disposables;const e=(0,r.getSearchPathEntries)().filter((e=>!(0,a.isMicrosoftStoreDir)(e)&&!(0,s.isPyenvShimDir)(e))).map((e=>function(e,t,n){const r=new d.DirFilesLocator(e,t,p,n);return{iterEnvs:async function*(e){yield*await(0,l.getEnvs)(r.iterEnvs(e))},dispose:async()=>{},onChanged:r.onChanged}}(e,c.PythonEnvKind.System,[c.PythonEnvSource.PathEnvVar])));this.disposables.push(...e),this.locators=new u.Locators(e),this.onChanged=this.locators.onChanged}async dispose(){this.locators.dispose(),await this.disposables.dispose()}iterEnvs(e){return this.locators.iterEnvs(e)}}},5613:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowsRegistryLocator=void 0;const r=n(45878),i=n(44538),o=n(38366),s=n(19735);class a extends i.Locator{iterEnvs(){return async function*(){const e=await(0,o.getRegistryInterpreters)();for(const t of e)try{const e={kind:r.PythonEnvKind.OtherGlobal,executablePath:t.interpreterPath,source:[r.PythonEnvSource.WindowsRegistry]};yield e}catch(e){(0,s.traceError)(`Failed to process environment: ${t}`,e)}}()}}t.WindowsRegistryLocator=a},3143:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceVirtualEnvironmentLocator=void 0;const r=n(71017),i=n(59314),o=n(29616),s=n(37769),a=n(37924),c=n(64715),u=n(45878),l=n(65349);n(32727);const d=n(99910),p=n(19735);function h(e){return(0,d.asyncFilter)([e,r.join(e,".direnv")],s.pathExists)}async function f(e){return await(0,a.isPipenvEnvironment)(e)?u.PythonEnvKind.Pipenv:await(0,c.isVenvEnvironment)(e)?u.PythonEnvKind.Venv:await(0,c.isVirtualenvEnvironment)(e)?u.PythonEnvKind.VirtualEnv:u.PythonEnvKind.Unknown}class g extends l.FSWatchingLocator{constructor(e){super((()=>h(this.root)),f,{delayOnCreated:1e3},l.FSWatcherKind.Workspace),this.root=e}doIterEnvs(){return async function*(e){const t=(await h(e)).map((e=>async function*(){(0,p.traceVerbose)(`Searching for workspace virtual envs in: ${e}`);const t=(0,o.findInterpretersInDir)(e,2);for await(const e of t){const{filename:t}=e;if(await(0,o.looksLikeBasicVirtualPython)(e)){const e=await f(t);yield{kind:e,executablePath:t},(0,p.traceVerbose)(`Workspace Virtual Environment: [added] ${t}`)}else(0,p.traceVerbose)(`Workspace Virtual Environment: [skipped] ${t}`)}}()));yield*(0,i.iterable)((0,i.chain)(t))}(this.root)}}t.WorkspaceVirtualEnvironmentLocator=g},14424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceLocators=t.ExtensionLocators=void 0;const r=n(59314),i=n(3481),o=n(81837),s=n(2839),a=n(77882);class c extends s.Locators{constructor(e,t){super([...e,t]),this.nonWorkspace=e,this.workspace=t}iterEnvs(e){var t;const n=[this.workspace.iterEnvs(e)];return(null===(t=null==e?void 0:e.searchLocations)||void 0===t?void 0:t.doNotIncludeNonRooted)||n.push(...this.nonWorkspace.map((t=>t.iterEnvs(e)))),(0,s.combineIterators)(n)}}t.ExtensionLocators=c;class u extends a.LazyResourceBasedLocator{constructor(e,t){super(),this.watchRoots=e,this.factories=t,this.locators={},this.roots={},this.activate().ignoreErrors()}async dispose(){await super.dispose(),Object.keys(this.roots).map((e=>this.roots[e])).forEach((e=>this.removeRoot(e)))}doIterEnvs(e){const t=Object.keys(this.locators).map((t=>{if(void 0!==(null==e?void 0:e.searchLocations)){const n=this.roots[t],o=(0,i.getURIFilter)(n,{checkParent:!0,checkChild:!0});if(!e.searchLocations.roots.some(o))return(0,r.iterEmpty)()}const[n]=this.locators[t];return n.iterEnvs(e)}));return(0,s.combineIterators)(t)}async initResources(){const e=this.watchRoots({initRoot:e=>this.addRoot(e),addRoot:e=>{this.removeRoot(e),this.addRoot(e),this.emitter.fire({searchLocation:e})},removeRoot:e=>{this.removeRoot(e),this.emitter.fire({searchLocation:e})}});this.disposables.push(e)}addRoot(e){const t=[],n=new o.Disposables;this.factories.forEach((r=>{r(e).forEach((e=>{t.push(e),void 0!==e.dispose&&n.push(e)}))}));const r=new s.Locators(t),i=e.toString();this.locators[i]=[r,n],this.roots[i]=e,n.push(r.onChanged((t=>{void 0===t.searchLocation&&(t.searchLocation=e),this.emitter.fire(t)})))}removeRoot(e){const t=e.toString(),n=this.locators[t];if(void 0===n)return;const[,r]=n;delete this.locators[t],delete this.roots[t],r.dispose()}}t.WorkspaceLocators=u},34354:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonEnvsWatcher=void 0;const r=n(66828);t.PythonEnvsWatcher=class{constructor(){this.didChange=new r.EventEmitter,this.onChanged=this.didChange.event}fire(e){this.didChange.fire(e)}}},38514:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonEnvsWatchers=void 0;const r=n(81837),i=n(34354);t.PythonEnvsWatchers=class{constructor(e){this.watcher=new i.PythonEnvsWatcher,this.disposables=new r.Disposables,this.onChanged=this.watcher.onChanged,e.forEach((e=>{const t=e.onChanged((e=>this.watcher.fire(e)));this.disposables.push(t)}))}async dispose(){await this.disposables.dispose()}}},29616:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvironmentDirFromPath=t.getInterpreterPathFromDir=t.looksLikeBasicVirtualPython=t.looksLikeBasicGlobalPython=t.getPythonVersionFromPath=t.iterPythonExecutablesInDir=t.findInterpretersInDir=t.isPythonExecutable=void 0;const r=n(57147),i=n(71017),o=n(56091),s=n(87450),a=n(19735),c=n(45878),u=n(44773),l=n(95084),d=n(75470),p=n(64715),h=n(37769),f=n(72927),g=n(38366),m=(0,s.getOSType)()===s.OSType.Windows?g.matchPythonBinFilename:f.matchPythonBinFilename;async function*v(e,t,n,r=!0){const i=(0,s.getOSType)()===s.OSType.Windows?g.matchPythonBinFilename:f.matchPythonBinFilename,a={ignoreErrors:r,filterSubDir:n,filterFile:i,maxDepth:t||0};for await(const t of y(e,1,a)){const{filename:e,filetype:n}=t;n!==o.FileType.File&&n!==o.FileType.SymbolicLink||S(e,i,r)&&(yield t)}}async function*y(e,t,n){const r=await b(e,n);for(const e of r){yield e;const{filename:r,filetype:i}=e;i===o.FileType.Directory&&(n.maxDepth<0||t<=n.maxDepth)&&S(r,n.filterSubDir,n.ignoreErrors)&&(yield*y(r,t+1,n))}}async function b(e,t={ignoreErrors:!0}){const n=t.ignoreErrors||!1;if(t.filterFilename&&(0,s.getOSType)()===s.OSType.Windows){let s;try{s=await r.promises.readdir(e)}catch(t){if("ENOENT"===t.code)return[];if(n)return(0,a.traceError)(`readdir() failed for "${e}" (${t})`),[];throw t}const c=s.map((t=>i.join(e,t))).filter((e=>S(e,t.filterFilename,n)));return Promise.all(c.map((async e=>({filename:e,filetype:await(0,o.getFileType)(e,t)||o.FileType.Unknown}))))}let c;try{c=await r.promises.readdir(e,{withFileTypes:!0})}catch(t){if("ENOENT"===t.code)return[];if(n)return(0,a.traceError)(`readdir() failed for "${e}" (${t})`),[];throw t}const u=c.map((t=>({filename:i.join(e,t.name),filetype:(0,o.convertFileType)(t)})));return t.filterFilename?u.filter((e=>S(e.filename,t.filterFilename,n))):u}function S(e,t,n=!0){if(void 0===t)return!0;try{return t(e)}catch(t){if(n)return(0,a.traceError)(`filter failed for "${e}" (${t})`),!1;throw t}}async function _(e,t){return!(!(t.matchFilename||m)("string"==typeof e?e:e.filename)||t.filterFile&&!await t.filterFile(e))}t.isPythonExecutable=async function(e){return!(!m(e)||(0,s.getOSType)()!==s.OSType.Windows)||!!await(0,h.isFile)(e)},t.findInterpretersInDir=v,t.iterPythonExecutablesInDir=async function*(e,t={ignoreErrors:!0}){const n={...t,filterFile:m},r=await b(e,n);for(const e of r){const{filetype:t}=e;t!==o.FileType.File&&t!==o.FileType.SymbolicLink||(yield e)}},t.getPythonVersionFromPath=async function(e,t){let n;try{n=t?(0,l.parseVersion)(t):c.UNKNOWN_PYTHON_VERSION}catch(e){n=c.UNKNOWN_PYTHON_VERSION}const r=e?await async function(e){const t=i.dirname(e);let n=c.UNKNOWN_PYTHON_VERSION;for await(const e of v(t)){const{filename:t}=e;try{const e=(0,l.parseVersion)(i.basename(t));(0,u.comparePythonVersionSpecificity)(e,n)>0&&(n=e)}catch(e){}}return n}(e):c.UNKNOWN_PYTHON_VERSION,o=e?await(0,p.getPythonVersionFromPyvenvCfg)(e):c.UNKNOWN_PYTHON_VERSION,s=e?await(0,d.getPythonVersionFromConda)(e):c.UNKNOWN_PYTHON_VERSION;let a=c.UNKNOWN_PYTHON_VERSION;for(const e of[n,r,o,s])a=(0,u.comparePythonVersionSpecificity)(a,e)>0?a:e;return a};const E=(0,o.getFileFilter)({ignoreFileType:o.FileType.SymbolicLink});async function w(e){return _(e,{matchFilename:(0,s.getOSType)()===s.OSType.Windows?g.matchBasicPythonBinFilename:f.matchBasicPythonBinFilename,filterFile:E})}async function P(e){return _(e,{matchFilename:(0,s.getOSType)()===s.OSType.Windows?g.matchBasicPythonBinFilename:f.matchBasicPythonBinFilename,filterFile:void 0})}t.looksLikeBasicGlobalPython=w,t.looksLikeBasicVirtualPython=P,t.getInterpreterPathFromDir=async function(e,t={}){const n=t.global?w:P,r=v(e,2,(function(e){const t=i.basename(e).toLowerCase();return["bin","scripts"].includes(t)}),t.ignoreErrors);for await(const e of r)if(await n(e))return e.filename},t.getEnvironmentDirFromPath=function(e){const t=i.basename(i.dirname(e));return["bin","scripts"].map((e=>(0,h.normCasePath)(e))).includes((0,h.normCasePath)(t))?i.dirname(i.dirname(e)):i.dirname(e)}},13367:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identifyEnvironment=void 0;const r=n(19735),i=n(45878),o=n(24563),s=n(75470),a=n(89235),c=n(37924),u=n(13298),l=n(77826),d=n(64715),p=n(10423);t.identifyEnvironment=async function(e){const t=function(){const e=()=>Promise.resolve(!1),t=new Map;return Object.values(i.PythonEnvKind).forEach((n=>{t.set(n,e)})),t.set(i.PythonEnvKind.Conda,s.isCondaEnvironment),t.set(i.PythonEnvKind.MicrosoftStore,p.isMicrosoftStoreEnvironment),t.set(i.PythonEnvKind.Pipenv,c.isPipenvEnvironment),t.set(i.PythonEnvKind.Pyenv,l.isPyenvEnvironment),t.set(i.PythonEnvKind.Poetry,u.isPoetryEnvironment),t.set(i.PythonEnvKind.Venv,d.isVenvEnvironment),t.set(i.PythonEnvKind.VirtualEnvWrapper,d.isVirtualenvwrapperEnvironment),t.set(i.PythonEnvKind.VirtualEnv,d.isVirtualenvEnvironment),t.set(i.PythonEnvKind.Unknown,(()=>Promise.resolve(!0))),t.set(i.PythonEnvKind.OtherGlobal,a.isGloballyInstalledEnv),t}(),n=(0,o.getPrioritizedEnvKinds)();for(const i of n){const n=t.get(i);if(n&&await n(e).catch((t=>((0,r.traceWarn)(`Identifier for ${i} failed to identify ${e}`,t),!1))))return i}return i.PythonEnvKind.Unknown}},75470:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.Conda=t.CONDA_ACTIVATION_TIMEOUT=t.CONDA_RUN_VERSION=t.getPythonVersionFromConda=t.getCondaEnvironmentsTxt=t.isCondaEnvironment=t.getCondaMetaPaths=t.parseCondaInfo=t.CONDAPATH_SETTING_KEY=t.AnacondaCompanyName=void 0;const i=n(55674),o=n(71017),s=n(36625),a=n(87450),c=n(37769),u=n(45878),l=n(95084),d=n(38366),p=n(81387),h=n(36952),f=n(77570),g=n(19735),m=n(4057);function v(e){const t="conda-meta";return[o.join(o.dirname(e),t),o.join(o.dirname(o.dirname(e)),t),o.join(e,t)]}t.AnacondaCompanyName="Anaconda, Inc.",t.CONDAPATH_SETTING_KEY="condaPath",t.parseCondaInfo=async function(e,n,r,i){const o=Array.isArray(e.envs)?e.envs:[];e.default_prefix&&e.default_prefix.length>0&&o.push(e.default_prefix);const s=o.map((async e=>{const o=n(e);if(!await r(o))return;const s=await i(o);return s?{...s,path:o,companyDisplayName:t.AnacondaCompanyName,envType:p.EnvironmentType.Conda,envPath:e}:void 0}));return Promise.all(s).then((e=>e.filter((e=>null!=e)))).then((e=>e.map((e=>e))))},t.getCondaMetaPaths=v,t.isCondaEnvironment=async function(e){const t=v(e);for(const e of t)if(await(0,c.pathExists)(e))return!0;return!1},t.getCondaEnvironmentsTxt=async function(){const e=(0,a.getUserHomeDir)();return e?[o.join(e,".conda","environments.txt")]:[]},t.getPythonVersionFromConda=async function(e){const t=v(e).map((e=>o.join(e,"history"))),n=/\:python-(([\d\.a-z]?)+)/;for(const e of t)if(await(0,c.pathExists)(e))try{const t=(await(0,c.readFile)(e)).splitLines().map((e=>{const t=n.exec(e);return t?t[1]:""})).filter((e=>e.length>0));if(t.length>0){const e=t.length-1;return(0,l.parseVersion)(t[e].trim())}}catch(e){return u.UNKNOWN_PYTHON_VERSION}return u.UNKNOWN_PYTHON_VERSION},t.CONDA_RUN_VERSION="4.9.0",t.CONDA_ACTIVATION_TIMEOUT=45e3;class y{constructor(e,n){this.command=e,this.shellCommand=null!=n?n:e,(0,c.onDidChangePythonSetting)(t.CONDAPATH_SETTING_KEY,(()=>{y.condaPromise=void 0}))}static async getConda(){return(void 0===y.condaPromise||(0,f.isTestExecution)())&&(y.condaPromise=y.locate()),y.condaPromise}static async locate(){(0,g.traceVerbose)("Searching for conda.");const e=(0,a.getUserHomeDir)(),n=(0,c.getPythonSetting)(t.CONDAPATH_SETTING_KEY),r=(0,a.getOSType)()===a.OSType.Windows?"Scripts\\conda.exe":"bin/conda";async function s(e){const t=o.dirname(e),n=o.join(t,"..","condabin","conda.bat");if(await(0,c.pathExists)(n))return n}for await(const t of async function*(){n&&"conda"!==n&&(yield n),yield"conda",(0,a.getOSType)()===a.OSType.Windows&&(yield*async function*(){const e=(await(0,d.getRegistryInterpreters)()).filter((e=>e.interpreterPath&&"ContinuumAnalytics"===e.distroOrgName)).map((e=>o.join(o.win32.dirname(e.interpreterPath),r)));yield*e}()),yield*async function*(){const t=[];if((0,a.getOSType)()===a.OSType.Windows){const n=(0,a.getEnvironmentVariable)("PROGRAMDATA")||"C:\\ProgramData";if(t.push(n),e){const n=(0,a.getEnvironmentVariable)("LOCALAPPDATA")||o.join(e,"AppData","Local");t.push(e,o.join(n,"Continuum"))}}else t.push("/usr/share","/usr/local/share","/opt"),e&&t.push(e,o.join(e,"opt"));for(const e of t){let t;try{t=await i.readdir(e)}catch(e){t=void 0}void 0!==t&&(yield*t.filter((e=>e.toLowerCase().includes("conda"))).map((t=>o.join(e,t,r))))}}(),yield*async function*(){if(!e)return;let t;try{t=await i.readFile(o.join(e,".conda","environments.txt"),"utf8")}catch(e){t=""}yield*t.split(/\r?\n/g).map((e=>e.trim())).filter((e=>""!==e&&!e.startsWith("#"))).map((e=>o.join(e,r)))}()}()){(0,g.traceVerbose)(`Probing conda binary: ${t}`);let e=new y(t);try{if(await e.getInfo(),(0,a.getOSType)()===a.OSType.Windows&&((0,f.isTestExecution)()||t!==n)){const n=await s(t);try{if(n){const r=new y(n);await r.getInfo(),e=new y(t,n)}}catch(e){(0,g.traceVerbose)("Failed to spawn conda bat file",n,e)}}return(0,g.traceVerbose)(`Found conda via filesystem probing: ${t}`),e}catch(e){(0,g.traceVerbose)("Failed to spawn conda binary",t,e)}}(0,g.traceVerbose)("Couldn't locate the conda binary.")}async getInfo(e){return e&&this.condaInfoCached||(this.condaInfoCached=this.getInfoImpl(this.command)),this.condaInfoCached}async getInfoImpl(e){const t=await(0,c.exec)(e,["info","--json"],{timeout:5e4});return(0,g.traceVerbose)(`conda info --json: ${t.stdout}`),JSON.parse(t.stdout)}async getEnvList(e){const t=await this.getInfo(e),{envs:n}=t;if(void 0===n)return[];function r(e){if(t.root_prefix&&(0,c.arePathsSame)(e,t.root_prefix))return"base";const n=o.dirname(e);if(void 0!==t.envs_dirs)for(const r of t.envs_dirs)if((0,c.arePathsSame)(n,r))return o.basename(e)}return n.map((e=>({prefix:e,name:r(e)})))}async getCondaEnvironment(e){const t=await this.getEnvList();return t.find((t=>(0,c.arePathsSame)(e,t.prefix)))||t.find((t=>(0,c.isParentPath)(e,t.prefix)))}async getInterpreterPathForEnvironment(e){try{const t=await async function(e){const t=(0,a.getOSType)()===a.OSType.Windows?"python.exe":o.join("bin","python"),n=o.join(e,t);if(await(0,c.pathExists)(n))return n}(e.prefix);return t?((0,g.traceVerbose)("Found executable within conda env",JSON.stringify(e)),t):((0,g.traceVerbose)("Executable does not exist within conda env, assume the executable to be `python`",JSON.stringify(e)),"python")}catch(t){return void(0,g.traceError)(`Failed to get executable for conda env: ${JSON.stringify(e)}`,t)}}async getRunPythonArgs(e,n){const r=await this.getCondaVersion();if(r&&(0,s.lt)(r,t.CONDA_RUN_VERSION))return void(0,g.traceError)("`conda run` is not supported for conda version",r.raw);const i=[];return e.name?i.push("-n",e.name):i.push("-p",e.prefix),[n?this.shellCommand:this.command,"run",...i,"--no-capture-output","python",m.OUTPUT_MARKER_SCRIPT]}async getCondaVersion(){const e=await this.getInfo(!0).catch((()=>{}));let t;if(e&&e.conda_version)t=e.conda_version;else{const e=await(0,c.exec)(this.command,["--version"],{timeout:5e4}).then((e=>e.stdout.trim())).catch((()=>{}));t=e&&e.startsWith("conda ")?e.substring("conda ".length).trim():e}if(!t)return;return(0,s.parse)(t,!0)||((0,g.traceError)(`Unable to parse version of Conda, ${t}`),new s.SemVer("0.0.1"))}async isCondaRunSupported(){const e=await this.getCondaVersion();return!e||!(0,s.lt)(e,t.CONDA_RUN_VERSION)}}r([(0,h.cache)(3e4,!0,1e4)],y.prototype,"getInfoImpl",null),r([(0,h.cache)(3e4,!0,1e4)],y.prototype,"getEnvList",null),r([(0,h.cache)(-1,!0)],y.prototype,"getCondaVersion",null),t.Conda=y},1132:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CondaService=void 0;const o=n(86700),s=n(71017),a=n(84974),c=n(36952),u=n(19735),l=n(75470);let d=class{constructor(e,t){this.platform=e,this.fileSystem=t}async getActivationScriptFromInterpreter(e,t){const n=await this.getCondaFileFromInterpreter(e,t),r=(n?s.join(s.dirname(n),"activate"):"activate").fileToCommandArgumentForPythonExt();if(this.platform.isLinux||this.platform.isMac){const e=await this.getCondaInfo();if(null==e?void 0:e.root_prefix){const t=s.join(e.root_prefix,this.platform.virtualEnvBinName,"activate").fileToCommandArgumentForPythonExt();if(r===t||!await this.fileSystem.fileExists(r))return{path:t,type:"global"}}}return{path:r,type:"local"}}async getCondaFile(e){return l.Conda.getConda().then((t=>{const n=e?null==t?void 0:t.shellCommand:null==t?void 0:t.command;return null!=n?n:"conda"}))}async getInterpreterPathForEnvironment(e){const t=await l.Conda.getConda();return null==t?void 0:t.getInterpreterPathForEnvironment({name:e.name,prefix:e.path})}async isCondaAvailable(){return"boolean"==typeof this.isAvailable?this.isAvailable:this.getCondaVersion().then((e=>this.isAvailable=void 0!==e)).catch((()=>this.isAvailable=!1))}async getCondaVersion(){return l.Conda.getConda().then((e=>null==e?void 0:e.getCondaVersion()))}async getCondaFileFromInterpreter(e,t){const n=this.platform.isWindows?"conda.exe":"conda",r=this.platform.isWindows?"Scripts":"bin",i=e?s.dirname(e):"",o=t?i.indexOf(s.join("envs",t)):-1;if(o>0){const e=i.slice(0,o);let t=s.join(e,n);if(await this.fileSystem.fileExists(t))return t;if(t=s.join(e,r,n),await this.fileSystem.fileExists(t))return t}let a=s.join(i,n);return await this.fileSystem.fileExists(a)?a:(a=s.join(i,r,n),await this.fileSystem.fileExists(a)?a:this.getCondaFile())}async getCondaInfo(){const e=await l.Conda.getConda();return null==e?void 0:e.getInfo()}};r([(0,u.traceDecoratorVerbose)("Get Conda File from interpreter"),(0,c.cache)(12e4)],d.prototype,"getCondaFileFromInterpreter",null),r([(0,c.cache)(6e4)],d.prototype,"getCondaInfo",null),d=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IPlatformService)),i(1,(0,o.inject)(a.IFileSystem))],d),t.CondaService=d},89235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isGloballyInstalledEnv=void 0;const r=n(47237),i=n(87450),o=n(37769),s=n(72927),a=n(77826);t.isGloballyInstalledEnv=async function(e){return async function(e){let t=[];t=(0,i.getOSType)()===i.OSType.Windows?(0,r.getSearchPathEntries)():await(0,s.commonPosixBinPaths)(),t=t.filter((e=>!(0,a.isPyenvShimDir)(e)));for(const n of t)if((0,o.isParentPath)(e,n))return!0;return!1}(e)}},10423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMicrosoftStoreEnvironment=t.isStorePythonInstalled=t.isMicrosoftStoreDir=t.getMicrosoftStoreAppsRoot=void 0;const r=n(71017),i=n(87450),o=n(19735),s=n(37769);function a(){const e=(0,i.getEnvironmentVariable)("LOCALAPPDATA")||"";return r.join(e,"Microsoft","WindowsApps")}function c(e){const t=r.join((0,i.getEnvironmentVariable)("ProgramFiles")||"Program Files","WindowsApps").normalize().toUpperCase();return r.normalize(e).toUpperCase().includes(t)}async function u(e){let t=await Promise.all([(0,s.pathExists)(r.join(a(),"idle.exe")),(0,s.pathExists)(r.join(a(),"pip.exe"))]);return!!t.includes(!0)||!!e&&(t=await Promise.all([(0,s.pathExists)(r.join(r.dirname(e),"idle.exe")),(0,s.pathExists)(r.join(r.dirname(e),"pip.exe"))]),t.includes(!0))}t.getMicrosoftStoreAppsRoot=a,t.isMicrosoftStoreDir=function(e){const t=r.normalize(a()).toUpperCase();return r.normalize(e).toUpperCase().includes(t)||c(e)},t.isStorePythonInstalled=u,t.isMicrosoftStoreEnvironment=async function(e){if(await u(e)){const t=r.normalize(e).toUpperCase(),n=r.normalize(a()).toUpperCase();if(t.includes(n))return!0;if(c(t))return(0,o.traceWarn)("isMicrosoftStoreEnvironment called with Program Files store path."),!0}return!1}},37924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPipenvEnvironmentRelatedToFolder=t.isPipenvEnvironment=t._getAssociatedPipfile=void 0;const r=n(71017),i=n(87450),o=n(19735),s=n(37769);async function a(e,t){const n=(0,i.getEnvironmentVariable)("PIPENV_PIPFILE")||"Pipfile";let a=t.lookIntoParentDirectories?function(){const e=(0,i.getEnvironmentVariable)("PIPENV_MAX_DEPTH");if(void 0===e)return 3;const t=parseInt(e,10);return isNaN(t)?((0,o.traceError)(`PIPENV_MAX_DEPTH is incorrectly set. Converting value '${e}' to number results in NaN`),1):t}():1;for(;a>0&&!(0,s.arePathsSame)(e,r.dirname(e));){const t=r.join(e,n);if(await(0,s.pathExists)(t))return t;e=r.dirname(e),a-=1}}async function c(e){const t=r.dirname(r.dirname(e)),n=await async function(e){const t=r.join(e,".project");if(!await(0,s.pathExists)(t))return;const n=(await(0,s.readFile)(t)).trim();if(await(0,s.pathExists)(n))return n;(0,o.traceError)(`The .project file inside environment folder: ${e} doesn't contain a valid path to the project`)}(t);if(void 0!==n)return r.basename((0,s.normCasePath)(t)).startsWith(`${r.basename((0,s.normCasePath)(n))}-`)?a(n,{lookIntoParentDirectories:!1}):void 0}t._getAssociatedPipfile=a,t.isPipenvEnvironment=async function(e){return!!await async function(e){const t=r.dirname(r.dirname(e));if(".venv"===r.basename(t))return a(r.dirname(t),{lookIntoParentDirectories:!1})}(e)||!!await c(e)},t.isPipenvEnvironmentRelatedToFolder=async function(e,t){const n=await c(e);if(!n)return!1;const r=void 0===(0,i.getEnvironmentVariable)("PIPENV_NO_INHERIT"),o=await a(t,{lookIntoParentDirectories:r});return!!o&&(0,s.arePathsSame)(n,o)}},13298:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.isPoetryEnvironmentRelatedToFolder=t.Poetry=t.isPoetryEnvironment=t.localPoetryEnvDirName=void 0;const i=n(71017),o=n(87450),s=n(37769),a=n(29616),c=n(64715),u=n(70057),l=n(36952),d=n(77570),p=n(19735),h=/^(.+)-(.+)-py(\d).(\d){1,2}$/;t.localPoetryEnvDirName=".venv",t.isPoetryEnvironment=async function(e){return!!await async function(e){const t=(0,a.getEnvironmentDirFromPath)(e);return!!h.test(i.basename(t))&&(0,c.isVirtualenvEnvironment)(e)}(e)||!!await async function(e){const n=(0,a.getEnvironmentDirFromPath)(e);return i.basename(n)===t.localPoetryEnvDirName&&!!g(i.dirname(n))}(e)};class f{constructor(e,t){this.command=e,this.cwd=t,this.fixCwd()}static async getPoetry(e){if(g(e))return(void 0===f.poetryPromise.get(e)||(0,d.isTestExecution)())&&f.poetryPromise.set(e,f.locate(e)),f.poetryPromise.get(e)}static async locate(e){(0,p.traceVerbose)(`Getting poetry for cwd ${e}`);for(const t of function*(){const e=(0,s.getPythonSetting)("poetryPath");e&&"poetry"!==e&&(yield e),yield"poetry";const t=(0,o.getUserHomeDir)();if(t){const e=i.join(t,".poetry","bin","poetry");(0,s.pathExistsSync)(e)&&(yield e)}}()){(0,p.traceVerbose)(`Probing poetry binary for ${e}: ${t}`);const n=new f(t,e);if(void 0!==await n.getEnvList())return(0,p.traceVerbose)(`Found poetry via filesystem probing for ${e}: ${t}`),n;(0,p.traceVerbose)(`Failed to find poetry for ${e}: ${t}`)}(0,p.traceVerbose)(`No poetry binary found for ${e}`)}async getEnvList(){return this.getEnvListCached(this.cwd)}async getEnvListCached(e){const t=await this.safeShellExecute(`${this.command} env list --full-path`);if(!t)return;const n="(Activated)";return(await Promise.all(t.stdout.splitLines().map((async e=>{e.endsWith(n)&&(e=e.slice(0,-n.length));const t=e.trim();return await(0,s.pathExists)(t)?t:void 0})))).filter((e=>void 0!==e)).map((e=>e))}async getActiveEnvPath(){return this.getActiveEnvPathCached(this.cwd)}async getActiveEnvPathCached(e){const t=await this.safeShellExecute(`${this.command} env info -p`,!0);if(t)return t.stdout.trim()}async getVirtualenvsPathSetting(){const e=await this.safeShellExecute(`${this.command} config virtualenvs.path`);if(e)return e.stdout.trim()}fixCwd(){if((0,o.getOSType)()===o.OSType.Windows&&/^[a-z]:/.test(this.cwd)){const e=this.cwd.split(":");e[0]=e[0].toUpperCase(),this.cwd=e.join(":")}}async safeShellExecute(e,t=!1){const n=new u.StopWatch,r=await(0,s.shellExecute)(e,{cwd:this.cwd,throwOnStdErr:!0,timeout:5e4}).catch((e=>{t?(0,p.traceVerbose)(e):(0,p.traceError)(e)}));return(0,p.traceVerbose)(`Time taken to run ${e} in ms`,n.elapsedTime),r}}function g(e){const t=i.join(e,"pyproject.toml");return!!(0,s.pathExistsSync)(t)&&!!(0,s.readFileSync)(t).includes("[tool.poetry]")}f.poetryPromise=new Map,r([(0,l.cache)(3e4,!0,1e4)],f.prototype,"getEnvListCached",null),r([(0,l.cache)(2e4,!0,1e4)],f.prototype,"getActiveEnvPathCached",null),t.Poetry=f,t.isPoetryEnvironmentRelatedToFolder=async function(e,t,n){const r=n?new f(n,t):await f.getPoetry(t),i=await(null==r?void 0:r.getActiveEnvPath());return!!i&&(0,s.isParentPath)(e,i)}},77826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePyenvVersion=t.isPyenvEnvironment=t.isPyenvShimDir=t.getPyenvVersionsDir=t.getPyenvDir=void 0;const r=n(71017),i=n(87450),o=n(37769);function s(){var e;let t=null!==(e=(0,i.getEnvironmentVariable)("PYENV_ROOT"))&&void 0!==e?e:(0,i.getEnvironmentVariable)("PYENV");if(!t){const e=(0,i.getUserHomeDir)()||"";t=(0,i.getOSType)()===i.OSType.Windows?r.join(e,".pyenv","pyenv-win"):r.join(e,".pyenv")}return t}t.getPyenvDir=s,t.getPyenvVersionsDir=function(){return r.join(s(),"versions")},t.isPyenvShimDir=function(e){const t=r.join(s(),"shims");return(0,o.arePathsSame)(t,e)||(0,o.arePathsSame)(`${t}${r.sep}`,e)},t.isPyenvEnvironment=async function(e){const t=e,n=s();return!!await(0,o.pathExists)(n)&&(0,o.isParentPath)(t,n)},t.parsePyenvVersion=function(e){const t=function(){function e(e){return{pythonVer:e,distro:void 0,distroVer:void 0}}function t(e){const t=e.split("-");return 3===t.length?{pythonVer:void 0,distroVer:`${t[1]}-${t[2]}`,distro:t[0]}:2===t.length?{pythonVer:void 0,distroVer:t[1],distro:t[0]}:{pythonVer:void 0,distroVer:void 0,distro:e}}const n=new Map;return n.set("activepython",t),n.set("anaconda",t),n.set("graalpython",t),n.set("ironpython",t),n.set("jython",t),n.set("micropython",t),n.set("miniconda",t),n.set("miniforge",t),n.set("pypy",(function(e){const t=e.split("-"),n=t[0].search(/[0-9\.]+/)>0?t[0].substr("pypy".length):void 0;return 2===t.length?{pythonVer:n,distroVer:t[1],distro:"pypy"}:3===t.length&&(t[2].startsWith("src")||t[2].startsWith("beta")||t[2].startsWith("alpha")||t[2].startsWith("win64"))?{pythonVer:n,distroVer:`${t[1].startsWith("v")?t[1].substr(1):t[1]}-${t[2]}`,distro:"pypy"}:3===t.length&&"stm"===t[1]?{pythonVer:n,distroVer:t[2],distro:`${t[0]}-${t[1]}`}:4===t.length&&"c"===t[1]?{pythonVer:n,distroVer:t[3],distro:`pypy-${t[1]}-${t[2]}`}:4===t.length&&t[3].startsWith("src")?{pythonVer:n,distroVer:`${t[1]}-${t[2]}-${t[3]}`,distro:"pypy"}:{pythonVer:n,distroVer:void 0,distro:"pypy"}})),n.set("pyston",t),n.set("stackless",t),n.set("3",e),n.set("2",e),n}(),n=Array.from(t.keys()).filter((t=>e.startsWith(t))).map((e=>t.get(e))).filter((e=>void 0!==e));if(n.length>0&&n[0])return n[0](e)}},64715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPythonVersionFromPyvenvCfg=t.isVirtualenvwrapperEnvironment=t.isVirtualenvEnvironment=t.isVenvEnvironment=t.isVirtualEnvironment=void 0;const r=n(55674),i=n(71017);n(32727);const o=n(87450),s=n(45878),a=n(44773),c=n(95084),u=n(37769);function l(e){const t="pyvenv.cfg";return[i.join(i.dirname(i.dirname(e)),t),i.join(i.dirname(e),t)]}async function d(e){const t=l(e);for(const e of t)if(await(0,u.pathExists)(e))return!0;return!1}async function p(e){const t=i.dirname(e),n=await r.readdir(t),o=/^activate(\.([A-z]|\d)+)?$/i;return void 0!==n.find((e=>o.test(e)))}function h(e){let t,n;try{[t,n]=(0,c.parseBasicVersion)(e)}catch(e){return s.UNKNOWN_PYTHON_VERSION}return-1!==t.micro&&n.startsWith(".")&&([t.release]=(0,c.parseRelease)(n)),t}t.isVirtualEnvironment=async function(e){return d(e)},t.isVenvEnvironment=d,t.isVirtualenvEnvironment=p,t.isVirtualenvwrapperEnvironment=async function(e){const t=await function(){const e=(0,o.getEnvironmentVariable)("WORKON_HOME");return e?Promise.resolve(e):async function(){const e=(0,o.getUserHomeDir)()||"";if((0,o.getOSType)()===o.OSType.Windows){const t=i.join(e,"Envs");if(await(0,u.pathExists)(t))return t}return i.join(e,".virtualenvs")}()}();return await(0,u.pathExists)(t)&&(0,u.isParentPath)(e,t)&&p(e)},t.getPythonVersionFromPyvenvCfg=async function(e){const t=l(e);let n=s.UNKNOWN_PYTHON_VERSION;for(const e of t)if(await(0,u.pathExists)(e))try{const t=(await(0,u.readFile)(e)).splitLines().map((e=>{const t=e.split("=");if(2===t.length){const e=t[0].toLowerCase().trim(),n=t[1].trim();if("version"===e)try{return(0,c.parseVersion)(n)}catch(e){return}else if("version_info"===e)try{return h(n)}catch(e){return}}})).filter((e=>void 0!==e)).map((e=>e));if(t.length>0)for(const e of t)(0,a.comparePythonVersionSpecificity)(e,n)>0&&(n=e)}catch(e){return s.UNKNOWN_PYTHON_VERSION}return n}},37769:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onDidChangePythonSetting=t.getPythonSetting=t.getSubDirs=t.isFile=t.getFileInfo=t.resolveSymbolicLink=t.arePathsSame=t.normCasePath=t.resolvePath=t.normalizePath=t.isDirectory=t.isParentPath=t.untildify=t.readFileSync=t.readFile=t.pathExistsSync=t.pathExists=t.exec=t.shellExecute=t.initializeExternalDependencies=void 0;const r=n(55674),i=n(71017),o=n(66828),s=n(29983),a=n(61684),c=n(59314),u=n(87450);let l;function d(e){return(0,u.getOSType)()===u.OSType.Windows?i.normalize(e).toUpperCase():i.normalize(e)}async function p(e,t){if((t=null!=t?t:await r.lstat(e)).isSymbolicLink()){const t=await r.readlink(e);return p(i.isAbsolute(t)?t:i.resolve(i.dirname(e),t))}return e}t.initializeExternalDependencies=function(e){l=e},t.shellExecute=async function(e,t={}){return(await l.get(s.IProcessServiceFactory).create()).shellExec(e,t)},t.exec=async function(e,t,n={}){return(await l.get(s.IProcessServiceFactory).create()).exec(e,t,n)},t.pathExists=function(e){return r.pathExists(e)},t.pathExistsSync=function(e){return r.pathExistsSync(e)},t.readFile=function(e){return r.readFile(e,"utf-8")},t.readFileSync=function(e){return r.readFileSync(e,"utf-8")},t.untildify=n(58967),t.isParentPath=function(e,t){return t.endsWith(i.sep)||(t+=i.sep),e.endsWith(i.sep)||(e+=i.sep),d(e).startsWith(d(t))},t.isDirectory=async function(e){return(await r.lstat(e)).isDirectory()},t.normalizePath=function(e){return i.normalize(e)},t.resolvePath=function(e){return i.resolve(e)},t.normCasePath=d,t.arePathsSame=function(e,t){return d(e)===d(t)},t.resolveSymbolicLink=p,t.getFileInfo=async function(e){try{const t=await r.lstat(e);return{ctime:t.ctime.valueOf(),mtime:t.mtime.valueOf()}}catch(e){return{ctime:-1,mtime:-1}}},t.isFile=async function(e){const t=await r.lstat(e);if(t.isSymbolicLink()){const n=await p(e,t);return(await r.lstat(n)).isFile()}return t.isFile()},t.getSubDirs=async function*(e,t){const n=(await r.promises.readdir(e,{withFileTypes:!0})).map((n=>async function*(){const o=i.join(e,n.name);if(n.isDirectory())yield o;else if((null==t?void 0:t.resolveSymlinks)&&n.isSymbolicLink()){const e=await p(o);(await r.lstat(e)).isDirectory()&&(yield e)}}()));yield*(0,c.iterable)((0,c.chain)(n))},t.getPythonSetting=function(e){return l.get(a.IConfigurationService).getSettings()[e]},t.onDidChangePythonSetting=function(e,t){return o.workspace.onDidChangeConfiguration((n=>{n.affectsConfiguration(`python.${e}`)&&t()}))}},72927:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPythonBinFromPosixPaths=t.commonPosixBinPaths=t.matchPythonBinFilename=t.matchBasicPythonBinFilename=void 0;const r=n(57147),i=n(55674),o=n(71017),s=n(96486),a=n(47237),c=n(37769),u=n(19735);function l(e){return/^python(\d+(\.\d+)?)?$/.test(o.basename(e))}async function d(e){return(await r.promises.readdir(e,{withFileTypes:!0})).filter((e=>!e.isDirectory())).map((t=>o.join(e,t.name))).filter(l)}t.matchBasicPythonBinFilename=function(e){return"python"===o.basename(e)},t.matchPythonBinFilename=l,t.commonPosixBinPaths=async function(){const e=(0,a.getSearchPathEntries)(),t=Array.from(new Set(["/bin","/etc","/lib","/lib/x86_64-linux-gnu","/lib64","/sbin","/snap/bin","/usr/bin","/usr/games","/usr/include","/usr/lib","/usr/lib/x86_64-linux-gnu","/usr/lib64","/usr/libexec","/usr/local","/usr/local/bin","/usr/local/etc","/usr/local/games","/usr/local/lib","/usr/local/sbin","/usr/sbin","/usr/share","~/.local/bin"].concat(e))),n=await Promise.all(t.map((e=>i.pathExists(e))));return t.filter(((e,t)=>n[t]))},t.getPythonBinFromPosixPaths=async function(e){var t;const n=new Map;for(const r of e){const e=await d(r);for(const r of e)try{const e=await(0,c.resolveSymbolicLink)(r);n.has(e)?null===(t=n.get(e))||void 0===t||t.push(r):n.set(e,[r]),(0,u.traceInfo)(`Found: ${r} --\x3e ${e}`)}catch(e){(0,u.traceError)("Failed to resolve symbolic link: ",e)}}const r=Array.from(n.keys()).map((e=>{var t;return function(e){let t=e[0].length,n=e[0];for(const r of e)r.length<=t&&(t=r.length,n=r);return n}([e,...null!==(t=n.get(e))&&void 0!==t?t:[]])}));return(0,s.uniq)(r)}},53476:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolvePythonExeGlobs=t.PythonEnvStructure=t.watchLocationForPythonBinaries=void 0;const r=n(91171),i=n(71017),o=n(88409),s=n(87450),a=n(19735),[c,u]=(0,s.getOSType)()===s.OSType.Windows?["python.exe","Scripts"]:["python","bin"];var l;t.watchLocationForPythonBinaries=function(e,t,n=c){const u=i.posix.normalize(n),[l]=u.split("/").slice(-1);return(0,o.watchLocationForPattern)(e,u,(function(e,n){(0,a.traceVerbose)("Received event",e,JSON.stringify(n),"for baseglob",l),r(i.basename(n),l,{nocase:(0,s.getOSType)()===s.OSType.Windows})&&t(e,n)}))},function(e){e.Standard="standard",e.Flat="flat"}(l=t.PythonEnvStructure||(t.PythonEnvStructure={})),t.resolvePythonExeGlobs=function(e=c,t=l.Standard){if(i.posix.normalize(e).includes("/"))throw Error(`invalid basename glob "${e}"`);const n=[];return t===l.Standard?n.push(e,`*/${e}`,`*/${u}/${e}`):t===l.Flat&&n.push(e),n}},91057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readRegistryKeys=t.readRegistryValues=t.REG_SZ=t.HKLM=t.HKCU=void 0;const r=n(1283);Object.defineProperty(t,"HKCU",{enumerable:!0,get:function(){return r.HKCU}}),Object.defineProperty(t,"HKLM",{enumerable:!0,get:function(){return r.HKLM}}),Object.defineProperty(t,"REG_SZ",{enumerable:!0,get:function(){return r.REG_SZ}});const i=n(59314);t.readRegistryValues=async function(e){const t=new(n(1283))(e),r=(0,i.createDeferred)();return t.values(((e,t)=>{e&&r.reject(e),r.resolve(t)})),r.promise},t.readRegistryKeys=async function(e){const t=new(n(1283))(e),r=(0,i.createDeferred)();return t.keys(((e,t)=>{e&&r.reject(e),r.resolve(t)})),r.promise}},38366:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRegistryInterpreters=t.getRegistryInterpretersSync=t.getInterpreterDataFromRegistry=t.matchPythonBinFilename=t.matchBasicPythonBinFilename=void 0;const r=n(96486),i=n(71017),o=n(77570),s=n(19735),a=n(91057);async function c(e,t,n){const r=await(0,a.readRegistryKeys)({arch:e,hive:t,key:n}),i=n.substr(n.lastIndexOf("\\")+1),o=await Promise.all(r.map((e=>async function({arch:e,hive:t,key:n},r){const i={interpreterPath:"",distroOrgName:r},o=await(0,a.readRegistryValues)({arch:e,hive:t,key:n});for(const e of o)switch(e.name){case"SysArchitecture":i.bitnessStr=e.value;break;case"SysVersion":i.sysVersionStr=e.value;break;case"Version":i.versionStr=e.value;break;case"DisplayName":i.companyDisplayName=e.value}const c=(await(0,a.readRegistryKeys)({arch:e,hive:t,key:n})).map((e=>e.key)).find((e=>e.endsWith("InstallPath")));if(c){const n=(await(0,a.readRegistryValues)({arch:e,hive:t,key:c})).find((e=>"ExecutablePath"===e.name));n&&(i.interpreterPath=n.value,n.type!==a.REG_SZ&&(0,s.traceVerbose)(`Registry interpreter path type [${n.type}]: ${n.value}`))}if(i.interpreterPath.length>0)return i}(e,i))));return o.filter((e=>void 0!==e))||[]}let u,l;t.matchBasicPythonBinFilename=function(e){return"python.exe"===i.basename(e).toLowerCase()},t.matchPythonBinFilename=function(e){return/^python(\d+(.\d+)?)?\.exe$/.test(i.basename(e))},t.getInterpreterDataFromRegistry=c,t.getRegistryInterpretersSync=function(){return(0,o.isTestExecution)()?void 0:u},t.getRegistryInterpreters=async function(){return(0,o.isTestExecution)()||void 0===l?(l=async function(){let e=[];for(const t of["x64","x86"])for(const n of[a.HKLM,a.HKCU]){const r="\\SOFTWARE\\Python";let i=[];try{i=(await(0,a.readRegistryKeys)({arch:t,hive:n,key:r})).map((e=>e.key))}catch(e){(0,s.traceError)(`Failed to access Registry: ${t}\\${n}\\${r}`,e)}for(const r of i)e=e.concat(await c(t,n,r))}return u=(0,r.uniqBy)(e,(e=>e.interpreterPath)),u}(),l):l}},83606:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showErrorMessageWithLogs=void 0;const r=n(77570),i=n(67098),o=n(98638),s=n(56693);t.showErrorMessageWithLogs=async function(e){await(0,s.showErrorMessage)(e,i.Common.openOutputPanel)===i.Common.openOutputPanel&&await(0,o.executeCommand)(r.Commands.ViewOutput)}},67995:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pickWorkspaceFolder=void 0;const r=n(55674),i=n(71017),o=n(56693),s=n(85261),a=n(67098);function c(e){return Promise.race([r.pathExists(i.join(e.uri.fsPath,".venv")),r.pathExists(i.join(e.uri.fsPath,".conda"))])}t.pickWorkspaceFolder=async function(e){const t=(0,s.getWorkspaceFolders)();if(!t||0===t.length)return void(0,o.showErrorMessage)(a.CreateEnv.noWorkspace);if(1===t.length)return t[0];const n=await(0,o.showQuickPick)(async function(e){const t=[];for(const n of e)t.push({label:n.name,detail:n.uri.fsPath,description:await c(n)?a.CreateEnv.hasVirtualEnv:void 0});return t}(t),{placeHolder:a.CreateEnv.pickWorkspacePlaceholder,ignoreFocusOut:!0,canPickMany:null==e?void 0:e.allowMultiSelect},null==e?void 0:e.token);if(n){if(null==e?void 0:e.allowMultiSelect){const e=n.map((e=>e.detail)).filter((e=>void 0!==e));return t.filter((t=>e.includes(t.uri.fsPath)))}return t.filter((e=>e.uri.fsPath===n.detail))[0]}}},85949:(e,t,n)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.registerCreateEnvironmentFeatures=t.isCreatingEnvironment=t.onCreateEnvironmentExited=t.onCreateEnvironmentStarted=t.registerCreateEnvironmentProvider=void 0;const i=n(66828),o=n(77570),s=n(98638),a=n(83720),c=n(31867),u=n(15739),l=n(56693),d=n(67098),p=new class{constructor(){this._createEnvProviders=[],this._createEnvProviders=[]}add(e){this._createEnvProviders.push(e)}remove(e){this._createEnvProviders=this._createEnvProviders.filter((t=>t!==e))}getAll(){return this._createEnvProviders}};function h(e){return p.add(e),new i.Disposable((()=>{p.remove(e)}))}t.registerCreateEnvironmentProvider=h,r=(0,a.getCreationEvents)(),t.onCreateEnvironmentStarted=r.onCreateEnvironmentStarted,t.onCreateEnvironmentExited=r.onCreateEnvironmentExited,t.isCreatingEnvironment=r.isCreatingEnvironment,t.registerCreateEnvironmentFeatures=function(e,n,r){e.push((0,s.registerCommand)(o.Commands.Create_Environment,(e=>{const t=p.getAll();return(0,a.handleCreateEnvironmentCommand)(t,e)}))),e.push(h(new u.VenvCreationProvider(n))),e.push(h((0,c.condaCreationProvider)())),e.push((0,t.onCreateEnvironmentExited)((async e=>{e&&e.path&&(await r.update(e.uri,i.ConfigurationTarget.WorkspaceFolder,e.path),(0,l.showInformationMessage)(`${d.CreateEnv.informEnvCreation} ${e.path}`))})))}},83720:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleCreateEnvironmentCommand=t.getCreationEvents=void 0;const r=n(66828),i=n(67098),o=n(56693),s=n(19735),a=new r.EventEmitter,c=new r.EventEmitter;let u=0;function l(){return u>0}async function d(e,t={ignoreSourceControl:!0,installPackages:!0}){let n;try{a.fire(),u+=1,n=await e.createEnvironment(t)}finally{!function(e){c.fire(e),u-=1}(n)}return n}t.getCreationEvents=function(){return{onCreateEnvironmentStarted:a.event,onCreateEnvironmentExited:c.event,isCreatingEnvironment:l}},t.handleCreateEnvironmentCommand=async function(e,t){if(1===e.length)return d(e[0],t);if(e.length>1){const n=await async function(e){const t=e.map((e=>({label:e.name,description:e.description,id:e.id}))),n=await(0,o.showQuickPick)(t,{placeHolder:i.CreateEnv.providersQuickPickPlaceholder,matchOnDescription:!0,ignoreFocusOut:!0});if(n){const t=e.filter((e=>e.id===n.id));if(t.length>0)return t[0]}}(e);if(n)return d(n,t)}else(0,s.traceError)("No Environment Creation providers were registered.")}},31867:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.condaCreationProvider=void 0;const r=n(66828),i=n(71017),o=n(77570),s=n(19735),a=n(67995),c=n(18699),u=n(59314),l=n(87450),d=n(4057),p=n(67098),h=n(83741),f=n(83606),g=n(56693),m=n(61522),v=n(54813),y=n(22180);async function b(e){const t=await(0,h.getConda)();if(!t)return;const n=await(0,a.pickWorkspaceFolder)();if(!n)return void(0,s.traceError)("Workspace was not selected or found for creating virtual env.");const b=await(0,h.pickPythonVersion)();if(b)return(0,g.withProgress)({location:r.ProgressLocation.Notification,title:`${p.CreateEnv.statusTitle} ([${p.Common.showLogs}](command:${o.Commands.ViewOutput}))`,cancellable:!0},(async(r,o)=>{let a,h=!1;r.report({message:p.CreateEnv.statusStarting});try{(0,v.sendTelemetryEvent)(m.EventName.ENVIRONMENT_CREATING,void 0,{environmentType:"conda",pythonVersion:b}),a=await async function(e,t,n,r,o){r.report({message:p.CreateEnv.Conda.creating});const a=(0,u.createDeferred)();let d=(0,l.getEnvironmentVariable)("PATH")||(0,l.getEnvironmentVariable)("Path")||"";if((0,l.getOSType)()===l.OSType.Windows){const e=i.dirname(t);d=`${[i.join(e,"Library","bin"),i.join(e,"Library","mingw-w64","bin"),i.join(e,"Library","usr","bin"),i.join(e,"bin"),i.join(e,"Scripts")].join(i.delimiter)}${i.delimiter}${d}`}(0,s.traceLog)("Running Conda Env creation script: ",[t,...n]);const{out:h,dispose:f}=(0,c.execObservable)(t,n,{mergeStdOutErr:!0,token:o,cwd:e.uri.fsPath,env:{PATH:d}}),g=new y.CondaProgressAndTelemetry(r);let m;return h.subscribe((e=>{const t=e.out.splitLines().join("\r\n");(0,s.traceLog)(t),(t.includes(y.CONDA_ENV_CREATED_MARKER)||t.includes(y.CONDA_ENV_EXISTING_MARKER))&&(m=function(e){try{const t=e.split(/\r?\n/g).map((e=>e.trim())).filter((e=>e.startsWith(y.CONDA_ENV_CREATED_MARKER)||e.startsWith(y.CONDA_ENV_EXISTING_MARKER)))[0];return t.includes(y.CONDA_ENV_CREATED_MARKER)?t.substring(y.CONDA_ENV_CREATED_MARKER.length):t.substring(y.CONDA_ENV_EXISTING_MARKER.length)}catch(e){return void(0,s.traceError)("Parsing out environment path failed.")}}(t)),g.process(t)}),(async e=>{(0,s.traceError)("Error while running conda env creation script: ",e),a.reject(e)}),(()=>{f(),a.rejected||a.resolve(m)})),a.promise}(n,(g=t,(0,l.getOSType)()===l.OSType.Windows?i.join(i.dirname(i.dirname(g)),"python.exe"):i.join(i.dirname(g),"python")),function(e,t){let n=!0,r=!0;t&&(n=void 0===(null==t?void 0:t.ignoreSourceControl)||t.ignoreSourceControl,r=void 0===(null==t?void 0:t.installPackages)||t.installPackages);const i=[(0,d.createCondaScript)()];return n&&i.push("--git-ignore"),r&&i.push("--install"),e&&(i.push("--python"),i.push(e)),i}(b,e),r,o)}catch(e){throw(0,s.traceError)(e),h=!0,e}finally{h&&(0,f.showErrorMessageWithLogs)(p.CreateEnv.Conda.errorCreatingEnvironment)}var g;return{path:a,uri:n.uri}}));(0,s.traceError)("Conda environments for use with python extension require Python.")}t.condaCreationProvider=function(){return{createEnvironment:b,name:"Conda",description:p.CreateEnv.Conda.providerDescription,id:`${o.PVSC_EXTENSION_ID}:conda`}}},22180:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CondaProgressAndTelemetry=t.CREATE_FAILED_INSTALL_YML=t.CREATE_CONDA_INSTALLED_YML=t.CREATE_CONDA_FAILED_MARKER=t.CONDA_INSTALLING_YML=t.CONDA_ENV_EXISTING_MARKER=t.CONDA_ENV_CREATED_MARKER=void 0;const r=n(67098),i=n(54813),o=n(61522);t.CONDA_ENV_CREATED_MARKER="CREATED_CONDA_ENV:",t.CONDA_ENV_EXISTING_MARKER="EXISTING_CONDA_ENV:",t.CONDA_INSTALLING_YML="CONDA_INSTALLING_YML:",t.CREATE_CONDA_FAILED_MARKER="CREATE_CONDA.ENV_FAILED_CREATION",t.CREATE_CONDA_INSTALLED_YML="CREATE_CONDA.INSTALLED_YML",t.CREATE_FAILED_INSTALL_YML="CREATE_CONDA.FAILED_INSTALL_YML",t.CondaProgressAndTelemetry=class{constructor(e){this.progress=e,this.condaCreatedReported=!1,this.condaFailedReported=!1,this.condaInstallingPackagesReported=!1,this.condaInstallingPackagesFailedReported=!1,this.condaInstalledPackagesReported=!1}process(e){!this.condaCreatedReported&&e.includes(t.CONDA_ENV_CREATED_MARKER)?(this.condaCreatedReported=!0,this.progress.report({message:r.CreateEnv.Conda.created}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_CREATED,void 0,{environmentType:"conda",reason:"created"})):!this.condaCreatedReported&&e.includes(t.CONDA_ENV_EXISTING_MARKER)?(this.condaCreatedReported=!0,this.progress.report({message:r.CreateEnv.Conda.created}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_CREATED,void 0,{environmentType:"conda",reason:"existing"})):!this.condaFailedReported&&e.includes(t.CREATE_CONDA_FAILED_MARKER)?(this.condaFailedReported=!0,(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_FAILED,void 0,{environmentType:"conda",reason:"other"})):!this.condaInstallingPackagesReported&&e.includes(t.CONDA_INSTALLING_YML)?(this.condaInstallingPackagesReported=!0,this.progress.report({message:r.CreateEnv.Conda.installingPackages}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES,void 0,{environmentType:"conda",using:"environment.yml"})):!this.condaInstallingPackagesFailedReported&&e.includes(t.CREATE_FAILED_INSTALL_YML)?(this.condaInstallingPackagesFailedReported=!0,(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES_FAILED,void 0,{environmentType:"conda",using:"environment.yml"})):!this.condaInstalledPackagesReported&&e.includes(t.CREATE_CONDA_INSTALLED_YML)&&(this.condaInstalledPackagesReported=!0,(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLED_PACKAGES,void 0,{environmentType:"conda",using:"environment.yml"}))}}},83741:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pickPythonVersion=t.getConda=void 0;const r=n(66828),i=n(41659),o=n(67098),s=n(98638),a=n(56693),c=n(75470);t.getConda=async function(){const e=await c.Conda.getConda();if(e)return e.command;await(0,a.showErrorMessage)(o.CreateEnv.Conda.condaMissing,i.Common.learnMore)===i.Common.learnMore&&await(0,s.executeCommand)("vscode.open",r.Uri.parse("https://docs.anaconda.com/anaconda/install/"))},t.pickPythonVersion=async function(e){const t=["3.10","3.9","3.8","3.7"].map((e=>({label:"Python",description:e}))),n=await(0,a.showQuickPick)(t,{placeHolder:o.CreateEnv.Conda.selectPythonQuickPickPlaceholder},e);return null==n?void 0:n.description}},15739:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VenvCreationProvider=void 0;const r=n(22037),i=n(66828),o=n(77570),s=n(4057),a=n(18699),c=n(59314),u=n(67098),l=n(19735),d=n(67995),p=n(81387),h=n(56693),f=n(54813),g=n(61522),m=n(78970),v=n(83606);t.VenvCreationProvider=class{constructor(e){this.interpreterQuickPick=e,this.name="Venv",this.description=u.CreateEnv.Venv.providerDescription,this.id=`${o.PVSC_EXTENSION_ID}:venv`}async createEnvironment(e){const t=await(0,d.pickWorkspaceFolder)();if(void 0===t)return void(0,l.traceError)("Workspace was not selected or found for creating virtual environment.");const n=await this.interpreterQuickPick.getInterpreterViaQuickPick(t.uri,(e=>[p.EnvironmentType.System,p.EnvironmentType.MicrosoftStore,p.EnvironmentType.Global].includes(e.envType)));if(n)return(0,h.withProgress)({location:i.ProgressLocation.Notification,title:`${u.CreateEnv.statusTitle} ([${u.Common.showLogs}](command:${o.Commands.ViewOutput}))`,cancellable:!0},(async(i,o)=>{let d,p=!1;i.report({message:u.CreateEnv.statusStarting});try{n&&(d=await async function(e,t,n,i,o){i.report({message:u.CreateEnv.Venv.creating}),(0,f.sendTelemetryEvent)(g.EventName.ENVIRONMENT_CREATING,void 0,{environmentType:"venv",pythonVersion:void 0});const s=(0,c.createDeferred)();(0,l.traceLog)("Running Env creation script: ",[t,...n]);const{out:d,dispose:p}=(0,a.execObservable)(t,n,{mergeStdOutErr:!0,token:o,cwd:e.uri.fsPath}),h=new m.VenvProgressAndTelemetry(i);let v;return d.subscribe((e=>{const t=e.out.split(/\r?\n/g).join(r.EOL);(0,l.traceLog)(t),(t.includes(m.VENV_CREATED_MARKER)||t.includes(m.VENV_EXISTING_MARKER))&&(v=function(e){try{const t=e.split(/\r?\n/g).map((e=>e.trim())).filter((e=>e.startsWith(m.VENV_CREATED_MARKER)||e.startsWith(m.VENV_EXISTING_MARKER)))[0];return t.includes(m.VENV_CREATED_MARKER)?t.substring(m.VENV_CREATED_MARKER.length):t.substring(m.VENV_EXISTING_MARKER.length)}catch(e){return void(0,l.traceError)("Parsing out environment path failed.")}}(t)),h.process(t)}),(e=>{(0,l.traceError)("Error while running venv creation script: ",e),s.reject(e)}),(()=>{p(),s.rejected||s.resolve(v)})),s.promise}(t,n,function(e){let t=!0,n=!0;e&&(t=void 0===(null==e?void 0:e.ignoreSourceControl)||e.ignoreSourceControl,n=void 0===(null==e?void 0:e.installPackages)||e.installPackages);const r=[(0,s.createVenvScript)()];return t&&r.push("--git-ignore"),n&&r.push("--install"),r}(e),i,o))}catch(e){throw(0,l.traceError)(e),p=!0,e}finally{p&&(0,v.showErrorMessageWithLogs)(u.CreateEnv.Venv.errorCreatingEnvironment)}return{path:d,uri:t.uri}}));(0,l.traceError)("Virtual env creation requires an interpreter.")}}},78970:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VenvProgressAndTelemetry=t.PIP_UPGRADE_FAILED_MARKER=t.INSTALLED_PYPROJECT_MARKER=t.INSTALLED_REQUIREMENTS_MARKER=t.VENV_ALREADY_EXISTS_MARKER=t.CREATE_VENV_FAILED_MARKER=t.INSTALL_PYPROJECT_FAILED_MARKER=t.INSTALL_REQUIREMENTS_FAILED_MARKER=t.VENV_NOT_INSTALLED_MARKER=t.PIP_NOT_INSTALLED_MARKER=t.INSTALLING_PYPROJECT=t.INSTALLING_REQUIREMENTS=t.VENV_EXISTING_MARKER=t.VENV_CREATED_MARKER=void 0;const r=n(67098),i=n(54813),o=n(61522);t.VENV_CREATED_MARKER="CREATED_VENV:",t.VENV_EXISTING_MARKER="EXISTING_VENV:",t.INSTALLING_REQUIREMENTS="VENV_INSTALLING_REQUIREMENTS:",t.INSTALLING_PYPROJECT="VENV_INSTALLING_PYPROJECT:",t.PIP_NOT_INSTALLED_MARKER="CREATE_VENV.PIP_NOT_FOUND",t.VENV_NOT_INSTALLED_MARKER="CREATE_VENV.VENV_NOT_FOUND",t.INSTALL_REQUIREMENTS_FAILED_MARKER="CREATE_VENV.PIP_FAILED_INSTALL_REQUIREMENTS",t.INSTALL_PYPROJECT_FAILED_MARKER="CREATE_VENV.PIP_FAILED_INSTALL_PYPROJECT",t.CREATE_VENV_FAILED_MARKER="CREATE_VENV.VENV_FAILED_CREATION",t.VENV_ALREADY_EXISTS_MARKER="CREATE_VENV.VENV_ALREADY_EXISTS",t.INSTALLED_REQUIREMENTS_MARKER="CREATE_VENV.PIP_INSTALLED_REQUIREMENTS",t.INSTALLED_PYPROJECT_MARKER="CREATE_VENV.PIP_INSTALLED_PYPROJECT",t.PIP_UPGRADE_FAILED_MARKER="CREATE_VENV.PIP_UPGRADE_FAILED",t.VenvProgressAndTelemetry=class{constructor(e){this.progress=e,this.venvCreatedReported=!1,this.venvOrPipMissingReported=!1,this.venvFailedReported=!1,this.venvInstallingPackagesReported=!1,this.venvInstallingPackagesFailedReported=!1,this.venvInstalledPackagesReported=!1}process(e){!this.venvCreatedReported&&e.includes(t.VENV_CREATED_MARKER)?(this.venvCreatedReported=!0,this.progress.report({message:r.CreateEnv.Venv.created}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_CREATED,void 0,{environmentType:"venv",reason:"created"})):!this.venvCreatedReported&&e.includes(t.VENV_EXISTING_MARKER)?(this.venvCreatedReported=!0,this.progress.report({message:r.CreateEnv.Venv.created}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_CREATED,void 0,{environmentType:"venv",reason:"existing"})):!this.venvOrPipMissingReported&&e.includes(t.VENV_NOT_INSTALLED_MARKER)?(this.venvOrPipMissingReported=!0,(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_FAILED,void 0,{environmentType:"venv",reason:"noVenv"})):!this.venvOrPipMissingReported&&e.includes(t.PIP_NOT_INSTALLED_MARKER)?(this.venvOrPipMissingReported=!0,(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_FAILED,void 0,{environmentType:"venv",reason:"noPip"})):!this.venvFailedReported&&e.includes(t.CREATE_VENV_FAILED_MARKER)?(this.venvFailedReported=!0,(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_FAILED,void 0,{environmentType:"venv",reason:"other"})):!this.venvInstallingPackagesReported&&e.includes(t.INSTALLING_REQUIREMENTS)?(this.venvInstallingPackagesReported=!0,this.progress.report({message:r.CreateEnv.Venv.installingPackages}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES,void 0,{environmentType:"venv",using:"requirements.txt"})):!this.venvInstallingPackagesReported&&e.includes(t.INSTALLING_PYPROJECT)?(this.venvInstallingPackagesReported=!0,this.progress.report({message:r.CreateEnv.Venv.installingPackages}),(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES,void 0,{environmentType:"venv",using:"pyproject.toml"})):!this.venvInstallingPackagesFailedReported&&e.includes(t.PIP_UPGRADE_FAILED_MARKER)?(this.venvInstallingPackagesFailedReported=!0,(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES_FAILED,void 0,{environmentType:"venv",using:"pipUpgrade"})):!this.venvInstallingPackagesFailedReported&&e.includes(t.INSTALL_REQUIREMENTS_FAILED_MARKER)?(this.venvInstallingPackagesFailedReported=!0,(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES_FAILED,void 0,{environmentType:"venv",using:"requirements.txt"})):!this.venvInstallingPackagesFailedReported&&e.includes(t.INSTALL_PYPROJECT_FAILED_MARKER)?(this.venvInstallingPackagesFailedReported=!0,(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLING_PACKAGES_FAILED,void 0,{environmentType:"venv",using:"pyproject.toml"})):!this.venvInstalledPackagesReported&&e.includes(t.INSTALLED_REQUIREMENTS_MARKER)?(this.venvInstalledPackagesReported=!0,(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLED_PACKAGES,void 0,{environmentType:"venv",using:"requirements.txt"})):!this.venvInstalledPackagesReported&&e.includes(t.INSTALLED_PYPROJECT_MARKER)&&(this.venvInstalledPackagesReported=!0,(0,i.sendTelemetryEvent)(o.EventName.ENVIRONMENT_INSTALLED_PACKAGES,void 0,{environmentType:"venv",using:"pyproject.toml"}))}}},24708:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyPythonExecInfo=t.buildPythonExecInfo=void 0,t.buildPythonExecInfo=function(e,t,n){if(Array.isArray(e)){const r=e.slice(1);return t&&r.push(...t),{args:r,command:e[0],python:[...e],pythonExecutable:null!=n?n:e[e.length-1]}}return{command:e,args:t||[],python:[e],pythonExecutable:e}},t.copyPythonExecInfo=function(e,t){const n={command:e.command,args:[...e.args],python:[...e.python],pythonExecutable:e.pythonExecutable};return t&&n.args.push(...t),void 0===n.pythonExecutable&&(n.pythonExecutable=n.python[n.python.length-1]),n}},29817:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activate=t.initialize=void 0;const r=n(66828),i=n(73766),o=n(87450),s=n(30752),a=n(27736),c=n(44644),u=n(3143),l=n(37769),d=n(14424),p=n(82399),h=n(74437),f=n(93235),g=n(43160),m=n(41770),v=n(5613),y=n(39046),b=n(67931),S=n(22544),_=n(68624),E=n(11069),w=n(97954),P=n(17021);function T(e){const{initRoot:t,addRoot:n,removeRoot:i}=e,o=r.workspace.workspaceFolders;return o&&o.map((e=>e.uri)).forEach(t),r.workspace.onDidChangeWorkspaceFolders((e=>{for(const t of e.removed)i(t.uri);for(const t of e.added)n(t.uri)}))}t.initialize=async function(e){const t=await(0,E.createPythonEnvironments)((()=>async function(e){let t=new d.ExtensionLocators(function(e){const t=[];t.push(new m.PyenvLocator,new h.CondaEnvironmentLocator,new f.GlobalVirtualEnvironmentLocator,new p.CustomVirtualEnvironmentLocator),(0,o.getOSType)()===o.OSType.Windows?t.push(new v.WindowsRegistryLocator,new y.MicrosoftStoreLocator,new c.WindowsPathEnvVarLocator):t.push(new g.PosixKnownPathsLocator);const n=t.filter((e=>void 0!==e.dispose));return e.disposables.push(...n),t}(e),function(e){const t=new d.WorkspaceLocators(T,[e=>[new u.WorkspaceVirtualEnvironmentLocator(e.fsPath),new _.PoetryLocator(e.fsPath)]]);return e.disposables.push(t),t}(e));const n=(0,b.getEnvironmentInfoService)(e.disposables);t=new s.PythonEnvsReducer(t);const r=new a.PythonEnvsResolver(t,n);return new P.EnvsCollectionService(await async function(e){const t=(0,i.getGlobalStorage)(e.context,"PYTHON_ENV_INFO_CACHE",[]);return await(0,w.createCollectionCache)({load:async()=>t.get(),store:async e=>t.set(e)})}(e),r)}(e)));return(0,l.initializeExternalDependencies)(e.legacyIOC.serviceContainer),(0,S.registerNewDiscoveryForIOC)(e.legacyIOC.serviceManager,t),t},t.activate=async function(e,t){const n=r.workspace.workspaceFolders;return(0,i.getGlobalStorage)(t.context,"PYTHON_ENV_INFO_CACHE",[]).get().length>0?null==n||n.forEach((async n=>{const r=(0,i.getGlobalStorage)(t.context,`PYTHON_WAS_DISCOVERY_TRIGGERED_${(0,l.normCasePath)(n.uri.fsPath)}`,!1);r.get()||(e.triggerRefresh({searchLocations:{roots:[n.uri],doNotIncludeNonRooted:!0}}).ignoreErrors(),await r.set(!0))})):(e.triggerRefresh().ignoreErrors(),null==n||n.forEach((async e=>{const n=(0,i.getGlobalStorage)(t.context,`PYTHON_WAS_DISCOVERY_TRIGGERED_${(0,l.normCasePath)(e.uri.fsPath)}`,!1);await n.set(!0)}))),{fullyReady:Promise.resolve()}}},93400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExecutablePath=void 0;const r=n(31776),i=n(19735),o=n(24708);t.getExecutablePath=async function(e,t,n){try{const[i,s]=(0,r.getExecutable)(),a=(0,o.copyPythonExecInfo)(e,i),c=[a.command,...a.args].reduce(((e,t)=>e?`${e} ${t.toCommandArgumentForPythonExt()}`:`${t.toCommandArgumentForPythonExt()}`),""),u=s((await t(c,{timeout:null!=n?n:15e3})).stdout.trim());if(""===u)throw new Error(`${c} resulted in empty stdout`);return u}catch(e){return void(0,i.traceError)(e)}}},81387:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvironmentTypeName=t.ModuleInstallerType=t.virtualEnvTypes=t.EnvironmentType=void 0,function(e){e.Unknown="Unknown",e.Conda="Conda",e.VirtualEnv="VirtualEnv",e.Pipenv="PipEnv",e.Pyenv="Pyenv",e.Venv="Venv",e.MicrosoftStore="MicrosoftStore",e.Poetry="Poetry",e.VirtualEnvWrapper="VirtualEnvWrapper",e.Global="Global",e.System="System"}(n=t.EnvironmentType||(t.EnvironmentType={})),t.virtualEnvTypes=[n.Poetry,n.Pipenv,n.Venv,n.VirtualEnvWrapper,n.Conda,n.VirtualEnv],(r=t.ModuleInstallerType||(t.ModuleInstallerType={})).Unknown="Unknown",r.Conda="Conda",r.Pip="Pip",r.Poetry="Poetry",r.Pipenv="Pipenv",t.getEnvironmentTypeName=function(e){switch(e){case n.Conda:return"conda";case n.Pipenv:return"pipenv";case n.Pyenv:return"pyenv";case n.Venv:return"venv";case n.VirtualEnv:return"virtualenv";case n.MicrosoftStore:return"microsoft store";case n.Poetry:return"poetry";case n.VirtualEnvWrapper:return"virtualenvwrapper";default:return""}}},69554:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterpreterInfo=void 0;const r=n(36625),i=n(4057),o=n(87450),s=n(24708);t.getInterpreterInfo=async function(e,t,n){const[a,c]=(0,i.interpreterInfo)(),u=(0,s.copyPythonExecInfo)(e,a),l=[u.command,...u.args],d=l.reduce(((e,t)=>e?`${e} "${t}"`:`"${t.replaceAll("\\","\\\\")}"`),""),p=await t(d,{timeout:15e3});p.stderr&&n&&n.error(`Failed to parse interpreter information for ${l} stderr: ${p.stderr}`);const h=c(p.stdout);if(n&&n.info(`Found interpreter for ${l}`),h)return function(e,t){let n=`${t.versionInfo.slice(0,3).join(".")}`;if(void 0!==t.versionInfo[3]&&["alpha","beta","candidate"].includes(t.versionInfo[3])&&(n=`${n}-${t.versionInfo[3]}`,void 0!==t.versionInfo[4])){let e=-1;try{e=parseInt(`${t.versionInfo[4]}`,10)}catch(t){e=-1}n=e>=0?`${n}${e}`:n}return{architecture:t.is64Bit?o.Architecture.x64:o.Architecture.x86,path:e,version:new r.SemVer(n),sysVersion:t.sysVersion,sysPrefix:t.sysPrefix}}(e.pythonExecutable,h)}},22544:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.registerNewDiscoveryForIOC=void 0;const i=n(86700),o=n(96486),s=n(66828),a=n(88409),c=n(18639),u=n(45878),l=n(51372),d=n(37769),p=n(81387),h=n(95084),f=n(59314),g=n(99910),m=n(75470),v=n(10423),y=n(1132),b=n(19735),S=new Map(Object.entries({[u.PythonEnvKind.OtherGlobal]:p.EnvironmentType.Global,[u.PythonEnvKind.System]:p.EnvironmentType.System,[u.PythonEnvKind.MicrosoftStore]:p.EnvironmentType.MicrosoftStore,[u.PythonEnvKind.Pyenv]:p.EnvironmentType.Pyenv,[u.PythonEnvKind.Conda]:p.EnvironmentType.Conda,[u.PythonEnvKind.VirtualEnv]:p.EnvironmentType.VirtualEnv,[u.PythonEnvKind.Pipenv]:p.EnvironmentType.Pipenv,[u.PythonEnvKind.Poetry]:p.EnvironmentType.Poetry,[u.PythonEnvKind.Venv]:p.EnvironmentType.Venv,[u.PythonEnvKind.VirtualEnvWrapper]:p.EnvironmentType.VirtualEnvWrapper}));function _(e){const{name:t,location:n,executable:r,arch:i,kind:o,version:s,distro:a,id:c}=e,{filename:u,sysPrefix:l}=r,d={id:c,sysPrefix:l,envType:p.EnvironmentType.Unknown,envName:t,envPath:n,path:u,architecture:i},f=S.get(o);if(void 0!==f&&(d.envType=f),void 0!==s){const{release:e,sysVersion:t}=s;d.sysVersion=void 0===e?"":t;const n=(0,h.toSemverLikeVersion)(s);d.version=n}return void 0!==a&&""!==a.org&&(d.companyDisplayName=a.org),d.displayName=e.display,d.detailedDisplayName=e.detailedDisplayName,d}let E=class{constructor(e){this.api=e,this.changed=new s.EventEmitter,this.api.onChanged((e=>{this.changed.fire({type:e.type,new:e.new?_(e.new):void 0,old:e.old?_(e.old):void 0,resource:e.searchLocation})}))}triggerRefresh(e,t){return this.api.triggerRefresh(e,t)}getRefreshPromise(){return this.api.getRefreshPromise()}get onProgress(){return this.api.onProgress}get onChanged(){return this.changed.event}onDidCreate(e,t){const n=e?s.workspace.getWorkspaceFolder(e):void 0;return this.api.onChanged((e=>{n&&e.searchLocation&&((0,b.traceVerbose)(`Received event ${JSON.stringify(e)} file change event`),e.type===a.FileChangeType.Created&&(0,d.isParentPath)(e.searchLocation.fsPath,n.uri.fsPath)&&t())}))}async getInterpreterInformation(e){const t=await this.api.resolveEnv(e);return t?_(t):void 0}async isMacDefaultPythonPath(e){return(0,l.isMacDefaultPythonPath)(e)}async getInterpreterDetails(e){const t=await this.api.resolveEnv(e);if(t)return _(t)}async isCondaEnvironment(e){return(0,m.isCondaEnvironment)(e)}async getCondaEnvironment(e){if(!await(0,m.isCondaEnvironment)(e))return;const t=await this.api.resolveEnv(e);return t?{name:t.name,path:t.location}:void 0}async isMicrosoftStoreInterpreter(e){return(0,v.isMicrosoftStoreEnvironment)(e)}async hasInterpreters(e=(async()=>!0)){const t=(0,f.createDeferred)();return this.api.onChanged((async n=>{n.new&&await e(_(n.new))&&t.resolve()})),(await(0,g.asyncFilter)(this.api.getEnvs(),(t=>e(_(t))))).length>0||(await Promise.race([t.promise,this.api.getRefreshPromise()]),(await(0,g.asyncFilter)(this.api.getEnvs(),(t=>e(_(t))))).length>0)}getInterpreters(e,t){const n={};let r,i=[];void 0!==e&&(r=s.workspace.getWorkspaceFolder(e),r&&(i=[r.uri])),!r&&s.workspace.workspaceFolders&&s.workspace.workspaceFolders.length>0&&(!e||"untitled"===e.scheme)&&(i=s.workspace.workspaceFolders.map((e=>e.uri))),n.searchLocations={roots:i};let a=this.api.getEnvs(n);return t&&(a=a.filter((e=>(0,o.intersection)(t,e.source).length>0))),a.map(_)}async getWorkspaceVirtualEnvInterpreters(e,t){const n=s.workspace.getWorkspaceFolder(e);if(!n)return[];const r={searchLocations:{roots:[n.uri],doNotIncludeNonRooted:!0}};return(null==t?void 0:t.ignoreCache)&&await this.api.triggerRefresh(r),await this.api.getRefreshPromise(),this.api.getEnvs(r).map(_)}};E=r([(0,i.injectable)()],E),t.registerNewDiscoveryForIOC=function(e,t){e.addSingleton(c.ICondaService,y.CondaService),e.addSingletonInstance(c.IComponentAdapter,new E(t))}},69284:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=t.SourceMapSupport=void 0;const r=n(71017);n(32727);const i=n(90209),o=n(63281),s=n(19735),a="sourceMapsEnabled";class c{constructor(e){this.vscode=e,this.config=this.vscode.workspace.getConfiguration("python.diagnostics",null)}async initialize(){if(!this.enabled)return;await this.enableSourceMaps(!0),n(75913).install();const e=n(67098),t=e.Diagnostics.disableSourceMaps;this.vscode.window.showWarningMessage(e.Diagnostics.warnSourceMaps,t).then((e=>{e===t&&this.disable().ignoreErrors()}))}get enabled(){return this.config.get(a,!1)}async disable(){this.enabled&&await this.config.update(a,!1,this.vscode.ConfigurationTarget.Global),await this.enableSourceMaps(!1)}async enableSourceMaps(e){const t=r.join(o.EXTENSION_ROOT_DIR,"out","client","extension.js"),n=r.join(o.EXTENSION_ROOT_DIR,"out","client","debugger","debugAdapter","main.js");await Promise.all([this.enableSourceMap(e,t),this.enableSourceMap(e,n)])}async enableSourceMap(e,t){const n=`${t}.map`,r=`${t}.map.disabled`;e?await this.rename(r,n):await this.rename(n,r)}async rename(e,t){const n=new i.FileSystem;await n.fileExists(t)||await n.move(e,t)}}t.SourceMapSupport=c,t.initialize=function(e=n(66828)){e.workspace.getConfiguration("python.diagnostics",null).get("sourceMapsEnabled",!1)?new c(e).initialize().catch((e=>{(0,s.traceError)("Failed to initialize source map support in extension")})):new c(e).disable().ignoreErrors()}},13825:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasUserDefinedPythonPath=t.sendErrorTelemetry=t.sendStartupTelemetry=void 0;const r=n(17585),i=n(77570),o=n(58400),s=n(61684),a=n(87282),c=n(18639),u=n(19735),l=n(81387),d=n(54813),p=n(61522);function h(e,t){let n=t.get(s.IInterpreterPathService).inspect(e);return!!(n.workspaceFolderValue&&"python"!==n.workspaceFolderValue||n.workspaceValue&&"python"!==n.workspaceValue||n.globalValue&&"python"!==n.globalValue)}async function f(e){var t;const n=e.get(r.IWorkspaceService),i=(null===(t=n.workspaceFolders)||void 0===t?void 0:t.length)||0,s=e.get(o.ITerminalHelper).identifyTerminalShell();if(!n.isTrusted)return{workspaceFolderCount:i,terminal:s};const d=e.get(c.IInterpreterService),p=n.workspaceFolders?n.workspaceFolders[0].uri:void 0,f=await d.hasInterpreters((async e=>{var t;return 3===(null===(t=e.version)||void 0===t?void 0:t.major)}));await d.refreshPromise;const g=await d.getActiveInterpreter().catch((()=>{})),m=g&&g.version?g.version.raw:void 0,v=g?g.envType:void 0;let y;if(v===l.EnvironmentType.Unknown&&(0,u.traceError)("Active interpreter type is detected as Unknown",JSON.stringify(g)),v===l.EnvironmentType.Conda){const t=e.get(c.ICondaService);y=await t.getCondaVersion().then((e=>e?e.raw:"")).catch((()=>""))}const b=h(p,e),S=!!g&&function(e,t){const n=t.get(a.IInterpreterAutoSelectionService).getAutoSelectedInterpreter(void 0);return!!n&&e===n.path}(g.path,e);return{condaVersion:y,terminal:s,pythonVersion:m,interpreterType:v,workspaceFolderCount:i,hasPythonThree:f,usingUserDefinedInterpreter:b,usingGlobalInterpreter:S}}t.sendStartupTelemetry=async function(e,t,n,r){if(!(0,i.isTestExecution)())try{await e,t.totalNonBlockingActivateTime=n.elapsedTime-t.startActivateTime;const i=await f(r);(0,d.sendTelemetryEvent)(p.EventName.EDITOR_LOAD,t,i)}catch(e){(0,u.traceError)("sendStartupTelemetry() failed.",e)}},t.sendErrorTelemetry=async function(e,t,n){try{let r={};if(n)try{r=await f(n)}catch(e){(0,u.traceError)("getActivationTelemetryProps() failed.",e)}(0,d.sendTelemetryEvent)(p.EventName.EDITOR_LOAD,t,r,e)}catch(e){(0,u.traceError)("sendErrorTelemetry() failed.",e)}},t.hasUserDefinedPythonPath=h},61522:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformErrors=t.EventName=void 0,(r=t.EventName||(t.EventName={})).FORMAT_SORT_IMPORTS="FORMAT.SORT_IMPORTS",r.FORMAT="FORMAT.FORMAT",r.FORMAT_ON_TYPE="FORMAT.FORMAT_ON_TYPE",r.EDITOR_LOAD="EDITOR.LOAD",r.LINTING="LINTING",r.REPL="REPL",r.SELECT_INTERPRETER="SELECT_INTERPRETER",r.SELECT_INTERPRETER_ENTER_BUTTON="SELECT_INTERPRETER_ENTER_BUTTON",r.SELECT_INTERPRETER_ENTER_CHOICE="SELECT_INTERPRETER_ENTER_CHOICE",r.SELECT_INTERPRETER_SELECTED="SELECT_INTERPRETER_SELECTED",r.SELECT_INTERPRETER_ENTER_OR_FIND="SELECT_INTERPRETER_ENTER_OR_FIND",r.SELECT_INTERPRETER_ENTERED_EXISTS="SELECT_INTERPRETER_ENTERED_EXISTS",r.PYTHON_INTERPRETER="PYTHON_INTERPRETER",r.PYTHON_INSTALL_PACKAGE="PYTHON_INSTALL_PACKAGE",r.ENVIRONMENT_WITHOUT_PYTHON_SELECTED="ENVIRONMENT_WITHOUT_PYTHON_SELECTED",r.PYTHON_ENVIRONMENTS_API="PYTHON_ENVIRONMENTS_API",r.PYTHON_INTERPRETER_DISCOVERY="PYTHON_INTERPRETER_DISCOVERY",r.PYTHON_INTERPRETER_AUTO_SELECTION="PYTHON_INTERPRETER_AUTO_SELECTION",r.PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES="PYTHON_INTERPRETER_ACTIVATION_ENVIRONMENT_VARIABLES",r.PYTHON_INTERPRETER_ACTIVATION_FOR_RUNNING_CODE="PYTHON_INTERPRETER_ACTIVATION_FOR_RUNNING_CODE",r.PYTHON_INTERPRETER_ACTIVATION_FOR_TERMINAL="PYTHON_INTERPRETER_ACTIVATION_FOR_TERMINAL",r.TERMINAL_SHELL_IDENTIFICATION="TERMINAL_SHELL_IDENTIFICATION",r.PYTHON_INTERPRETER_ACTIVATE_ENVIRONMENT_PROMPT="PYTHON_INTERPRETER_ACTIVATE_ENVIRONMENT_PROMPT",r.PYTHON_NOT_INSTALLED_PROMPT="PYTHON_NOT_INSTALLED_PROMPT",r.CONDA_INHERIT_ENV_PROMPT="CONDA_INHERIT_ENV_PROMPT",r.ENVFILE_VARIABLE_SUBSTITUTION="ENVFILE_VARIABLE_SUBSTITUTION",r.ENVFILE_WORKSPACE="ENVFILE_WORKSPACE",r.EXECUTION_CODE="EXECUTION_CODE",r.EXECUTION_DJANGO="EXECUTION_DJANGO",r.DEBUG_IN_TERMINAL_BUTTON="DEBUG.IN_TERMINAL",r.DEBUG_ADAPTER_USING_WHEELS_PATH="DEBUG_ADAPTER.USING_WHEELS_PATH",r.DEBUG_SESSION_ERROR="DEBUG_SESSION.ERROR",r.DEBUG_SESSION_START="DEBUG_SESSION.START",r.DEBUG_SESSION_STOP="DEBUG_SESSION.STOP",r.DEBUG_SESSION_USER_CODE_RUNNING="DEBUG_SESSION.USER_CODE_RUNNING",r.DEBUGGER="DEBUGGER",r.DEBUGGER_ATTACH_TO_CHILD_PROCESS="DEBUGGER.ATTACH_TO_CHILD_PROCESS",r.DEBUGGER_ATTACH_TO_LOCAL_PROCESS="DEBUGGER.ATTACH_TO_LOCAL_PROCESS",r.DEBUGGER_CONFIGURATION_PROMPTS="DEBUGGER.CONFIGURATION.PROMPTS",r.DEBUGGER_CONFIGURATION_PROMPTS_IN_LAUNCH_JSON="DEBUGGER.CONFIGURATION.PROMPTS.IN.LAUNCH.JSON",r.UNITTEST_CONFIGURING="UNITTEST.CONFIGURING",r.UNITTEST_CONFIGURE="UNITTEST.CONFIGURE",r.UNITTEST_DISCOVERY_TRIGGER="UNITTEST.DISCOVERY.TRIGGER",r.UNITTEST_DISCOVERING="UNITTEST.DISCOVERING",r.UNITTEST_DISCOVERING_STOP="UNITTEST.DISCOVERY.STOP",r.UNITTEST_DISCOVERY_DONE="UNITTEST.DISCOVERY.DONE",r.UNITTEST_RUN_STOP="UNITTEST.RUN.STOP",r.UNITTEST_RUN="UNITTEST.RUN",r.UNITTEST_RUN_ALL_FAILED="UNITTEST.RUN_ALL_FAILED",r.UNITTEST_DISABLED="UNITTEST.DISABLED",r.PYTHON_EXPERIMENTS_INIT_PERFORMANCE="PYTHON_EXPERIMENTS_INIT_PERFORMANCE",r.PYTHON_EXPERIMENTS_LSP_NOTEBOOKS="PYTHON_EXPERIMENTS_LSP_NOTEBOOKS",r.PYTHON_EXPERIMENTS_OPT_IN_OPT_OUT_SETTINGS="PYTHON_EXPERIMENTS_OPT_IN_OPT_OUT_SETTINGS",r.EXTENSION_SURVEY_PROMPT="EXTENSION_SURVEY_PROMPT",r.LANGUAGE_SERVER_ENABLED="LANGUAGE_SERVER.ENABLED",r.LANGUAGE_SERVER_STARTUP="LANGUAGE_SERVER.STARTUP",r.LANGUAGE_SERVER_READY="LANGUAGE_SERVER.READY",r.LANGUAGE_SERVER_TELEMETRY="LANGUAGE_SERVER.EVENT",r.LANGUAGE_SERVER_REQUEST="LANGUAGE_SERVER.REQUEST",r.TERMINAL_CREATE="TERMINAL.CREATE",r.ACTIVATE_ENV_IN_CURRENT_TERMINAL="ACTIVATE_ENV_IN_CURRENT_TERMINAL",r.ACTIVATE_ENV_TO_GET_ENV_VARS_FAILED="ACTIVATE_ENV_TO_GET_ENV_VARS_FAILED",r.DIAGNOSTICS_ACTION="DIAGNOSTICS.ACTION",r.DIAGNOSTICS_MESSAGE="DIAGNOSTICS.MESSAGE",r.SELECT_LINTER="LINTING.SELECT",r.USE_REPORT_ISSUE_COMMAND="USE_REPORT_ISSUE_COMMAND",r.LINTER_NOT_INSTALLED_PROMPT="LINTER_NOT_INSTALLED_PROMPT",r.HASHED_PACKAGE_NAME="HASHED_PACKAGE_NAME",r.JEDI_LANGUAGE_SERVER_ENABLED="JEDI_LANGUAGE_SERVER.ENABLED",r.JEDI_LANGUAGE_SERVER_STARTUP="JEDI_LANGUAGE_SERVER.STARTUP",r.JEDI_LANGUAGE_SERVER_READY="JEDI_LANGUAGE_SERVER.READY",r.JEDI_LANGUAGE_SERVER_REQUEST="JEDI_LANGUAGE_SERVER.REQUEST",r.TENSORBOARD_SESSION_LAUNCH="TENSORBOARD.SESSION_LAUNCH",r.TENSORBOARD_SESSION_DURATION="TENSORBOARD.SESSION_DURATION",r.TENSORBOARD_SESSION_DAEMON_STARTUP_DURATION="TENSORBOARD.SESSION_DAEMON_STARTUP_DURATION",r.TENSORBOARD_LAUNCH_PROMPT_SELECTION="TENSORBOARD.LAUNCH_PROMPT_SELECTION",r.TENSORBOARD_SESSION_E2E_STARTUP_DURATION="TENSORBOARD.SESSION_E2E_STARTUP_DURATION",r.TENSORBOARD_ENTRYPOINT_SHOWN="TENSORBOARD.ENTRYPOINT_SHOWN",r.TENSORBOARD_INSTALL_PROMPT_SHOWN="TENSORBOARD.INSTALL_PROMPT_SHOWN",r.TENSORBOARD_INSTALL_PROMPT_SELECTION="TENSORBOARD.INSTALL_PROMPT_SELECTION",r.TENSORBOARD_DETECTED_IN_INTEGRATED_TERMINAL="TENSORBOARD_DETECTED_IN_INTEGRATED_TERMINAL",r.TENSORBOARD_PACKAGE_INSTALL_RESULT="TENSORBOARD.PACKAGE_INSTALL_RESULT",r.TENSORBOARD_TORCH_PROFILER_IMPORT="TENSORBOARD.TORCH_PROFILER_IMPORT",r.TENSORBOARD_JUMP_TO_SOURCE_REQUEST="TENSORBOARD_JUMP_TO_SOURCE_REQUEST",r.TENSORBOARD_JUMP_TO_SOURCE_FILE_NOT_FOUND="TENSORBOARD_JUMP_TO_SOURCE_FILE_NOT_FOUND",r.ENVIRONMENT_CREATING="ENVIRONMENT.CREATING",r.ENVIRONMENT_CREATED="ENVIRONMENT.CREATED",r.ENVIRONMENT_FAILED="ENVIRONMENT.FAILED",r.ENVIRONMENT_INSTALLING_PACKAGES="ENVIRONMENT.INSTALLING_PACKAGES",r.ENVIRONMENT_INSTALLED_PACKAGES="ENVIRONMENT.INSTALLED_PACKAGES",r.ENVIRONMENT_INSTALLING_PACKAGES_FAILED="ENVIRONMENT.INSTALLING_PACKAGES_FAILED",(n=t.PlatformErrors||(t.PlatformErrors={})).FailedToParseVersion="FailedToParseVersion",n.FailedToDetermineOS="FailedToDetermineOS"},98634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnvFileTelemetryTests=t.sendActivationTelemetry=t.sendFileCreationTelemetry=t.sendSettingTelemetry=void 0;const r=n(48683),i=n(54813),o=n(61522);let s,a=!1;function c(e=!1){(0,i.sendTelemetryEvent)(o.EventName.ENVFILE_WORKSPACE,void 0,{hasCustomEnvPath:e}),a=!0}function u(){return!a}function l(e){var t;if(!s){const n=e.getConfiguration("python");s=(null===(t=n.inspect("envFile"))||void 0===t?void 0:t.defaultValue)||""}return s}t.sendSettingTelemetry=function(e,t){u()&&t!==l(e)&&c(!0)},t.sendFileCreationTelemetry=function(){u()&&c()},t.sendActivationTelemetry=async function(e,t,n){if(u()){const i=new r.SystemVariables(n,void 0,t).resolveAny(l(t));await e.fileExists(i)&&c()}},t.EnvFileTelemetryTests={setState:({telemetrySent:e,defaultSetting:t})=>{void 0!==e&&(a=e),void 0!==l&&(s=t)},resetState:()=>{s=void 0,a=!1}}},72392:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setExtensionInstallTelemetryProperties=void 0;const r=n(71017),i=n(54813),o=n(63281);t.setExtensionInstallTelemetryProperties=async function(e){const t=r.join(r.dirname(o.EXTENSION_ROOT_DIR),"PythonCodingPack");await e.fileExists(t)?(0,i.setSharedProperty)("installSource","pythonCodingPack"):(0,i.setSharedProperty)("installSource","marketPlace")}},15036:function(e,t,n){"use strict";var r,i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.getDocumentLines=t.ImportTracker=void 0;const s=n(86700),a=n(71017),c=n(39512),u=n(54813),l=n(17585),d=n(77570);n(32727);const p=n(61684),h=n(3481),f=n(2810),g=n(61522),m=/^\s*(from (?<fromImport>\w+)(?:\.\w+)* import \w+(?:, \w+)*(?: as \w+)?|import (?<importImport>\w+(?:, \w+)*)(?: as \w+)?)$/,v=(0,d.isTestExecution)();let y=r=class{constructor(e,t){this.documentManager=e,this.disposables=t,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!0},this.pendingChecks=new Map,this.hashFn=n(33715).sha256,this.documentManager.onDidOpenTextDocument((e=>this.onOpenedOrSavedDocument(e)),this,this.disposables),this.documentManager.onDidSaveTextDocument((e=>this.onOpenedOrSavedDocument(e)),this,this.disposables)}dispose(){this.pendingChecks.clear()}async activate(){this.documentManager.textDocuments.forEach((e=>this.onOpenedOrSavedDocument(e)))}static hasModuleImport(e){return this.sentMatches.has(e)}onOpenedOrSavedDocument(e){".py"===a.extname(e.fileName).toLowerCase()&&this.scheduleDocument(e)}scheduleDocument(e){this.scheduleCheck(e.fileName,this.checkDocument.bind(this,e))}scheduleCheck(e,t){const n=this.pendingChecks.get(e);n&&((0,c.clearTimeout)(n),this.pendingChecks.delete(e)),v?t():this.pendingChecks.set(e,(0,c.setTimeout)(t,5e3))}checkDocument(e){this.pendingChecks.delete(e.fileName);const t=b(e);this.lookForImports(t)}sendTelemetry(e){if(r.sentMatches.has(e))return;r.sentMatches.add(e);const t=this.hashFn().update(e).digest("hex");(0,u.sendTelemetryEvent)(g.EventName.HASHED_PACKAGE_NAME,void 0,{hashedName:t})}lookForImports(e){try{for(const t of e){const e=t?m.exec(t):null;null!==e&&void 0!==e.groups&&(void 0!==e.groups.fromImport?this.sendTelemetry(e.groups.fromImport):void 0!==e.groups.importImport&&e.groups.importImport.split(",").map((e=>e.trim())).forEach((e=>this.sendTelemetry(e)))),t&&f.TorchProfilerImportRegEx.test(t)&&(0,u.sendTelemetryEvent)(g.EventName.TENSORBOARD_TORCH_PROFILER_IMPORT)}}catch(e){(0,h.noop)()}}};function b(e){return Array(Math.min(e.lineCount,1e3)).fill("").map(((t,n)=>{const r=e.lineAt(n);if(r&&!r.isEmptyOrWhitespace)return r.text})).filter((e=>e))}y.sentMatches=new Set,y=r=i([(0,s.injectable)(),o(0,(0,s.inject)(l.IDocumentManager)),o(1,(0,s.inject)(p.IDisposableRegistry))],y),t.ImportTracker=y,t.getDocumentLines=b},54813:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendTelemetryWhenDone=t.captureTelemetry=t.sendTelemetryEvent=t.clearTelemetryReporter=t._resetSharedProperties=t.setSharedProperty=t.isTelemetryDisabled=void 0;const r=n(77570),i=n(70057),o=n(59314);n(61522),t.isTelemetryDisabled=function(e){return!1===e.getConfiguration("telemetry").inspect("enableTelemetry").globalValue};const s={};let a;function c(e,t,i,o){var c;if((0,r.isTestExecution)()||!function(){try{const e=n(66828),t=n(89877);return void 0!==e&&void 0!==t}catch(e){return!1}}())return;const u=function(){if(!(0,r.isTestExecution)()&&a)return a;const e=r.PVSC_EXTENSION_ID,{extensions:t}=n(66828),i=t.getExtension(e).packageJSON.version,o=n(89877).default;return a=new o(e,i,r.AppinsightsKey,!0,[{lookup:/(errorName|errorMessage|errorStack)/g}]),a}(),l="number"==typeof t?{duration:t}:t||void 0,d={},p=e;if(i){const t=i;Object.getOwnPropertyNames(t).forEach((n=>{if(void 0!==t[n]&&null!==t[n])try{switch(typeof t[n]){case"string":d[n]=t[n];break;case"object":d[n]="object";break;default:d[n]=t[n].toString()}}catch(t){console.error(`Failed to serialize ${n} for ${e}`,t)}}))}if(Object.assign(d,s),o){const e={errorName:o.name,errorMessage:o.message,errorStack:null!==(c=o.stack)&&void 0!==c?c:""};Object.assign(d,e),u.sendTelemetryErrorEvent(p,d,l)}else u.sendTelemetryEvent(p,d,l);process.env&&process.env.VSC_PYTHON_LOG_TELEMETRY&&console.info(`Telemetry Event : ${p} Measures: ${JSON.stringify(l)} Props: ${JSON.stringify(d)} `)}t.setSharedProperty=function(e,t){const n=e;(0,r.isUnitTestExecution)()&&n.startsWith("ds_")||(void 0===t?delete s[n]:s[n]=t)},t._resetSharedProperties=function(){for(const e of Object.keys(s))delete s[e]},t.clearTelemetryReporter=function(){a=void 0},t.sendTelemetryEvent=c,t.captureTelemetry=function(e,t,n=!0,r,s,a){return function(u,l,d){const p=d.value;return d.value=function(...u){if(!n&&!s&&!a)return c(e,void 0,t),p.apply(this,u);const l=e=>s?{...t,...s(this,e)}:t,d=n?new i.StopWatch:void 0,h=e=>{const t=d?{duration:d.elapsedTime}:void 0;return a?{...t,...a(this,e)}:t},f=p.apply(this,u);return f&&(0,o.isPromise)(f)?f.then((t=>(c(e,h(t),l(t)),t))).catch((t=>{const n={...l(),failed:!0};c(r||e,h(),n,t)})):c(e,h(f),l(f)),f},d}},t.sendTelemetryWhenDone=function(e,t,n,r){if(n=n||new i.StopWatch,"function"!=typeof t.then)throw new Error("Method is neither a Promise nor a Theneable");t.then((t=>(c(e,n.elapsedTime,r),t)),(t=>(c(e,n.elapsedTime,r,t),Promise.reject(t))))}},78838:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IImportTracker=void 0,t.IImportTracker=Symbol("IImportTracker")},68329:(e,t)=>{"use strict";var n,r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.TensorBoardEntrypoint=t.TensorBoardSessionStartResult=t.TensorBoardEntrypointTrigger=t.TensorBoardPromptSelection=void 0,(o=t.TensorBoardPromptSelection||(t.TensorBoardPromptSelection={})).Yes="yes",o.No="no",o.DoNotAskAgain="doNotAskAgain",o.None="none",(i=t.TensorBoardEntrypointTrigger||(t.TensorBoardEntrypointTrigger={})).tfeventfiles="tfeventfiles",i.fileimport="fileimport",i.nbextension="nbextension",i.palette="palette",(r=t.TensorBoardSessionStartResult||(t.TensorBoardSessionStartResult={})).cancel="canceled",r.success="success",r.error="error",(n=t.TensorBoardEntrypoint||(t.TensorBoardEntrypoint={})).prompt="prompt",n.codelens="codelens",n.palette="palette"},2810:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.containsNotebookExtension=t.containsTensorBoardImport=t.TorchProfilerImportRegEx=void 0;const r=n(3481);t.TorchProfilerImportRegEx=/^\s*(?:import (?:(\w+, )*torch\.profiler(, \w+)*))|(?:from torch import (?:(\w+, )*profiler(, \w+)*))/;const i=/^\s*(?:from torch\.utils\.tensorboard import \w+)|(?:from torch\.utils import (?:(\w+, )*tensorboard(, \w+)*))|(?:from tensorboardX import \w+)|(?:import (\w+, )*((torch\.utils\.tensorboard)|(tensorboardX)|(tensorboard))(, \w+)*)/;t.containsTensorBoardImport=function(e){try{for(const n of e)if(n&&(i.test(n)||t.TorchProfilerImportRegEx.test(n)))return!0}catch(e){(0,r.noop)()}return!1},t.containsNotebookExtension=function(e){for(const t of e)if((null==t?void 0:t.startsWith("%tensorboard"))||(null==t?void 0:t.startsWith("%load_ext tensorboard")))return!0;return!1}},87401:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TensorBoardNbextensionCodeLensProvider=void 0;const o=n(86700),s=n(96486),a=n(66828),c=n(77570),u=n(61684),l=n(67098),d=n(54813),p=n(61522),h=n(68329),f=n(2810);let g=class{constructor(e){this.disposables=e,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1},this.sendTelemetryOnce=(0,s.once)(d.sendTelemetryEvent.bind(this,p.EventName.TENSORBOARD_ENTRYPOINT_SHOWN,void 0,{trigger:h.TensorBoardEntrypointTrigger.nbextension,entrypoint:h.TensorBoardEntrypoint.codelens}))}async activate(){this.activateInternal().ignoreErrors()}async activateInternal(){this.disposables.push(a.languages.registerCodeLensProvider([{scheme:c.NotebookCellScheme,language:c.PYTHON_LANGUAGE},{scheme:"vscode-notebook",language:c.PYTHON_LANGUAGE}],this))}provideCodeLenses(e,t){const n={title:l.TensorBoard.launchNativeTensorBoardSessionCodeLens,command:c.Commands.LaunchTensorBoard,arguments:[{trigger:h.TensorBoardEntrypointTrigger.nbextension,entrypoint:h.TensorBoardEntrypoint.codelens}]},r=[];for(let i=0;i<e.lineCount;i+=1){if(t.isCancellationRequested)return r;const o=e.lineAt(i);if((0,f.containsNotebookExtension)([o.text])){const e=new a.Range(new a.Position(o.lineNumber,0),new a.Position(o.lineNumber,1));r.push(new a.CodeLens(e,n)),this.sendTelemetryOnce()}}return r}};g=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IDisposableRegistry))],g),t.TensorBoardNbextensionCodeLensProvider=g},94611:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(90819),i=n(42540),o=n(18675),s=n(17950),a=n(68291),c=n(23968),u=n(87401),l=n(12074);t.registerTypes=function(e){e.addSingleton(c.TensorBoardSessionProvider,c.TensorBoardSessionProvider),e.addBinding(c.TensorBoardSessionProvider,r.IExtensionSingleActivationService),e.addSingleton(o.TensorBoardFileWatcher,o.TensorBoardFileWatcher),e.addBinding(o.TensorBoardFileWatcher,r.IExtensionSingleActivationService),e.addSingleton(a.TensorBoardPrompt,a.TensorBoardPrompt),e.addSingleton(r.IExtensionSingleActivationService,s.TensorBoardUsageTracker),e.addSingleton(i.TensorBoardImportCodeLensProvider,i.TensorBoardImportCodeLensProvider),e.addBinding(i.TensorBoardImportCodeLensProvider,r.IExtensionSingleActivationService),e.addSingleton(u.TensorBoardNbextensionCodeLensProvider,u.TensorBoardNbextensionCodeLensProvider),e.addBinding(u.TensorBoardNbextensionCodeLensProvider,r.IExtensionSingleActivationService),e.addSingleton(r.IExtensionSingleActivationService,l.TerminalWatcher)}},18675:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TensorBoardFileWatcher=void 0;const o=n(86700),s=n(66828),a=n(17585),c=n(61684),u=n(68329),l=n(68291);let d=class{constructor(e,t,n){this.workspaceService=e,this.tensorBoardPrompt=t,this.disposables=n,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1},this.fileSystemWatchers=new Map,this.globPatterns=["*tfevents*","*/*tfevents*","*/*/*tfevents*"]}async activate(){this.activateInternal().ignoreErrors()}async activateInternal(){const e=this.workspaceService.workspaceFolders;if(e){for(const t of e)this.createFileSystemWatcher(t);this.disposables.push(this.workspaceService.onDidChangeWorkspaceFolders((e=>this.updateFileSystemWatchers(e))))}}async updateFileSystemWatchers(e){for(const t of e.added)this.createFileSystemWatcher(t);for(const t of e.removed){const e=this.fileSystemWatchers.get(t);e&&(e.forEach((e=>e.dispose())),this.fileSystemWatchers.delete(t))}}createFileSystemWatcher(e){const t=[];for(const n of this.globPatterns){const r=new s.RelativePattern(e,n),i=this.workspaceService.createFileSystemWatcher(r);this.disposables.push(i.onDidCreate((()=>this.tensorBoardPrompt.showNativeTensorBoardPrompt(u.TensorBoardEntrypointTrigger.tfeventfiles)))),this.disposables.push(i.onDidChange((()=>this.tensorBoardPrompt.showNativeTensorBoardPrompt(u.TensorBoardEntrypointTrigger.tfeventfiles)))),this.disposables.push(i),t.push(i)}this.fileSystemWatchers.set(e,t)}};d=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IWorkspaceService)),i(1,(0,o.inject)(l.TensorBoardPrompt)),i(2,(0,o.inject)(c.IDisposableRegistry))],d),t.TensorBoardFileWatcher=d},42540:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TensorBoardImportCodeLensProvider=void 0;const o=n(86700),s=n(96486),a=n(66828),c=n(77570),u=n(61684),l=n(67098),d=n(54813),p=n(61522),h=n(68329),f=n(2810);let g=class{constructor(e){this.disposables=e,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1},this.sendTelemetryOnce=(0,s.once)(d.sendTelemetryEvent.bind(this,p.EventName.TENSORBOARD_ENTRYPOINT_SHOWN,void 0,{trigger:h.TensorBoardEntrypointTrigger.fileimport,entrypoint:h.TensorBoardEntrypoint.codelens}))}async activate(){this.activateInternal().ignoreErrors()}provideCodeLenses(e,t){const n={title:l.TensorBoard.launchNativeTensorBoardSessionCodeLens,command:c.Commands.LaunchTensorBoard,arguments:[{trigger:h.TensorBoardEntrypointTrigger.fileimport,entrypoint:h.TensorBoardEntrypoint.codelens}]},r=[];for(let i=0;i<e.lineCount;i+=1){if(t.isCancellationRequested)return r;const o=e.lineAt(i);if((0,f.containsTensorBoardImport)([o.text])){const e=new a.Range(new a.Position(o.lineNumber,0),new a.Position(o.lineNumber,1));r.push(new a.CodeLens(e,n)),this.sendTelemetryOnce()}}return r}async activateInternal(){this.disposables.push(a.languages.registerCodeLensProvider(c.PYTHON,this))}};g=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IDisposableRegistry))],g),t.TensorBoardImportCodeLensProvider=g},68291:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TensorBoardPrompt=void 0;const o=n(86700),s=n(96486),a=n(17585),c=n(77570),u=n(61684),l=n(67098),d=n(54813),p=n(61522),h=n(68329);var f;!function(e){e.ShowNativeTensorBoardPrompt="showNativeTensorBoardPrompt"}(f||(f={}));let g=class{constructor(e,t,n){this.applicationShell=e,this.commandManager=t,this.persistentStateFactory=n,this.enabledInCurrentSession=!0,this.waitingForUserSelection=!1,this.sendTelemetryOnce=(0,s.once)((e=>{(0,d.sendTelemetryEvent)(p.EventName.TENSORBOARD_ENTRYPOINT_SHOWN,void 0,{entrypoint:h.TensorBoardEntrypoint.prompt,trigger:e})})),this.state=this.persistentStateFactory.createWorkspacePersistentState(f.ShowNativeTensorBoardPrompt,!0),this.enabled=this.isPromptEnabled()}async showNativeTensorBoardPrompt(e){if(this.enabled&&this.enabledInCurrentSession&&!this.waitingForUserSelection){const t=l.Common.bannerLabelYes,n=l.Common.bannerLabelNo,r=l.Common.doNotShowAgain,i=[t,n,r];this.waitingForUserSelection=!0,this.sendTelemetryOnce(e);const o=await this.applicationShell.showInformationMessage(l.TensorBoard.nativeTensorBoardPrompt,...i);this.waitingForUserSelection=!1,this.enabledInCurrentSession=!1;let s=h.TensorBoardPromptSelection.None;switch(o){case t:s=h.TensorBoardPromptSelection.Yes,await this.commandManager.executeCommand(c.Commands.LaunchTensorBoard,h.TensorBoardEntrypoint.prompt,e);break;case r:s=h.TensorBoardPromptSelection.DoNotAskAgain,await this.disablePrompt();break;case n:s=h.TensorBoardPromptSelection.No}(0,d.sendTelemetryEvent)(p.EventName.TENSORBOARD_LAUNCH_PROMPT_SELECTION,void 0,{selection:s})}}isPromptEnabled(){return this.state.value}async disablePrompt(){await this.state.updateValue(!1)}};g=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IApplicationShell)),i(1,(0,o.inject)(a.ICommandManager)),i(2,(0,o.inject)(u.IPersistentStateFactory))],g),t.TensorBoardPrompt=g},30094:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TensorBoardSession=void 0;const r=n(55674),i=n(71017),o=n(66828),s=n(18472),a=n(29979),c=n(4057),u=n(61684),l=n(59314),d=n(67098),p=n(70057),h=n(54813),f=n(61522),g=n(15036),m=n(68329),v=n(59747),y=n(19735),b=s.loadMessageBundle();var S;!function(e){e.JumpToSource="jump_to_source"}(S||(S={}));const _=">= 2.4.1",E=">= 0.2.0";t.TensorBoardSession=class{constructor(e,t,n,r,i,s,a,c,u){this.installer=e,this.interpreterService=t,this.workspaceService=n,this.pythonExecFactory=r,this.commandManager=i,this.disposables=s,this.applicationShell=a,this.globalMemento=c,this.multiStepFactory=u,this._active=!1,this.onDidChangeViewStateEventEmitter=new o.EventEmitter,this.onDidDisposeEventEmitter=new o.EventEmitter}get panel(){return this.webviewPanel}get daemon(){return this.process}get onDidDispose(){return this.onDidDisposeEventEmitter.event}get onDidChangeViewState(){return this.onDidChangeViewStateEventEmitter.event}get active(){return this._active}async refresh(){this.webviewPanel&&(this.webviewPanel.webview.html="",this.webviewPanel.webview.html=await this.getHtml())}async initialize(){const e=new p.StopWatch;if(!await this.ensurePrerequisitesAreInstalled())return;const t=await this.getLogDirectory();t&&(await this.startTensorboardSession(t)&&(await this.showPanel(),(0,h.sendTelemetryEvent)(f.EventName.TENSORBOARD_SESSION_E2E_STARTUP_DURATION,e.elapsedTime)),this.sessionDurationStopwatch=new p.StopWatch)}async promptToInstall(e,t){(0,h.sendTelemetryEvent)(f.EventName.TENSORBOARD_INSTALL_PROMPT_SHOWN);const n=d.Common.bannerLabelYes,r=d.Common.bannerLabelNo,i=e===u.ProductInstallStatus.NeedsUpgrade;let o;o=e===u.ProductInstallStatus.Installed&&t!==u.ProductInstallStatus.Installed?d.TensorBoard.installProfilerPluginPrompt:t!==u.ProductInstallStatus.Installed?d.TensorBoard.installTensorBoardAndProfilerPluginPrompt:i?d.TensorBoard.upgradePrompt:d.TensorBoard.installPrompt;const s=await this.applicationShell.showErrorMessage(o,n,r);let a=m.TensorBoardPromptSelection.None;return s===n?a=m.TensorBoardPromptSelection.Yes:s===r&&(a=m.TensorBoardPromptSelection.No),(0,h.sendTelemetryEvent)(f.EventName.TENSORBOARD_INSTALL_PROMPT_SELECTION,void 0,{selection:a,operationType:i?"upgrade":"install"}),s}async ensurePrerequisitesAreInstalled(){(0,y.traceInfo)("Ensuring TensorBoard package is installed into active interpreter");const e=await this.interpreterService.getActiveInterpreter()||await this.commandManager.executeCommand("python.setInterpreter");if(!e)return!1;let[t,n]=await Promise.all([this.installer.isProductVersionCompatible(u.Product.tensorboard,_,e),this.installer.isProductVersionCompatible(u.Product.torchProfilerImportName,E,e)]);const r=g.ImportTracker.hasModuleImport("torch"),i=t!==u.ProductInstallStatus.Installed,s=n!==u.ProductInstallStatus.Installed;if(r&&!i&&!s||!r&&t===u.ProductInstallStatus.Installed)return!0;const c=await this.promptToInstall(t,r?n:u.ProductInstallStatus.Installed);if(c!==d.Common.bannerLabelYes&&!i)return!0;if(c!==d.Common.bannerLabelYes)return!1;const l=(new o.CancellationTokenSource).token,p=(0,a.createPromiseFromCancellation)({cancelAction:"resolve",defaultValue:u.InstallerResponse.Ignore,token:l}),m=[];return i&&m.push(this.installer.install(u.Product.tensorboard,e,l,t===u.ProductInstallStatus.NeedsUpgrade?v.ModuleInstallFlags.upgrade:void 0)),r&&s&&m.push(this.installer.install(u.Product.torchProfilerInstallName,e,l,n===u.ProductInstallStatus.NeedsUpgrade?v.ModuleInstallFlags.upgrade:void 0)),await Promise.race([...m,p]),[t,n]=await Promise.all([this.installer.isProductVersionCompatible(u.Product.tensorboard,_,e),this.installer.isProductVersionCompatible(u.Product.torchProfilerImportName,E,e)]),(0,h.sendTelemetryEvent)(f.EventName.TENSORBOARD_PACKAGE_INSTALL_RESULT,void 0,{wasTensorBoardAttempted:i,wasProfilerPluginAttempted:s,wasTensorBoardInstalled:t===u.ProductInstallStatus.Installed,wasProfilerPluginInstalled:n===u.ProductInstallStatus.Installed}),r&&n!==u.ProductInstallStatus.Installed&&(0,y.traceError)("Failed to install torch-tb-plugin. Profiler plugin will not appear in TensorBoard session."),t===u.ProductInstallStatus.Installed}async showFilePicker(){const e=await this.applicationShell.showOpenDialog({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1});if(e)return e[0].fsPath}getQuickPickItems(e){const t=[];if(e){const e={label:d.TensorBoard.useCurrentWorkingDirectory,detail:d.TensorBoard.useCurrentWorkingDirectoryDetail},n={label:d.TensorBoard.selectAnotherFolder,detail:d.TensorBoard.selectAnotherFolderDetail};t.push(e,n)}else{const e={label:d.TensorBoard.selectAFolder,detail:d.TensorBoard.selectAFolderDetail};t.push(e)}return t.push({label:d.TensorBoard.enterRemoteUrl,detail:d.TensorBoard.enterRemoteUrlDetail}),t}async getLogDirectory(){const e=this.workspaceService.getConfiguration("python.tensorBoard").get("logDirectory");if(e)return(0,y.traceInfo)(`Using log directory specified by python.tensorBoard.logDirectory setting: ${e}`),e;const t=this.autopopulateLogDirectoryPath(),{useCurrentWorkingDirectory:n}=d.TensorBoard,{selectAFolder:r}=d.TensorBoard,{selectAnotherFolder:i}=d.TensorBoard,{enterRemoteUrl:o}=d.TensorBoard,s=this.getQuickPickItems(t),a=await this.applicationShell.showQuickPick(s,{canPickMany:!1,ignoreFocusOut:!1,placeHolder:t?b("TensorBoard.currentDirectory","Current: {0}",t):void 0});switch(null==a?void 0:a.label){case n:return t;case r:case i:return this.showFilePicker();case o:return this.applicationShell.showInputBox({prompt:d.TensorBoard.enterRemoteUrlDetail});default:return}}async startTensorboardSession(e){const t=await this.interpreterService.getActiveInterpreter();if(!t)return!1;const n={title:d.TensorBoard.progressMessage,location:o.ProgressLocation.Notification,cancellable:!0},r=await this.pythonExecFactory.createActivatedEnvironment({allowEnvironmentFetchExceptions:!0,interpreter:t}),i=(0,c.tensorboardLauncher)([e]),s=new p.StopWatch,u=r.execObservable(i,{}),g=await this.applicationShell.withProgress(n,((t,n)=>{(0,y.traceInfo)(`Starting TensorBoard with log directory ${e}...`);const r=this.waitForTensorBoardStart(u),i=(0,a.createPromiseFromCancellation)({token:n,cancelAction:"resolve",defaultValue:"canceled"});return Promise.race([(0,l.sleep)(6e4),r,i])}));switch(g){case"canceled":return(0,y.traceInfo)("Canceled starting TensorBoard session."),(0,h.sendTelemetryEvent)(f.EventName.TENSORBOARD_SESSION_DAEMON_STARTUP_DURATION,s.elapsedTime,{result:m.TensorBoardSessionStartResult.cancel}),u.dispose(),!1;case"success":return this.process=u.proc,(0,h.sendTelemetryEvent)(f.EventName.TENSORBOARD_SESSION_DAEMON_STARTUP_DURATION,s.elapsedTime,{result:m.TensorBoardSessionStartResult.success}),!0;case 6e4:throw(0,h.sendTelemetryEvent)(f.EventName.TENSORBOARD_SESSION_DAEMON_STARTUP_DURATION,s.elapsedTime,{result:m.TensorBoardSessionStartResult.error}),new Error("Timed out after 60 seconds waiting for TensorBoard to launch.");default:throw new Error(`Failed to start TensorBoard, received unknown promise result: ${g}`)}}async waitForTensorBoardStart(e){const t=(0,l.createDeferred)();return e.out.subscribe({next:e=>{if("stdout"===e.source){const n=e.out.match(/TensorBoard started at (.*)/);n&&n[1]&&(this.url=n[1],t.resolve("success")),(0,y.traceInfo)(e.out)}else"stderr"===e.source&&(0,y.traceError)(e.out)},error:e=>{(0,y.traceError)(e)}}),t.promise}async showPanel(){(0,y.traceInfo)("Showing TensorBoard panel"),(this.webviewPanel||await this.createPanel()).reveal(),this._active=!0,this.onDidChangeViewStateEventEmitter.fire()}async createPanel(){const e=o.window.createWebviewPanel("tensorBoardSession","TensorBoard",this.globalMemento.value,{enableScripts:!0,retainContextWhenHidden:!0});return e.webview.html=await this.getHtml(),this.webviewPanel=e,this.disposables.push(e.onDidDispose((()=>{var e,t;this.webviewPanel=void 0,null===(e=this.process)||void 0===e||e.kill(),(0,h.sendTelemetryEvent)(f.EventName.TENSORBOARD_SESSION_DURATION,null===(t=this.sessionDurationStopwatch)||void 0===t?void 0:t.elapsedTime),this.process=void 0,this._active=!1,this.onDidDisposeEventEmitter.fire(this)}))),this.disposables.push(e.onDidChangeViewState((async t=>{var n;this.active&&t.webviewPanel.active&&await this.globalMemento.updateValue(null!==(n=e.viewColumn)&&void 0!==n?n:o.ViewColumn.Active),this._active=t.webviewPanel.active,this.onDidChangeViewStateEventEmitter.fire()}))),this.disposables.push(e.webview.onDidReceiveMessage((e=>{e.command===S.JumpToSource&&this.jumpToSource(e.args.filename,e.args.line)}))),e}autopopulateLogDirectoryPath(){if(this.workspaceService.rootPath)return this.workspaceService.rootPath;const{activeTextEditor:e}=o.window;return e?i.dirname(e.document.uri.fsPath):void 0}async jumpToSource(e,t){let n;if((0,h.sendTelemetryEvent)(f.EventName.TENSORBOARD_JUMP_TO_SOURCE_REQUEST),r.existsSync(e))n=o.Uri.file(e);else{(0,h.sendTelemetryEvent)(f.EventName.TENSORBOARD_JUMP_TO_SOURCE_FILE_NOT_FOUND),(0,y.traceError)(`Requested jump to source filepath ${e} does not exist. Prompting user to select source file...`);const t=[{label:d.TensorBoard.selectMissingSourceFile,description:d.TensorBoard.selectMissingSourceFileDescription}],r=this.multiStepFactory.create();await r.run((async r=>{const i=await r.showQuickPick({items:t,title:d.TensorBoard.missingSourceFile,placeholder:e});switch(null==i?void 0:i.label){case d.TensorBoard.selectMissingSourceFile:{const e=await this.applicationShell.showOpenDialog({canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1});void 0!==e&&([n]=e);break}}}),{})}if(void 0===n)return;const i=await o.workspace.openTextDocument(n),s=await o.window.showTextDocument(i,o.ViewColumn.Beside);if(t<s.document.lineCount){const e=new o.Position(t,0),n=new o.Selection(e,s.document.lineAt(t).range.end);s.selection=n,s.revealRange(n,o.TextEditorRevealType.InCenterIfOutsideViewport)}}async getHtml(){const e=await o.env.asExternalUri(o.Uri.parse(this.url));return`<!DOCTYPE html>\n        <html lang="en">\n            <head>\n                <meta charset="UTF-8">\n                <meta http-equiv="Content-Security-Policy" content="default-src 'unsafe-inline'; frame-src ${e} http: https:;">\n                <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                <title>TensorBoard</title>\n            </head>\n            <body>\n                <script type="text/javascript">\n                    (function() {\n                        const vscode = acquireVsCodeApi();\n                        function resizeFrame() {\n                            var f = window.document.getElementById('vscode-tensorboard-iframe');\n                            if (f) {\n                                f.style.height = window.innerHeight / 0.8 + "px";\n                                f.style.width = window.innerWidth / 0.8 + "px";\n                            }\n                        }\n                        window.onload = function() {\n                            resizeFrame();\n                        }\n                        window.addEventListener('resize', resizeFrame);\n                        window.addEventListener('message', (event) => {\n                            if (!"${e}".startsWith(event.origin) || !event.data || !event.data.filename || !event.data.line) {\n                                return;\n                            }\n                            const args = { filename: event.data.filename, line: event.data.line };\n                            vscode.postMessage({ command: '${S.JumpToSource}', args: args });\n                        });\n                    }())\n                <\/script>\n                <iframe\n                    id="vscode-tensorboard-iframe"\n                    class="responsive-iframe"\n                    sandbox="allow-scripts allow-forms allow-same-origin allow-pointer-lock"\n                    src="${e}"\n                    frameborder="0"\n                    border="0"\n                    allowfullscreen\n                ></iframe>\n                <style>\n                    .responsive-iframe {\n                        transform: scale(0.8);\n                        transform-origin: 0 0;\n                        position: absolute;\n                        top: 0;\n                        left: 0;\n                        overflow: hidden;\n                        display: block;\n                        width: 100%;\n                        height: 100%;\n                    }\n                </style>\n            </body>\n        </html>`}}},23968:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TensorBoardSessionProvider=void 0;const o=n(86700),s=n(66828),a=n(18472),c=n(17585),u=n(77570),l=n(94316),d=n(29983),p=n(61684),h=n(22207),f=n(18639),g=n(19735),m=n(54813),v=n(61522),y=n(68329),b=n(30094),S=a.loadMessageBundle();let _=class{constructor(e,t,n,r,i,o,a,c,u){this.installer=e,this.interpreterService=t,this.applicationShell=n,this.workspaceService=r,this.commandManager=i,this.disposables=o,this.pythonExecFactory=a,this.stateFactory=c,this.multiStepFactory=u,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1},this.knownSessions=[],this.preferredViewGroupMemento=this.stateFactory.createGlobalPersistentState("PythonTensorBoardWebviewPreferredViewGroup",s.ViewColumn.Active),this.hasActiveTensorBoardSessionContext=new l.ContextKey("python.hasActiveTensorBoardSession",this.commandManager)}async activate(){this.disposables.push(this.commandManager.registerCommand(u.Commands.LaunchTensorBoard,((e=y.TensorBoardEntrypoint.palette,t=y.TensorBoardEntrypointTrigger.palette)=>((0,m.sendTelemetryEvent)(v.EventName.TENSORBOARD_SESSION_LAUNCH,void 0,{trigger:t,entrypoint:e}),this.createNewSession()))),this.commandManager.registerCommand(u.Commands.RefreshTensorBoard,(()=>this.knownSessions.map((e=>e.refresh())))))}async updateTensorBoardSessionContext(){let e=!1;this.knownSessions.forEach((t=>{t.active&&(e=!0)})),await this.hasActiveTensorBoardSessionContext.set(e)}async didDisposeSession(e){this.knownSessions=this.knownSessions.filter((t=>t!==e)),this.updateTensorBoardSessionContext()}async createNewSession(){(0,g.traceInfo)("Starting new TensorBoard session...");try{const e=new b.TensorBoardSession(this.installer,this.interpreterService,this.workspaceService,this.pythonExecFactory,this.commandManager,this.disposables,this.applicationShell,this.preferredViewGroupMemento,this.multiStepFactory);return e.onDidChangeViewState((()=>this.updateTensorBoardSessionContext()),this,this.disposables),e.onDidDispose((e=>this.didDisposeSession(e)),this,this.disposables),this.knownSessions.push(e),await e.initialize(),e}catch(e){(0,g.traceError)(`Encountered error while starting new TensorBoard session: ${e}`),await this.applicationShell.showErrorMessage(S("TensorBoard.failedToStartSessionError","We failed to start a TensorBoard session due to the following error: {0}",e.message))}}};_=r([(0,o.injectable)(),i(0,(0,o.inject)(p.IInstaller)),i(1,(0,o.inject)(f.IInterpreterService)),i(2,(0,o.inject)(c.IApplicationShell)),i(3,(0,o.inject)(c.IWorkspaceService)),i(4,(0,o.inject)(c.ICommandManager)),i(5,(0,o.inject)(p.IDisposableRegistry)),i(6,(0,o.inject)(d.IPythonExecutionFactory)),i(7,(0,o.inject)(p.IPersistentStateFactory)),i(8,(0,o.inject)(h.IMultiStepInputFactory))],_),t.TensorBoardSessionProvider=_},17950:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TensorBoardUsageTracker=void 0;const o=n(86700),s=n(71017),a=n(17585),c=n(77570),u=n(61684),l=n(15036),d=n(68329),p=n(2810),h=n(68291),f=(0,c.isTestExecution)();let g=class{constructor(e,t,n){this.documentManager=e,this.disposables=t,this.prompt=n,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1}}async activate(){f?await this.activateInternal():this.activateInternal().ignoreErrors()}async activateInternal(){this.onChangedActiveTextEditor(this.documentManager.activeTextEditor),this.documentManager.onDidChangeActiveTextEditor((e=>this.onChangedActiveTextEditor(e)),this,this.disposables)}onChangedActiveTextEditor(e){if(!e||!e.document)return;const{document:t}=e,n=s.extname(t.fileName).toLowerCase();if(".py"===n||".ipynb"===n&&"python"===t.languageId){const e=(0,l.getDocumentLines)(t);(0,p.containsTensorBoardImport)(e)&&this.prompt.showNativeTensorBoardPrompt(d.TensorBoardEntrypointTrigger.fileimport).ignoreErrors()}}};g=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IDocumentManager)),i(1,(0,o.inject)(u.IDisposableRegistry)),i(2,(0,o.inject)(h.TensorBoardPrompt))],g),t.TensorBoardUsageTracker=g},12074:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalWatcher=void 0;const o=n(86700),s=n(66828),a=n(61684),c=n(54813),u=n(61522);let l=class{constructor(e){this.disposables=e,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1}}async activate(){const e=setInterval((()=>{s.window.terminals.filter((e=>"tensorboard"===e.name)).length>0&&((0,c.sendTelemetryEvent)(u.EventName.TENSORBOARD_DETECTED_IN_INTEGRATED_TERMINAL),clearInterval(e))}),3e5);this.handle=e,this.disposables.push(this)}dispose(){this.handle&&clearInterval(this.handle)}};l=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IDisposableRegistry))],l),t.TerminalWatcher=l},98383:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalAutoActivation=void 0;const o=n(86700),s=n(66828),a=n(17585),c=n(58400),u=n(61684);let l=class{constructor(e,t,n,r){this.terminalManager=e,this.activator=n,this.activeResourceService=r,this.terminalsNotToAutoActivate=new WeakSet,t.push(this)}dispose(){this.handler&&(this.handler.dispose(),this.handler=void 0)}register(){this.handler||(this.handler=this.terminalManager.onDidOpenTerminal(this.activateTerminal,this))}disableAutoActivation(e){this.terminalsNotToAutoActivate.add(e)}async activateTerminal(e){if(this.terminalsNotToAutoActivate.has(e))return;if("hideFromUser"in e.creationOptions&&e.creationOptions.hideFromUser)return;const t="cwd"in e.creationOptions?e.creationOptions.cwd:this.activeResourceService.getActiveResource(),n="string"==typeof t?s.Uri.file(t):t;await this.activator.activateEnvironmentInTerminal(e,{resource:n})}};l=r([(0,o.injectable)(),i(0,(0,o.inject)(a.ITerminalManager)),i(1,(0,o.inject)(u.IDisposableRegistry)),i(2,(0,o.inject)(c.ITerminalActivator)),i(3,(0,o.inject)(a.IActiveResourceService))],l),t.TerminalAutoActivation=l},19645:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeExecutionManager=void 0;const o=n(86700),s=n(66828),a=n(17585),c=n(77570);n(32727);const u=n(84974),l=n(61684),d=n(3481),p=n(18639),h=n(77498),f=n(19735),g=n(54813),m=n(61522),v=n(43200);let y=class{constructor(e,t,n,r,i,o){this.commandManager=e,this.documentManager=t,this.disposableRegistry=n,this.fileSystem=r,this.configSettings=i,this.serviceContainer=o,this.eventEmitter=new s.EventEmitter}get onExecutedCode(){return this.eventEmitter.event}registerCommands(){[c.Commands.Exec_In_Terminal,c.Commands.Exec_In_Terminal_Icon].forEach((e=>{this.disposableRegistry.push(this.commandManager.registerCommand(e,(async t=>{const n=this.serviceContainer.get(p.IInterpreterService);if(!await n.getActiveInterpreter(t))return void this.commandManager.executeCommand(c.Commands.TriggerEnvironmentSelection,t).then(d.noop,d.noop);const r=e===c.Commands.Exec_In_Terminal?"command":"icon";await this.executeFileInTerminal(t,r).then((()=>{this.shouldTerminalFocusOnStart(t)&&this.commandManager.executeCommand("workbench.action.terminal.focus")})).catch((e=>(0,f.traceError)("Failed to execute file in terminal",e)))})))})),this.disposableRegistry.push(this.commandManager.registerCommand(c.Commands.Exec_Selection_In_Terminal,(async e=>{const t=this.serviceContainer.get(p.IInterpreterService);await t.getActiveInterpreter(e)?await this.executeSelectionInTerminal().then((()=>{this.shouldTerminalFocusOnStart(e)&&this.commandManager.executeCommand("workbench.action.terminal.focus")})):this.commandManager.executeCommand(c.Commands.TriggerEnvironmentSelection,e).then(d.noop,d.noop)}))),this.disposableRegistry.push(this.commandManager.registerCommand(c.Commands.Exec_Selection_In_Django_Shell,(async e=>{const t=this.serviceContainer.get(p.IInterpreterService);await t.getActiveInterpreter(e)?await this.executeSelectionInDjangoShell().then((()=>{this.shouldTerminalFocusOnStart(e)&&this.commandManager.executeCommand("workbench.action.terminal.focus")})):this.commandManager.executeCommand(c.Commands.TriggerEnvironmentSelection,e).then(d.noop,d.noop)})))}async executeFileInTerminal(e,t){(0,g.sendTelemetryEvent)(m.EventName.EXECUTION_CODE,void 0,{scope:"file",trigger:t});const n=this.serviceContainer.get(v.ICodeExecutionHelper),r=(e=e instanceof s.Uri?e:void 0)||await n.getFileToExecute();if(!r)return;await n.saveFileIfDirty(r);try{const e=await this.fileSystem.readFile(r.fsPath);this.eventEmitter.fire(e)}catch(e){(0,d.noop)()}const i=this.serviceContainer.get(v.ICodeExecutionService,"standard");await i.executeFile(r)}async executeSelectionInTerminal(){const e=this.serviceContainer.get(v.ICodeExecutionService,"standard");await this.executeSelection(e)}async executeSelectionInDjangoShell(){const e=this.serviceContainer.get(v.ICodeExecutionService,"djangoShell");await this.executeSelection(e)}async executeSelection(e){const t=this.documentManager.activeTextEditor;if(!t)return;const n=this.serviceContainer.get(v.ICodeExecutionHelper),r=await n.getSelectedTextToExecute(t),i=await n.normalizeLines(r);if(i&&0!==i.trim().length){try{this.eventEmitter.fire(i)}catch(e){(0,d.noop)()}await e.execute(i,t.document.uri)}}shouldTerminalFocusOnStart(e){var t;return null===(t=this.configSettings.getSettings(e))||void 0===t?void 0:t.terminal.focusAfterLaunch}};r([(0,g.captureTelemetry)(m.EventName.EXECUTION_CODE,{scope:"selection"},!1)],y.prototype,"executeSelectionInTerminal",null),r([(0,g.captureTelemetry)(m.EventName.EXECUTION_DJANGO,{scope:"selection"},!1)],y.prototype,"executeSelectionInDjangoShell",null),y=r([(0,o.injectable)(),i(0,(0,o.inject)(a.ICommandManager)),i(1,(0,o.inject)(a.IDocumentManager)),i(2,(0,o.inject)(l.IDisposableRegistry)),i(3,(0,o.inject)(u.IFileSystem)),i(4,(0,o.inject)(l.IConfigurationService)),i(5,(0,o.inject)(h.IServiceContainer))],y),t.CodeExecutionManager=y},20130:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.DjangoContextInitializer=void 0;const i=n(86700),o=n(71017),s=n(94316),a=n(19735);let c=class{constructor(e,t,n,r){this.documentManager=e,this.workpaceService=t,this.fileSystem=n,this.monitoringActiveTextEditor=!1,this.workspaceContextKeyValues=new Map,this.lastCheckedWorkspace="",this.disposables=[],this.isDjangoProject=new s.ContextKey("python.isDjangoProject",r),this.ensureContextStateIsSet().catch((e=>(0,a.traceError)("Python Extension: ensureState",e))),this.disposables.push(this.workpaceService.onDidChangeWorkspaceFolders((()=>this.updateContextKeyBasedOnActiveWorkspace())))}dispose(){this.disposables.forEach((e=>e.dispose()))}updateContextKeyBasedOnActiveWorkspace(){this.monitoringActiveTextEditor||(this.monitoringActiveTextEditor=!0,this.disposables.push(this.documentManager.onDidChangeActiveTextEditor((()=>this.ensureContextStateIsSet()))))}getActiveWorkspace(){if(!Array.isArray(this.workpaceService.workspaceFolders)||0===this.workpaceService.workspaceFolders.length)return;if(1===this.workpaceService.workspaceFolders.length)return this.workpaceService.workspaceFolders[0].uri.fsPath;const e=this.documentManager.activeTextEditor;if(!e)return;const t=this.workpaceService.getWorkspaceFolder(e.document.uri);return t?t.uri.fsPath:void 0}async ensureContextStateIsSet(){const e=this.getActiveWorkspace();if(!e)return this.isDjangoProject.set(!1);if(this.lastCheckedWorkspace!==e)if(this.workspaceContextKeyValues.has(e))await this.isDjangoProject.set(this.workspaceContextKeyValues.get(e));else{const t=await this.fileSystem.fileExists(o.join(e,"manage.py"));await this.isDjangoProject.set(t),this.workspaceContextKeyValues.set(e,t),this.lastCheckedWorkspace=e}}};c=r([(0,i.injectable)()],c),t.DjangoContextInitializer=c},80710:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DjangoShellCodeExecutionProvider=void 0;const o=n(86700),s=n(71017),a=n(17585);n(32727);const c=n(84974),u=n(58400),l=n(61684),d=n(18639),p=n(24708),h=n(20130),f=n(96524);let g=class extends f.TerminalCodeExecutionProvider{constructor(e,t,n,r,i,o,s,a,c){super(e,t,n,a,i,c),this.terminalTitle="Django Shell",a.push(new h.DjangoContextInitializer(r,n,s,o))}async getExecutableInfo(e,t=[]){const n=await super.getExecutableInfo(e,t),r=e?this.workspace.getWorkspaceFolder(e):void 0,i=Array.isArray(this.workspace.workspaceFolders)&&this.workspace.workspaceFolders.length>0?this.workspace.workspaceFolders[0].uri.fsPath:"",o=r?r.uri.fsPath:i,a=0===o.length?"manage.py":s.join(o,"manage.py");return(0,p.copyPythonExecInfo)(n,[a.fileToCommandArgumentForPythonExt(),"shell"])}async getExecuteFileArgs(e,t=[]){const n=await super.getExecutableInfo(e);return(0,p.copyPythonExecInfo)(n,t)}};g=r([(0,o.injectable)(),i(0,(0,o.inject)(u.ITerminalServiceFactory)),i(1,(0,o.inject)(l.IConfigurationService)),i(2,(0,o.inject)(a.IWorkspaceService)),i(3,(0,o.inject)(a.IDocumentManager)),i(4,(0,o.inject)(c.IPlatformService)),i(5,(0,o.inject)(a.ICommandManager)),i(6,(0,o.inject)(c.IFileSystem)),i(7,(0,o.inject)(l.IDisposableRegistry)),i(8,(0,o.inject)(d.IInterpreterService))],g),t.DjangoShellCodeExecutionProvider=g},50773:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CodeExecutionHelper=void 0,n(32727);const o=n(86700),s=n(66828),a=n(18472),c=n(17585),u=n(77570),l=n(4057),d=n(29983),p=n(59314),h=n(18639),f=n(77498),g=n(19735),m=a.loadMessageBundle();let v=class{constructor(e){this.documentManager=e.get(c.IDocumentManager),this.applicationShell=e.get(c.IApplicationShell),this.processServiceFactory=e.get(d.IProcessServiceFactory),this.interpreterService=e.get(h.IInterpreterService)}async normalizeLines(e,t){var n,r,i,o;try{if(0===e.trim().length)return"";e=e.replace(new RegExp("\\r","g"),"");const s=await this.interpreterService.getActiveInterpreter(t),a=await this.processServiceFactory.create(t),[c,u]=l.normalizeSelection(),d=a.execObservable((null==s?void 0:s.path)||"python",c,{throwOnStdErr:!0}),h=(0,p.createDeferred)();let f="";d.out.subscribe({next:e=>{"stdout"===e.source&&(f+=e.out)},complete:()=>{h.resolve(f)}});const g=JSON.stringify({code:e});null===(r=null===(n=d.proc)||void 0===n?void 0:n.stdin)||void 0===r||r.write(g),null===(o=null===(i=d.proc)||void 0===i?void 0:i.stdin)||void 0===o||o.end();const m=await h.promise;return u(JSON.parse(m).normalized)}catch(t){return(0,g.traceError)(t,"Python: Failed to normalize code for execution in terminal"),e}}async getFileToExecute(){const e=this.documentManager.activeTextEditor;if(e)if(e.document.isUntitled)this.applicationShell.showErrorMessage(m("documentError.NoSaved","The active file needs to be saved before it can be run"));else{if(e.document.languageId===u.PYTHON_LANGUAGE)return e.document.isDirty&&await e.document.save(),e.document.uri;this.applicationShell.showErrorMessage(m("documentError.NotPythonFile","The active file is not a Python source file)"))}else this.applicationShell.showErrorMessage(m("documentError.Empty","No open file to run in terminal"))}async getSelectedTextToExecute(e){if(!e)return;const{selection:t}=e;let n;return n=t.isEmpty?e.document.lineAt(t.start.line).text:t.isSingleLine?function(e){const{selection:t}=e,n=new s.Range(t.start,t.end),r=e.document.getText(n),i=e.document.lineAt(t.start.line).text;return r.trim()===i.trim()?i:r}(e):function(e){const{selection:t}=e,n=new s.Range(t.start,t.end),r=e.document.getText(n),i=new s.Range(new s.Position(t.start.line,0),new s.Position(t.end.line,e.document.lineAt(t.end.line).text.length)),o=e.document.getText(i);if(r.trim()===o.trim())return o;const a=e.document.lineAt(t.start.line).text,c=new s.Range(t.start,new s.Position(t.start.line,a.length)),u=e.document.getText(c);return u.trimLeft()===a.trimLeft()?a+r.substr(u.length):r}(e),n}async saveFileIfDirty(e){const t=this.documentManager.textDocuments.filter((t=>t.uri.path===e.path));1===t.length&&t[0].isDirty&&await t[0].save()}};v=r([(0,o.injectable)(),i(0,(0,o.inject)(f.IServiceContainer))],v),t.CodeExecutionHelper=v},80055:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReplProvider=void 0;const o=n(86700),s=n(17585),a=n(84974),c=n(58400),u=n(61684),l=n(18639),d=n(96524);let p=class extends d.TerminalCodeExecutionProvider{constructor(e,t,n,r,i,o){super(e,t,n,r,i,o),this.terminalTitle="REPL"}};p=r([(0,o.injectable)(),i(0,(0,o.inject)(c.ITerminalServiceFactory)),i(1,(0,o.inject)(u.IConfigurationService)),i(2,(0,o.inject)(s.IWorkspaceService)),i(3,(0,o.inject)(u.IDisposableRegistry)),i(4,(0,o.inject)(a.IPlatformService)),i(5,(0,o.inject)(l.IInterpreterService))],p),t.ReplProvider=p},96524:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TerminalCodeExecutionProvider=void 0;const o=n(86700),s=n(71017),a=n(17585);n(32727);const c=n(84974),u=n(58400),l=n(61684),d=n(18639),p=n(24708);let h=class{constructor(e,t,n,r,i,o){this.terminalServiceFactory=e,this.configurationService=t,this.workspace=n,this.disposables=r,this.platformService=i,this.interpreterService=o,this.hasRanOutsideCurrentDrive=!1}async executeFile(e){await this.setCwdForFileExecution(e);const t=e.fsPath.fileToCommandArgumentForPythonExt(),{command:n,args:r}=await this.getExecuteFileArgs(e,[t]);await this.getTerminalService(e).sendCommand(n,r)}async execute(e,t){e&&0!==e.trim().length&&(await this.initializeRepl(),await this.getTerminalService(t).sendText(e))}async initializeRepl(e){this.replActive&&await this.replActive?await this._terminalService.show():(this.replActive=new Promise((async t=>{const n=await this.getExecutableInfo(e);await this.getTerminalService(e).sendCommand(n.command,n.args),setTimeout((()=>t(!0)),1e3)})),await this.replActive)}async getExecutableInfo(e,t=[]){var n;const r=this.configurationService.getSettings(e),i=await this.interpreterService.getActiveInterpreter(e),o=null!==(n=null==i?void 0:i.path)&&void 0!==n?n:r.pythonPath,s=this.platformService.isWindows?o.replace(/\\/g,"/"):o,a=r.terminal.launchArgs;return(0,p.buildPythonExecInfo)(s,[...a,...t])}async getExecuteFileArgs(e,t=[]){return this.getExecutableInfo(e,t)}getTerminalService(e){return this._terminalService||(this._terminalService=this.terminalServiceFactory.getTerminalService({resource:e,title:this.terminalTitle}),this.disposables.push(this._terminalService.onDidCloseTerminal((()=>{this.replActive=void 0})))),this._terminalService}async setCwdForFileExecution(e){if(!this.configurationService.getSettings(e).terminal.executeInFileDir)return;const t=s.dirname(e.fsPath);if(t.length>0){if(this.platformService.isWindows&&/[a-z]\:/i.test(t)){const n="string"==typeof this.workspace.rootPath?this.workspace.rootPath.replace(/\:.*/g,""):void 0,r=t.replace(/\:.*/g,"");(r!==n||this.hasRanOutsideCurrentDrive)&&(this.hasRanOutsideCurrentDrive=!0,await this.getTerminalService(e).sendText(`${r}:`))}await this.getTerminalService(e).sendText(`cd ${t.fileToCommandArgumentForPythonExt()}`)}}};h=r([(0,o.injectable)(),i(0,(0,o.inject)(u.ITerminalServiceFactory)),i(1,(0,o.inject)(l.IConfigurationService)),i(2,(0,o.inject)(a.IWorkspaceService)),i(3,(0,o.inject)(l.IDisposableRegistry)),i(4,(0,o.inject)(c.IPlatformService)),i(5,(0,o.inject)(d.IInterpreterService))],h),t.TerminalCodeExecutionProvider=h},73607:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(98383),i=n(19645),o=n(80710),s=n(50773),a=n(80055),c=n(96524),u=n(43200);t.registerTypes=function(e){e.addSingleton(u.ICodeExecutionHelper,s.CodeExecutionHelper),e.addSingleton(u.ICodeExecutionManager,i.CodeExecutionManager),e.addSingleton(u.ICodeExecutionService,o.DjangoShellCodeExecutionProvider,"djangoShell"),e.addSingleton(u.ICodeExecutionService,c.TerminalCodeExecutionProvider,"standard"),e.addSingleton(u.ICodeExecutionService,a.ReplProvider,"repl"),e.addSingleton(u.ITerminalAutoActivation,r.TerminalAutoActivation)}},43200:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITerminalAutoActivation=t.ICodeExecutionManager=t.ICodeExecutionHelper=t.ICodeExecutionService=void 0,t.ICodeExecutionService=Symbol("ICodeExecutionService"),t.ICodeExecutionHelper=Symbol("ICodeExecutionHelper"),t.ICodeExecutionManager=Symbol("ICodeExecutionManager"),t.ITerminalAutoActivation=Symbol("ITerminalAutoActivation")},81345:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferedTestConfigSettingsService=void 0,t.BufferedTestConfigSettingsService=class{constructor(){this.ops=[]}async updateTestArgs(e,t,n){return this.ops.push(["updateTestArgs",e,t,n]),Promise.resolve()}async enable(e,t){return this.ops.push(["enable",e,t,[]]),Promise.resolve()}async disable(e,t){return this.ops.push(["disable",e,t,[]]),Promise.resolve()}async apply(e){const{ops:t}=this;this.ops=[];for(const[n,r,i,o]of t)switch(n){case"updateTestArgs":await e.updateTestArgs(r,i,o);break;case"enable":await e.enable(r,i);break;case"disable":await e.disable(r,i)}return Promise.resolve()}getTestEnablingSetting(e){throw new Error("Method not implemented.")}}},96472:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TestConfigSettingsService=void 0;const o=n(86700),s=n(66828),a=n(17585),c=n(61684),u=n(77498);let l=class{constructor(e){this.workspaceService=e.get(a.IWorkspaceService)}async updateTestArgs(e,t,n){const r=this.getTestArgSetting(t);return this.updateSetting(e,r,n)}async enable(e,t){const n=this.getTestEnablingSetting(t);return this.updateSetting(e,n,!0)}async disable(e,t){const n=this.getTestEnablingSetting(t);return this.updateSetting(e,n,!1)}getTestEnablingSetting(e){switch(e){case c.Product.unittest:return"testing.unittestEnabled";case c.Product.pytest:return"testing.pytestEnabled";default:throw new Error("Invalid Test Product")}}getTestArgSetting(e){switch(e){case c.Product.unittest:return"testing.unittestArgs";case c.Product.pytest:return"testing.pytestArgs";default:throw new Error("Invalid Test Product")}}async updateSetting(e,t,n){var r;let i;const o="string"==typeof e?s.Uri.file(e):e;if(((null===(r=this.workspaceService.workspaceFolders)||void 0===r?void 0:r.length)||0)>0)if(1===this.workspaceService.workspaceFolders.length)i=this.workspaceService.getConfiguration("python",this.workspaceService.workspaceFolders[0].uri);else{const t=this.workspaceService.getWorkspaceFolder(o);if(!t)throw new Error(`Test directory does not belong to any workspace (${e})`);i=this.workspaceService.getConfiguration("python",t.uri)}else i=this.workspaceService.getConfiguration("python");return i.update(t,n)}};l=r([(0,o.injectable)(),i(0,(0,o.inject)(u.IServiceContainer))],l),t.TestConfigSettingsService=l},83194:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNITTEST_PROVIDER=t.PYTEST_PROVIDER=t.UNIT_TEST_PRODUCTS=void 0;const r=n(61684);t.UNIT_TEST_PRODUCTS=[r.Product.pytest,r.Product.unittest],t.PYTEST_PROVIDER="pytest",t.UNITTEST_PROVIDER="unittest"},57488:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DebugLauncher=void 0;const o=n(86700),s=n(71017),a=n(66828),c=n(17585),u=n(77570),l=n(4057),d=n(61684),p=n(51097),h=n(45093),f=n(7317),g=n(77498),m=n(19735),v=n(18472).loadMessageBundle();let y=class{constructor(e,t,n){this.serviceContainer=e,this.launchResolver=t,this.launchJsonReader=n,this.configService=this.serviceContainer.get(d.IConfigurationService),this.workspaceService=this.serviceContainer.get(c.IWorkspaceService)}async launchDebugger(e){if(e.token&&e.token.isCancellationRequested)return;const t=this.resolveWorkspaceFolder(e.cwd),n=await this.getLaunchArgs(e,t,this.configService.getSettings(t.uri)),r=this.serviceContainer.get(c.IDebugService);return r.startDebugging(t,n).then((()=>new Promise((e=>{r.onDidTerminateDebugSession((()=>{e()}))}))),(e=>(0,m.traceError)("Failed to start debugging tests",e)))}async readAllDebugConfigs(e){try{return await this.launchJsonReader.getConfigurationsForWorkspace(e)}catch(e){(0,m.traceError)("could not get debug config",e);const t=this.serviceContainer.get(c.IApplicationShell);return await t.showErrorMessage(v("readDebugError","Could not load unit test config from launch.json as it is missing a field")),[]}}resolveWorkspaceFolder(e){var t;if(!(((null===(t=this.workspaceService.workspaceFolders)||void 0===t?void 0:t.length)||0)>0))throw new Error("Please open a workspace");const n=e?a.Uri.file(e):void 0;let r=this.workspaceService.getWorkspaceFolder(n);return r||(r=this.workspaceService.workspaceFolders[0]),r}async getLaunchArgs(e,t,n){let r=await this.readDebugConfig(t);return r||(r={name:"Debug Unit Test",type:"python",request:"test",subProcess:!0}),r.rules||(r.rules=[]),r.rules.push({path:s.join(u.EXTENSION_ROOT_DIR,"pythonFiles"),include:!1}),this.applyDefaults(r,t,n),this.convertConfigToArgs(r,t,e)}async readDebugConfig(e){var t;const n=await this.readAllDebugConfigs(e);for(const e of n)if(e.name&&e.type===p.DebuggerTypeName&&("test"===e.request||(null===(t=e.purpose)||void 0===t?void 0:t.includes(f.DebugPurpose.DebugTest))))return e}applyDefaults(e,t,n){e.console||(e.console="internalConsole"),e.cwd||(e.cwd=t.uri.fsPath),e.env||(e.env={}),e.envFile||(e.envFile=n.envFile),void 0===e.stopOnEntry&&(e.stopOnEntry=!1),e.showReturnValue=!1!==e.showReturnValue,void 0===e.redirectOutput&&(e.redirectOutput=!0),void 0===e.debugStdLib&&(e.debugStdLib=!1),void 0===e.subProcess&&(e.subProcess=!0)}async convertConfigToArgs(e,t,n){const r=e,i=this.fixArgs(n.args,n.testProvider),o=this.getTestLauncherScript(n.testProvider)(i);r.program=o[0],r.args=o.slice(1);let s=await this.launchResolver.resolveDebugConfiguration(t,r,n.token);if(!s)throw Error(`Invalid debug config "${e.name}"`);if(s=await this.launchResolver.resolveDebugConfigurationWithSubstitutedVariables(t,s,n.token),!s)throw Error(`Invalid debug config "${e.name}"`);return s.request="launch",s.purpose=[],s}fixArgs(e,t){return"unittest"===t?e.filter((e=>"--debug"!==e)):e}getTestLauncherScript(e){switch(e){case"unittest":return l.visualstudio_py_testlauncher;case"pytest":return l.testlauncher;default:throw new Error(`Unknown test provider '${e}'`)}}};y=r([(0,o.injectable)(),i(0,(0,o.inject)(g.IServiceContainer)),i(1,(0,o.inject)(h.IDebugConfigurationResolver)),i(1,(0,o.named)("launch")),i(2,(0,o.inject)(h.ILaunchJsonReader))],y),t.DebugLauncher=y},57475:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TestRunner=void 0;const o=n(86700),s=n(71017),a=n(26804),c=n(97300),u=n(29983),l=n(61684),d=n(77498),p=n(83194),h=n(78308);let f=class{constructor(e){this.serviceContainer=e}run(e,t){return async function(e,t,n){const r=function(e,t){let n;if(e===p.PYTEST_PROVIDER)return n=t.testing.pytestPath,s.basename(n)===n?void 0:n}(t,e.get(l.IConfigurationService).getSettings(n.workspaceFolder)),i=function(e){switch(e){case p.PYTEST_PROVIDER:return"pytest";case p.UNITTEST_PROVIDER:return"unittest";default:throw new Error(`Test provider '${e}' not supported`)}}(t),o=n;let d,f;o.mergeStdOutErr="boolean"!=typeof o.mergeStdOutErr||o.mergeStdOutErr;const g=e.get(h.ITestsHelper),m={execPath:r,args:n.args,moduleName:r&&r.length>0?void 0:i,product:g.parseProduct(t)};return t===p.UNITTEST_PROVIDER?f=e.get(u.IPythonExecutionFactory).createActivatedEnvironment({resource:n.workspaceFolder}).then((e=>e.execObservable(n.args,{...o}))):"string"==typeof m.moduleName&&m.moduleName.length>0?(d=e.get(u.IPythonExecutionFactory).createActivatedEnvironment({resource:n.workspaceFolder}),f=d.then((e=>e.execModuleObservable(m.moduleName,m.args,n)))):f=e.get(u.IPythonToolExecutionService).execObservable(m,o,n.workspaceFolder),f.then((e=>new Promise(((t,r)=>{let o="",s="";e.out.subscribe((e=>{o+=e.out,"stderr"===e.source&&(s+=e.out),n.outChannel&&n.outChannel.append(e.out)}),r,(async()=>{if(i&&d&&a.ErrorUtils.outputHasModuleNotInstalledError(i,s)){const e=await d;if(!await e.isModuleInstalled(i))return r(new c.ModuleNotInstalledError(i))}t(o)}))}))))}(this.serviceContainer,e,t)}};f=r([(0,o.injectable)(),i(0,(0,o.inject)(d.IServiceContainer))],f),t.TestRunner=f},42035:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.UnitTestSocketServer=void 0;const i=n(82361),o=n(86700),s=n(41808),a=n(59314);let c=class extends i.EventEmitter{constructor(){super(),this.sockets=[],this.ipcBuffer=""}get clientsConnected(){return this.sockets.length>0}dispose(){this.stop()}stop(){this.server&&(this.server.close(),this.server=void 0)}start({port:e,host:t}={port:0,host:"localhost"}){var n;return this.ipcBuffer="",this.startedDef=(0,a.createDeferred)(),this.server=s.createServer(this.connectionListener.bind(this)),this.server.maxConnections=100,this.server.on("error",(e=>{this.startedDef&&(this.startedDef.reject(e),this.startedDef=void 0),this.emit("error",e)})),this.log("starting server as","TCP"),0===t.trim().length&&(t="localhost"),this.server.on("connection",(e=>{this.emit("start",e)})),this.server.listen(e,t,(()=>{var e,t;null===(e=this.startedDef)||void 0===e||e.resolve((null===(t=this.server)||void 0===t?void 0:t.address()).port),this.startedDef=void 0})),null===(n=this.startedDef)||void 0===n?void 0:n.promise}connectionListener(e){this.sockets.push(e),e.setEncoding("utf8"),this.log("## socket connection to server detected ##"),e.on("close",(()=>{this.ipcBuffer="",this.onCloseSocket()})),e.on("error",(e=>{this.log("server socket error",e),this.emit("error",e)})),e.on("data",(t=>{const n=e;let r=this.ipcBuffer+=t;for(;;){const e=r.indexOf("{");if(-1===e)return;const t=parseInt(r.slice(r.indexOf(":")+1,r.indexOf("{")).trim(),10);if(r.length<e+t)return;let i;try{i=JSON.parse(r.substring(e,t+e))}catch(e){return void this.emit("error",e)}r=this.ipcBuffer=r.substring(e+t),this.emit(i.event,i.body,n)}})),this.emit("connect",e)}log(e,...t){this.emit("log",e,...t)}onCloseSocket(){for(let e=0,t=this.sockets.length;e<t;e+=1){const t=this.sockets[e];if(t&&t.readable)continue;let n;return t.id&&(n=t.id),this.log("socket disconnected",n.toString()),t&&t.destroy&&t.destroy(),this.sockets.splice(e,1),void this.emit("socket.disconnected",t,n)}}};c=r([(0,o.injectable)()],c),t.UnitTestSocketServer=c},85494:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestConfigurationManager=void 0;const r=n(71017),i=n(17585),o=n(84974),s=n(61684),a=n(59314),c=n(19735),u=n(83194),l=n(78308);function d(){throw(0,c.traceInfo)("testing configuration (in UI) cancelled"),Error("cancelled")}t.TestConfigurationManager=class{constructor(e,t,n,r){this.workspace=e,this.product=t,this.serviceContainer=n,this.handleCancelled=d,this.installer=n.get(s.IInstaller),this.testConfigSettingsService=r||n.get(l.ITestConfigSettingsService)}async enable(){await Promise.all(u.UNIT_TEST_PRODUCTS.filter((e=>e!==this.product)).map((e=>this.testConfigSettingsService.disable(this.workspace,e)))),await this.testConfigSettingsService.enable(this.workspace,this.product)}async disable(){return this.testConfigSettingsService.enable(this.workspace,this.product)}selectTestDir(e,t,n=[]){let i=t.map((t=>{const n=r.relative(e,t);if(0!==n.indexOf("."))return{label:n,description:""}})).filter((e=>void 0!==e)).map((e=>e));return i=[{label:".",description:"Root directory"},...i],i=n.concat(i),this.showQuickPick(i,{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:"Select the directory containing the tests"})}selectTestFilePattern(){return this.showQuickPick([{label:"*test.py",description:"Python files ending with 'test'"},{label:"*_test.py",description:"Python files ending with '_test'"},{label:"test*.py",description:"Python files beginning with 'test'"},{label:"test_*.py",description:"Python files beginning with 'test_'"},{label:"*test*.py",description:"Python files containing the word 'test'"}],{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:"Select the pattern to identify test files"})}getTestDirs(e){return this.serviceContainer.get(o.IFileSystem).getSubDirectories(e).then((e=>{e.sort();const t=e.filter((e=>e.match(/test/i))),n=e.filter((e=>-1===t.indexOf(e)));return t.push(...n),t}))}showQuickPick(e,t){const n=(0,a.createDeferred)();return this.serviceContainer.get(i.IApplicationShell).showQuickPick(e,t).then((e=>{e?n.resolve(e.label):this.handleCancelled()})),n.promise}}},97395:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.TestsHelper=t.selectTestWorkspace=void 0;const i=n(86700),o=n(66828),s=n(61684);t.selectTestWorkspace=async function(e){if(Array.isArray(o.workspace.workspaceFolders)&&0!==o.workspace.workspaceFolders.length){if(1===o.workspace.workspaceFolders.length)return o.workspace.workspaceFolders[0].uri;{const t=await e.showWorkspaceFolderPick({placeHolder:"Select a workspace"});return t?t.uri:void 0}}};let a=class{parseProviderName(e){switch(e){case s.Product.pytest:return"pytest";case s.Product.unittest:return"unittest";default:throw new Error(`Unknown Test Product ${e}`)}}parseProduct(e){switch(e){case"pytest":return s.Product.pytest;case"unittest":return s.Product.unittest;default:throw new Error(`Unknown Test Provider ${e}`)}}getSettingsPropertyNames(e){switch(this.parseProviderName(e)){case"pytest":return{argsName:"pytestArgs",pathName:"pytestPath",enabledName:"pytestEnabled"};case"unittest":return{argsName:"unittestArgs",enabledName:"unittestEnabled"};default:throw new Error(`Unknown Test Provider '${e}'`)}}};a=r([(0,i.injectable)()],a),t.TestsHelper=a},78308:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ITestRunner=t.IUnitTestSocketServer=t.ITestDebugLauncher=t.ITestConfigurationManagerFactory=t.ITestConfigSettingsService=t.ITestConfigurationService=t.ITestsHelper=t.TestFilter=void 0,(n=t.TestFilter||(t.TestFilter={})).removeTests="removeTests",n.discovery="discovery",n.runAll="runAll",n.runSpecific="runSpecific",n.debugAll="debugAll",n.debugSpecific="debugSpecific",t.ITestsHelper=Symbol("ITestsHelper"),t.ITestConfigurationService=Symbol("ITestConfigurationService"),t.ITestConfigSettingsService=Symbol("ITestConfigSettingsService"),t.ITestConfigurationManagerFactory=Symbol("ITestConfigurationManagerFactory"),t.ITestDebugLauncher=Symbol("ITestDebugLauncher"),t.IUnitTestSocketServer=Symbol("IUnitTestSocketServer"),t.ITestRunner=Symbol("ITestRunner")},8051:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.UnitTestConfigurationService=t.NONE_SELECTED=void 0;const o=n(86700),s=n(17585),a=n(61684),c=n(77498),u=n(19735),l=n(54813),d=n(61522),p=n(81345),h=n(78308);t.NONE_SELECTED=Error("none selected");let f=class{constructor(e){this.serviceContainer=e,this.configurationService=e.get(a.IConfigurationService),this.appShell=e.get(s.IApplicationShell),this.workspaceService=e.get(s.IWorkspaceService)}async displayTestFrameworkError(e){const n=this.configurationService.getSettings(e);let r=n.testing.pytestEnabled?1:0;if(r+=n.testing.unittestEnabled?1:0,r>1)return this._promptToEnableAndConfigureTestFramework(e,"Enable only one of the test frameworks (unittest or pytest).",!0);const i="Enable and configure a Test Framework";if(await this.appShell.showInformationMessage("No test framework configured (unittest, or pytest)",i)!==i)throw t.NONE_SELECTED;return this._promptToEnableAndConfigureTestFramework(e)}async selectTestRunner(e){const t=[{label:"unittest",product:a.Product.unittest,description:"Standard Python test framework",detail:"https://docs.python.org/3/library/unittest.html"},{label:"pytest",product:a.Product.pytest,description:"pytest framework",detail:"http://docs.pytest.org/"}],n={ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:e},r=await this.appShell.showQuickPick(t,n);return r?r.product:void 0}async enableTest(e,t){const n=this.serviceContainer.get(h.ITestConfigurationManagerFactory).create(e,t);return this._enableTest(e,n)}async promptToEnableAndConfigureTestFramework(e){await this._promptToEnableAndConfigureTestFramework(e,void 0,!1,"commandpalette")}_enableTest(e,t){const n=this.workspaceService.getConfiguration("python",e);return n.get("testing.promptToConfigure")?t.enable():n.update("testing.promptToConfigure",void 0).then((()=>t.enable()),(e=>t.enable().then((()=>Promise.reject(e)))))}async _promptToEnableAndConfigureTestFramework(e,n="Select a test framework/tool to enable",r=!1,i="ui"){const o={trigger:i,failed:!1};try{const i=await this.selectTestRunner(n);if("number"!=typeof i)throw t.NONE_SELECTED;const s=this.serviceContainer.get(h.ITestsHelper);o.tool=s.parseProviderName(i);const a=new p.BufferedTestConfigSettingsService,c=this.serviceContainer.get(h.ITestConfigurationManagerFactory).create(e,i,a);r?await c.enable():await c.configure(e).then((()=>this._enableTest(e,c))).catch((t=>this._enableTest(e,c).then((()=>Promise.reject(t)))));const f=this.serviceContainer.get(h.ITestConfigSettingsService);try{await a.apply(f)}catch(e){(0,u.traceError)("Python Extension: applying unit test config updates",e),o.failed=!0}}finally{(0,l.sendTelemetryEvent)(d.EventName.UNITTEST_CONFIGURING,void 0,o)}}};f=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IServiceContainer))],f),t.UnitTestConfigurationService=f},50946:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationManager=void 0;const r=n(71017),i=n(84974),o=n(61684),s=n(85494);class a extends s.TestConfigurationManager{constructor(e,t,n){super(e,o.Product.pytest,t,n)}async requiresUserToConfigure(e){const t=await this.getConfigFiles(e.fsPath);return!(t.length>0&&1!==t.length&&"setup.cfg"!==t[0])}async configure(e){const t=[],n="Use existing config file",r=[],i=await this.getConfigFiles(e.fsPath);if(i.length>0&&1!==i.length&&"setup.cfg"!==i[0])return;1===i.length&&"setup.cfg"===i[0]&&r.push({label:n,description:"setup.cfg"});const s=await this.getTestDirs(e.fsPath),a=await this.selectTestDir(e.fsPath,s,r);"string"==typeof a&&a!==n&&t.push(a),await this.installer.isInstalled(o.Product.pytest)||await this.installer.install(o.Product.pytest),await this.testConfigSettingsService.updateTestArgs(e.fsPath,o.Product.pytest,t)}async getConfigFiles(e){const t=this.serviceContainer.get(i.IFileSystem),n=["pytest.ini","tox.ini","setup.cfg"].map((async n=>await t.fileExists(r.join(e,n))?n:""));return(await Promise.all(n)).filter((e=>e.length>0))}}t.ConfigurationManager=a},55058:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationManager=void 0;const r=n(61684),i=n(85494);class o extends i.TestConfigurationManager{constructor(e,t,n){super(e,r.Product.unittest,t,n)}async requiresUserToConfigure(e){return!0}async configure(e){const t=["-v"],n=await this.getTestDirs(e.fsPath),i=await this.selectTestDir(e.fsPath,n);t.push("-s"),"string"==typeof i&&"."!==i?t.push(`./${i}`):t.push(".");const o=await this.selectTestFilePattern();t.push("-p"),"string"==typeof o?t.push(o):t.push("test*.py"),await this.testConfigSettingsService.updateTestArgs(e.fsPath,r.Product.unittest,t)}}t.ConfigurationManager=o},10919:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TestConfigurationManagerFactory=void 0;const o=n(86700),s=n(61684),a=n(77498),c=n(50946),u=n(55058);let l=class{constructor(e){this.serviceContainer=e}create(e,t,n){switch(t){case s.Product.unittest:return new u.ConfigurationManager(e,this.serviceContainer,n);case s.Product.pytest:return new c.ConfigurationManager(e,this.serviceContainer,n);default:throw new Error("Invalid test configuration")}}};l=r([(0,o.injectable)(),i(0,(0,o.inject)(a.IServiceContainer))],l),t.TestConfigurationManagerFactory=l},74954:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEST_OUTPUT_CHANNEL=void 0,t.TEST_OUTPUT_CHANNEL="TEST_OUTPUT_CHANNEL"},3876:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.UnitTestManagementService=t.TestingService=void 0;const o=n(86700),s=n(66828),a=n(17585),c=n(77570);n(32727);const u=n(61684),l=n(18639),d=n(77498),p=n(61522),h=n(54813),f=n(97395),g=n(78308),m=n(77540),v=n(4100),y=n(56994),b=n(62020),S=n(67098),_=n(19735);let E=class{constructor(e){this.serviceContainer=e}getSettingsPropertyNames(e){return this.serviceContainer.get(g.ITestsHelper).getSettingsPropertyNames(e)}};E=r([(0,o.injectable)(),i(0,(0,o.inject)(d.IServiceContainer))],E),t.TestingService=E;let w=class{constructor(e){this.serviceContainer=e,this.activatedOnce=!1,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1},this.testStateMap=new Map,this.disposableRegistry=e.get(u.IDisposableRegistry),this.workspaceService=e.get(a.IWorkspaceService),this.context=this.serviceContainer.get(a.IContextKeyManager),s.tests&&s.tests.createTestController&&(this.testController=e.get(m.ITestController));const t=new v.DelayedTrigger(this.configurationChangeHandler.bind(this),500,"Test Configuration Change");this.configChangeTrigger=t,this.disposableRegistry.push(t)}async activate(){this.activatedOnce||(this.activatedOnce=!0,this.registerHandlers(),this.registerCommands(),s.tests.testResults&&(await this.updateTestUIButtons(),this.disposableRegistry.push(s.tests.onDidChangeTestResults((()=>{this.updateTestUIButtons()})))),this.testController&&(this.testController.onRefreshingStarted((async()=>{await this.context.setContext(y.ExtensionContextKey.RefreshingTests,!0)})),this.testController.onRefreshingCompleted((async()=>{await this.context.setContext(y.ExtensionContextKey.RefreshingTests,!1)})),this.testController.onRunWithoutConfiguration((async e=>{var t;const n=null!==(t=this.workspaceService.workspaceFolders)&&void 0!==t?t:[];if(e.length===n.length){const t=this.serviceContainer.get(a.ICommandManager);await t.executeCommand("workbench.view.testing.focus");const n=this.serviceContainer.get(a.IApplicationShell);await n.showInformationMessage(S.Testing.testNotConfigured,S.Testing.configureTests)===S.Testing.configureTests&&await t.executeCommand(c.Commands.Tests_Configure,void 0,c.CommandSource.ui,e[0].uri)}}))))}async updateTestUIButtons(){(0,b.updateTestResultMap)(this.testStateMap,s.tests.testResults);const e=(0,b.checkForFailedTests)(this.testStateMap);await this.context.setContext(y.ExtensionContextKey.HasFailedTests,e)}async configurationChangeHandler(e){var t;const n=(null!==(t=this.workspaceService.workspaceFolders)&&void 0!==t?t:[]).filter((t=>e.affectsConfiguration("python.testing",t.uri))).map((e=>e.uri));await Promise.all(n.map((e=>{var t;return null===(t=this.testController)||void 0===t?void 0:t.refreshTestData(e)})))}async configureTests(e){let t;if(e){const n=this.workspaceService.getWorkspaceFolder(e);t=n?n.uri:void 0}else{const e=this.serviceContainer.get(a.IApplicationShell);t=await(0,f.selectTestWorkspace)(e)}if(!t)return;const n=this.serviceContainer.get(l.IInterpreterService),r=this.serviceContainer.get(a.ICommandManager);if(!await n.getActiveInterpreter(t))return void r.executeCommand(c.Commands.TriggerEnvironmentSelection,t);const i=this.serviceContainer.get(g.ITestConfigurationService);await i.promptToEnableAndConfigureTestFramework(t)}registerCommands(){const e=this.serviceContainer.get(a.ICommandManager);this.disposableRegistry.push(e.registerCommand(c.Commands.Tests_Configure,((e,t=c.CommandSource.commandPalette,n)=>{var r;this.configureTests(n).ignoreErrors(),(0,_.traceVerbose)("Testing: Trigger refresh after config change"),null===(r=this.testController)||void 0===r||r.refreshTestData(n,{forceRefresh:!0})})))}registerHandlers(){const e=this.serviceContainer.get(l.IInterpreterService);this.disposableRegistry.push(this.workspaceService.onDidChangeConfiguration((e=>{this.configChangeTrigger.trigger(e)})),e.onDidChangeInterpreter((async()=>{var e;(0,_.traceVerbose)("Testing: Triggered refresh due to interpreter change."),(0,h.sendTelemetryEvent)(p.EventName.UNITTEST_DISCOVERY_TRIGGER,void 0,{trigger:"interpreter"}),await(null===(e=this.testController)||void 0===e?void 0:e.refreshTestData(void 0,{forceRefresh:!0}))})))}};r([(0,h.captureTelemetry)(p.EventName.UNITTEST_CONFIGURE,void 0,!1)],w.prototype,"configureTests",null),w=r([(0,o.injectable)(),i(0,(0,o.inject)(d.IServiceContainer))],w),t.UnitTestManagementService=w},59857:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTypes=void 0;const r=n(90819),i=n(57488),o=n(57475),s=n(96472),a=n(97395),c=n(78308),u=n(8051),l=n(10919),d=n(3876),p=n(40704),h=n(42035),f=n(20582);t.registerTypes=function(e){e.addSingleton(c.ITestDebugLauncher,i.DebugLauncher),e.add(c.ITestsHelper,a.TestsHelper),e.add(c.IUnitTestSocketServer,h.UnitTestSocketServer),e.add(c.ITestRunner,o.TestRunner),e.addSingleton(c.ITestConfigurationService,u.UnitTestConfigurationService),e.addSingleton(p.ITestingService,d.TestingService),e.addSingleton(c.ITestConfigSettingsService,s.TestConfigSettingsService),e.addSingleton(c.ITestConfigurationManagerFactory,l.TestConfigurationManagerFactory),e.addSingleton(r.IExtensionActivationService,d.UnitTestManagementService),(0,f.registerTestControllerTypes)(e)}},55149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterArguments=t.getPositionalArguments=t.getOptionValues=void 0;const r=n(19735);t.getOptionValues=function(e,t){const n=[];let r=!1;for(const i of e)r?(n.push(i),r=!1):i.startsWith(`${t}=`)?n.push(i.substring(`${t}=`.length)):i===t&&(r=!0);return n},t.getPositionalArguments=function(e,t=[],n=[]){const i=[];return e.forEach(((e,o)=>{-1!==n.indexOf(e)?i.push(o):-1!==t.indexOf(e)?(i.push(o),i.push(o+1)):-1!==t.findIndex((t=>e.startsWith(`${t}=`)))?i.push(o):(e.startsWith("-")||e.indexOf("=")>0)&&((0,r.traceWarn)(`Unknown command line option passed into args parser for tests '${e}'. Please report on https://github.com/Microsoft/vscode-python/issues/new`),i.push(o))})),e.filter(((e,t)=>-1===i.indexOf(t)))},t.filterArguments=function(e,t=[],n=[]){let r=-1;return e.filter(((e,i)=>!(r===i||n.indexOf(e)>=0||n.filter((t=>t.endsWith("*")&&e.startsWith(t.slice(0,-1)))).length>0||(t.indexOf(e)>=0?(r=i+1,1):t.filter((t=>e.startsWith(`${t}=`))).length>0||(-1===e.indexOf("=")&&n.filter((t=>t.endsWith("*")&&e.startsWith(t.slice(0,-1)))).length>0?(r=i+1,1):e.indexOf("=")>=0&&n.filter((t=>t.endsWith("*")&&e.startsWith(t.slice(0,-1)))).length>0)))))}},31997:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.TestDiscoveryHelper=void 0;const o=n(86700),s=n(29983);let a=class{constructor(e){this.pythonExecFactory=e}async runTestDiscovery(e){const t={allowEnvironmentFetchExceptions:!1,resource:e.workspaceFolder},n=await this.pythonExecFactory.createActivatedEnvironment(t),r={token:e.token,cwd:e.cwd,throwOnStdErr:!0};e.outChannel&&e.outChannel.appendLine(`python ${e.args.join(" ")}`);const i=await n.exec(e.args,r);try{return JSON.parse(i.stdout)}catch(e){throw e.message=i.stdout,e}}};a=r([(0,o.injectable)(),i(0,(0,o.inject)(s.IPythonExecutionFactory))],a),t.TestDiscoveryHelper=a},94977:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTemporaryFile=void 0;const r=n(36276);t.createTemporaryFile=function(e=".tmp"){return new Promise(((t,n)=>{r.file({postfix:e},((e,r,i,o)=>{e?n(e):t({filePath:r,dispose:o})}))}))}},64388:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateResultFromJunitXml=void 0;const r=n(55674),i=n(66828),o=n(62020),s=n(76646);t.updateResultFromJunitXml=async function(e,t,a,c){const u=await r.readFile(e),l=function(e){const t=e;if(!t.testsuites)return e.testsuite;const n=t.testsuites.testsuite;if(!Array.isArray(n))throw Error("bad JUnit XML data");if(0!==n.length){if(n.length>1)throw Error("got multiple XML results");return n[0]}}(await async function(e){const t=await Promise.resolve().then((()=>n(74232)));return new Promise(((n,r)=>{t.parseString(e,((e,t)=>e?r(e):n(t)))}))}(u.toString("utf8"))),d=(0,o.getTestCaseNodes)(t);if(l&&l.testcase.length>0&&d.length>0){let e=0,t=0,n=0,r=0;d.forEach((u=>{const d=c.get(u.id);if(!d)return;const p=l.testcase.find((e=>{const t=(0,o.getRunIdFromRawData)(`${e.$.classname}::${e.$.name}`),n=d.runId;return t===n||n.endsWith(t)}));if(p)if(p.error){n+=1;const e=p.error[0],t=`${d.rawId} Failed with Error: [${e.$.type}]${e.$.message}\r\n${e._}\r\n\r\n`,r=new i.TestMessage(t);u.uri&&u.range&&(r.location=new i.Location(u.uri,u.range)),a.errored(u,r),a.appendOutput((0,s.fixLogLines)(t))}else if(p.failure){e+=1;const t=p.failure[0],n=`${d.rawId} Failed: [${t.$.type}]${t.$.message}\r\n${t._}\r\n`,r=new i.TestMessage(n);u.uri&&u.range&&(r.location=new i.Location(u.uri,u.range)),a.failed(u,r),a.appendOutput((0,s.fixLogLines)(n))}else if(p.skipped){const e=p.skipped[0];let n="";"pytest.xfail"===e.$.type?(r+=1,n=`${d.rawId} Passed: [${e.$.type}]${e.$.message}\r\n`,a.passed(u)):(t+=1,n=`${d.rawId} Skipped: [${e.$.type}]${e.$.message}\r\n`,a.skipped(u)),a.appendOutput((0,s.fixLogLines)(n))}else{r+=1;const e=`${d.rawId} Passed\r\n`;a.passed(u),a.appendOutput((0,s.fixLogLines)(e))}else{const e=`Test result not found for: ${d.rawId}\r\n`;a.appendOutput((0,s.fixLogLines)(e));const t=new i.TestMessage(e);u.uri&&u.range&&(t.location=new i.Location(u.uri,u.range)),a.errored(u,t)}})),a.appendOutput(`Total number of tests expected to run: ${d.length}\r\n`),a.appendOutput(`Total number of tests run: ${r+e+n+t}\r\n`),a.appendOutput(`Total number of tests passed: ${r}\r\n`),a.appendOutput(`Total number of tests failed: ${e}\r\n`),a.appendOutput(`Total number of tests failed with errors: ${n}\r\n`),a.appendOutput(`Total number of tests skipped: ${t}\r\n`),a.appendOutput(`Total number of tests with no result data: ${d.length-r-e-n-t}\r\n`)}}},9981:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PythonTestServer=void 0;const r=n(13685),i=n(6113),o=n(66828),s=n(19735),a=n(83194);t.PythonTestServer=class{constructor(e,t){this.executionFactory=e,this.debugLauncher=t,this._onDataReceived=new o.EventEmitter,this.uuids=new Map,this.server=r.createServer((async(e,t)=>{const n=[];try{for await(const t of e)n.push(t);const r=Buffer.concat(n).toString(),i=e.rawHeaders.indexOf("Request-uuid"),o=e.rawHeaders[i+1];t.end(),JSON.parse(r);const s=this.uuids.get(o);s&&(this._onDataReceived.fire({cwd:s,data:r}),this.uuids.delete(o))}catch(e){(0,s.traceLog)(`Error processing test server request: ${e} observe`),this._onDataReceived.fire({cwd:"",data:""})}})),this.ready=new Promise(((e,t)=>{this.server.listen(void 0,"localhost",(()=>{e()}))}))}serverReady(){return this.ready}getPort(){return this.server.address().port}dispose(){this.server.close(),this._onDataReceived.dispose()}get onDataReceived(){return this._onDataReceived.event}async sendCommand(e){const t=i.randomUUID(),n={token:e.token,cwd:e.cwd,throwOnStdErr:!0};this.uuids.set(t,e.cwd);const r={allowEnvironmentFetchExceptions:!1,resource:e.workspaceFolder},o=await this.executionFactory.createActivatedEnvironment(r);let s=[];s=e.testIds?[e.command.script,"--port",this.getPort().toString(),"--uuid",t,"--testids",...e.testIds].concat(e.command.args):[e.command.script,"--port",this.getPort().toString(),"--uuid",t].concat(e.command.args),e.outChannel&&e.outChannel.appendLine(`python ${s.join(" ")}`);try{if(e.debugBool){const t={cwd:e.cwd,args:s,token:e.token,testProvider:a.UNITTEST_PROVIDER};await this.debugLauncher.launchDebugger(t)}else await o.exec(s,n)}catch(n){this.uuids.delete(t),this._onDataReceived.fire({cwd:e.cwd,data:JSON.stringify({status:"error",errors:[n.message]})})}}}},62020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearAllChildren=t.checkForFailedTests=t.updateTestResultMap=t.getNodeByUri=t.getWorkspaceNode=t.getTestCaseNodes=t.getUri=t.updateTestItemFromRawData=t.getRunIdFromRawData=t.createWorkspaceRootTestItem=t.createErrorTestItem=t.removeItemByIdFromChildren=t.DebugTestTag=t.RunTestTag=void 0;const r=n(71017),i=n(66828),o=n(99910),s=n(19735),a=n(77540);function c(e){const t=[];return e.forEach((e=>{t.push(e)})),t}function u(e,t,n){n.forEach((n=>{t.children.delete(n),e.delete(n)}))}function l(e,t,n){const i=e.get(r.join(t,n.parentid));let o;return i&&(o="."===i.id?t:i.id),o}function d(e){try{const t=e.source.substr(e.source.indexOf(":")+1),n=Number.parseInt(t,10);return new i.Range(new i.Position(n-1,0),new i.Position(n,0))}catch(e){}}function p(e){const t=e.replace(/\.py[^\w\-]/g,"").replace(/[\\\:\/]/g,".").replace(/\:\:/g,".").replace(/\.\./g,".");return t.startsWith(".")?t.substr(1):t}function h(e,n,o,s){const c=r.join(o,s.relpath),u=i.Uri.file(c),d=l(n,o,s),p=r.basename(c),h=e.createTestItem(c,p,u);return h.canResolveChildren=!0,n.set(h.id,{id:h.id,rawId:s.id,runId:s.relpath,uri:u,kind:a.TestDataKinds.FolderOrFile,parentId:d}),h.tags=[t.RunTestTag,t.DebugTestTag],h}async function f(e,n,f,m,v,y){var b;if(null==y?void 0:y.isCancellationRequested)return;const S=null===(b=f.get(e.id))||void 0===b?void 0:b.rawId;if(!S)return void(0,s.traceError)(`Unknown node id: ${e.id}`);const _=v.filter((e=>e.root===S||e.rootid===S||e.parents.find((e=>e.id===S))||e.tests.find((e=>e.id===S))));if(0===_.length&&e.parent)return u(f,e.parent,[e.id]),void(0,s.traceVerbose)(`Following test item was removed Reason: No-Raw-Data ${e.id}`);if(_.length>1)return void(0,s.traceError)(`Multiple (${_.length}) raw data nodes had the same id: ${S}`);if(S===_[0].root||S===_[0].rootid){await(0,o.asyncForEach)(c(e.children),(async e=>{await g(e,n,f,m,_,y)}));const t=_[0].parents.filter((e=>"."===e.parentid||e.parentid===S)),r=[];return e.children.forEach((e=>{var t,n;return r.push(null!==(n=null===(t=f.get(e.id))||void 0===t?void 0:t.rawId)&&void 0!==n?n:"")})),void await(0,o.asyncForEach)(t.filter((e=>!r.includes(e.id))),(async t=>{const r=(t.kind,h(n,f,m,t));e.children.add(r),await g(r,n,f,m,_,y)}))}const E=_[0].parents.filter((e=>e.id===S));if(1===E.length){switch(E[0].kind){case"file":case"folder":!function(e,n,o,s){const c=r.join(o,s.relpath),u=i.Uri.file(c),d=l(n,o,s);e.label=r.basename(c),e.canResolveChildren=!0,n.set(e.id,{id:e.id,rawId:s.id,runId:s.relpath,uri:u,kind:a.TestDataKinds.FolderOrFile,parentId:d}),e.tags=[t.RunTestTag,t.DebugTestTag]}(e,f,m,E[0]);break;case"suite":case"function":!function(e,n,o,s){const c=r.join(o,s.id.substr(0,s.id.indexOf(":"))),u=i.Uri.file(c);e.label=s.name;const d=l(n,o,s),h=p(s.id);e.canResolveChildren=!0,n.set(e.id,{id:e.id,rawId:s.id,runId:h,uri:u,kind:a.TestDataKinds.Collection,parentId:d}),e.tags=[t.RunTestTag,t.DebugTestTag]}(e,f,m,E[0])}await(0,o.asyncForEach)(c(e.children),(async e=>{await g(e,n,f,m,_,y)}));const s=[];e.children.forEach((e=>{var t,n;return s.push(null!==(n=null===(t=f.get(e.id))||void 0===t?void 0:t.rawId)&&void 0!==n?n:"")}));const u=_[0].parents.filter((e=>e.parentid===S));return await(0,o.asyncForEach)(u.filter((e=>!s.includes(e.id))),(async o=>{let s;switch(o.kind){case"file":case"folder":s=h(n,f,m,o);break;case"suite":case"function":s=function(e,n,o,s){const c=r.join(o,s.id),u=r.join(o,s.id.substr(0,s.id.indexOf(":"))),d=i.Uri.file(u),h=s.name,f=l(n,o,s),g=p(s.id),m=e.createTestItem(c,h,d);return m.canResolveChildren=!0,n.set(m.id,{id:m.id,rawId:s.id,runId:g,uri:d,kind:a.TestDataKinds.Collection,parentId:f}),m.tags=[t.RunTestTag,t.DebugTestTag],m}(n,f,m,o)}s&&(e.children.add(s),await g(s,n,f,m,_,y))})),void _[0].tests.filter((e=>e.parentid===S)).filter((e=>!s.includes(e.id))).forEach((o=>{const s=function(e,n,o,s){const c=r.join(o,s.id),u=r.join(o,s.source.substr(0,s.source.indexOf(":"))),h=i.Uri.file(u),f=s.name,g=l(n,o,s),m=p(s.id),v=e.createTestItem(c,f,h);return v.canResolveChildren=!1,v.range=d(s),n.set(v.id,{id:v.id,rawId:s.id,runId:m,uri:h,kind:a.TestDataKinds.Case,parentId:g}),v.tags=[t.RunTestTag,t.DebugTestTag],v}(n,f,m,o);e.children.add(s)}))}if(E.length>1)return void(0,s.traceError)(`Multiple (${E.length}) raw data nodes had the same id: ${S}`);const w=_[0].tests.filter((e=>e.id===S));1!==w.length?w.length>1&&(0,s.traceError)(`Multiple (${w.length}) raw data nodes had the same id: ${S}`):function(e,n,o,s){const c=r.join(o,s.source.substr(0,s.source.indexOf(":"))),u=i.Uri.file(c);e.label=s.name;const h=l(n,o,s),f=p(s.id);e.canResolveChildren=!1,e.range=d(s),n.set(e.id,{id:e.id,rawId:s.id,runId:f,uri:u,kind:a.TestDataKinds.Case,parentId:h}),e.tags=[t.RunTestTag,t.DebugTestTag]}(e,f,m,w[0])}async function g(e,t,n,r,i,o){e.busy=!0,await f(e,t,n,r,i,o),e.busy=!1}function m(e,t){for(const n of t.taskStates)e.set(t.id,n.state);t.children.forEach((t=>m(e,t)))}t.RunTestTag={id:"python-run"},t.DebugTestTag={id:"python-debug"},t.removeItemByIdFromChildren=u,t.createErrorTestItem=function(e,n){const r=e.createTestItem(n.id,n.label);return r.canResolveChildren=!1,r.error=n.error,r.tags=[t.RunTestTag,t.DebugTestTag],r},t.createWorkspaceRootTestItem=function(e,n,r){var i;const o=e.createTestItem(r.id,r.label,r.uri);return o.canResolveChildren=!0,n.set(r.id,{...r,rawId:null!==(i=r.rawId)&&void 0!==i?i:r.id,kind:a.TestDataKinds.Workspace}),o.tags=[t.RunTestTag,t.DebugTestTag],o},t.getRunIdFromRawData=p,t.updateTestItemFromRawData=g,t.getUri=function e(t){return!t.uri&&t.parent?e(t.parent):t.uri},t.getTestCaseNodes=function e(t,n=[]){return!t.canResolveChildren&&t.tags.length>0&&n.push(t),t.children.forEach((r=>{t.canResolveChildren?e(r,n):n.push(t)})),n},t.getWorkspaceNode=function e(t,n){const r=n.get(t.id);if(r){if(r.kind===a.TestDataKinds.Workspace)return t;if(t.parent)return e(t.parent,n)}},t.getNodeByUri=function e(t,n){var r,i;if((null===(r=t.uri)||void 0===r?void 0:r.fsPath)===n.fsPath)return t;const o=[];t.children.forEach((e=>o.push(e)));for(const e of o)if((null===(i=e.uri)||void 0===i?void 0:i.fsPath)===n.fsPath)return e;for(const t of o){const r=e(t,n);if(r)return r}},t.updateTestResultMap=function(e,t){new Array(...t).sort(((e,t)=>e.completedAt-t.completedAt)).forEach((t=>{t.results.forEach((t=>m(e,t)))}))},t.checkForFailedTests=function(e){return void 0!==Array.from(e.values()).find((e=>e===i.TestResultState.Failed||e===i.TestResultState.Errored))},t.clearAllChildren=function(e){const t=[];e.children.forEach((e=>t.push(e.id))),t.forEach(e.children.delete)}},77540:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ITestsRunner=t.ITestFrameworkController=t.ITestController=t.ITestDiscoveryHelper=t.TestDataKinds=void 0,(n=t.TestDataKinds||(t.TestDataKinds={}))[n.Workspace=0]="Workspace",n[n.FolderOrFile=1]="FolderOrFile",n[n.Collection=2]="Collection",n[n.Case=3]="Case",t.ITestDiscoveryHelper=Symbol("ITestDiscoveryHelper"),t.ITestController=Symbol("ITestController"),t.ITestFrameworkController=Symbol("ITestFrameworkController"),t.ITestsRunner=Symbol("ITestsRunner")},76646:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fixLogLines=void 0,t.fixLogLines=function(e){return`${e.split(/\r?\n/g).join("\r\n")}\r\n`}},40063:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PythonTestController=void 0;const o=n(86700),s=n(96486),a=n(66828),c=n(17585),u=n(77570),l=n(29983),d=n(61684),p=n(4100),h=n(3481),f=n(18639),g=n(19735),m=n(54813),v=n(61522),y=n(83194),b=n(9981),S=n(62020),_=n(77540),E=n(16903),w=n(80454),P=n(928),T=n(78308);let C=class{constructor(e,t,n,r,i,o,s,c,l){this.workspaceService=e,this.configSettings=t,this.pytest=n,this.unittest=r,this.disposables=i,this.interpreterService=o,this.commandManager=s,this.pythonExecFactory=c,this.debugLauncher=l,this.supportedWorkspaceTypes={untrustedWorkspace:!1,virtualWorkspace:!1},this.testAdapters=new Map,this.triggerTypes=[],this.refreshingCompletedEvent=new a.EventEmitter,this.refreshingStartedEvent=new a.EventEmitter,this.runWithoutConfigurationEvent=new a.EventEmitter,this.onRefreshingCompleted=this.refreshingCompletedEvent.event,this.onRefreshingStarted=this.refreshingStartedEvent.event,this.onRunWithoutConfiguration=this.runWithoutConfigurationEvent.event,this.sendTestDisabledTelemetry=!0,this.refreshCancellation=new a.CancellationTokenSource,this.testController=a.tests.createTestController("python-tests","Python Tests"),this.disposables.push(this.testController);const d=new p.DelayedTrigger(((e,t)=>{this.refreshTestDataInternal(e),t&&this.invalidateTests(e)}),250,"Refresh Test Data");this.disposables.push(d),this.refreshData=d,this.disposables.push(this.testController.createRunProfile("Run Tests",a.TestRunProfileKind.Run,this.runTests.bind(this),!0,S.RunTestTag),this.testController.createRunProfile("Debug Tests",a.TestRunProfileKind.Debug,this.runTests.bind(this),!0,S.DebugTestTag)),this.testController.resolveHandler=this.resolveChildren.bind(this),this.testController.refreshHandler=e=>(this.disposables.push(e.onCancellationRequested((()=>{(0,g.traceVerbose)("Testing: Stop refreshing triggered"),(0,m.sendTelemetryEvent)(v.EventName.UNITTEST_DISCOVERING_STOP),this.stopRefreshing()}))),(0,g.traceVerbose)("Testing: Manually triggered test refresh"),(0,m.sendTelemetryEvent)(v.EventName.UNITTEST_DISCOVERY_TRIGGER,void 0,{trigger:u.CommandSource.commandPalette}),this.refreshTestData(void 0,{forceRefresh:!0})),this.pythonTestServer=new b.PythonTestServer(this.pythonExecFactory,this.debugLauncher)}async activate(){(0,g.traceVerbose)("Waiting for test server to start..."),await this.pythonTestServer.serverReady(),(0,g.traceVerbose)("Test server started."),(this.workspaceService.workspaceFolders||[]).forEach((e=>{const t=this.configSettings.getSettings(e.uri);let n,r,i;t.testing.unittestEnabled?(n=new E.UnittestTestDiscoveryAdapter(this.pythonTestServer,this.configSettings),r=new P.UnittestTestExecutionAdapter(this.pythonTestServer,this.configSettings),i=y.UNITTEST_PROVIDER):(n=new E.UnittestTestDiscoveryAdapter(this.pythonTestServer,{...this.configSettings}),r=new P.UnittestTestExecutionAdapter(this.pythonTestServer,this.configSettings),i=y.PYTEST_PROVIDER);const o=new w.WorkspaceTestAdapter(i,n,r,e.uri);this.testAdapters.set(e.uri,o),t.testing.autoTestDiscoverOnSaveEnabled&&((0,g.traceVerbose)(`Testing: Setting up watcher for ${e.uri.fsPath}`),this.watchForSettingsChanges(e),this.watchForTestContentChanges(e))}))}refreshTestData(e,t){return(null==t?void 0:t.forceRefresh)?void 0===e?((0,g.traceVerbose)("Testing: Clearing all discovered tests"),this.testController.items.forEach((e=>{const t=[];e.children.forEach((e=>t.push(e.id))),t.forEach((t=>e.children.delete(t)))})),(0,g.traceVerbose)("Testing: Forcing test data refresh"),this.refreshTestDataInternal(void 0)):((0,g.traceVerbose)("Testing: Forcing test data refresh"),this.refreshTestDataInternal(e)):(this.refreshData.trigger(e,!1),Promise.resolve())}stopRefreshing(){this.refreshCancellation.cancel(),this.refreshCancellation.dispose(),this.refreshCancellation=new a.CancellationTokenSource}clearTestController(){const e=[];this.testController.items.forEach((t=>e.push(t.id))),e.forEach((e=>this.testController.items.delete(e)))}async refreshTestDataInternal(e){if(this.refreshingStartedEvent.fire(),e){const t=this.configSettings.getSettings(e);if(t.testing.pytestEnabled)(0,g.traceVerbose)(`Testing: Refreshing test data for ${e.fsPath}`),this.sendTestDisabledTelemetry=!0,await this.pytest.refreshTestData(this.testController,e,this.refreshCancellation.token);else if(t.testing.unittestEnabled)await this.unittest.refreshTestData(this.testController,e,this.refreshCancellation.token);else{this.sendTestDisabledTelemetry&&(this.sendTestDisabledTelemetry=!1,(0,m.sendTelemetryEvent)(v.EventName.UNITTEST_DISABLED));const t=this.workspaceService.getWorkspaceFolder(e);if(t){const e=[];this.testController.items.forEach((n=>{const r=this.workspaceService.getWorkspaceFolder(n.uri);(null==r?void 0:r.uri.fsPath)===t.uri.fsPath&&e.push(n.id)})),e.forEach((e=>this.testController.items.delete(e)))}}}else{(0,g.traceVerbose)("Testing: Refreshing all test data");const e=this.workspaceService.workspaceFolders||[];await Promise.all(e.map((async e=>{await this.interpreterService.getActiveInterpreter(e.uri)?await this.refreshTestDataInternal(e.uri):this.commandManager.executeCommand(u.Commands.TriggerEnvironmentSelection,e.uri).then(h.noop,h.noop)})))}return this.refreshingCompletedEvent.fire(),Promise.resolve()}async resolveChildren(e){if(e){(0,g.traceVerbose)(`Testing: Resolving item ${e.id}`);const t=this.configSettings.getSettings(e.uri);if(t.testing.pytestEnabled)return this.pytest.resolveChildren(this.testController,e,this.refreshCancellation.token);if(t.testing.unittestEnabled)return this.unittest.resolveChildren(this.testController,e,this.refreshCancellation.token)}else{(0,g.traceVerbose)("Testing: Refreshing all test data"),this.sendTriggerTelemetry("auto");const e=this.workspaceService.workspaceFolders||[];await Promise.all(e.map((async e=>{await this.interpreterService.getActiveInterpreter(e.uri)?await this.refreshTestDataInternal(e.uri):(0,g.traceError)("Cannot trigger test discovery as a valid interpreter is not selected")})))}return Promise.resolve()}async runTests(e,t){const n=[];e.include?(0,s.uniq)(e.include.map((e=>this.workspaceService.getWorkspaceFolder(e.uri)))).forEach((e=>{e&&n.push(e)})):(this.workspaceService.workspaceFolders||[]).forEach((e=>n.push(e)));const r=this.testController.createTestRun(e,`Running Tests for Workspace(s): ${n.map((e=>e.uri.fsPath)).join(";")}`,!0),i=t.onCancellationRequested((()=>{r.end()})),o=[];try{await Promise.all(n.map((async n=>{var i,s,c,l,d,p,f,g,y;if(!await this.interpreterService.getActiveInterpreter(n.uri))return void this.commandManager.executeCommand(u.Commands.TriggerEnvironmentSelection,n.uri).then(h.noop,h.noop);const b=[];(null!==(i=e.include)&&void 0!==i?i:this.testController.items).forEach((e=>{const t=this.workspaceService.getWorkspaceFolder(e.uri);(null==t?void 0:t.uri.fsPath)===n.uri.fsPath&&b.push(e)}));const S=this.configSettings.getSettings(n.uri);if(b.length>0){if(S.testing.pytestEnabled)return(0,m.sendTelemetryEvent)(v.EventName.UNITTEST_RUN,void 0,{tool:"pytest",debugging:(null===(s=e.profile)||void 0===s?void 0:s.kind)===a.TestRunProfileKind.Debug}),this.pytest.runTests({includes:b,excludes:null!==(c=e.exclude)&&void 0!==c?c:[],runKind:null!==(d=null===(l=e.profile)||void 0===l?void 0:l.kind)&&void 0!==d?d:a.TestRunProfileKind.Run,runInstance:r},n,t);if(S.testing.unittestEnabled)return(0,m.sendTelemetryEvent)(v.EventName.UNITTEST_RUN,void 0,{tool:"unittest",debugging:(null===(p=e.profile)||void 0===p?void 0:p.kind)===a.TestRunProfileKind.Debug}),this.unittest.runTests({includes:b,excludes:null!==(f=e.exclude)&&void 0!==f?f:[],runKind:null!==(y=null===(g=e.profile)||void 0===g?void 0:g.kind)&&void 0!==y?y:a.TestRunProfileKind.Run,runInstance:r},n,t,this.testController)}return S.testing.pytestEnabled||S.testing.unittestEnabled||o.push(n),Promise.resolve()})))}finally{r.appendOutput("Finished running tests!\r\n"),r.end(),i.dispose(),o.length>0&&this.runWithoutConfigurationEvent.fire(o)}}invalidateTests(e){this.testController.items.forEach((t=>{const n=(0,S.getNodeByUri)(t,e);n&&n.invalidateResults&&n.invalidateResults()}))}watchForSettingsChanges(e){const t=new a.RelativePattern(e,"**/{settings.json,pytest.ini,pyproject.toml,setup.cfg}"),n=this.workspaceService.createFileSystemWatcher(t);this.disposables.push(n),this.disposables.push(n.onDidChange((e=>{(0,g.traceVerbose)(`Testing: Trigger refresh after change in ${e.fsPath}`),this.sendTriggerTelemetry("watching"),this.refreshData.trigger(e,!1)}))),this.disposables.push(n.onDidCreate((e=>{(0,g.traceVerbose)(`Testing: Trigger refresh after creating ${e.fsPath}`),this.sendTriggerTelemetry("watching"),this.refreshData.trigger(e,!1)}))),this.disposables.push(n.onDidDelete((e=>{(0,g.traceVerbose)(`Testing: Trigger refresh after deleting in ${e.fsPath}`),this.sendTriggerTelemetry("watching"),this.refreshData.trigger(e,!1)})))}watchForTestContentChanges(e){const t=new a.RelativePattern(e,"**/*.py"),n=this.workspaceService.createFileSystemWatcher(t);this.disposables.push(n),this.disposables.push(n.onDidChange((e=>{(0,g.traceVerbose)(`Testing: Trigger refresh after change in ${e.fsPath}`),this.sendTriggerTelemetry("watching"),this.refreshData.trigger(e,!0)}))),this.disposables.push(n.onDidCreate((e=>{(0,g.traceVerbose)(`Testing: Trigger refresh after creating ${e.fsPath}`),this.sendTriggerTelemetry("watching"),this.refreshData.trigger(e,!1)}))),this.disposables.push(n.onDidDelete((e=>{(0,g.traceVerbose)(`Testing: Trigger refresh after deleting in ${e.fsPath}`),this.sendTriggerTelemetry("watching"),this.refreshData.trigger(e,!1)})))}sendTriggerTelemetry(e){this.triggerTypes.includes(e)||((0,m.sendTelemetryEvent)(v.EventName.UNITTEST_DISCOVERY_TRIGGER,void 0,{trigger:e}),this.triggerTypes.push(e))}};C=r([(0,o.injectable)(),i(0,(0,o.inject)(c.IWorkspaceService)),i(1,(0,o.inject)(d.IConfigurationService)),i(2,(0,o.inject)(_.ITestFrameworkController)),i(2,(0,o.named)(y.PYTEST_PROVIDER)),i(3,(0,o.inject)(_.ITestFrameworkController)),i(3,(0,o.named)(y.UNITTEST_PROVIDER)),i(4,(0,o.inject)(d.IDisposableRegistry)),i(5,(0,o.inject)(f.IInterpreterService)),i(6,(0,o.inject)(c.ICommandManager)),i(7,(0,o.inject)(l.IPythonExecutionFactory)),i(8,(0,o.inject)(T.ITestDebugLauncher))],C),t.PythonTestController=C},85269:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preparePytestArgumentsForDiscovery=t.removePositionalFoldersAndFiles=t.pytestGetTestFilesAndFolders=void 0;const r=n(78308),i=n(55149),o=["-c","-k","-m","-o","-p","-r","-W","-n","--assert","--basetemp","--cache-show","--capture","--code-highlight","--color","--confcutdir","--cov","--cov-config","--cov-fail-under","--cov-report","--deselect","--dist","--doctest-glob","--doctest-report","--durations","--durations-min","--ignore","--ignore-glob","--import-mode","--junit-prefix","--junit-xml","--last-failed-no-failures","--lfnf","--log-auto-indent","--log-cli-date-format","--log-cli-format","--log-cli-level","--log-date-format","--log-file","--log-file-date-format","--log-file-format","--log-file-level","--log-format","--log-level","--maxfail","--override-ini","--pastebin","--pdbcls","--pythonwarnings","--result-log","--rootdir","--show-capture","--tb","--verbosity","--max-slave-restart","--numprocesses","--rsyncdir","--rsyncignore","--tx"],s=["--cache-clear","--collect-in-virtualenv","--collect-only","--co","--continue-on-collection-errors","--cov-append","--cov-branch","--debug","--disable-pytest-warnings","--disable-warnings","--doctest-continue-on-failure","--doctest-ignore-import-errors","--doctest-modules","--exitfirst","--failed-first","--ff","--fixtures","--fixtures-per-test","--force-sugar","--full-trace","--funcargs","--help","--keep-duplicates","--last-failed","--lf","--markers","--new-first","--nf","--no-cov","--no-cov-on-fail","--no-header","--no-print-logs","--no-summary","--noconftest","--old-summary","--pdb","--pyargs","-PyTest, Unittest-pyargs","--quiet","--runxfail","--setup-only","--setup-plan","--setup-show","--showlocals","--stepwise","--sw","--stepwise-skip","--strict","--strict-config","--strict-markers","--trace-config","--verbose","--version","-V","-h","-l","-q","-s","-v","-x","--boxed","--forked","--looponfail","--trace","--tx","-d"];function a(e,t){const n=[],a=[];let c=!1;if(Array.isArray(t))t.forEach((e=>{o.indexOf(e)>=0&&a.push(e),s.indexOf(e)>=0&&n.push(e)}));else switch(t){case r.TestFilter.removeTests:n.push("--lf","--last-failed","--ff","--failed-first","--nf","--new-first"),a.push("-k","-m","--lfnf","--last-failed-no-failures"),c=!0;break;case r.TestFilter.discovery:n.push("-x","--exitfirst","--fixtures","--funcargs","--fixtures-per-test","--pdb","--lf","--last-failed","--ff","--failed-first","--nf","--new-first","--cache-show","-v","--verbose","-q","-quiet","-l","--showlocals","--no-print-logs","--debug","--setup-only","--setup-show","--setup-plan","--trace"),a.push("-m","--maxfail","--pdbcls","--capture","--lfnf","--last-failed-no-failures","--verbosity","-r","--tb","--show-capture","--durations","--junit-xml","--junit-prefix","--result-log","-W","--pythonwarnings","--log-*"),c=!0;break;case r.TestFilter.debugAll:case r.TestFilter.runAll:n.push("--collect-only","--trace");break;case r.TestFilter.debugSpecific:case r.TestFilter.runSpecific:n.push("--collect-only","--lf","--last-failed","--ff","--failed-first","--nf","--new-first","--trace"),a.push("-k","-m","--lfnf","--last-failed-no-failures"),c=!0;break;default:throw new Error(`Unsupported Filter '${t}'`)}let u=e.slice();if(c){const e=(0,i.getPositionalArguments)(u,o,s);u=u.filter((t=>-1===e.indexOf(t)))}return(0,i.filterArguments)(u,a,n)}t.pytestGetTestFilesAndFolders=function(e){return(0,i.getPositionalArguments)(e,o,s)},t.removePositionalFoldersAndFiles=function(e){return a(e,r.TestFilter.removeTests)},t.preparePytestArgumentsForDiscovery=function(e){const t=a(e.args,r.TestFilter.discovery);return e.ignoreCache&&-1===t.indexOf("--cache-clear")&&t.splice(0,0,"--cache-clear"),-1===t.indexOf("-s")&&t.splice(0,0,"-s"),0===t.filter((e=>e.startsWith("--rootdir"))).length&&t.splice(0,0,"--rootdir",e.cwd),t}},48372:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PytestController=void 0;const o=n(86700),s=n(96486),a=n(71017),c=n(73837),u=n(66828),l=n(17585),d=n(81036),p=n(61684),h=n(99910),f=n(59314),g=n(19735),m=n(54813),v=n(61522),y=n(83194),b=n(62020),S=n(77540),_=n(85269);let E=class{constructor(e,t,n,r){this.discoveryHelper=e,this.runner=t,this.configService=n,this.workspaceService=r,this.testData=new Map,this.discovering=new Map,this.idToRawData=new Map}async resolveChildren(e,t,n){const r=this.workspaceService.getWorkspaceFolder(t.uri);if(r){const i=this.discovering.get(r.uri.fsPath);i&&await i.promise;const o=this.testData.get(r.uri.fsPath);if(o){if(0===o.length){const t=[];return e.items.forEach((e=>t.push(e))),t.forEach((t=>e.items.delete(t.id))),Promise.resolve()}const i=1===o.length?o[0].root:r.uri.fsPath;if(i===t.id)if(1===o.length){if(!(o[0].tests.length>0))return this.idToRawData.delete(t.id),e.items.delete(t.id),Promise.resolve();await(0,b.updateTestItemFromRawData)(t,e,this.idToRawData,t.id,o,n)}else{let r=[];t.children.forEach((e=>r.push(e.id))),await(0,h.asyncForEach)(o,(async o=>{let s,c=o.root;if(o.root===i){const e=o.parents.filter((e=>"."===e.parentid||e.parentid===i));c=a.join(o.root,e.length>0?e[0].id:""),s=e.length>0?e[0].id:void 0}if(o.tests.length>0){let l=t.children.get(c);l||(l=(0,b.createWorkspaceRootTestItem)(e,this.idToRawData,{id:c,label:a.basename(c),uri:u.Uri.file(c),runId:c,parentId:t.id,rawId:s}),t.children.add(l)),r=r.filter((e=>e!==c)),await(0,b.updateTestItemFromRawData)(l,e,this.idToRawData,i,[o],n)}else(0,b.removeItemByIdFromChildren)(this.idToRawData,t,[c])})),(0,b.removeItemByIdFromChildren)(this.idToRawData,t,r)}else{const r=(0,b.getWorkspaceNode)(t,this.idToRawData);r&&await(0,b.updateTestItemFromRawData)(t,e,this.idToRawData,r.id,o,n)}}else{const n=(0,b.getWorkspaceNode)(t,this.idToRawData);n&&e.items.delete(n.id)}}return Promise.resolve()}async refreshTestData(e,t,n){var r;(0,m.sendTelemetryEvent)(v.EventName.UNITTEST_DISCOVERING,void 0,{tool:"pytest"});const i=this.workspaceService.getWorkspaceFolder(t);if(i){const o=this.discovering.get(i.uri.fsPath);if(o)return o.promise;const l=this.configService.getSettings(i.uri),p={workspaceFolder:i.uri,cwd:l.testing.cwd&&l.testing.cwd.length>0?l.testing.cwd:i.uri.fsPath,args:l.testing.pytestArgs,ignoreCache:!0,token:n},h=(0,_.pytestGetTestFilesAndFolders)(p.args),y=(0,d.runAdapter)(["discover","pytest","--",...(0,_.preparePytestArgumentsForDiscovery)(p)]);let S;S=0===h.length?[{...p,args:y}]:h.map((e=>({...p,args:[...y,e]})));const E=(0,f.createDeferred)();this.discovering.set(i.uri.fsPath,E);let w=[];try{w=(0,s.flatten)(await Promise.all(S.map((e=>this.discoveryHelper.runTestDiscovery(e))))),this.testData.set(i.uri.fsPath,w),e.items.delete(`DiscoveryError:${i.uri.fsPath}`),E.resolve()}catch(t){(0,m.sendTelemetryEvent)(v.EventName.UNITTEST_DISCOVERY_DONE,void 0,{tool:"pytest",failed:!0});const n=(null===(r=p.token)||void 0===r?void 0:r.isCancellationRequested)?"Cancelled":"Error";(0,g.traceError)(`${n} discovering pytest tests:\r\n`,t);const o=function(e){const t=e.split(/\r?\n/g);let n=!1,r="";for(const e of t)n?r+=`${e}\r\n`:e.includes(" ERRORS ")&&(n=!0);return r}(t.message);e.items.add((0,b.createErrorTestItem)(e,{id:`DiscoveryError:${i.uri.fsPath}`,label:`Pytest Discovery Error [${a.basename(i.uri.fsPath)}]`,error:c.format(`${n} discovering pytest tests (see Output > Python):\r\n`,o.length>0?o:t)})),E.reject(t)}finally{this.discovering.delete(i.uri.fsPath)}const P=1===w.length?w[0].root:i.uri.fsPath,T=e.items.get(P);if(T)if(t.fsPath===i.uri.fsPath)await this.resolveChildren(e,T,n);else{const r=(0,b.getNodeByUri)(T,t);r?await this.resolveChildren(e,r,n):await this.resolveChildren(e,T,n)}else if(w.length>0){const t=(0,b.createWorkspaceRootTestItem)(e,this.idToRawData,{id:P,label:a.basename(P),uri:u.Uri.file(P),runId:P});e.items.add(t),await this.resolveChildren(e,t,n)}}return(0,m.sendTelemetryEvent)(v.EventName.UNITTEST_DISCOVERY_DONE,void 0,{tool:"pytest",failed:!1}),Promise.resolve()}runTests(e,t,n){const r=this.configService.getSettings(t.uri);return this.runner.runTests(e,{workspaceFolder:t.uri,cwd:r.testing.cwd&&r.testing.cwd.length>0?r.testing.cwd:t.uri.fsPath,token:n,args:r.testing.pytestArgs},this.idToRawData)}};E=r([(0,o.injectable)(),i(0,(0,o.inject)(S.ITestDiscoveryHelper)),i(1,(0,o.inject)(S.ITestsRunner)),i(1,(0,o.named)(y.PYTEST_PROVIDER)),i(2,(0,o.inject)(p.IConfigurationService)),i(3,(0,o.inject)(l.IWorkspaceService))],E),t.PytestController=E},30523:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PytestRunner=void 0;const o=n(86700),s=n(66828),a=n(61684),c=n(83194),u=n(78308),l=n(74954),d=n(55149),p=n(94977),h=n(64388),f=n(62020),g=n(85269),m="--junit-xml";let v=class{constructor(e,t,n){this.runner=e,this.debugLauncher=t,this.outputChannel=n}async runTests(e,t,n){const r={...t,exclude:e.excludes,debug:e.runKind===s.TestRunProfileKind.Debug};try{await Promise.all(e.includes.map((t=>this.runTest(t,e.runInstance,r,n))))}catch(t){e.runInstance.appendOutput(`Error while running tests:\r\n${t}\r\n\r\n`)}}async runTest(e,t,n,r){t.appendOutput(`Running tests (pytest): ${e.id}\r\n`),(0,f.getTestCaseNodes)(e).forEach((e=>t.started(e)));const i=[],o=await async function(e,t){const n=(0,d.getOptionValues)(e,m);if(1===n.length)return n[0];const r=await(0,p.createTemporaryFile)(".xml");return t.push(r),r.filePath}(n.args,i);try{let s=(0,g.removePositionalFoldersAndFiles)(n.args);s=(0,d.filterArguments)(s,[m,"--junitxml"]),s.splice(0,0,`--junit-xml=${o}`),s.splice(0,0,"--override-ini","junit_family=xunit1"),0===s.filter((e=>e.startsWith("--rootdir"))).length&&s.splice(0,0,"--rootdir",n.cwd);const a=r.get(e.id);if(!a)throw new Error(`Trying to run unknown node: ${e.id}`);if(e.id!==n.cwd&&s.push(a.rawId),t.appendOutput(`Running test with arguments: ${s.join(" ")}\r\n`),t.appendOutput(`Current working directory: ${n.cwd}\r\n`),t.appendOutput(`Workspace directory: ${n.workspaceFolder.fsPath}\r\n`),n.debug){const e=[n.cwd,"pytest"].concat(s),t={cwd:n.cwd,args:e,token:n.token,outChannel:this.outputChannel,testProvider:c.PYTEST_PROVIDER};await this.debugLauncher.launchDebugger(t)}else{const e={args:s,cwd:n.cwd,outChannel:this.outputChannel,token:n.token,workspaceFolder:n.workspaceFolder};await this.runner.run(c.PYTEST_PROVIDER,e)}t.appendOutput("Run completed, parsing output\r\n"),await(0,h.updateResultFromJunitXml)(o,e,t,r)}catch(n){return t.appendOutput(`Error while running tests: ${e.label}\r\n${n}\r\n\r\n`),Promise.reject(n)}finally{i.forEach((e=>e.dispose()))}return Promise.resolve()}};v=r([(0,o.injectable)(),i(0,(0,o.inject)(u.ITestRunner)),i(1,(0,o.inject)(u.ITestDebugLauncher)),i(2,(0,o.inject)(a.IOutputChannel)),i(2,(0,o.named)(l.TEST_OUTPUT_CHANNEL))],v),t.PytestRunner=v},20582:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTestControllerTypes=void 0;const r=n(90819),i=n(83194),o=n(31997),s=n(77540),a=n(40063),c=n(48372),u=n(30523),l=n(19661),d=n(7975);t.registerTestControllerTypes=function(e){e.addSingleton(s.ITestDiscoveryHelper,o.TestDiscoveryHelper),e.addSingleton(s.ITestFrameworkController,c.PytestController,i.PYTEST_PROVIDER),e.addSingleton(s.ITestsRunner,u.PytestRunner,i.PYTEST_PROVIDER),e.addSingleton(s.ITestFrameworkController,d.UnittestController,i.UNITTEST_PROVIDER),e.addSingleton(s.ITestsRunner,l.UnittestRunner,i.UNITTEST_PROVIDER),e.addSingleton(s.ITestController,a.PythonTestController),e.addBinding(s.ITestController,r.IExtensionSingleActivationService)}},33108:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTestRunArgs=t.unittestGetTopLevelDirectory=t.unittestGetTestPattern=t.unittestGetTestFolders=t.unittestFilterArguments=void 0;const r=n(55149),i=["-k","-p","-s","-t","--pattern","--start-directory","--top-level-directory"],o=["-b","-c","-f","-h","-q","-v","--buffer","--catch","--failfast","--help","--locals","--quiet","--verbose"];function s(e){const t=(0,r.getOptionValues)(e,"-s");if(1===t.length)return t;const n=(0,r.getOptionValues)(e,"--start-directory");return 1===n.length?n:["."]}function a(e){const t=(0,r.getOptionValues)(e,"-p");if(1===t.length)return t[0];const n=(0,r.getOptionValues)(e,"--pattern");return 1===n.length?n[0]:"test*.py"}function c(e){const t=(0,r.getOptionValues)(e,"-t");if(1===t.length)return t[0];const n=(0,r.getOptionValues)(e,"--top-level-directory");return 1===n.length?n[0]:null}t.unittestFilterArguments=function(e,t){const n=[],s=[];let a=!1;Array.isArray(t)?t.forEach((e=>{i.indexOf(e)>=0&&s.push(e),o.indexOf(e)>=0&&n.push(e)})):a=!0;let c=e.slice();if(a){const e=(0,r.getPositionalArguments)(c,i,o);c=c.filter((t=>-1===e.indexOf(t)))}return(0,r.filterArguments)(c,s,n)},t.unittestGetTestFolders=s,t.unittestGetTestPattern=a,t.unittestGetTopLevelDirectory=c,t.getTestRunArgs=function(e){const t=s(e)[0],n=a(e),r=c(e),i=e.some((e=>"-f"===e.trim()||"--failfast"===e.trim())),o=[`--us=${t}`,`--up=${n}`,"--uvInt="+(e.some((e=>0===e.trim().indexOf("-v")))?2:1)];return r&&o.push(`--ut=${r}`),i&&o.push("--uf"),o}},19661:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.UnittestRunner=void 0;const o=n(86700),s=n(66828),a=n(4057),c=n(61684),u=n(3481),l=n(19735),d=n(83194),p=n(78308),h=n(74954),f=n(62020),g=n(76646),m=n(33108);let v=class{constructor(e,t,n,r){this.runner=e,this.debugLauncher=t,this.outputChannel=n,this.server=r}async runTests(e,t,n,r){const i={...t,exclude:e.excludes,debug:e.runKind===s.TestRunProfileKind.Debug};try{await this.runTest(e.includes,e.runInstance,i,n,r)}catch(t){e.runInstance.appendOutput(`Error while running tests:\r\n${t}\r\n\r\n`)}}async runTest(e,t,n,r,i){t.appendOutput(`Running tests (unittest): ${e.map((e=>e.id)).join(" ; ")}\r\n`);const o=[],c=new Map;e.forEach((e=>{const t=(0,f.getTestCaseNodes)(e);t.forEach((e=>{if(e.uri){const t=c.get(e.uri.fsPath);t?t.push(e):c.set(e.uri.fsPath,[e])}})),o.push(...t)}));const p=[],h={total:0,passed:0,skipped:0,errored:0,failed:0},v=new Map;let y=!1,b=!1;this.server.on("error",((e,...t)=>{(0,l.traceError)(`${e} ${t.join(" ")}`)})),this.server.on("log",((e,...t)=>{(0,l.traceInfo)(`${e} ${t.join(" ")}`)})),this.server.on("connect",u.noop),this.server.on("start",u.noop),this.server.on("result",(e=>{var n,a,c;const u=o.find((t=>{var n;return(null===(n=r.get(t.id))||void 0===n?void 0:n.runId)===e.test})),l=r.get(null!==(n=null==u?void 0:u.id)&&void 0!==n?n:"");if(u&&l)if(h.total+=1,p.push(l.runId),"passed"===e.outcome||"failed-expected"===e.outcome){const e=`${l.rawId} Passed\r\n`;t.passed(u),t.appendOutput((0,g.fixLogLines)(e)),h.passed+=1}else if("failed"===e.outcome||"passed-unexpected"===e.outcome){const n=e.traceback?e.traceback.splitLines({trim:!1,removeEmptyEntries:!0}).join("\r\n"):"",r=`${l.rawId} Failed: ${null!==(a=e.message)&&void 0!==a?a:e.outcome}\r\n${n}\r\n`,i=new s.TestMessage(r);u.uri&&u.range&&(i.location=new s.Location(u.uri,u.range)),t.failed(u,i),t.appendOutput((0,g.fixLogLines)(r)),h.failed+=1,y&&(b=!0)}else if("error"===e.outcome){const n=e.traceback?e.traceback.splitLines({trim:!1,removeEmptyEntries:!0}).join("\r\n"):"",r=`${l.rawId} Failed with Error: ${e.message}\r\n${n}\r\n`,i=new s.TestMessage(r);u.uri&&u.range&&(i.location=new s.Location(u.uri,u.range)),t.errored(u,i),t.appendOutput((0,g.fixLogLines)(r)),h.errored+=1,y&&(b=!0)}else if("skipped"===e.outcome){const n=e.traceback?e.traceback.splitLines({trim:!1,removeEmptyEntries:!0}).join("\r\n"):"",r=`${l.rawId} Skipped: ${e.message}\r\n${n}\r\n`;t.skipped(u),t.appendOutput((0,g.fixLogLines)(r)),h.skipped+=1}else if("subtest-passed"===e.outcome){const n=v.get(e.test);if(n?n.passed+=1:(h.passed+=1,v.set(e.test,{passed:1,failed:0}),t.appendOutput((0,g.fixLogLines)(`${l.rawId} [subtests]:\r\n`)),(0,f.clearAllChildren)(u)),e.subtest){t.appendOutput((0,g.fixLogLines)(`${e.subtest} Passed\r\n`));const n=null==i?void 0:i.createTestItem(e.subtest,e.subtest);n&&(u.children.add(n),t.started(n),t.passed(n))}}else if("subtest-failed"===e.outcome){const n=v.get(e.test);if(n?n.failed+=1:(h.failed+=1,v.set(e.test,{passed:0,failed:1}),t.appendOutput((0,g.fixLogLines)(`${l.rawId} [subtests]:\r\n`)),(0,f.clearAllChildren)(u)),e.subtest){t.appendOutput((0,g.fixLogLines)(`${e.subtest} Failed\r\n`));const n=e.traceback?e.traceback.splitLines({trim:!1,removeEmptyEntries:!0}).join("\r\n"):"",r=`${e.subtest} Failed: ${null!==(c=e.message)&&void 0!==c?c:e.outcome}\r\n${n}\r\n`;t.appendOutput((0,g.fixLogLines)(r));const o=null==i?void 0:i.createTestItem(e.subtest,e.subtest);if(o){u.children.add(o),t.started(o);const e=new s.TestMessage(r);u.uri&&u.range&&(e.location=new s.Location(u.uri,u.range)),t.failed(o,e)}}}else{const n=`Unknown outcome type for test ${l.rawId}: ${e.outcome}`;t.appendOutput((0,g.fixLogLines)(n));const r=new s.TestMessage(n);u.uri&&u.range&&(r.location=new s.Location(u.uri,u.range)),t.errored(u,r)}else if("error"===e.outcome){const n=e.traceback?e.traceback.splitLines({trim:!1,removeEmptyEntries:!0}).join("\r\n"):"",r=`${e.test} Failed with Error: ${e.message}\r\n${n}\r\n`;t.appendOutput((0,g.fixLogLines)(r))}}));const S=await this.server.start(),_=async(e,t)=>{let r=(0,m.getTestRunArgs)(n.args);if(y=r.indexOf("--uf")>=0,r=r.filter((e=>"--uf"!==e)),r.push(`--result-port=${S}`),t.forEach((e=>r.push(`-t${e}`))),r.push(`--testFile=${e}`),!0===n.debug){r.push("--debug");const e={cwd:n.cwd,args:r,token:n.token,outChannel:this.outputChannel,testProvider:d.UNITTEST_PROVIDER};return this.debugLauncher.launchDebugger(e)}const i={args:a.visualstudio_py_testlauncher(r),cwd:n.cwd,outChannel:this.outputChannel,token:n.token,workspaceFolder:n.workspaceFolder};return await this.runner.run(d.UNITTEST_PROVIDER,i),Promise.resolve()};try{for(const e of c.keys()){if(b||n.token.isCancellationRequested)break;const i=c.get(e);if(i){t.appendOutput(`Running tests: ${i.map((e=>e.id)).join("\r\n")}\r\n`);const n=[];i.forEach((e=>{const i=r.get(e.id);i&&(t.started(e),n.push(i.runId))})),await _(e,n)}}}catch(e){(0,l.traceError)(e)}finally{this.server.removeAllListeners(),this.server.stop()}t.appendOutput(`Total number of tests expected to run: ${o.length}\r\n`),t.appendOutput(`Total number of tests run: ${h.total}\r\n`),t.appendOutput(`Total number of tests passed: ${h.passed}\r\n`),t.appendOutput(`Total number of tests failed: ${h.failed}\r\n`),t.appendOutput(`Total number of tests failed with errors: ${h.errored}\r\n`),t.appendOutput(`Total number of tests skipped: ${h.skipped}\r\n\r\n`),v.size>0&&t.appendOutput("Sub-test stats: \r\n"),v.forEach(((e,n)=>{t.appendOutput(`Sub-tests for [${n}]: Total=${e.passed+e.failed} Passed=${e.passed} Failed=${e.failed}\r\n\r\n`)})),y&&t.appendOutput(`Total number of tests skipped due to fail fast: ${h.total-p.length}\r\n`)}};v=r([(0,o.injectable)(),i(0,(0,o.inject)(p.ITestRunner)),i(1,(0,o.inject)(p.ITestDebugLauncher)),i(2,(0,o.inject)(c.IOutputChannel)),i(2,(0,o.named)(h.TEST_OUTPUT_CHANNEL)),i(3,(0,o.inject)(p.IUnitTestSocketServer))],v),t.UnittestRunner=v},16903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnittestTestDiscoveryAdapter=void 0;const r=n(71017),i=n(59314),o=n(63281);t.UnittestTestDiscoveryAdapter=class{constructor(e,t){this.testServer=e,this.configSettings=t,e.onDataReceived(this.onDataReceivedHandler,this)}onDataReceivedHandler({cwd:e,data:t}){if(this.deferred&&e===this.cwd){const e=JSON.parse(t);this.deferred.resolve(e),this.deferred=void 0}}async discoverTests(e){if(!this.deferred){const n=this.configSettings.getSettings(e),{unittestArgs:s}=n.testing,a=(t=s,{script:r.join(o.EXTENSION_ROOT_DIR,"pythonFiles","unittestadapter","discovery.py"),args:["--udiscovery",...t]});this.cwd=e.fsPath;const c={workspaceFolder:e,command:a,cwd:this.cwd};this.deferred=(0,i.createDeferred)(),this.testServer.sendCommand(c)}var t;return this.deferred.promise}}},928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnittestTestExecutionAdapter=void 0;const r=n(71017),i=n(59314),o=n(63281);t.UnittestTestExecutionAdapter=class{constructor(e,t){this.testServer=e,this.configSettings=t,e.onDataReceived(this.onDataReceivedHandler,this)}onDataReceivedHandler({cwd:e,data:t}){if(this.deferred&&e===this.cwd){const e=JSON.parse(t);this.deferred.resolve(e),this.deferred=void 0}}async runTests(e,t,n){if(!this.deferred){const a=this.configSettings.getSettings(e),{unittestArgs:c}=a.testing,u=(s=c,{script:r.join(o.EXTENSION_ROOT_DIR,"pythonFiles","unittestadapter","execution.py"),args:["--udiscovery",...s]});this.cwd=e.fsPath;const l={workspaceFolder:e,command:u,cwd:this.cwd,debugBool:n,testIds:t};this.deferred=(0,i.createDeferred)(),this.testServer.sendCommand(l)}var s;return this.deferred.promise}}},7975:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},i=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.UnittestController=void 0;const o=n(71017),s=n(73837),a=n(86700),c=n(66828),u=n(17585),l=n(61684),d=n(59314),p=n(83194),h=n(78308),f=n(77540),g=n(33108),m=n(62020),v=n(54813),y=n(61522),b=n(81036),S=n(19735);let _=class{constructor(e,t,n,r){this.discoveryRunner=e,this.runner=t,this.configService=n,this.workspaceService=r,this.testData=new Map,this.discovering=new Map,this.idToRawData=new Map}async resolveChildren(e,t,n){const r=this.workspaceService.getWorkspaceFolder(t.uri);if(r){const i=this.discovering.get(r.uri.fsPath);i&&await i.promise;const o=this.testData.get(r.uri.fsPath);if(o)if(o.root===t.id){if(0===o.tests.length)return e.items.delete(t.id),Promise.resolve();o.tests.length>0?await(0,m.updateTestItemFromRawData)(t,e,this.idToRawData,t.id,[o],n):(this.idToRawData.delete(t.id),e.items.delete(t.id))}else{const r=(0,m.getWorkspaceNode)(t,this.idToRawData);r&&await(0,m.updateTestItemFromRawData)(t,e,this.idToRawData,r.id,[o],n)}else{const n=(0,m.getWorkspaceNode)(t,this.idToRawData);n&&e.items.delete(n.id)}}return Promise.resolve()}async refreshTestData(e,t,n){var r;(0,v.sendTelemetryEvent)(y.EventName.UNITTEST_DISCOVERING,void 0,{tool:"unittest"});const i=this.workspaceService.getWorkspaceFolder(t);if(i){const a=this.discovering.get(i.uri.fsPath);if(a)return a.promise;const u=this.configService.getSettings(i.uri),l={workspaceFolder:i.uri,cwd:u.testing.cwd&&u.testing.cwd.length>0?u.testing.cwd:i.uri.fsPath,args:u.testing.unittestArgs,ignoreCache:!0,token:n},h=(0,g.unittestGetTestFolders)(l.args)[0],f=(0,g.unittestGetTestPattern)(l.args),_=(0,g.unittestGetTopLevelDirectory)(l.args);let E=h;if(o.isAbsolute(h)){const e=o.relative(l.cwd,h);E=e.length>0?e:"."}const w=null==_?[h,f]:[h,f,_],P={args:(0,b.unittestDiscovery)(w),cwd:l.cwd,workspaceFolder:l.workspaceFolder,token:l.token,outChannel:l.outChannel},T=(0,d.createDeferred)();let C;this.discovering.set(i.uri.fsPath,T);try{const t=await this.discoveryRunner.run(p.UNITTEST_PROVIDER,P);C=await function(e,t,n,r){const i=[],s=[];for(const e of n){if(null==r?void 0:r.isCancellationRequested)break;const t=e.split(":");if(t.length>3){const e=t.pop(),n=t.pop(),r=t.pop(),o=t.pop(),a=t,c=`${o}.py`,u=`./${[...a,c].join("/")}`;if(n&&r&&o&&e){const t=`${u}::${r}`,o=u;s.push({id:`${u}::${r}::${n}`,name:n,parentid:t,source:`${u}:${e}`}),i.find((e=>e.id===t))||i.push({id:t,name:r,parentid:o,kind:"suite"}),i.find((e=>e.id===o))||i.push({id:o,name:c,parentid:0===a.length?".":`./${a.join("/")}`,kind:"file",relpath:u});const l=[];for(const e of a){const t=0===l.length?".":`./${l.join("/")}`;l.push(e);const n=`./${l.join("/")}`;i.find((e=>e.id===n))||i.push({id:n,name:e,parentid:t,kind:"folder",relpath:n})}}}}return Promise.resolve({rootid:".",root:o.isAbsolute(t)?t:o.resolve(e,t),parents:i,tests:s})}(l.cwd,E,function(e){let t=!1;const n=e.split(/\r?\n/g),r=[];for(const e of n){if(!t&&("start"===e&&(t=!0),e.startsWith("===")))break;r.push(e.trim())}return r.filter((e=>e.length>0))}(t),l.token),this.testData.set(i.uri.fsPath,C);const n=function(e){const t=e.split(/\r?\n/g);let n=!1,r="";const i=[];for(const e of t)n?e.startsWith("=== exception end ===")?(i.push(r),n=!1):r+=`${e}\r\n`:e.startsWith("=== exception start ===")&&(n=!0,r="");return i}(t);if(0===n.length)e.items.delete(`DiscoveryError:${i.uri.fsPath}`);else{(0,S.traceError)("Error discovering unittest tests:\r\n",n.join("\r\n\r\n"));let t=e.items.get(`DiscoveryError:${i.uri.fsPath}`);const r=s.format("Error discovering unittest tests (see Output > Python):\r\n",n.join("\r\n\r\n"));void 0===t&&(t=(0,m.createErrorTestItem)(e,{id:`DiscoveryError:${i.uri.fsPath}`,label:`Unittest Discovery Error [${o.basename(i.uri.fsPath)}]`,error:r}),t.canResolveChildren=!1,e.items.add(t)),t.error=r}T.resolve()}catch(t){(0,v.sendTelemetryEvent)(y.EventName.UNITTEST_DISCOVERY_DONE,void 0,{tool:"unittest",failed:!0});const n=(null===(r=l.token)||void 0===r?void 0:r.isCancellationRequested)?"Cancelled":"Error";(0,S.traceError)(`${n} discovering unittest tests:\r\n`,t),e.items.add((0,m.createErrorTestItem)(e,{id:`DiscoveryError:${i.uri.fsPath}`,label:`Unittest Discovery Error [${o.basename(i.uri.fsPath)}]`,error:s.format(`${n} discovering unittest tests (see Output > Python):\r\n`,t)})),T.reject(t)}finally{this.discovering.delete(i.uri.fsPath)}if(!C)return Promise.resolve();const I=e.items.get(C.root);if(I)if(t.fsPath===i.uri.fsPath)await this.resolveChildren(e,I,n);else{const r=(0,m.getNodeByUri)(I,t);r?await this.resolveChildren(e,r,n):await this.resolveChildren(e,I,n)}else if(C.tests.length>0){const t=(0,m.createWorkspaceRootTestItem)(e,this.idToRawData,{id:C.root,label:o.basename(C.root),uri:c.Uri.file(C.root),runId:"."===C.root?i.uri.fsPath:C.root,rawId:C.rootid});e.items.add(t),await this.resolveChildren(e,t,n)}}return(0,v.sendTelemetryEvent)(y.EventName.UNITTEST_DISCOVERY_DONE,void 0,{tool:"unittest",failed:!1}),Promise.resolve()}runTests(e,t,n,r){const i=this.configService.getSettings(t.uri);return this.runner.runTests(e,{workspaceFolder:t.uri,cwd:i.testing.cwd&&i.testing.cwd.length>0?i.testing.cwd:t.uri.fsPath,token:n,args:i.testing.unittestArgs},this.idToRawData,r)}};_=r([(0,a.injectable)(),i(0,(0,a.inject)(h.ITestRunner)),i(1,(0,a.inject)(f.ITestsRunner)),i(1,(0,a.named)(p.UNITTEST_PROVIDER)),i(2,(0,a.inject)(l.IConfigurationService)),i(3,(0,a.inject)(u.IWorkspaceService))],_),t.UnittestController=_},80454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceTestAdapter=void 0;const r=n(71017),i=n(73837),o=n(66828),s=n(59314),a=n(67098),c=n(19735),u=n(54813),l=n(61522),d=n(62020),p=n(76646);function h(e,t,n,r,i){n||((n=e.createTestItem(t.path,t.name,o.Uri.file(t.path))).canResolveChildren=!0,n.tags=[d.RunTestTag,d.DebugTestTag],e.items.add(n)),t.children.forEach((t=>{if(!(null==i?void 0:i.isCancellationRequested))if("test"===t.type_){const i=e.createTestItem(t.id_,t.name,o.Uri.file(t.path));i.tags=[d.RunTestTag,d.DebugTestTag];const s=new o.Range(new o.Position(Number(t.lineno)-1,0),new o.Position(Number(t.lineno),0));i.canResolveChildren=!1,i.range=s,i.tags=[d.RunTestTag,d.DebugTestTag],n.children.add(i),r.runIdToTestItem.set(t.runID,i),r.runIdToVSid.set(t.runID,t.id_),r.vsIdToRunId.set(t.id_,t.runID)}else{let s=e.items.get(t.path);s||(s=e.createTestItem(t.id_,t.name,o.Uri.file(t.path)),s.canResolveChildren=!0,s.tags=[d.RunTestTag,d.DebugTestTag],n.children.add(s)),h(e,t,s,r,i)}}))}function f(e,t){return{id:`DiscoveryError:${e.fsPath}`,label:`Unittest Discovery Error [${r.basename(e.fsPath)}]`,error:t}}t.WorkspaceTestAdapter=class{constructor(e,t,n,r){this.testProvider=e,this.discoveryAdapter=t,this.executionAdapter=n,this.workspaceUri=r,this.runIdToTestItem=new Map,this.runIdToVSid=new Map,this.vsIdToRunId=new Map}async executeTests(e,t,n,r,h){var g;if(this.executing)return this.executing.promise;const m=(0,s.createDeferred)();let v;this.executing=m;const y=[],b=[];try{n.forEach((e=>{const t=(0,d.getTestCaseNodes)(e);y.push(...t)})),y.forEach((e=>{t.started(e);const n=this.vsIdToRunId.get(e.id);n&&b.push(n)})),v=await this.executionAdapter.runTests(this.workspaceUri,b,h),m.resolve()}catch(t){(0,u.sendTelemetryEvent)(l.EventName.UNITTEST_RUN_ALL_FAILED,void 0);const n=(null==r?void 0:r.isCancellationRequested)?a.Testing.cancelUnittestExecution:a.Testing.errorUnittestExecution;(0,c.traceError)(`${n}\r\n`,t);const o=i.format(`${n} ${a.Testing.seePythonOutput}\r\n`,t),s=f(this.workspaceUri,o),p=(0,d.createErrorTestItem)(e,s);e.items.add(p),m.reject(t)}finally{this.executing=void 0}if(void 0!==v&&void 0!==v.result)for(const n of Object.keys(v.result)){const r=[];if(e.items.forEach((e=>{const t=(0,d.getTestCaseNodes)(e);r.push(...t)})),"failure"===v.result[n].outcome||"subtest-failure"===v.result[n].outcome||"passed-unexpected"===v.result[n].outcome){const e=v.result[n].traceback?v.result[n].traceback.splitLines({trim:!1,removeEmptyEntries:!0}).join("\r\n"):"",i=`${v.result[n].test} failed: ${null!==(g=v.result[n].message)&&void 0!==g?g:v.result[n].outcome}\r\n${e}\r\n`,s=new o.TestMessage(i),a=this.runIdToVSid.get(n);r.forEach((e=>{e.id===a&&e.uri&&e.range&&(s.location=new o.Location(e.uri,e.range),t.failed(e,s),t.appendOutput((0,p.fixLogLines)(i)))}))}else if("success"===v.result[n].outcome||"expected-failure"===v.result[n].outcome||"subtest-passed"===v.result[n].outcome){const e=this.runIdToTestItem.get(n),i=this.runIdToVSid.get(n);void 0!==e&&r.forEach((n=>{n.id===i&&n.uri&&n.range&&(t.passed(e),t.appendOutput("Passed here"))}))}else if("skipped"===v.result[n].outcome){const e=this.runIdToTestItem.get(n),i=this.runIdToVSid.get(n);void 0!==e&&r.forEach((n=>{n.id===i&&n.uri&&n.range&&(t.skipped(e),t.appendOutput("Skipped here"))}))}}return Promise.resolve()}async discoverTests(e,t,n,o){(0,u.sendTelemetryEvent)(l.EventName.UNITTEST_DISCOVERING,void 0,{tool:this.testProvider});const p=this.workspaceUri.fsPath;if(this.discovering)return this.discovering.promise;const g=(0,s.createDeferred)();let m;this.discovering=g;try{m=await this.discoveryAdapter.discoverTests(this.workspaceUri),g.resolve()}catch(n){(0,u.sendTelemetryEvent)(l.EventName.UNITTEST_DISCOVERY_DONE,void 0,{tool:this.testProvider,failed:!0});const r=(null==t?void 0:t.isCancellationRequested)?a.Testing.cancelUnittestDiscovery:a.Testing.errorUnittestDiscovery;(0,c.traceError)(`${r}\r\n`,n);const o=i.format(`${r} ${a.Testing.seePythonOutput}\r\n`,n),s=f(this.workspaceUri,o),p=(0,d.createErrorTestItem)(e,s);e.items.add(p),g.reject(n)}finally{this.discovering=void 0}if(!m)return Promise.resolve();if("error"===m.status){const{errors:t}=m;(0,c.traceError)(a.Testing.errorUnittestDiscovery,"\r\n",t.join("\r\n\r\n"));let n=e.items.get(`DiscoveryError:${p}`);const r=i.format(`${a.Testing.errorUnittestDiscovery} ${a.Testing.seePythonOutput}\r\n`,t.join("\r\n\r\n"));if(void 0===n){const t=f(this.workspaceUri,r);n=(0,d.createErrorTestItem)(e,t),e.items.add(n)}n.error=r}else{e.items.delete(`DiscoveryError:${p}`);const i=m.tests;let s=p,a=s,c=r.basename(s);n&&(s=o,a=p,c=r.basename(p));const u=[{path:a,name:c,type_:"folder",id_:a,children:i?[i]:[]}];m.tests={path:s,name:this.testProvider,type_:"folder",id_:s,children:u},m.tests?h(e,m.tests,void 0,this,t):e.items.replace([])}return(0,u.sendTelemetryEvent)(l.EventName.UNITTEST_DISCOVERY_DONE,void 0,{tool:this.testProvider,failed:!1}),Promise.resolve()}}},40704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ITestingService=void 0,t.ITestingService=Symbol("ITestingService")},99239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(18472);r.config({messageFormat:r.MessageFormat.bundle,bundleFormat:r.BundleFormat.standalone})},89877:(e,t,n)=>{var r,i=Object.create,o=Object.defineProperty,s=Object.defineProperties,a=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,d=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&f(e,n,t[n]);if(l)for(var n of l(t))h.call(t,n)&&f(e,n,t[n]);return e},m=(e,t)=>s(e,c(t)),v=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),y=(e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of u(t))!p.call(e,i)&&i!==n&&o(e,i,{get:()=>t[i],enumerable:!(r=a(t,i))||r.enumerable});return e},b=(e,t,n)=>(n=null!=e?i(d(e)):{},y(!t&&e&&e.__esModule?n:o(n,"default",{value:e,enumerable:!0}),e)),S=v(((e,t)=>{"use strict";var n=function(){function e(){}return e.info=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.enableDebug&&console.info(e.TAG+t,n)},e.warn=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.disableWarnings||console.warn(e.TAG+t,n)},e.enableDebug=!1,e.disableWarnings=!1,e.disableErrors=!1,e.TAG="ApplicationInsights:",e}();t.exports=n})),_=v((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncScopeManager=e.OpenTelemetryScopeManagerWrapper=void 0;var r=vr(),i=n(82361),o=function(){function e(){}return e.prototype.active=function(){var e=this,n=r.CorrelationContextManager.getCurrentContext();return t(t({},n),{getValue:function(t){return e._activeSymbol?t===e._activeSymbol&&n:(e._activeSymbol=t,n)},setValue:function(){}})},e.prototype.with=function(t,n){var i=t.parentSpanId,o=t.name,s=e._spanToContext(t,i,o);return r.CorrelationContextManager.runWithContext(s,n)()},e.prototype.bind=function(e){return"function"==typeof e?r.CorrelationContextManager.wrapCallback(e):(e instanceof i.EventEmitter&&r.CorrelationContextManager.wrapEmitter(e),e)},e.prototype.enable=function(){return r.CorrelationContextManager.enable(),this},e.prototype.disable=function(){return r.CorrelationContextManager.disable(),this},e._spanToContext=function(e,n,i){var o=n?"|"+e.spanContext().traceId+"."+n+".":e.spanContext().traceId,s=t(t({},e.spanContext()),{traceFlags:e.spanContext().traceFlags});return r.CorrelationContextManager.spanToContextObject(s,o,i)},e}();e.OpenTelemetryScopeManagerWrapper=o,e.AsyncScopeManager=new o})),E=v(((e,t)=>{var n;e=t.exports=G,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,i=e.re=[],o=e.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;o[l]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var d=s++;o[d]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[u]+")";var h=s++;o[h]="(?:"+o[c]+"|"+o[u]+")";var f=s++;o[f]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var g=s++;o[g]="(?:-?("+o[h]+"(?:\\."+o[h]+")*))";var m=s++;o[m]="[0-9A-Za-z-]+";var v=s++;o[v]="(?:\\+("+o[m]+"(?:\\."+o[m]+")*))";var y=s++,b="v?"+o[l]+o[f]+"?"+o[v]+"?";o[y]="^"+b+"$";var S="[v=\\s]*"+o[d]+o[g]+"?"+o[v]+"?",_=s++;o[_]="^"+S+"$";var E=s++;o[E]="((?:<|>)?=?)";var w=s++;o[w]=o[c]+"|x|X|\\*";var P=s++;o[P]=o[a]+"|x|X|\\*";var T=s++;o[T]="[v=\\s]*("+o[P]+")(?:\\.("+o[P]+")(?:\\.("+o[P]+")(?:"+o[f]+")?"+o[v]+"?)?)?";var C=s++;o[C]="[v=\\s]*("+o[w]+")(?:\\.("+o[w]+")(?:\\.("+o[w]+")(?:"+o[g]+")?"+o[v]+"?)?)?";var I=s++;o[I]="^"+o[E]+"\\s*"+o[T]+"$";var R=s++;o[R]="^"+o[E]+"\\s*"+o[C]+"$";var D=s++;o[D]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var O=s++;o[O]="(?:~>?)";var k=s++;o[k]="(\\s*)"+o[O]+"\\s+",i[k]=new RegExp(o[k],"g");var x=s++;o[x]="^"+o[O]+o[T]+"$";var N=s++;o[N]="^"+o[O]+o[C]+"$";var A=s++;o[A]="(?:\\^)";var j=s++;o[j]="(\\s*)"+o[A]+"\\s+",i[j]=new RegExp(o[j],"g");var M=s++;o[M]="^"+o[A]+o[T]+"$";var L=s++;o[L]="^"+o[A]+o[C]+"$";var F=s++;o[F]="^"+o[E]+"\\s*("+S+")$|^$";var q=s++;o[q]="^"+o[E]+"\\s*("+b+")$|^$";var U=s++;o[U]="(\\s*)"+o[E]+"\\s*("+S+"|"+o[T]+")",i[U]=new RegExp(o[U],"g");var W=s++;o[W]="^\\s*("+o[T]+")\\s+-\\s+("+o[T]+")\\s*$";var V=s++;o[V]="^\\s*("+o[C]+")\\s+-\\s+("+o[C]+")\\s*$";var H,$=s++;for(o[$]="(<|>)?=?\\s*\\*",H=0;H<35;H++)n(H,o[H]),i[H]||(i[H]=new RegExp(o[H]));function B(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof G)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?i[_]:i[y]).test(e))return null;try{return new G(e,t)}catch{return null}}function G(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof G){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof G))return new G(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[_]:i[y]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}e.parse=B,e.valid=function(e,t){var n=B(e,t);return n?n.version:null},e.clean=function(e,t){var n=B(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},e.SemVer=G,G.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},G.prototype.toString=function(){return this.version},G.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof G||(e=new G(e,this.options)),this.compareMain(e)||this.comparePre(e)},G.prototype.compareMain=function(e){return e instanceof G||(e=new G(e,this.options)),z(this.major,e.major)||z(this.minor,e.minor)||z(this.patch,e.patch)},G.prototype.comparePre=function(e){if(e instanceof G||(e=new G(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return z(r,i)}while(++t)},G.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new G(e,n).inc(t,r).version}catch{return null}},e.diff=function(e,t){if(Q(e,t))return null;var n=B(e),r=B(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},e.compareIdentifiers=z;var K=/^[0-9]+$/;function z(e,t){var n=K.test(e),r=K.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function Y(e,t,n){return new G(e,n).compare(new G(t,n))}function J(e,t,n){return Y(e,t,n)>0}function X(e,t,n){return Y(e,t,n)<0}function Q(e,t,n){return 0===Y(e,t,n)}function Z(e,t,n){return 0!==Y(e,t,n)}function ee(e,t,n){return Y(e,t,n)>=0}function te(e,t,n){return Y(e,t,n)<=0}function ne(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return Q(e,n,r);case"!=":return Z(e,n,r);case">":return J(e,n,r);case">=":return ee(e,n,r);case"<":return X(e,n,r);case"<=":return te(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function re(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof re){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof re))return new re(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(e,t){return z(t,e)},e.major=function(e,t){return new G(e,t).major},e.minor=function(e,t){return new G(e,t).minor},e.patch=function(e,t){return new G(e,t).patch},e.compare=Y,e.compareLoose=function(e,t){return Y(e,t,!0)},e.rcompare=function(e,t,n){return Y(t,e,n)},e.sort=function(t,n){return t.sort((function(t,r){return e.compare(t,r,n)}))},e.rsort=function(t,n){return t.sort((function(t,r){return e.rcompare(t,r,n)}))},e.gt=J,e.lt=X,e.eq=Q,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=ne,e.Comparator=re;var ie={};function oe(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof re)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,n,r,i,o,s,a,c,u,l,d,p){return((t=se(n)?"":se(r)?">="+n+".0.0":se(i)?">="+n+"."+r+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":d?"<="+c+"."+u+"."+l+"-"+d:"<="+a)).trim()}function ce(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==ie&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,n){try{t=new oe(t,n)}catch{return!1}return t.test(e)}function le(e,t,n,r){var i,o,s,a,c;switch(e=new G(e,r),t=new oe(t,r),n){case">":i=J,o=te,s=X,a=">",c=">=";break;case"<":i=X,o=ee,s=J,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,r))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],d=null,p=null;if(l.forEach((function(e){e.semver===ie&&(e=new re(">=0.0.0")),d=d||e,p=p||e,i(e.semver,d.semver,r)?d=e:s(e.semver,p.semver,r)&&(p=e)})),d.operator===a||d.operator===c||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}re.prototype.parse=function(e){var t=this.options.loose?i[F]:i[q],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new G(n[2],this.options.loose):this.semver=ie},re.prototype.toString=function(){return this.value},re.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new G(e,this.options)),ne(e,this.operator,this.semver,this.options))},re.prototype.intersects=function(e,t){if(!(e instanceof re))throw new TypeError("a Comparator is required");var n;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new oe(e.value,t),ue(this.value,n,t);if(""===e.operator)return n=new oe(this.value,t),ue(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},e.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?i[V]:i[W];e=e.replace(r,ae),n("hyphen replace",e),e=e.replace(i[U],"$1$2$3"),n("comparator trim",e,i[U]),e=(e=(e=e.replace(i[k],"$1~")).replace(i[j],"$1^")).split(/\s+/).join(" ");var o=t?i[F]:i[q],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?i[L]:i[M];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),se(r)?a="":se(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?i[N]:i[x];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),se(r)?a="":se(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?i[R]:i[I];return e.replace(r,(function(t,r,i,o,s,a){n("xRange",e,t,r,i,o,s,a);var c=se(i),u=c||se(o),l=u||se(s);return"="===r&&l&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&l?(u&&(o=0),s=0,">"===r?(r=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",u?i=+i+1:o=+o+1),t=r+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(i[$],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new re(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new G(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},e.satisfies=ue,e.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new oe(t,n)}catch{return null}return e.forEach((function(e){o.test(e)&&(!r||-1===i.compare(e))&&(i=new G(r=e,n))})),r},e.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new oe(t,n)}catch{return null}return e.forEach((function(e){o.test(e)&&(!r||1===i.compare(e))&&(i=new G(r=e,n))})),r},e.minVersion=function(e,t){e=new oe(e,t);var n=new G("0.0.0");if(e.test(n)||(n=new G("0.0.0-0"),e.test(n)))return n;n=null;for(var r=0;r<e.set.length;++r)e.set[r].forEach((function(e){var t=new G(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!n||J(n,t))&&(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return n&&e.test(n)?n:null},e.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch{return null}},e.ltr=function(e,t,n){return le(e,t,"<",n)},e.gtr=function(e,t,n){return le(e,t,">",n)},e.outside=le,e.prerelease=function(e,t){var n=B(e,t);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(e,t,n){return e=new oe(e,n),t=new oe(t,n),e.intersects(t)},e.coerce=function(e){if(e instanceof G)return e;if("string"!=typeof e)return null;var t=e.match(i[D]);return null==t?null:B(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),w=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makePatchingRequire=void 0;var t=n(71017),r=E(),i=n(98188),o=Object.keys(process.binding("natives")),s=i.prototype.require;e.makePatchingRequire=function(e){var n={};return function(a){var c=s.apply(this,arguments);if(e[a]){var u=i._resolveFilename(a,this);if(n.hasOwnProperty(u))return n[u];var l=void 0;if(o.indexOf(a)<0)try{l=s.call(this,t.join(a,"package.json")).version}catch{return c}else l=process.version.substring(1);var d=l.indexOf("-");d>=0&&(l=l.substring(0,d));for(var p=c,h=0,f=e[a];h<f.length;h++){var g=f[h];r.satisfies(l,g.versionSpecifier)&&(p=g.patch(p,u))}return n[u]=p}return c}}})),P=v(((e,t)=>{t.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}})),T=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.channel=e.makePatchingRequire=void 0;var t=w(),r=w();Object.defineProperty(e,"makePatchingRequire",{enumerable:!0,get:function(){return r.makePatchingRequire}});var i=function(e){return!0},o=function(){function e(){this.version=P().version,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some((function(e){var t=e.filter;return!t||t(!1)}))},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var n=this.subscribers[e];if(n){var r={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,n.forEach((function(e){var t=e.listener,n=e.filter;try{n&&n(!0)&&t(r)}catch{}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,n){void 0===n&&(n=i),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:n})},e.prototype.unsubscribe=function(e,t,n){void 0===n&&(n=i);var r=this.subscribers[e];if(r)for(var o=0;o<r.length;++o)if(r[o].listener===t&&r[o].filter===n)return r.splice(o,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach((function(t){return delete e.knownPatches[t]}))},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(n){return e(t(n))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new o,n(98188).prototype.require=t.makePatchingRequire(global.diagnosticsSource.getPatchesObject())),e.channel=global.diagnosticsSource})),C=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),I=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._globalThis=void 0,e._globalThis="object"==typeof globalThis?globalThis:global})),R=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(I(),e)})),D=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(R(),e)})),O=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="1.0.3"})),k=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCompatible=e._makeCompatibilityCheck=void 0;var t=O(),n=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function r(e){var t=new Set([e]),r=new Set,i=e.match(n);if(!i)return function(){return!1};var o=+i[1],s=+i[2],a=+i[3];if(null!=i[4])return function(t){return t===e};function c(e){return r.add(e),!1}function u(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;var i=e.match(n);if(!i)return c(e);var l=+i[1],d=+i[2],p=+i[3];return null!=i[4]||o!==l?c(e):0===o?s===d&&a<=p?u(e):c(e):s<=d?u(e):c(e)}}e._makeCompatibilityCheck=r,e.isCompatible=r(t.VERSION)})),x=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unregisterGlobal=e.getGlobal=e.registerGlobal=void 0;var t=D(),n=O(),r=k(),i=n.VERSION.split(".")[0],o=Symbol.for("opentelemetry.js.api."+i),s=t._globalThis;e.registerGlobal=function(e,t,r,i){var a;void 0===i&&(i=!1);var c=s[o]=null!==(a=s[o])&&void 0!==a?a:{version:n.VERSION};if(!i&&c[e]){var u=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(u.stack||u.message),!1}return c.version!==n.VERSION?(u=new Error("@opentelemetry/api: All API registration versions must match"),r.error(u.stack||u.message),!1):(c[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+n.VERSION+"."),!0)},e.getGlobal=function(e){var t,n,i=null===(t=s[o])||void 0===t?void 0:t.version;if(i&&r.isCompatible(i))return null===(n=s[o])||void 0===n?void 0:n[e]},e.unregisterGlobal=function(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+n.VERSION+".");var r=s[o];r&&delete r[e]}})),N=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagComponentLogger=void 0;var t=x(),n=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r("verbose",this._namespace,e)},e}();function r(e,n,r){var i=t.getGlobal("diag");if(i)return r.unshift(n),i[e].apply(i,r)}e.DiagComponentLogger=n})),A=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.DiagLogLevel=void 0,(t=e.DiagLogLevel||(e.DiagLogLevel={}))[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})),j=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLogLevelDiagLogger=void 0;var t=A();e.createLogLevelDiagLogger=function(e,n){function r(t,r){var i=n[t];return"function"==typeof i&&e>=r?i.bind(n):function(){}}return e<t.DiagLogLevel.NONE?e=t.DiagLogLevel.NONE:e>t.DiagLogLevel.ALL&&(e=t.DiagLogLevel.ALL),n=n||{},{error:r("error",t.DiagLogLevel.ERROR),warn:r("warn",t.DiagLogLevel.WARN),info:r("info",t.DiagLogLevel.INFO),debug:r("debug",t.DiagLogLevel.DEBUG),verbose:r("verbose",t.DiagLogLevel.VERBOSE)}}})),M=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagAPI=void 0;var t=N(),n=j(),r=A(),i=x(),o=function(){function e(){function e(e){return function(){var t=i.getGlobal("diag");if(t)return t[e].apply(t,arguments)}}var o=this;o.setLogger=function(e,t){var s,a;if(void 0===t&&(t=r.DiagLogLevel.INFO),e===o){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return o.error(null!==(s=c.stack)&&void 0!==s?s:c.message),!1}var u=i.getGlobal("diag"),l=n.createLogLevelDiagLogger(t,e);if(u){var d=null!==(a=(new Error).stack)&&void 0!==a?a:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+d),l.warn("Current logger will overwrite one already registered from "+d)}return i.registerGlobal("diag",l,o,!0)},o.disable=function(){i.unregisterGlobal("diag",o)},o.createComponentLogger=function(e){return new t.DiagComponentLogger(e)},o.verbose=e("verbose"),o.debug=e("debug"),o.info=e("info"),o.warn=e("warn"),o.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();e.DiagAPI=o})),L=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaggageImpl=void 0;var t=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){return[e[0],e[1]]}))},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=new e(this._entries),i=0,o=t;i<o.length;i++){var s=o[i];r._entries.delete(s)}return r},e.prototype.clear=function(){return new e},e}();e.BaggageImpl=t})),F=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataSymbol=void 0,e.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")})),q=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.baggageEntryMetadataFromString=e.createBaggage=void 0;var t=M(),n=L(),r=F(),i=t.DiagAPI.instance();e.createBaggage=function(e){return void 0===e&&(e={}),new n.BaggageImpl(new Map(Object.entries(e)))},e.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(i.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:r.baggageEntryMetadataSymbol,toString:function(){return e}}}})),U=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),W=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),V=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiagConsoleLogger=void 0;var t=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];e.DiagConsoleLogger=function(){function e(e){return function(){var t=arguments;if(console){var n=console[e];if("function"!=typeof n&&(n=console.log),"function"==typeof n)return n.apply(console,t)}}}for(var n=0;n<t.length;n++)this[t[n].n]=e(t[n].c)}})),H=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(V(),e),n(A(),e)})),$=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultTextMapSetter=e.defaultTextMapGetter=void 0,e.defaultTextMapGetter={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},e.defaultTextMapSetter={set:function(e,t,n){null!=e&&(e[t]=n)}}})),B=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),G=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),K=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ROOT_CONTEXT=e.createContextKey=void 0,e.createContextKey=function(e){return Symbol.for(e)};e.ROOT_CONTEXT=new function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var i=new e(n._currentContext);return i._currentContext.set(t,r),i},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}}})),z=v((e=>{"use strict";var t=e&&e.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.NoopContextManager=void 0;var n=K(),r=function(){function e(){}return e.prototype.active=function(){return n.ROOT_CONTEXT},e.prototype.with=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return n.call.apply(n,t([r],i))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();e.NoopContextManager=r})),Y=v((e=>{"use strict";var t=e&&e.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.ContextAPI=void 0;var n=z(),r=x(),i=M(),o="context",s=new n.NoopContextManager,a=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return r.registerGlobal(o,e,i.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,t([e,n,r],o))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return r.getGlobal(o)||s},e.prototype.disable=function(){this._getContextManager().disable(),r.unregisterGlobal(o,i.DiagAPI.instance())},e}();e.ContextAPI=a})),J=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TraceFlags=void 0,(t=e.TraceFlags||(e.TraceFlags={}))[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})),X=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=void 0;var t=J();e.INVALID_SPANID="0000000000000000",e.INVALID_TRACEID="00000000000000000000000000000000",e.INVALID_SPAN_CONTEXT={traceId:e.INVALID_TRACEID,spanId:e.INVALID_SPANID,traceFlags:t.TraceFlags.NONE}})),Q=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NonRecordingSpan=void 0;var t=X(),n=function(){function e(e){void 0===e&&(e=t.INVALID_SPAN_CONTEXT),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}();e.NonRecordingSpan=n})),Z=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpanContext=e.setSpanContext=e.deleteSpan=e.setSpan=e.getSpan=void 0;var t=K(),n=Q(),r=t.createContextKey("OpenTelemetry Context Key SPAN");function i(e){return e.getValue(r)||void 0}function o(e,t){return e.setValue(r,t)}e.getSpan=i,e.setSpan=o,e.deleteSpan=function(e){return e.deleteValue(r)},e.setSpanContext=function(e,t){return o(e,new n.NonRecordingSpan(t))},e.getSpanContext=function(e){var t;return null===(t=i(e))||void 0===t?void 0:t.spanContext()}})),ee=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wrapSpanContext=e.isSpanContextValid=e.isValidSpanId=e.isValidTraceId=void 0;var t=X(),n=Q(),r=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function o(e){return r.test(e)&&e!==t.INVALID_TRACEID}function s(e){return i.test(e)&&e!==t.INVALID_SPANID}e.isValidTraceId=o,e.isValidSpanId=s,e.isSpanContextValid=function(e){return o(e.traceId)&&s(e.spanId)},e.wrapSpanContext=function(e){return new n.NonRecordingSpan(e)}})),te=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracer=void 0;var t=Y(),n=Z(),r=Q(),i=ee(),o=t.ContextAPI.getInstance(),s=function(){function e(){}return e.prototype.startSpan=function(e,t,o){if(Boolean(null==t?void 0:t.root))return new r.NonRecordingSpan;var s=o&&n.getSpanContext(o);return function(e){return"object"==typeof e&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags}(s)&&i.isSpanContextValid(s)?new r.NonRecordingSpan(s):new r.NonRecordingSpan},e.prototype.startActiveSpan=function(e,t,r,i){var s,a,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(s=t,c=r):(s=t,a=r,c=i);var u=a??o.active(),l=this.startSpan(e,s,u),d=n.setSpan(u,l);return o.with(d,c,void 0,l)}},e}();e.NoopTracer=s})),ne=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracer=void 0;var t=new(te().NoopTracer),n=function(){function e(e,t,n){this._provider=e,this.name=t,this.version=n}return e.prototype.startSpan=function(e,t,n){return this._getTracer().startSpan(e,t,n)},e.prototype.startActiveSpan=function(e,t,n,r){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version);return e?(this._delegate=e,this._delegate):t},e}();e.ProxyTracer=n})),re=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTracerProvider=void 0;var t=te(),n=function(){function e(){}return e.prototype.getTracer=function(e,n){return new t.NoopTracer},e}();e.NoopTracerProvider=n})),ie=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProxyTracerProvider=void 0;var t=ne(),n=new(re().NoopTracerProvider),r=function(){function e(){}return e.prototype.getTracer=function(e,n){var r;return null!==(r=this.getDelegateTracer(e,n))&&void 0!==r?r:new t.ProxyTracer(this,e,n)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:n},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t)},e}();e.ProxyTracerProvider=r})),oe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),se=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SamplingDecision=void 0,(t=e.SamplingDecision||(e.SamplingDecision={}))[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})),ae=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ce=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SpanKind=void 0,(t=e.SpanKind||(e.SpanKind={}))[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})),ue=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),le=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),de=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SpanStatusCode=void 0,(t=e.SpanStatusCode||(e.SpanStatusCode={}))[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})),pe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),he=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),fe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ge=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),me=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceAPI=void 0;var t=x(),n=ie(),r=ee(),i=Z(),o=M(),s="trace",a=function(){function e(){this._proxyTracerProvider=new n.ProxyTracerProvider,this.wrapSpanContext=r.wrapSpanContext,this.isSpanContextValid=r.isSpanContextValid,this.deleteSpan=i.deleteSpan,this.getSpan=i.getSpan,this.getSpanContext=i.getSpanContext,this.setSpan=i.setSpan,this.setSpanContext=i.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var n=t.registerGlobal(s,this._proxyTracerProvider,o.DiagAPI.instance());return n&&this._proxyTracerProvider.setDelegate(e),n},e.prototype.getTracerProvider=function(){return t.getGlobal(s)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){t.unregisterGlobal(s,o.DiagAPI.instance()),this._proxyTracerProvider=new n.ProxyTracerProvider},e}();e.TraceAPI=a})),ve=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopTextMapPropagator=void 0;var t=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}();e.NoopTextMapPropagator=t})),ye=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deleteBaggage=e.setBaggage=e.getBaggage=void 0;var t=K().createContextKey("OpenTelemetry Baggage Key");e.getBaggage=function(e){return e.getValue(t)||void 0},e.setBaggage=function(e,n){return e.setValue(t,n)},e.deleteBaggage=function(e){return e.deleteValue(t)}})),be=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PropagationAPI=void 0;var t=x(),n=ve(),r=$(),i=ye(),o=q(),s=M(),a="propagation",c=new n.NoopTextMapPropagator,u=function(){function e(){this.createBaggage=o.createBaggage,this.getBaggage=i.getBaggage,this.setBaggage=i.setBaggage,this.deleteBaggage=i.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return t.registerGlobal(a,e,s.DiagAPI.instance())},e.prototype.inject=function(e,t,n){return void 0===n&&(n=r.defaultTextMapSetter),this._getGlobalPropagator().inject(e,t,n)},e.prototype.extract=function(e,t,n){return void 0===n&&(n=r.defaultTextMapGetter),this._getGlobalPropagator().extract(e,t,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){t.unregisterGlobal(a,s.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return t.getGlobal(a)||c},e}();e.PropagationAPI=u})),Se=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.diag=e.propagation=e.trace=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.baggageEntryMetadataFromString=void 0,n(C(),e);var r=q();Object.defineProperty(e,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return r.baggageEntryMetadataFromString}}),n(U(),e),n(W(),e),n(H(),e),n($(),e),n(B(),e),n(G(),e),n(ne(),e),n(ie(),e),n(oe(),e),n(se(),e),n(ae(),e),n(ce(),e),n(ue(),e),n(le(),e),n(de(),e),n(J(),e),n(pe(),e),n(he(),e),n(fe(),e);var i=ee();Object.defineProperty(e,"isSpanContextValid",{enumerable:!0,get:function(){return i.isSpanContextValid}}),Object.defineProperty(e,"isValidTraceId",{enumerable:!0,get:function(){return i.isValidTraceId}}),Object.defineProperty(e,"isValidSpanId",{enumerable:!0,get:function(){return i.isValidSpanId}});var o=X();Object.defineProperty(e,"INVALID_SPANID",{enumerable:!0,get:function(){return o.INVALID_SPANID}}),Object.defineProperty(e,"INVALID_TRACEID",{enumerable:!0,get:function(){return o.INVALID_TRACEID}}),Object.defineProperty(e,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return o.INVALID_SPAN_CONTEXT}}),n(K(),e),n(ge(),e);var s=Y();e.context=s.ContextAPI.getInstance();var a=me();e.trace=a.TraceAPI.getInstance();var c=be();e.propagation=c.PropagationAPI.getInstance();var u=M();e.diag=u.DiagAPI.instance(),e.default={trace:e.trace,context:e.context,propagation:e.propagation,diag:e.diag}})),_e=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTracingSuppressed=e.unsuppressTracing=e.suppressTracing=void 0;var t=Se().createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");e.suppressTracing=function(e){return e.setValue(t,!0)},e.unsuppressTracing=function(e){return e.deleteValue(t)},e.isTracingSuppressed=function(e){return!0===e.getValue(t)}})),Ee=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BAGGAGE_MAX_TOTAL_LENGTH=e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=e.BAGGAGE_MAX_NAME_VALUE_PAIRS=e.BAGGAGE_HEADER=e.BAGGAGE_ITEMS_SEPARATOR=e.BAGGAGE_PROPERTIES_SEPARATOR=e.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,e.BAGGAGE_KEY_PAIR_SEPARATOR="=",e.BAGGAGE_PROPERTIES_SEPARATOR=";",e.BAGGAGE_ITEMS_SEPARATOR=",",e.BAGGAGE_HEADER="baggage",e.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,e.BAGGAGE_MAX_TOTAL_LENGTH=8192})),we=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseKeyPairsIntoRecord=e.parsePairKeyValue=e.getKeyPairs=e.serializeKeyPairs=void 0;var t=Se(),n=Ee();e.serializeKeyPairs=e=>e.reduce(((e,t)=>{let r=`${e}${""!==e?n.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return r.length>n.BAGGAGE_MAX_TOTAL_LENGTH?e:r}),""),e.getKeyPairs=e=>e.getAllEntries().map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`)),e.parsePairKeyValue=e=>{let r=e.split(n.BAGGAGE_PROPERTIES_SEPARATOR);if(r.length<=0)return;let i=r.shift();if(!i)return;let o=i.split(n.BAGGAGE_KEY_PAIR_SEPARATOR);if(2!==o.length)return;let s,a=decodeURIComponent(o[0].trim()),c=decodeURIComponent(o[1].trim());return r.length>0&&(s=t.baggageEntryMetadataFromString(r.join(n.BAGGAGE_PROPERTIES_SEPARATOR))),{key:a,value:c,metadata:s}},e.parseKeyPairsIntoRecord=t=>"string"!=typeof t||0===t.length?{}:t.split(n.BAGGAGE_ITEMS_SEPARATOR).map((t=>e.parsePairKeyValue(t))).filter((e=>void 0!==e&&e.value.length>0)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})})),Pe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpBaggagePropagator=void 0;var t=Se(),n=_e(),r=Ee(),i=we();e.HttpBaggagePropagator=class{inject(e,o,s){let a=t.propagation.getBaggage(e);if(!a||n.isTracingSuppressed(e))return;let c=i.getKeyPairs(a).filter((e=>e.length<=r.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS)).slice(0,r.BAGGAGE_MAX_NAME_VALUE_PAIRS),u=i.serializeKeyPairs(c);u.length>0&&s.set(o,r.BAGGAGE_HEADER,u)}extract(e,n,o){let s=o.get(n,r.BAGGAGE_HEADER);if(!s)return e;let a={};return 0===s.length||(s.split(r.BAGGAGE_ITEMS_SEPARATOR).forEach((e=>{let t=i.parsePairKeyValue(e);if(t){let e={value:t.value};t.metadata&&(e.metadata=t.metadata),a[t.key]=e}})),0===Object.entries(a).length)?e:t.propagation.setBaggage(e,t.propagation.createBaggage(a))}fields(){return[r.BAGGAGE_HEADER]}}})),Te=v((e=>{"use strict";function t(e){return null==e||(Array.isArray(e)?function(e){let t;for(let r of e)if(null!=r){if(!t){if(n(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}(e):n(e))}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.isAttributeValue=e.sanitizeAttributes=void 0,e.sanitizeAttributes=function(e){let n={};if(null==e||"object"!=typeof e)return n;for(let[r,i]of Object.entries(e))t(i)&&(Array.isArray(i)?n[r]=i.slice():n[r]=i);return n},e.isAttributeValue=t})),Ce=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.loggingErrorHandler=void 0;var t=Se();e.loggingErrorHandler=function(){return e=>{t.diag.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){let t={},n=e;for(;null!==n;)Object.getOwnPropertyNames(n).forEach((e=>{if(t[e])return;let r=n[e];r&&(t[e]=String(r))})),n=Object.getPrototypeOf(n);return t}(e))}(e))}}})),Ie=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.globalErrorHandler=e.setGlobalErrorHandler=void 0;var t=Ce().loggingErrorHandler();e.setGlobalErrorHandler=function(e){t=e},e.globalErrorHandler=e=>{try{t(e)}catch{}}})),Re=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TracesSamplerValues=void 0,(t=e.TracesSamplerValues||(e.TracesSamplerValues={})).AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})),De=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseEnvironment=e.DEFAULT_ENVIRONMENT=void 0;var t=Se(),n=Re(),r=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function i(e){return r.indexOf(e)>-1}var o=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function s(e){return o.indexOf(e)>-1}function a(e,t,n,r=-1/0,i=1/0){if(typeof n[e]<"u"){let o=Number(n[e]);isNaN(o)||(t[e]=o<r?r:o>i?i:o)}}function c(e,t,n,r=","){let i=n[e];"string"==typeof i&&(t[e]=i.split(r).map((e=>e.trim())))}e.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:t.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:n.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};var u={ALL:t.DiagLogLevel.ALL,VERBOSE:t.DiagLogLevel.VERBOSE,DEBUG:t.DiagLogLevel.DEBUG,INFO:t.DiagLogLevel.INFO,WARN:t.DiagLogLevel.WARN,ERROR:t.DiagLogLevel.ERROR,NONE:t.DiagLogLevel.NONE};function l(e,t,n){let r=n[e];if("string"==typeof r){let n=u[r.toUpperCase()];null!=n&&(t[e]=n)}}e.parseEnvironment=function(t){let n={};for(let r in e.DEFAULT_ENVIRONMENT){let e=r;if("OTEL_LOG_LEVEL"===e)l(e,n,t);else if(i(e))a(e,n,t);else if(s(e))c(e,n,t);else{let r=t[e];typeof r<"u"&&null!==r&&(n[e]=String(r))}}return n}})),Oe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnv=void 0;var t=n(22037),r=De();e.getEnv=function(){let e=r.parseEnvironment(process.env);return Object.assign({HOSTNAME:t.hostname()},r.DEFAULT_ENVIRONMENT,e)}})),ke=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hexToBase64=void 0,e.hexToBase64=function(e){let t=e.length,n="";for(let r=0;r<t;r+=2){let t=e.substring(r,r+2),i=parseInt(t,16);n+=String.fromCharCode(i)}return Buffer.from(n,"ascii").toString("base64")}})),xe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomIdGenerator=void 0,e.RandomIdGenerator=class{constructor(){this.generateTraceId=n(16),this.generateSpanId=n(8)}};var t=Buffer.allocUnsafe(16);function n(e){return function(){for(let n=0;n<e/4;n++)t.writeUInt32BE(Math.random()*2**32>>>0,4*n);for(let n=0;n<e&&!(t[n]>0);n++)n===e-1&&(t[e-1]=1);return t.toString("hex",0,e)}}})),Ne=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.otperformance=void 0;var t=n(4074);e.otperformance=t.performance})),Ae=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=void 0,e.VERSION="0.23.0"})),je=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.RpcGrpcStatusCodeValues=e.MessagingOperationValues=e.MessagingDestinationKindValues=e.HttpFlavorValues=e.NetTransportValues=e.FaasInvokedProviderValues=e.FaasDocumentOperationValues=e.FaasTriggerValues=e.DbCassandraConsistencyLevelValues=e.DbSystemValues=e.SemanticAttributes=void 0,e.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"},(t=e.DbSystemValues||(e.DbSystemValues={})).OTHER_SQL="other_sql",t.MSSQL="mssql",t.MYSQL="mysql",t.ORACLE="oracle",t.DB2="db2",t.POSTGRESQL="postgresql",t.REDSHIFT="redshift",t.HIVE="hive",t.CLOUDSCAPE="cloudscape",t.HSQLDB="hsqldb",t.PROGRESS="progress",t.MAXDB="maxdb",t.HANADB="hanadb",t.INGRES="ingres",t.FIRSTSQL="firstsql",t.EDB="edb",t.CACHE="cache",t.ADABAS="adabas",t.FIREBIRD="firebird",t.DERBY="derby",t.FILEMAKER="filemaker",t.INFORMIX="informix",t.INSTANTDB="instantdb",t.INTERBASE="interbase",t.MARIADB="mariadb",t.NETEZZA="netezza",t.PERVASIVE="pervasive",t.POINTBASE="pointbase",t.SQLITE="sqlite",t.SYBASE="sybase",t.TERADATA="teradata",t.VERTICA="vertica",t.H2="h2",t.COLDFUSION="coldfusion",t.CASSANDRA="cassandra",t.HBASE="hbase",t.MONGODB="mongodb",t.REDIS="redis",t.COUCHBASE="couchbase",t.COUCHDB="couchdb",t.COSMOSDB="cosmosdb",t.DYNAMODB="dynamodb",t.NEO4J="neo4j",t.GEODE="geode",t.ELASTICSEARCH="elasticsearch",t.MEMCACHED="memcached",t.COCKROACHDB="cockroachdb",function(e){e.ALL="all",e.EACH_QUORUM="each_quorum",e.QUORUM="quorum",e.LOCAL_QUORUM="local_quorum",e.ONE="one",e.TWO="two",e.THREE="three",e.LOCAL_ONE="local_one",e.ANY="any",e.SERIAL="serial",e.LOCAL_SERIAL="local_serial"}(e.DbCassandraConsistencyLevelValues||(e.DbCassandraConsistencyLevelValues={})),function(e){e.DATASOURCE="datasource",e.HTTP="http",e.PUBSUB="pubsub",e.TIMER="timer",e.OTHER="other"}(e.FaasTriggerValues||(e.FaasTriggerValues={})),function(e){e.INSERT="insert",e.EDIT="edit",e.DELETE="delete"}(e.FaasDocumentOperationValues||(e.FaasDocumentOperationValues={})),function(e){e.AWS="aws",e.AZURE="azure",e.GCP="gcp"}(e.FaasInvokedProviderValues||(e.FaasInvokedProviderValues={})),function(e){e.IP_TCP="ip_tcp",e.IP_UDP="ip_udp",e.IP="ip",e.UNIX="unix",e.PIPE="pipe",e.INPROC="inproc",e.OTHER="other"}(e.NetTransportValues||(e.NetTransportValues={})),function(e){e.HTTP_1_0="1.0",e.HTTP_1_1="1.1",e.HTTP_2_0="2.0",e.SPDY="SPDY",e.QUIC="QUIC"}(e.HttpFlavorValues||(e.HttpFlavorValues={})),function(e){e.QUEUE="queue",e.TOPIC="topic"}(e.MessagingDestinationKindValues||(e.MessagingDestinationKindValues={})),function(e){e.RECEIVE="receive",e.PROCESS="process"}(e.MessagingOperationValues||(e.MessagingOperationValues={})),function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(e.RpcGrpcStatusCodeValues||(e.RpcGrpcStatusCodeValues={}))})),Me=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(je(),e)})),Le=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetrySdkLanguageValues=e.OsTypeValues=e.HostArchValues=e.AwsEcsLaunchtypeValues=e.CloudPlatformValues=e.CloudProviderValues=e.ResourceAttributes=void 0,e.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},(t=e.CloudProviderValues||(e.CloudProviderValues={})).AWS="aws",t.AZURE="azure",t.GCP="gcp",function(e){e.AWS_EC2="aws_ec2",e.AWS_ECS="aws_ecs",e.AWS_EKS="aws_eks",e.AWS_LAMBDA="aws_lambda",e.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",e.AZURE_VM="azure_vm",e.AZURE_CONTAINER_INSTANCES="azure_container_instances",e.AZURE_AKS="azure_aks",e.AZURE_FUNCTIONS="azure_functions",e.AZURE_APP_SERVICE="azure_app_service",e.GCP_COMPUTE_ENGINE="gcp_compute_engine",e.GCP_CLOUD_RUN="gcp_cloud_run",e.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",e.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",e.GCP_APP_ENGINE="gcp_app_engine"}(e.CloudPlatformValues||(e.CloudPlatformValues={})),function(e){e.EC2="ec2",e.FARGATE="fargate"}(e.AwsEcsLaunchtypeValues||(e.AwsEcsLaunchtypeValues={})),function(e){e.AMD64="amd64",e.ARM32="arm32",e.ARM64="arm64",e.IA64="ia64",e.PPC32="ppc32",e.PPC64="ppc64",e.X86="x86"}(e.HostArchValues||(e.HostArchValues={})),function(e){e.WINDOWS="windows",e.LINUX="linux",e.DARWIN="darwin",e.FREEBSD="freebsd",e.NETBSD="netbsd",e.OPENBSD="openbsd",e.DRAGONFLYBSD="dragonflybsd",e.HPUX="hpux",e.AIX="aix",e.SOLARIS="solaris",e.Z_OS="z_os"}(e.OsTypeValues||(e.OsTypeValues={})),function(e){e.CPP="cpp",e.DOTNET="dotnet",e.ERLANG="erlang",e.GO="go",e.JAVA="java",e.NODEJS="nodejs",e.PHP="php",e.PYTHON="python",e.RUBY="ruby",e.WEBJS="webjs"}(e.TelemetrySdkLanguageValues||(e.TelemetrySdkLanguageValues={}))})),Fe=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Le(),e)})),qe=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Me(),e),n(Fe(),e)})),Ue=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SDK_INFO=void 0;var t=Ae(),n=qe();e.SDK_INFO={[n.ResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[n.ResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[n.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:n.TelemetrySdkLanguageValues.NODEJS,[n.ResourceAttributes.TELEMETRY_SDK_VERSION]:t.VERSION}})),We=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unrefTimer=void 0,e.unrefTimer=function(e){e.unref()}})),Ve=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Oe(),e),n(ke(),e),n(xe(),e),n(Ne(),e),n(Ue(),e),n(We(),e)})),He=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ve(),e)})),$e=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isTimeInput=e.isTimeInputHrTime=e.hrTimeToMicroseconds=e.hrTimeToMilliseconds=e.hrTimeToNanoseconds=e.hrTimeToTimeStamp=e.hrTimeDuration=e.timeInputToHrTime=e.hrTime=void 0;var t=He(),n=Math.pow(10,9);function r(e){let t=e/1e3,r=Math.trunc(t);return[r,Number((t-r).toFixed(9))*n]}function i(){let e=t.otperformance.timeOrigin;if("number"!=typeof e){let n=t.otperformance;e=n.timing&&n.timing.fetchStart}return e}function o(e){let o=r(i()),s=r("number"==typeof e?e:t.otperformance.now()),a=o[0]+s[0],c=o[1]+s[1];return c>n&&(c-=n,a+=1),[a,c]}function s(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}e.hrTime=o,e.timeInputToHrTime=function(e){if(s(e))return e;if("number"==typeof e)return e<i()?o(e):r(e);if(e instanceof Date)return r(e.getTime());throw TypeError("Invalid input type")},e.hrTimeDuration=function(e,t){let r=t[0]-e[0],i=t[1]-e[1];return i<0&&(r-=1,i+=n),[r,i]},e.hrTimeToTimeStamp=function(e){let t=`${"0".repeat(9)}${e[1]}Z`,n=t.substr(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace("000Z",n)},e.hrTimeToNanoseconds=function(e){return e[0]*n+e[1]},e.hrTimeToMilliseconds=function(e){return Math.round(1e3*e[0]+e[1]/1e6)},e.hrTimeToMicroseconds=function(e){return Math.round(1e6*e[0]+e[1]/1e3)},e.isTimeInputHrTime=s,e.isTimeInput=function(e){return s(e)||"number"==typeof e||e instanceof Date}})),Be=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ge=v((e=>{"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ExportResultCode=void 0,(t=e.ExportResultCode||(e.ExportResultCode={}))[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})),Ke=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositePropagator=void 0;var t=Se();e.CompositePropagator=class{constructor(e={}){var t;this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((e=>"function"==typeof e.fields?e.fields():[])).reduce(((e,t)=>e.concat(t)),[])))}inject(e,n,r){for(let i of this._propagators)try{i.inject(e,n,r)}catch(e){t.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${e.message}`)}}extract(e,n,r){return this._propagators.reduce(((e,i)=>{try{return i.extract(e,n,r)}catch(e){t.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${e.message}`)}return e}),e)}fields(){return this._fields.slice()}}})),ze=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateValue=e.validateKey=void 0;var t="[_0-9a-z-*/]",n=new RegExp(`^(?:[a-z]${t}{0,255}|[a-z0-9]${t}{0,240}@[a-z]${t}{0,13})$`),r=/^[ -~]{0,255}[!-~]$/,i=/,|=/;e.validateKey=function(e){return n.test(e)},e.validateValue=function(e){return r.test(e)&&!i.test(e)}})),Ye=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceState=void 0;var t=ze(),n=class{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,t),n}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>(e.push(t+"="+this.get(t)),e)),[]).join(",")}_parse(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(((e,n)=>{let r=n.trim(),i=r.indexOf("=");if(-1!==i){let o=r.slice(0,i),s=r.slice(i+1,n.length);t.validateKey(o)&&t.validateValue(s)&&e.set(o,s)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new n;return e._internalState=new Map(this._internalState),e}};e.TraceState=n})),Je=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HttpTraceContextPropagator=e.parseTraceParent=e.TRACE_STATE_HEADER=e.TRACE_PARENT_HEADER=void 0;var t=Se(),n=_e(),r=Ye();e.TRACE_PARENT_HEADER="traceparent",e.TRACE_STATE_HEADER="tracestate";var i=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function o(e){let t=i.exec(e);return!t||"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}e.parseTraceParent=o,e.HttpTraceContextPropagator=class{inject(r,i,o){let s=t.trace.getSpanContext(r);if(!s||n.isTracingSuppressed(r)||!t.isSpanContextValid(s))return;let a=`00-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||t.TraceFlags.NONE).toString(16)}`;o.set(i,e.TRACE_PARENT_HEADER,a),s.traceState&&o.set(i,e.TRACE_STATE_HEADER,s.traceState.serialize())}extract(n,i,s){let a=s.get(i,e.TRACE_PARENT_HEADER);if(!a)return n;let c=Array.isArray(a)?a[0]:a;if("string"!=typeof c)return n;let u=o(c);if(!u)return n;u.isRemote=!0;let l=s.get(i,e.TRACE_STATE_HEADER);if(l){let e=Array.isArray(l)?l.join(","):l;u.traceState=new r.TraceState("string"==typeof e?e:void 0)}return t.trace.setSpanContext(n,u)}fields(){return[e.TRACE_PARENT_HEADER,e.TRACE_STATE_HEADER]}}})),Xe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Qe=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRPCMetadata=e.deleteRPCMetadata=e.setRPCMetadata=e.RPCType=void 0;var t=Se().createContextKey("OpenTelemetry SDK Context Key RPC_METADATA");(e.RPCType||(e.RPCType={})).HTTP="http",e.setRPCMetadata=function(e,n){return e.setValue(t,n)},e.deleteRPCMetadata=function(e){return e.deleteValue(t)},e.getRPCMetadata=function(e){return e.getValue(t)}})),Ze=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOffSampler=void 0;var t=Se();e.AlwaysOffSampler=class{shouldSample(){return{decision:t.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}})),et=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysOnSampler=void 0;var t=Se();e.AlwaysOnSampler=class{shouldSample(){return{decision:t.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}})),tt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParentBasedSampler=void 0;var t=Se(),n=Ie(),r=Ze(),i=et();e.ParentBasedSampler=class{constructor(e){var t,o,s,a;this._root=e.root,this._root||(n.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new i.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new i.AlwaysOnSampler,this._remoteParentNotSampled=null!==(o=e.remoteParentNotSampled)&&void 0!==o?o:new r.AlwaysOffSampler,this._localParentSampled=null!==(s=e.localParentSampled)&&void 0!==s?s:new i.AlwaysOnSampler,this._localParentNotSampled=null!==(a=e.localParentNotSampled)&&void 0!==a?a:new r.AlwaysOffSampler}shouldSample(e,n,r,i,o,s){let a=t.trace.getSpanContext(e);return a&&t.isSpanContextValid(a)?a.isRemote?a.traceFlags&t.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,n,r,i,o,s):this._remoteParentNotSampled.shouldSample(e,n,r,i,o,s):a.traceFlags&t.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,n,r,i,o,s):this._localParentNotSampled.shouldSample(e,n,r,i,o,s):this._root.shouldSample(e,n,r,i,o,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}})),nt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TraceIdRatioBasedSampler=void 0;var t=Se();e.TraceIdRatioBasedSampler=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}shouldSample(e,n){return{decision:t.isValidTraceId(n)&&this._accumulate(n)<this._upperBound?t.SamplingDecision.RECORD_AND_SAMPLED:t.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let n=0;n<e.length/8;n++){let r=8*n;t=(t^parseInt(e.slice(r,r+8),16))>>>0}return t}}})),rt=v((e=>{"use strict";function t(e,t){return"string"==typeof t?e===t:t.test(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.isUrlIgnored=e.urlMatches=void 0,e.urlMatches=t,e.isUrlIgnored=function(e,n){if(!n)return!1;for(let r of n)if(t(e,r))return!0;return!1}})),it=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isWrapped=void 0,e.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped}})),ot=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.baggageUtils=void 0,n(Pe(),e),n(Te(),e),n(Ie(),e),n(Ce(),e),n($e(),e),n(Be(),e),n(Ge(),e),n(Ae(),e),e.baggageUtils=we(),n(He(),e),n(Ke(),e),n(Je(),e),n(Xe(),e),n(Qe(),e),n(Ze(),e),n(et(),e),n(tt(),e),n(nt(),e),n(_e(),e),n(Ye(),e),n(De(),e),n(Re(),e),n(rt(),e),n(it(),e),n(Ae(),e)})),st=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExceptionEventName=void 0,e.ExceptionEventName="exception"})),at=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Span=void 0;var t=Se(),n=ot(),r=qe(),i=st();e.Span=class{constructor(e,r,i,o,s,a,c=[],u=n.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:t.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=i,this._spanContext=o,this.parentSpanId=a,this.kind=s,this.links=c,this.startTime=n.timeInputToHrTime(u),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r)}spanContext(){return this._spanContext}setAttribute(e,r){return null==r||this._isSpanEnded()?this:0===e.length?(t.diag.warn(`Invalid attribute key: ${e}`),this):n.isAttributeValue(r)?(Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)||(this.attributes[e]=r),this):(t.diag.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(let[t,n]of Object.entries(e))this.setAttribute(t,n);return this}addEvent(e,r,i){return this._isSpanEnded()||(this.events.length>=this._spanLimits.eventCountLimit&&(t.diag.warn("Dropping extra events."),this.events.shift()),n.isTimeInput(r)&&(typeof i>"u"&&(i=r),r=void 0),typeof i>"u"&&(i=n.hrTime()),this.events.push({name:e,attributes:r,time:n.timeInputToHrTime(i)})),this}setStatus(e){return this._isSpanEnded()||(this.status=e),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e=n.hrTime()){this._isSpanEnded()?t.diag.error("You can only call end() on a span once."):(this._ended=!0,this.endTime=n.timeInputToHrTime(e),this._duration=n.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&t.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this))}isRecording(){return!1===this._ended}recordException(e,o=n.hrTime()){let s={};"string"==typeof e?s[r.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?s[r.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(s[r.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(s[r.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(s[r.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),s[r.SemanticAttributes.EXCEPTION_TYPE]||s[r.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(i.ExceptionEventName,s,o):t.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&t.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}}})),ct=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildSamplerFromEnv=e.DEFAULT_CONFIG=void 0;var t=Se(),n=ot(),r=n.getEnv(),i=n.TracesSamplerValues.AlwaysOn;function o(e=n.getEnv()){switch(e.OTEL_TRACES_SAMPLER){case n.TracesSamplerValues.AlwaysOn:return new n.AlwaysOnSampler;case n.TracesSamplerValues.AlwaysOff:return new n.AlwaysOffSampler;case n.TracesSamplerValues.ParentBasedAlwaysOn:return new n.ParentBasedSampler({root:new n.AlwaysOnSampler});case n.TracesSamplerValues.ParentBasedAlwaysOff:return new n.ParentBasedSampler({root:new n.AlwaysOffSampler});case n.TracesSamplerValues.TraceIdRatio:return new n.TraceIdRatioBasedSampler(s(e));case n.TracesSamplerValues.ParentBasedTraceIdRatio:return new n.ParentBasedSampler({root:new n.TraceIdRatioBasedSampler(s(e))});default:return t.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${i}".`),new n.AlwaysOnSampler}}function s(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return t.diag.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1;let n=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(n)?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to 1.`),1):n<0||n>1?(t.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to 1.`),1):n}e.DEFAULT_CONFIG={sampler:o(r),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:n.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:n.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:n.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}},e.buildSamplerFromEnv=o})),ut=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mergeConfig=void 0;var t=ct();e.mergeConfig=function(e){let n={sampler:t.buildSamplerFromEnv()},r=Object.assign({},t.DEFAULT_CONFIG,n,e);return r.spanLimits=Object.assign({},t.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),r}})),lt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tracer=void 0;var t=Se(),n=ot(),r=at(),i=ut();e.Tracer=class{constructor(e,t,r){this._tracerProvider=r;let o=i.mergeConfig(t);this._sampler=o.sampler,this._spanLimits=o.spanLimits,this._idGenerator=t.idGenerator||new n.RandomIdGenerator,this.resource=r.resource,this.instrumentationLibrary=e}startSpan(e,i={},o=t.context.active()){var s,a;if(n.isTracingSuppressed(o))return t.diag.debug("Instrumentation suppressed, returning Noop Span"),t.trace.wrapSpanContext(t.INVALID_SPAN_CONTEXT);let c,u,l,d=function(e,n){if(!e.root)return t.trace.getSpanContext(n)}(i,o),p=this._idGenerator.generateSpanId();d&&t.trace.isSpanContextValid(d)?(c=d.traceId,u=d.traceState,l=d.spanId):c=this._idGenerator.generateTraceId();let h=null!==(s=i.kind)&&void 0!==s?s:t.SpanKind.INTERNAL,f=null!==(a=i.links)&&void 0!==a?a:[],g=n.sanitizeAttributes(i.attributes),m=this._sampler.shouldSample(i.root?t.trace.setSpanContext(o,t.INVALID_SPAN_CONTEXT):o,c,e,h,g,f),v={traceId:c,spanId:p,traceFlags:m.decision===t.SamplingDecision.RECORD_AND_SAMPLED?t.TraceFlags.SAMPLED:t.TraceFlags.NONE,traceState:u};if(m.decision===t.SamplingDecision.NOT_RECORD)return t.diag.debug("Recording is off, propagating context in a non-recording span"),t.trace.wrapSpanContext(v);let y=new r.Span(this,o,e,v,h,l,f,i.startTime);return y.setAttributes(Object.assign(g,m.attributes)),y}startActiveSpan(e,n,r,i){let o,s,a;if(arguments.length<2)return;2===arguments.length?a=n:3===arguments.length?(o=n,a=r):(o=n,s=r,a=i);let c=s??t.context.active(),u=this.startSpan(e,o,c),l=t.trace.setSpan(c,u);return t.context.with(l,a,void 0,u)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}})),dt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultServiceName=void 0,e.defaultServiceName=function(){return`unknown_service:${process.argv0}`}})),pt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.detectResources=void 0;var t=yt(),r=Se(),i=n(73837);e.detectResources=async(e={})=>{let n=Object.assign(e),i=await Promise.all((n.detectors||[]).map((async e=>{try{let t=await e.detect(n);return r.diag.debug(`${e.constructor.name} found resource.`,t),t}catch(n){return r.diag.debug(`${e.constructor.name} failed: ${n.message}`),t.Resource.empty()}})));return o(i),i.reduce(((e,t)=>e.merge(t)),t.Resource.empty())};var o=e=>{e.forEach((e=>{if(Object.keys(e.attributes).length>0){let t=i.inspect(e.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});r.diag.verbose(t)}}))}})),ht=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.envDetector=void 0;var t=Se(),n=ot(),r=qe(),i=_t();e.envDetector=new class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(e){let o={},s=n.getEnv(),a=s.OTEL_RESOURCE_ATTRIBUTES,c=s.OTEL_SERVICE_NAME;if(a)try{let e=this._parseResourceAttributes(a);Object.assign(o,e)}catch(e){t.diag.debug(`EnvDetector failed: ${e.message}`)}return c&&(o[r.ResourceAttributes.SERVICE_NAME]=c),new i.Resource(o)}_parseResourceAttributes(e){if(!e)return{};let t={},n=e.split(this._COMMA_SEPARATOR,-1);for(let e of n){let n=e.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2!==n.length)continue;let[r,i]=n;if(r=r.trim(),i=i.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(r))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(i))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[r]=i}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isPrintableString(e)}_isPrintableString(e){for(let t=0;t<e.length;t++){let n=e.charAt(t);if(n<=" "||n>="~")return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}}})),ft=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.processDetector=void 0;var t=Se(),n=qe(),r=_t();e.processDetector=new class{async detect(e){let t={[n.ResourceAttributes.PROCESS_PID]:process.pid,[n.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[n.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[n.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(t,e)}_getResourceAttributes(e,i){return""===e[n.ResourceAttributes.PROCESS_EXECUTABLE_NAME]||""===e[n.ResourceAttributes.PROCESS_EXECUTABLE_PATH]||""===e[n.ResourceAttributes.PROCESS_COMMAND]||""===e[n.ResourceAttributes.PROCESS_COMMAND_LINE]?(t.diag.debug("ProcessDetector failed: Unable to find required process resources. "),r.Resource.empty()):new r.Resource(Object.assign({},e))}}})),gt=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(ht(),e),n(ft(),e)})),mt=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(dt(),e),n(pt(),e),n(gt(),e)})),vt=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(mt(),e)})),yt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Resource=void 0;var t=qe(),n=ot(),r=vt(),i=class{constructor(e){this.attributes=e}static empty(){return i.EMPTY}static default(){return new i({[t.ResourceAttributes.SERVICE_NAME]:r.defaultServiceName(),[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:n.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[t.ResourceAttributes.TELEMETRY_SDK_NAME]:n.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_NAME],[t.ResourceAttributes.TELEMETRY_SDK_VERSION]:n.SDK_INFO[t.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(e){if(!e||!Object.keys(e.attributes).length)return this;let t=Object.assign({},this.attributes,e.attributes);return new i(t)}};e.Resource=i,i.EMPTY=new i({})})),bt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),St=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),_t=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(yt(),e),n(vt(),e),n(bt(),e),n(St(),e)})),Et=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiSpanProcessor=void 0;var t=ot();e.MultiSpanProcessor=class{constructor(e){this._spanProcessors=e}forceFlush(){let e=[];for(let t of this._spanProcessors)e.push(t.forceFlush());return new Promise((n=>{Promise.all(e).then((()=>{n()})).catch((e=>{t.globalErrorHandler(e||new Error("MultiSpanProcessor: forceFlush failed")),n()}))}))}onStart(e,t){for(let n of this._spanProcessors)n.onStart(e,t)}onEnd(e){for(let t of this._spanProcessors)t.onEnd(e)}shutdown(){let e=[];for(let t of this._spanProcessors)e.push(t.shutdown());return new Promise(((t,n)=>{Promise.all(e).then((()=>{t()}),n)}))}}})),wt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoopSpanProcessor=void 0,e.NoopSpanProcessor=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}})),Pt=v(((e,t)=>{var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",o="[object Function]",s="[object Object]",a=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[i]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u[o]=u["[object Map]"]=u["[object Number]"]=u[s]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1;var l="object"==typeof global&&global&&global.Object===Object&&global,d="object"==typeof self&&self&&self.Object===Object&&self,p=l||d||Function("return this")(),h="object"==typeof e&&e&&!e.nodeType&&e,f=h&&"object"==typeof t&&t&&!t.nodeType&&t,g=f&&f.exports===h,m=g&&l.process,v=function(){try{return f&&f.require&&f.require("util").types||m&&m.binding&&m.binding("util")}catch{}}(),y=v&&v.isTypedArray;function b(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var S,_=Array.prototype,E=Function.prototype,w=Object.prototype,P=p["__core-js_shared__"],T=E.toString,C=w.hasOwnProperty,I=(S=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"",R=w.toString,D=T.call(Object),O=RegExp("^"+T.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=g?p.Buffer:void 0,x=p.Symbol,N=p.Uint8Array,A=(k&&k.allocUnsafe,function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object)),j=Object.create,M=w.propertyIsEnumerable,L=_.splice,F=x?x.toStringTag:void 0,q=function(){try{var e=se(Object,"defineProperty");return e({},"",{}),e}catch{}}(),U=k?k.isBuffer:void 0,W=Math.max,V=Date.now,H=se(p,"Map"),$=se(Object,"create"),B=function(){function e(){}return function(t){if(!ye(t))return{};if(j)return j(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function G(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function K(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Y(e){var t=this.__data__=new K(e);this.size=t.size}function J(e,t,n){(void 0!==n&&!de(e[t],n)||void 0===n&&!(t in e))&&Z(e,t,n)}function X(e,t,n){var r=e[t];(!C.call(e,t)||!de(r,n)||void 0===n&&!(t in e))&&Z(e,t,n)}function Q(e,t){for(var n=e.length;n--;)if(de(e[n][0],t))return n;return-1}function Z(e,t,n){"__proto__"==t&&q?q(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}G.prototype.clear=function(){this.__data__=$?$(null):{},this.size=0},G.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},G.prototype.get=function(e){var t=this.__data__;if($){var r=t[e];return r===n?void 0:r}return C.call(t,e)?t[e]:void 0},G.prototype.has=function(e){var t=this.__data__;return $?void 0!==t[e]:C.call(t,e)},G.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$&&void 0===t?n:t,this},K.prototype.clear=function(){this.__data__=[],this.size=0},K.prototype.delete=function(e){var t=this.__data__,n=Q(t,e);return!(n<0||(n==t.length-1?t.pop():L.call(t,n,1),--this.size,0))},K.prototype.get=function(e){var t=this.__data__,n=Q(t,e);return n<0?void 0:t[n][1]},K.prototype.has=function(e){return Q(this.__data__,e)>-1},K.prototype.set=function(e,t){var n=this.__data__,r=Q(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},z.prototype.clear=function(){this.size=0,this.__data__={hash:new G,map:new(H||K),string:new G}},z.prototype.delete=function(e){var t=oe(this,e).delete(e);return this.size-=t?1:0,t},z.prototype.get=function(e){return oe(this,e).get(e)},z.prototype.has=function(e){return oe(this,e).has(e)},z.prototype.set=function(e,t){var n=oe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Y.prototype.clear=function(){this.__data__=new K,this.size=0},Y.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Y.prototype.get=function(e){return this.__data__.get(e)},Y.prototype.has=function(e){return this.__data__.has(e)},Y.prototype.set=function(e,t){var n=this.__data__;if(n instanceof K){var r=n.__data__;if(!H||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new z(r)}return n.set(e,t),this.size=n.size,this};var ee=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),s=o.length;s--;){var a=o[++r];if(!1===t(i[a],a,i))break}return e};function te(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=C.call(e,F),n=e[F];try{e[F]=void 0;var r=!0}catch{}var i=R.call(e);return r&&(t?e[F]=n:delete e[F]),i}(e):function(e){return R.call(e)}(e)}function ne(e){return be(e)&&te(e)==i}function re(e,t,n,r,i){e!==t&&ee(t,(function(o,a){if(i||(i=new Y),ye(o))!function(e,t,n,r,i,o,a){var c=ue(e,n),u=ue(t,n),l=a.get(u);if(l)J(e,n,l);else{var d=o?o(c,u,n+"",e,t,a):void 0,p=void 0===d;if(p){var h=he(u),f=!h&&ge(u),g=!h&&!f&&Se(u);d=u,h||f||g?he(c)?d=c:function(e){return be(e)&&fe(e)}(c)?d=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(c):f?(p=!1,d=function(e,t){return e.slice()}(u)):g?(p=!1,d=function(e,t){var n=function(e){var t=new e.constructor(e.byteLength);return new N(t).set(new N(e)),t}(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}(u)):d=[]:function(e){if(!be(e)||te(e)!=s)return!1;var t=A(e);if(null===t)return!0;var n=C.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&T.call(n)==D}(u)||pe(u)?(d=c,pe(c)?d=function(e){return function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=void 0;void 0===c&&(c=e[a]),i?Z(n,a,c):X(n,a,c)}return n}(e,_e(e))}(c):(!ye(c)||me(c))&&(d=function(e){return"function"!=typeof e.constructor||ce(e)?{}:B(A(e))}(u))):p=!1}p&&(a.set(u,d),i(d,u,r,o,a),a.delete(u)),J(e,n,d)}}(e,t,a,n,re,r,i);else{var c=r?r(ue(e,a),o,a+"",e,t,i):void 0;void 0===c&&(c=o),J(e,a,c)}}),_e)}var ie=q?function(e,t){return q(e,"toString",{configurable:!0,enumerable:!1,value:we(t),writable:!0})}:Pe;function oe(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function se(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!ye(e)||function(e){return!!I&&I in e}(e))&&(me(e)?O:a).test(function(e){if(null!=e){try{return T.call(e)}catch{}try{return e+""}catch{}}return""}(e))}(n)?n:void 0}function ae(e,t){var n=typeof e;return!!(t=t??r)&&("number"==n||"symbol"!=n&&c.test(e))&&e>-1&&e%1==0&&e<t}function ce(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||w)}function ue(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var le=function(e){var t=0,n=0;return function(){var r=V(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ie);function de(e,t){return e===t||e!=e&&t!=t}var pe=ne(function(){return arguments}())?ne:function(e){return be(e)&&C.call(e,"callee")&&!M.call(e,"callee")},he=Array.isArray;function fe(e){return null!=e&&ve(e.length)&&!me(e)}var ge=U||function(){return!1};function me(e){if(!ye(e))return!1;var t=te(e);return t==o||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ve(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function ye(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function be(e){return null!=e&&"object"==typeof e}var Se=y?function(e){return function(t){return e(t)}}(y):function(e){return be(e)&&ve(e.length)&&!!u[te(e)]};function _e(e){return fe(e)?function(e,t){var n=he(e),r=!n&&pe(e),i=!n&&!r&&ge(e),o=!n&&!r&&!i&&Se(e),s=n||r||i||o,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=a.length;for(var u in e)(t||C.call(e,u))&&(!s||!("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ae(u,c)))&&a.push(u);return a}(e,!0):function(e){if(!ye(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ce(e),n=[];for(var r in e)"constructor"==r&&(t||!C.call(e,r))||n.push(r);return n}(e)}var Ee=function(e){return function(e,t){return le(function(e,t,n){return t=W(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=W(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),b(e,this,a)}}(e,t,Pe),e+"")}((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&function(e,t,n){if(!ye(n))return!1;var r=typeof t;return!!("number"==r?fe(n)&&ae(t,n.length):"string"==r&&t in n)&&de(n[t],e)}(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r)}return t}))}((function(e,t,n){re(e,t,n)}));function we(e){return function(){return e}}function Pe(e){return e}t.exports=Ee})),Tt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessorBase=void 0;var t=Se(),n=ot();e.BatchSpanProcessorBase=class{constructor(e,t){this._exporter=e,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let r=n.getEnv();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(e){}onEnd(e){this._isShutdown||this._addToBuffer(e)}shutdown(){return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise(((e,t)=>{Promise.resolve().then((()=>this.onShutdown())).then((()=>this._flushAll())).then((()=>this._exporter.shutdown())).then(e).catch((e=>{t(e)}))}))),this._shuttingDownPromise}_addToBuffer(e){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(e),this._maybeStartTimer())}_flushAll(){return new Promise(((e,t)=>{let n=[];for(let e=0,t=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);e<t;e++)n.push(this._flushOneBatch());Promise.all(n).then((()=>{e()})).catch(t)}))}_flushOneBatch(){return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise(((e,r)=>{let i=setTimeout((()=>{r(new Error("Timeout"))}),this._exportTimeoutMillis);t.context.with(n.suppressTracing(t.context.active()),(()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),(t=>{var o;clearTimeout(i),t.code===n.ExportResultCode.SUCCESS?e():r(null!==(o=t.error)&&void 0!==o?o:new Error("BatchSpanProcessor: span export failed"))}))}))}))}_maybeStartTimer(){void 0===this._timer&&(this._timer=setTimeout((()=>{this._flushOneBatch().then((()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())})).catch((e=>{n.globalErrorHandler(e)}))}),this._scheduledDelayMillis),n.unrefTimer(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}})),Ct=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchSpanProcessor=void 0;var t=Tt(),n=class extends t.BatchSpanProcessorBase{onShutdown(){}};e.BatchSpanProcessor=n})),It=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ct(),e)})),Rt=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(It(),e)})),Dt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicTracerProvider=e.ForceFlushState=void 0;var t,n,r=Se(),i=ot(),o=_t(),s=Ft(),a=ct(),c=Et(),u=wt(),l=Pt(),d=Rt();(n=t=e.ForceFlushState||(e.ForceFlushState={}))[n.resolved=0]="resolved",n[n.timeout=1]="timeout",n[n.error=2]="error",n[n.unresolved=3]="unresolved";var p=class{constructor(e={}){var t;this._registeredSpanProcessors=[],this._tracers=new Map;let n=l({},a.DEFAULT_CONFIG,e);this.resource=null!==(t=n.resource)&&void 0!==t?t:o.Resource.empty(),this.resource=o.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let r=this._buildExporterFromEnv();if(void 0!==r){let e=new d.BatchSpanProcessor(r);this.activeSpanProcessor=e}else this.activeSpanProcessor=new u.NoopSpanProcessor}getTracer(e,t){let n=`${e}@${t||""}`;return this._tracers.has(n)||this._tracers.set(n,new s.Tracer({name:e,version:t},this._config,this)),this._tracers.get(n)}addSpanProcessor(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((e=>r.diag.error("Error while trying to shutdown current span processor",e))),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new c.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){r.trace.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&r.context.setGlobalContextManager(e.contextManager),e.propagator&&r.propagation.setGlobalPropagator(e.propagator)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,n=this._registeredSpanProcessors.map((n=>new Promise((r=>{let i,o=setTimeout((()=>{r(new Error(`Span processor did not completed within timeout period of ${e} ms`)),i=t.timeout}),e);n.forceFlush().then((()=>{clearTimeout(o),i!==t.timeout&&(i=t.resolved,r(i))})).catch((e=>{clearTimeout(o),i=t.error,r(e)}))}))));return new Promise(((e,r)=>{Promise.all(n).then((n=>{let i=n.filter((e=>e!==t.resolved));i.length>0?r(i):e()})).catch((e=>r([e])))}))}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return null===(t=p._registeredPropagators.get(e))||void 0===t?void 0:t()}_getSpanExporter(e){var t;return null===(t=p._registeredExporters.get(e))||void 0===t?void 0:t()}_buildPropagatorFromEnv(){let e=Array.from(new Set(i.getEnv().OTEL_PROPAGATORS)),t=e.map((e=>{let t=this._getPropagator(e);return t||r.diag.warn(`Propagator "${e}" requested through environment variable is unavailable.`),t})).reduce(((e,t)=>(t&&e.push(t),e)),[]);if(0!==t.length)return 1===e.length?t[0]:new i.CompositePropagator({propagators:t})}_buildExporterFromEnv(){let e=i.getEnv().OTEL_TRACES_EXPORTER;if("none"===e)return;let t=this._getSpanExporter(e);return t||r.diag.error(`Exporter "${e}" requested through environment variable is unavailable.`),t}};e.BasicTracerProvider=p,p._registeredPropagators=new Map([["tracecontext",()=>new i.HttpTraceContextPropagator],["baggage",()=>new i.HttpBaggagePropagator]]),p._registeredExporters=new Map})),Ot=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleSpanExporter=void 0;var t=ot();e.ConsoleSpanExporter=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(e){return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:t.hrTimeToMicroseconds(e.startTime),duration:t.hrTimeToMicroseconds(e.duration),attributes:e.attributes,status:e.status,events:e.events}}_sendSpans(e,n){for(let t of e)console.log(this._exportInfo(t));if(n)return n({code:t.ExportResultCode.SUCCESS})}}})),kt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemorySpanExporter=void 0;var t=ot();e.InMemorySpanExporter=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,n){if(this._stopped)return n({code:t.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout((()=>n({code:t.ExportResultCode.SUCCESS})),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}})),xt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Nt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleSpanProcessor=void 0;var t=Se(),n=ot();e.SimpleSpanProcessor=class{constructor(e){this._exporter=e,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(e){}onEnd(e){this._isShutdown||t.context.with(n.suppressTracing(t.context.active()),(()=>{this._exporter.export([e],(e=>{var t;e.code!==n.ExportResultCode.SUCCESS&&n.globalErrorHandler(null!==(t=e.error)&&void 0!==t?t:new Error(`SimpleSpanProcessor: span export failed (status ${e})`))}))}))}shutdown(){return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise(((e,t)=>{Promise.resolve().then((()=>this._exporter.shutdown())).then(e).catch((e=>{t(e)}))}))),this._shuttingDownPromise}}})),At=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),jt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Mt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Lt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Ft=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(lt(),e),n(Dt(),e),n(Rt(),e),n(Ot(),e),n(kt(),e),n(xt(),e),n(Nt(),e),n(At(),e),n(wt(),e),n(at(),e),n(jt(),e),n(Mt(),e),n(Lt(),e)})),qt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.azureCoreTracing=e.AzureMonitorSymbol=void 0;var t=T();e.AzureMonitorSymbol="Azure_Monitor_Tracer";var n=!1;e.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(r){if(n)return r;try{var i=Ft(),o=Se(),s=(new i.BasicTracerProvider).getTracer("applicationinsights tracer"),a=r.setTracer;r.setTracer=function(n){var r=n.startSpan;n.startSpan=function(e,n,i){var o=r.call(this,e,n,i),s=o.end;return o.end=function(){var e=s.apply(this,arguments);return t.channel.publish("azure-coretracing",o),e},o},n[e.AzureMonitorSymbol]=!0,a.call(this,n)},o.trace.getSpan(o.context.active()),r.setTracer(s),n=!0}catch{}return r}},e.enable=function(){t.channel.registerMonkeyPatch("@azure/core-tracing",e.azureCoreTracing)}})),Ut=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.bunyan=void 0;var t=T();e.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){var n=e.prototype._emit;return e.prototype._emit=function(e,r){var i=n.apply(this,arguments);if(!r){var o=i;o||(o=n.call(this,e,!0)),t.channel.publish("bunyan",{level:e.level,result:o})}return i},e}},e.enable=function(){t.channel.registerMonkeyPatch("bunyan",e.bunyan)}})),Wt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.console=void 0;var t=T(),r=n(12781);e.console={versionSpecifier:">= 4.0.0",patch:function(e){var n=new r.Writable,i=new r.Writable;n.write=function(e){if(!e)return!0;var n=e.toString();return t.channel.publish("console",{message:n}),!0},i.write=function(e){if(!e)return!0;var n=e.toString();return t.channel.publish("console",{message:n,stderr:!0}),!0};for(var o=new e.Console(n,i),s=function(t){var n=e[t];n&&(e[t]=function(){if(o[t])try{o[t].apply(o,arguments)}catch{}return n.apply(e,arguments)})},a=0,c=["log","info","warn","error","dir","time","timeEnd","trace","assert"];a<c.length;a++)s(c[a]);return e}},e.enable=function(){t.channel.registerMonkeyPatch("console",e.console),n(96206)}})),Vt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongoCore=void 0;var t=T();e.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var n=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=n.apply(this,arguments),r=this.s.pool.write;this.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=t.channel.bindToContext(arguments[e])),r.apply(this,arguments)};var i=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=t.channel.bindToContext(arguments[1])),i.apply(this,arguments)},e},e}},e.enable=function(){t.channel.registerMonkeyPatch("mongodb-core",e.mongoCore)}})),Ht=v((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mongo330=e.mongo3=e.mongo2=void 0;var n=T();e.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(e){var r=e.instrument({operationIdGenerator:{next:function(){return n.channel.bindToContext((function(e){return e()}))}}}),i={};return r.on("started",(function(e){i[e.requestId]||(i[e.requestId]=t(t({},e),{time:new Date}))})),r.on("succeeded",(function(e){var t=i[e.requestId];t&&delete i[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})):n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),r.on("failed",(function(e){var t=i[e.requestId];t&&delete i[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})):n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),e}},e.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:function(e){var r=e.instrument(),i={},o={};return r.on("started",(function(e){i[e.requestId]||(o[e.requestId]=n.channel.bindToContext((function(e){return e()})),i[e.requestId]=t(t({},e),{time:new Date}))})),r.on("succeeded",(function(e){var t=i[e.requestId];t&&delete i[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete o[e.requestId])})),r.on("failed",(function(e){var t=i[e.requestId];t&&delete i[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete o[e.requestId])})),e}},e.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:function(e){!function(e){var t=e.Server.prototype.connect;e.Server.prototype.connect=function(){var e=t.apply(this,arguments),r=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=n.channel.bindToContext(arguments[e])),r.apply(this,arguments)};var i=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=n.channel.bindToContext(arguments[1])),i.apply(this,arguments)},e}}(e);var t=e.instrument(),r={},i={};return t.on("started",(function(e){r[e.requestId]||(i[e.requestId]=n.channel.bindToContext((function(e){return e()})),r[e.requestId]=e)})),t.on("succeeded",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof i[e.requestId]&&(i[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete i[e.requestId])})),t.on("failed",(function(e){var t=r[e.requestId];t&&delete r[e.requestId],"object"==typeof e&&"function"==typeof i[e.requestId]&&(i[e.requestId]((function(){return n.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete i[e.requestId])})),e}},e.enable=function(){n.channel.registerMonkeyPatch("mongodb",e.mongo2),n.channel.registerMonkeyPatch("mongodb",e.mongo3),n.channel.registerMonkeyPatch("mongodb",e.mongo330)}})),$t=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.mysql=void 0;var t=T(),r=n(71017);e.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e,i){var o=function(e,n){return function(n,r){var i=e[n];i&&(e[n]=function(){for(var e=arguments.length-1,n=arguments.length-1;n>=0;--n){if("function"==typeof arguments[n]){e=n;break}if(typeof arguments[n]<"u")break}var o=arguments[e],s={result:null,startTime:null,startDate:null};"function"==typeof o&&(r?(s.startTime=process.hrtime(),s.startDate=new Date,arguments[e]=t.channel.bindToContext(r(s,o))):arguments[e]=t.channel.bindToContext(o));var a=i.apply(this,arguments);return s.result=a,a})}},s=function(e,t){return o(e.prototype)},a=n(75029)(r.dirname(i)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach((function(e){return s(a)(e)})),o(a)("createQuery",(function(e,n){return function(r){var i=process.hrtime(e.startTime),o=1e3*i[0]+i[1]/1e6|0;t.channel.publish("mysql",{query:e.result,callbackArgs:arguments,err:r,duration:o,time:e.startDate}),n.apply(this,arguments)}}));var c=n(3437)(r.dirname(i)+"/lib/Pool");return["_enqueueCallback"].forEach((function(e){return s(c)(e)})),e}},e.enable=function(){t.channel.registerMonkeyPatch("mysql",e.mysql)}})),Bt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgresPool1=void 0;var t=T();e.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function(e){var n=e.prototype.connect;return e.prototype.connect=function(e){return e&&(arguments[0]=t.channel.bindToContext(e)),n.apply(this,arguments)},e}},e.enable=function(){t.channel.registerMonkeyPatch("pg-pool",e.postgresPool1)}})),Gt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.postgres7=e.postgres6=void 0;var t=T(),r=n(82361);e.postgres6={versionSpecifier:"6.*",patch:function(e,n){var i=e.Client.prototype.query,o="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,n,s){var a,c={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},u=process.hrtime();function l(e){e&&e[o]&&(e=e[o]);var n=t.channel.bindToContext((function(n,i){var o=process.hrtime(u);if(c.result=i&&{rowCount:i.rowCount,command:i.command},c.error=n,c.duration=Math.ceil(1e3*o[0]+o[1]/1e6),t.channel.publish("postgres",c),n){if(e)return e.apply(this,arguments);a&&a instanceof r.EventEmitter&&a.emit("error",n)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(n,o,{value:e}),n}catch{return e}}try{"string"==typeof e?n instanceof Array?(c.query.preparable={text:e,args:n},s=l(s)):(c.query.text=e,s?s=l(s):n=l(n)):("string"==typeof e.name?c.query.plan=e.name:e.values instanceof Array?c.query.preparable={text:e.text,args:e.values}:c.query.text=e.text,s?s=l(s):n?n=l(n):e.callback=l(e.callback))}catch{return i.apply(this,arguments)}return arguments[0]=e,arguments[1]=n,arguments[2]=s,arguments.length=arguments.length>3?arguments.length:3,a=i.apply(this,arguments)},e}},e.postgres7={versionSpecifier:">=7.* <=8.*",patch:function(e,n){var i=e.Client.prototype.query,o="__diagnosticOriginalFunc";return e.Client.prototype.query=function(e,n,s){var a,c=this,u=!!s,l={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},d=process.hrtime();function p(e){e&&e[o]&&(e=e[o]);var n=t.channel.bindToContext((function(n,i){var o=process.hrtime(d);if(l.result=i&&{rowCount:i.rowCount,command:i.command},l.error=n,l.duration=Math.ceil(1e3*o[0]+o[1]/1e6),t.channel.publish("postgres",l),n){if(e)return e.apply(this,arguments);a&&a instanceof r.EventEmitter&&a.emit("error",n)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(n,o,{value:e}),n}catch{return e}}try{"string"==typeof e?n instanceof Array?(l.query.preparable={text:e,args:n},s=(u="function"==typeof s)?p(s):s):(l.query.text=e,s?s=(u="function"==typeof s)?p(s):s:n=(u="function"==typeof n)?p(n):n):("string"==typeof e.name?l.query.plan=e.name:e.values instanceof Array?l.query.preparable={text:e.text,args:e.values}:l.query.text=e.text,s?(u="function"==typeof s,s=p(s)):n?n=(u="function"==typeof n)?p(n):n:(u="function"==typeof e.callback,e.callback=u?p(e.callback):e.callback))}catch{return i.apply(this,arguments)}return arguments[0]=e,arguments[1]=n,arguments[2]=s,arguments.length=arguments.length>3?arguments.length:3,a=i.apply(this,arguments),u?a:a.then((function(e){return p()(void 0,e),new c._Promise((function(t,n){t(e)}))})).catch((function(e){return p()(e,void 0),new c._Promise((function(t,n){n(e)}))}))},e}},e.enable=function(){t.channel.registerMonkeyPatch("pg",e.postgres6),t.channel.registerMonkeyPatch("pg",e.postgres7)}})),Kt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.redis=void 0;var t=T();e.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var n=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var r=e.callback;if(!r||!r.pubsubBound){var i=this.address,o=process.hrtime(),s=new Date;e.callback=t.channel.bindToContext((function(n,a){var c=process.hrtime(o),u=1e3*c[0]+c[1]/1e6|0;t.channel.publish("redis",{duration:u,address:i,commandObj:e,err:n,result:a,time:s}),"function"==typeof r&&r.apply(this,arguments)})),e.callback.pubsubBound=!0}}return n.call(this,e)},e}},e.enable=function(){t.channel.registerMonkeyPatch("redis",e.redis)}})),zt=v((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=void 0;var n=T();e.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:function(e){var r=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=function(){function e(e){var r=process.hrtime(),i={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return n.channel.bindToContext((function(o,s,a){var c=process.hrtime(r);i=t(t({},i),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!o&&{rowCount:s,rows:a},query:{text:this.parametersByName.statement.value},error:o,duration:Math.ceil(1e3*c[0]+c[1]/1e6)}),n.channel.publish("tedious",i),e.call(this,o,s,a)}))}var i=arguments[0];arguments[0].callback=e(i.callback),r.apply(this,arguments)},e}},e.enable=function(){n.channel.registerMonkeyPatch("tedious",e.tedious)}})),Yt=v((e=>{"use strict";var t,n=e&&e.__extends||(t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,n)},function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=e&&e.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.winston2=e.winston3=void 0;var i=T();e.winston3={versionSpecifier:"3.x",patch:function(e){var t=function(e){function t(t,n){var r=e.call(this,n)||this;return r.winston=t,r}return n(t,e),t.prototype.log=function(e,t){var n=e.message,o=e.level,s=e.meta,a=r(e,["message","level","meta"]);o="function"==typeof Symbol.for?e[Symbol.for("level")]:o,n=e instanceof Error?e:n;var c=function(e,t){return null!=e.config.npm.levels[t]?"npm":null!=e.config.syslog.levels[t]?"syslog":"unknown"}(this.winston,o);for(var u in s=s||{},a)a.hasOwnProperty(u)&&(s[u]=a[u]);i.channel.publish("winston",{message:n,level:o,levelKind:c,meta:s}),t()},t}(e.Transport);function o(){var n,r=arguments[0].levels||e.config.npm.levels;for(var i in r)r.hasOwnProperty(i)&&(n=void 0===n||r[i]>r[n]?i:n);this.add(new t(e,{level:n}))}var s=e.createLogger;e.createLogger=function(){var n,r=arguments[0].levels||e.config.npm.levels;for(var i in r)r.hasOwnProperty(i)&&(n=void 0===n||r[i]>r[n]?i:n);var a=s.apply(this,arguments);a.add(new t(e,{level:n}));var c=a.configure;return a.configure=function(){c.apply(this,arguments),o.apply(this,arguments)},a};var a=e.configure;return e.configure=function(){a.apply(this,arguments),o.apply(this,arguments)},e.add(new t(e)),e}},e.winston2={versionSpecifier:"2.x",patch:function(e){var t,n=e.Logger.prototype.log,r=function(n,r,o){var s;return s=t===e.config.npm.levels?"npm":t===e.config.syslog.levels?"syslog":"unknown",i.channel.publish("winston",{level:n,message:r,meta:o,levelKind:s}),r};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==r&&(this.filters=this.filters.filter((function(e){return e!==r})),this.filters.push(r)):this.filters=[r],n.apply(this,arguments)},e}},e.enable=function(){i.channel.registerMonkeyPatch("winston",e.winston2),i.channel.registerMonkeyPatch("winston",e.winston3)}})),Jt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.tedious=e.pgPool=e.pg=e.winston=e.redis=e.mysql=e.mongodb=e.mongodbCore=e.console=e.bunyan=e.azuresdk=void 0;var t=qt();e.azuresdk=t;var n=Ut();e.bunyan=n;var r=Wt();e.console=r;var i=Vt();e.mongodbCore=i;var o=Ht();e.mongodb=o;var s=$t();e.mysql=s;var a=Bt();e.pgPool=a;var c=Gt();e.pg=c;var u=Kt();e.redis=u;var l=zt();e.tedious=l;var d=Yt();e.winston=d,e.enable=function(){n.enable(),r.enable(),i.enable(),o.enable(),s.enable(),c.enable(),a.enable(),u.enable(),d.enable(),t.enable(),l.enable()}})),Xt=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerContextPreservation=e.IsInitialized=void 0;var t=_(),n=S();e.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var r,i,o,s,a="DiagnosticChannel";if(e.IsInitialized){for(s in r=Jt(),i=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),o={bunyan:r.bunyan,console:r.console,mongodb:r.mongodb,mongodbCore:r.mongodbCore,mysql:r.mysql,redis:r.redis,pg:r.pg,pgPool:r.pgPool,winston:r.winston,azuresdk:r.azuresdk})-1===i.indexOf(s)&&(o[s].enable(),n.info(a,"Subscribed to "+s+" events"));i.length>0&&n.info(a,"Some modules will not be patched",i)}else n.info(a,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");e.registerContextPreservation=function(n){if(e.IsInitialized){var r=T();r.channel.addContextPreservation(n),r.channel.spanContextPropagator=t.AsyncScopeManager}}})),Qt=v(((e,t)=>{"use strict";t.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}})),Zt=v(((e,t)=>{"use strict";var r=e&&e.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=n(13685),o=n(95687),s=n(57310),a=n(22057),c=S(),u=Qt(),l=function(){function e(){}return e.getCookie=function(t,n){var r="";if(t&&t.length&&"string"==typeof n)for(var i=t+"=",o=n.split(";"),s=0;s<o.length;s++)if(n=o[s],(n=e.trim(n))&&0===n.indexOf(i)){r=n.substring(i.length,o[s].length);break}return r},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},n=e.map((function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)})).join(""),r=(Buffer.from?Buffer.from(n,"binary"):new Buffer(n,"binary")).toString("base64");return r.substr(0,r.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r="",i=0;i<4;i++)r+=n[15&(t=e.random32())]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];var o=n[8+4*Math.random()|0];return r.substr(0,8)+r.substr(9,4)+"4"+r.substr(13,3)+o+r.substr(16,3)+r.substr(19,12)},e.w3cSpanId=function(){return e.w3cTraceId().substring(16)},e.isValidW3CId=function(e){return 32===e.length&&"00000000000000000000000000000000"!==e},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),n=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,i=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,n=n.length<2?"0"+n:n,(i>0?i+".":"")+(r=r.length<2?"0"+r:r)+":"+n+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==typeof t){var n={};for(var r in t){var i="",o=t[r],s=typeof o;if(e.isPrimitive(o))i=o.toString();else if(null===o||"undefined"===s)i="";else{if("function"===s){c.info("key: "+r+" was function; will not serialize");continue}var a=e.isArray(o)?o:e.extractObject(o);try{i=e.isPrimitive(a)?a:JSON.stringify(a)}catch(e){i=o.constructor.name.toString()+" (Error: "+e.message+")",c.info("key: "+r+", could not be serialized")}}n[r]=i.substring(0,e.MAX_PROPERTY_LENGTH)}return n}c.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var n=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!n||0==n.length||!t)return!0;for(var r=0;r<n.length;r++)if(new RegExp(n[r].replace(/\./g,".").replace(/\*/g,".*")).test(s.parse(t).hostname))return!1;return!0},e.getCorrelationContextTarget=function(e,t){var n=e.headers&&e.headers[u.requestContextHeader];if(n)for(var r=n.split(","),i=0;i<r.length;++i){var o=r[i].split("=");if(2==o.length&&o[0]==t)return o[1]}},e.makeRequest=function(t,n,a,u){n&&0===n.indexOf("//")&&(n="https:"+n);var l=s.parse(n),d=r(r({},a),{host:l.hostname,port:l.port,path:l.pathname}),p=void 0;if("https:"===l.protocol&&(p=t.proxyHttpsUrl||void 0),"http:"===l.protocol&&(p=t.proxyHttpUrl||void 0),p){0===p.indexOf("//")&&(p="http:"+p);var h=s.parse(p);"https:"===h.protocol?(c.info("Proxies that use HTTPS are not supported"),p=void 0):d=r(r({},d),{host:h.hostname,port:h.port||"80",path:n,headers:r(r({},d.headers),{Host:l.hostname})})}var f="https:"===l.protocol&&!p;return f&&void 0!==t.httpsAgent?d.agent=t.httpsAgent:f||void 0===t.httpAgent?f&&(d.agent=e.tlsRestrictedAgent):d.agent=t.httpAgent,f?o.request(d,u):i.request(d,u)},e.safeIncludeCorrelationHeader=function(t,n,r){var i;if("string"==typeof r)i=r;else if(r instanceof Array)i=r.join(",");else if(r&&"function"==typeof r.toString)try{i=r.toString()}catch(e){c.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",e,r)}i?e.addCorrelationIdHeaderFromString(t,n,i):n.setHeader(u.requestContextHeader,u.requestContextSourceKey+"="+t.config.correlationId)},e.dumpObj=function(e){var t=Object.prototype.toString.call(e);return t+("[object Error]"===t?"{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":JSON.stringify(e))},e.addCorrelationIdHeaderFromString=function(e,t,n){var r=n.split(","),i=u.requestContextSourceKey+"=";r.some((function(e){return e.substring(0,i.length)===i}))||t.setHeader(u.requestContextHeader,n+","+u.requestContextSourceKey+"="+e.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new o.Agent({keepAlive:!0,maxSockets:25,secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e}();t.exports=l})),en=v(((e,t)=>{"use strict";var n=Zt(),r=S(),i=function(){function e(){}return e.queryCorrelationId=function(t,i){var o=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(o))i(e.completedLookups[o]);else if(e.pendingLookups[o])e.pendingLookups[o].push(i);else{e.pendingLookups[o]=[i];var s=function(){if(e.pendingLookups[o]){var i={method:"GET",disableAppInsightsAutoCollection:!0};r.info(e.TAG,i);var a=n.makeRequest(t,o,i,(function(n){if(200===n.statusCode){var i="";n.setEncoding("utf-8"),n.on("data",(function(e){i+=e})),n.on("end",(function(){r.info(e.TAG,i);var t=e.correlationIdPrefix+i;e.completedLookups[o]=t,e.pendingLookups[o]&&e.pendingLookups[o].forEach((function(e){return e(t)})),delete e.pendingLookups[o]}))}else n.statusCode>=400&&n.statusCode<500?(e.completedLookups[o]=void 0,delete e.pendingLookups[o]):setTimeout(s,t.correlationIdRetryIntervalMs)}));a&&(a.on("error",(function(t){r.warn(e.TAG,t)})),a.end())}};setTimeout(s,0)}},e.cancelCorrelationIdQuery=function(t,n){var r=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",i=e.pendingLookups[r];i&&(e.pendingLookups[r]=i.filter((function(e){return e!=n})),0==e.pendingLookups[r].length&&delete e.pendingLookups[r])},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var n=(e.currentRootId++).toString(16);return e.appendSuffix(t,n,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var n="|"===e[0]?1:0;return e.substring(n,t)},e.generateRootId=function(){return"|"+n.w3cTraceId()+"."},e.appendSuffix=function(t,r,i){if(t.length+r.length<e.requestIdMaxLength)return t+r+i;var o=e.requestIdMaxLength-9;if(t.length>o)for(;o>1;--o){var s=t[o-1];if("."===s||"_"===s)break}if(o<=1)return e.generateRootId();for(r=n.randomu32().toString(16);r.length<8;)r="0"+r;return t.substring(0,o)+r+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!0,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=n.randomu32(),e}();t.exports=i})),tn=v(((e,t)=>{"use strict";var n=Zt(),r=en(),i=function(){function e(t,i){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16);else{var o=t.trim().split("-"),s=o.length;s>=4?(this.version=o[0],this.traceId=o[1],this.spanId=o[2],this.traceFlag=o[3]):(this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId()),"00"===this.version&&4!==s&&(this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=n.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=n.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=n.w3cTraceId().substr(0,16),this.traceId=n.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(i){this.parentId=i.slice();var a=r.getRootId(i);e.isValidTraceId(a)||(this.legacyRootId=a,a=n.w3cTraceId()),-1!==i.indexOf("|")&&(i=i.substring(1+i.substring(0,i.length-1).lastIndexOf("."),i.length-1)),this.traceId=a,this.spanId=i}else this.traceId=n.w3cTraceId(),this.spanId=n.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.formatOpenTelemetryTraceFlags=function(e){var t="0"+e.toString(16);return t.substring(t.length-2)},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=n.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();t.exports=i})),nn=v(((e,t)=>{"use strict";var n=function(){function e(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&&0!=e.length?e.join(", "):null},e.validateKeyChars=function(e){var t=e.split("@");if(2==t.length){var n=t[0].trim(),r=t[1].trim(),i=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),o=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return i&&o}return 1==t.length&&Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(t){var n=[],r={},i=t.split(",");if(i.length>32)return null;for(var o=0,s=i;o<s.length;o++){var a=s[o].trim();if(0!==a.length){var c=a.split("=");if(2!==c.length||!e.validateKeyChars(c[0])||r[c[0]])return null;r[c[0]]=!0,n.push(a)}}return n},e.strict=!0,e}();t.exports=n})),rn=v(((e,t)=>{"use strict";t.exports=function(){}})),on=v(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return r(t,e),t}(rn());t.exports=i})),sn=v(((e,t)=>{"use strict";t.exports=function(){}})),an=v(((e,t)=>{"use strict";t.exports=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}})),cn=v(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){return e.call(this)||this}return r(t,e),t}(sn());t.exports=i})),un=v(((e,t)=>{"use strict";var n,r;(r=n||(n={}))[r.Measurement=0]="Measurement",r[r.Aggregation=1]="Aggregation",t.exports=n})),ln=v(((e,t)=>{"use strict";var n=un();t.exports=function(){this.kind=n.Measurement}})),dn=v(((e,t)=>{"use strict";t.exports=function(){this.ver=1,this.sampleRate=100,this.tags={}}})),pn=v(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return r(t,e),t}(rn());t.exports=i})),hn=v(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return r(t,e),t}(rn());t.exports=i})),fn=v(((e,t)=>{"use strict";t.exports=function(){this.hasFullStack=!0,this.parsedStack=[]}})),gn=v(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return r(t,e),t}(rn());t.exports=i})),mn=v(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return r(t,e),t}(rn());t.exports=i})),vn=v(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return r(t,e),t}(pn());t.exports=i})),yn=v(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return r(t,e),t}(rn());t.exports=i})),bn=v(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return r(t,e),t}(rn());t.exports=i})),Sn=v(((e,t)=>{"use strict";var n,r;(r=n||(n={}))[r.Verbose=0]="Verbose",r[r.Information=1]="Information",r[r.Warning=2]="Warning",r[r.Error=3]="Error",r[r.Critical=4]="Critical",t.exports=n})),_n=v(((e,t)=>{"use strict";t.exports=function(){}})),En=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AvailabilityData=on(),e.Base=sn(),e.ContextTagKeys=an(),e.Data=cn(),e.DataPoint=ln(),e.DataPointType=un(),e.Domain=rn(),e.Envelope=dn(),e.EventData=pn(),e.ExceptionData=hn(),e.ExceptionDetails=fn(),e.MessageData=gn(),e.MetricData=mn(),e.PageViewData=vn(),e.RemoteDependencyData=yn(),e.RequestData=bn(),e.SeverityLevel=Sn(),e.StackFrame=_n()})),wn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.domainSupportsProperties=e.RemoteDependencyDataConstants=void 0;var t=En(),n=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();e.RemoteDependencyDataConstants=n,e.domainSupportsProperties=function(e){return"properties"in e||e instanceof t.EventData||e instanceof t.ExceptionData||e instanceof t.MessageData||e instanceof t.MetricData||e instanceof t.PageViewData||e instanceof t.RemoteDependencyData||e instanceof t.RequestData}})),Pn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Tn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Cn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),In=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Rn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Dn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),On=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),kn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),xn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Nn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),An=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),jn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Mn=v((e=>{"use strict";var t,n;Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryType=e.TelemetryTypeString=e.baseTypeToTelemetryType=e.telemetryTypeToBaseType=void 0,e.telemetryTypeToBaseType=function(e){switch(e){case t.Event:return"EventData";case t.Exception:return"ExceptionData";case t.Trace:return"MessageData";case t.Metric:return"MetricData";case t.Request:return"RequestData";case t.Dependency:return"RemoteDependencyData";case t.Availability:return"AvailabilityData";case t.PageView:return"PageViewData"}},e.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return t.Event;case"ExceptionData":return t.Exception;case"MessageData":return t.Trace;case"MetricData":return t.Metric;case"RequestData":return t.Request;case"RemoteDependencyData":return t.Dependency;case"AvailabilityData":return t.Availability;case"PageViewData":return t.PageView}},e.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"},(n=t=e.TelemetryType||(e.TelemetryType={}))[n.Event=0]="Event",n[n.Exception=1]="Exception",n[n.Trace=2]="Trace",n[n.Metric=3]="Metric",n[n.Request=4]="Request",n[n.Dependency=5]="Dependency",n[n.Availability=6]="Availability",n[n.PageView=7]="PageView"})),Ln=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Pn(),e),n(Tn(),e),n(Cn(),e),n(In(),e),n(Rn(),e),n(Dn(),e),n(On(),e),n(kn(),e),n(xn(),e),n(Nn(),e),n(An(),e),n(jn(),e),n(Mn(),e)})),Fn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),qn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Un=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Wn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Vn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Hn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),$n=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Bn=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),Gn=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Fn(),e),n(qn(),e),n(Un(),e),n(Wn(),e),n(Vn(),e),n(Hn(),e),n($n(),e),n(Bn(),e)})),Kn=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(wn(),e),n(En(),e),n(Ln(),e),n(Gn(),e)})),zn=v(((e,t)=>{"use strict";var n=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var n=+new Date;this.duration=n-this.startTime,this.statusCode=e;var r=this.properties||{};if(t)if("string"==typeof t)r.error=t;else if(t instanceof Error)r.error=t.message;else if("object"==typeof t)for(var i in t)r[i]=t[i]&&t[i].toString&&t[i].toString();this.properties=r},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();t.exports=n})),Yn=v(((e,t)=>{"use strict";var r,i=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(57310),s=Kn(),a=Zt(),c=Qt(),u=zn(),l=en(),d=nn(),p=tn(),h=function(e){function t(t,n){var r=e.call(this)||this;return t&&(r.method=t.method,r.url=r._getAbsoluteUrl(t),r.startTime=+new Date,r.socketRemoteAddress=t.socket&&t.socket.remoteAddress,r.parseHeaders(t,n),t.connection&&(r.connectionRemoteAddress=t.connection.remoteAddress,r.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),r}return i(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+" "+o.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e&&e.time?t.time=e.time:this.startTime&&(t.time=new Date(this.startTime)),e){for(var n in e)t[n]||(t[n]=e[n]);if(e.properties)for(var n in e.properties)t.properties[n]=e.properties[n]}return t},t.prototype.getRequestTags=function(e){var n={};for(var r in e)n[r]=e[r];return n[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),n[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),n[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),n[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),n[t.keys.operationName]=this.getOperationName(e),n[t.keys.operationParentId]=this.getOperationParentId(e),n[t.keys.operationId]=this.getOperationId(e),n},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+" "+o.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,n=o.parse(e.url),r=n.pathname,i=n.search,s=t||"https"==e.headers["x-forwarded-proto"]?"https":"http";return o.format({protocol:s,host:e.headers.host,pathname:r,search:i})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var n=e.exec(t);if(n)return n[0]},n=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!n&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(n="127.0.0.1"),n},t.prototype._getId=function(e){var n=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(a.getCookie(e,n))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=a.getCorrelationContextTarget(e,c.requestContextSourceKey),e.headers){var n=e.headers[c.traceStateHeader]?e.headers[c.traceStateHeader].toString():null,r=e.headers[c.traceparentHeader]?e.headers[c.traceparentHeader].toString():null,i=e.headers[c.requestIdHeader]?e.headers[c.requestIdHeader].toString():null,o=e.headers[c.parentIdHeader]?e.headers[c.parentIdHeader].toString():null,s=e.headers[c.rootIdHeader]?e.headers[c.rootIdHeader].toString():null;this.correlationContextHeader=e.headers[c.correlationContextHeader]?e.headers[c.correlationContextHeader].toString():null,l.w3cEnabled&&(r||n)?(this.traceparent=new p(r?r.toString():null),this.tracestate=r&&n&&new d(n?n.toString():null),this.setBackCompatFromThisTraceContext()):i?l.w3cEnabled?(this.traceparent=new p(null,i),this.setBackCompatFromThisTraceContext()):(this.parentId=i,this.requestId=l.generateRequestId(this.parentId),this.operationId=l.getRootId(this.requestId)):l.w3cEnabled?(this.traceparent=new p,this.traceparent.parentId=o,this.traceparent.legacyRootId=s||o,this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=l.generateRequestId(s||this.parentId),this.correlationContextHeader=null,this.operationId=l.getRootId(this.requestId)),t&&(this.requestId=t,this.operationId=l.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split("|");return t.length>0?t[0]:""},t.keys=new s.ContextTagKeys,t}(u);t.exports=h})),Jn=v(((e,t)=>{var n;e=t.exports=G,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,i=e.re=[],o=e.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;o[l]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var d=s++;o[d]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[u]+")";var h=s++;o[h]="(?:"+o[c]+"|"+o[u]+")";var f=s++;o[f]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var g=s++;o[g]="(?:-?("+o[h]+"(?:\\."+o[h]+")*))";var m=s++;o[m]="[0-9A-Za-z-]+";var v=s++;o[v]="(?:\\+("+o[m]+"(?:\\."+o[m]+")*))";var y=s++,b="v?"+o[l]+o[f]+"?"+o[v]+"?";o[y]="^"+b+"$";var S="[v=\\s]*"+o[d]+o[g]+"?"+o[v]+"?",_=s++;o[_]="^"+S+"$";var E=s++;o[E]="((?:<|>)?=?)";var w=s++;o[w]=o[c]+"|x|X|\\*";var P=s++;o[P]=o[a]+"|x|X|\\*";var T=s++;o[T]="[v=\\s]*("+o[P]+")(?:\\.("+o[P]+")(?:\\.("+o[P]+")(?:"+o[f]+")?"+o[v]+"?)?)?";var C=s++;o[C]="[v=\\s]*("+o[w]+")(?:\\.("+o[w]+")(?:\\.("+o[w]+")(?:"+o[g]+")?"+o[v]+"?)?)?";var I=s++;o[I]="^"+o[E]+"\\s*"+o[T]+"$";var R=s++;o[R]="^"+o[E]+"\\s*"+o[C]+"$";var D=s++;o[D]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var O=s++;o[O]="(?:~>?)";var k=s++;o[k]="(\\s*)"+o[O]+"\\s+",i[k]=new RegExp(o[k],"g");var x=s++;o[x]="^"+o[O]+o[T]+"$";var N=s++;o[N]="^"+o[O]+o[C]+"$";var A=s++;o[A]="(?:\\^)";var j=s++;o[j]="(\\s*)"+o[A]+"\\s+",i[j]=new RegExp(o[j],"g");var M=s++;o[M]="^"+o[A]+o[T]+"$";var L=s++;o[L]="^"+o[A]+o[C]+"$";var F=s++;o[F]="^"+o[E]+"\\s*("+S+")$|^$";var q=s++;o[q]="^"+o[E]+"\\s*("+b+")$|^$";var U=s++;o[U]="(\\s*)"+o[E]+"\\s*("+S+"|"+o[T]+")",i[U]=new RegExp(o[U],"g");var W=s++;o[W]="^\\s*("+o[T]+")\\s+-\\s+("+o[T]+")\\s*$";var V=s++;o[V]="^\\s*("+o[C]+")\\s+-\\s+("+o[C]+")\\s*$";var H,$=s++;for(o[$]="(<|>)?=?\\s*\\*",H=0;H<35;H++)n(H,o[H]),i[H]||(i[H]=new RegExp(o[H]));function B(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof G)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?i[_]:i[y]).test(e))return null;try{return new G(e,t)}catch{return null}}function G(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof G){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof G))return new G(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[_]:i[y]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}e.parse=B,e.valid=function(e,t){var n=B(e,t);return n?n.version:null},e.clean=function(e,t){var n=B(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},e.SemVer=G,G.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},G.prototype.toString=function(){return this.version},G.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof G||(e=new G(e,this.options)),this.compareMain(e)||this.comparePre(e)},G.prototype.compareMain=function(e){return e instanceof G||(e=new G(e,this.options)),z(this.major,e.major)||z(this.minor,e.minor)||z(this.patch,e.patch)},G.prototype.comparePre=function(e){if(e instanceof G||(e=new G(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return z(r,i)}while(++t)},G.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new G(e,n).inc(t,r).version}catch{return null}},e.diff=function(e,t){if(Q(e,t))return null;var n=B(e),r=B(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},e.compareIdentifiers=z;var K=/^[0-9]+$/;function z(e,t){var n=K.test(e),r=K.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function Y(e,t,n){return new G(e,n).compare(new G(t,n))}function J(e,t,n){return Y(e,t,n)>0}function X(e,t,n){return Y(e,t,n)<0}function Q(e,t,n){return 0===Y(e,t,n)}function Z(e,t,n){return 0!==Y(e,t,n)}function ee(e,t,n){return Y(e,t,n)>=0}function te(e,t,n){return Y(e,t,n)<=0}function ne(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return Q(e,n,r);case"!=":return Z(e,n,r);case">":return J(e,n,r);case">=":return ee(e,n,r);case"<":return X(e,n,r);case"<=":return te(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function re(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof re){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof re))return new re(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(e,t){return z(t,e)},e.major=function(e,t){return new G(e,t).major},e.minor=function(e,t){return new G(e,t).minor},e.patch=function(e,t){return new G(e,t).patch},e.compare=Y,e.compareLoose=function(e,t){return Y(e,t,!0)},e.rcompare=function(e,t,n){return Y(t,e,n)},e.sort=function(t,n){return t.sort((function(t,r){return e.compare(t,r,n)}))},e.rsort=function(t,n){return t.sort((function(t,r){return e.rcompare(t,r,n)}))},e.gt=J,e.lt=X,e.eq=Q,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=ne,e.Comparator=re;var ie={};function oe(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof re)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,n,r,i,o,s,a,c,u,l,d,p){return((t=se(n)?"":se(r)?">="+n+".0.0":se(i)?">="+n+"."+r+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":d?"<="+c+"."+u+"."+l+"-"+d:"<="+a)).trim()}function ce(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==ie&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,n){try{t=new oe(t,n)}catch{return!1}return t.test(e)}function le(e,t,n,r){var i,o,s,a,c;switch(e=new G(e,r),t=new oe(t,r),n){case">":i=J,o=te,s=X,a=">",c=">=";break;case"<":i=X,o=ee,s=J,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,r))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],d=null,p=null;if(l.forEach((function(e){e.semver===ie&&(e=new re(">=0.0.0")),d=d||e,p=p||e,i(e.semver,d.semver,r)?d=e:s(e.semver,p.semver,r)&&(p=e)})),d.operator===a||d.operator===c||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}re.prototype.parse=function(e){var t=this.options.loose?i[F]:i[q],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new G(n[2],this.options.loose):this.semver=ie},re.prototype.toString=function(){return this.value},re.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new G(e,this.options)),ne(e,this.operator,this.semver,this.options))},re.prototype.intersects=function(e,t){if(!(e instanceof re))throw new TypeError("a Comparator is required");var n;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new oe(e.value,t),ue(this.value,n,t);if(""===e.operator)return n=new oe(this.value,t),ue(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},e.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?i[V]:i[W];e=e.replace(r,ae),n("hyphen replace",e),e=e.replace(i[U],"$1$2$3"),n("comparator trim",e,i[U]),e=(e=(e=e.replace(i[k],"$1~")).replace(i[j],"$1^")).split(/\s+/).join(" ");var o=t?i[F]:i[q],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?i[L]:i[M];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),se(r)?a="":se(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?i[N]:i[x];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),se(r)?a="":se(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?i[R]:i[I];return e.replace(r,(function(t,r,i,o,s,a){n("xRange",e,t,r,i,o,s,a);var c=se(i),u=c||se(o),l=u||se(s);return"="===r&&l&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&l?(u&&(o=0),s=0,">"===r?(r=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",u?i=+i+1:o=+o+1),t=r+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(i[$],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new re(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new G(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},e.satisfies=ue,e.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new oe(t,n)}catch{return null}return e.forEach((function(e){o.test(e)&&(!r||-1===i.compare(e))&&(i=new G(r=e,n))})),r},e.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new oe(t,n)}catch{return null}return e.forEach((function(e){o.test(e)&&(!r||1===i.compare(e))&&(i=new G(r=e,n))})),r},e.minVersion=function(e,t){e=new oe(e,t);var n=new G("0.0.0");if(e.test(n)||(n=new G("0.0.0-0"),e.test(n)))return n;n=null;for(var r=0;r<e.set.length;++r)e.set[r].forEach((function(e){var t=new G(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!n||J(n,t))&&(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return n&&e.test(n)?n:null},e.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch{return null}},e.ltr=function(e,t,n){return le(e,t,"<",n)},e.gtr=function(e,t,n){return le(e,t,">",n)},e.outside=le,e.prerelease=function(e,t){var n=B(e,t);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(e,t,n){return e=new oe(e,n),t=new oe(t,n),e.intersects(t)},e.coerce=function(e){if(e instanceof G)return e;if("string"!=typeof e)return null;var t=e.match(i[D]);return null==t?null:B(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),Xn=v(((e,t)=>{"use strict";function n(e){return"function"==typeof e}var r=console.error.bind(console);function i(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function o(e){e&&e.logger&&(n(e.logger)?r=e.logger:r("new logger isn't a function, not replacing"))}function s(e,t,o){if(e&&e[t]){if(!o)return r("no wrapper function"),void r((new Error).stack);if(n(e[t])&&n(o)){var s=e[t],a=o(s,t);return i(a,"__original",s),i(a,"__unwrap",(function(){e[t]===a&&i(e,t,s)})),i(a,"__wrapped",!0),i(e,t,a),a}r("original object and wrapper must be functions")}else r("no original function "+t+" to wrap")}function a(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void r("no original to unwrap to -- has "+t+" already been unwrapped?"):(r("no function to unwrap."),void r((new Error).stack))}o.wrap=s,o.massWrap=function(e,t,n){if(!e)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){s(e,t,n)}))})):r("must provide one or more functions to wrap on modules")},o.unwrap=a,o.massUnwrap=function(e,t){if(!e)return r("must provide one or more modules to patch"),void r((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){a(e,t)}))})):r("must provide one or more functions to unwrap on modules")},t.exports=o})),Qn=v(((e,t)=>{"use strict";var n=Xn(),r=n.wrap,i=n.unwrap,o="wrap@before";function s(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function a(e,t){var n;return n=e._events&&e._events[t],Array.isArray(n)||(n=n?[n]:[]),n}function c(e,t){if(e){var n=e;if("function"==typeof e)n=t(e);else if(Array.isArray(e)){n=[];for(var r=0;r<e.length;r++)n[r]=t(e[r])}return n}}t.exports=function(e,t,n){if(!(e&&e.on&&e.addListener&&e.removeListener&&e.emit))throw new Error("can only wrap real EEs");if(!t)throw new Error("must have function to run on listener addition");if(!n)throw new Error("must have function to wrap listeners when emitting");function u(e){return function(t,n){var i=a(this,t).slice();try{var s=e.call(this,t,n);return function(e,t,n){var r=a(e,t).filter((function(e){return-1===n.indexOf(e)}));r.length>0&&function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r],s=e[o];if("function"==typeof s)s(i);else if(Array.isArray(s))for(var a=s.length,c=0;c<a;c++)s[c](i)}}(e,r)}(this,t,i),s}finally{this.on.__wrapped||r(this,"on",u),this.addListener.__wrapped||r(this,"addListener",u)}}}e[o]?"function"==typeof e[o]?s(e,o,[e[o],t]):Array.isArray(e[o])&&e[o].push(t):s(e,o,t),e.__wrapped||(r(e,"addListener",u),r(e,"on",u),r(e,"emit",(function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var o=this._events[t];function s(e){return function(){this._events[t]=o;try{return e.apply(this,arguments)}finally{o=this._events[t],this._events[t]=c(o,n)}}}r(this,"removeListener",s);try{return this._events[t]=c(o,n),e.apply(this,arguments)}finally{i(this,"removeListener"),this._events[t]=o}}})),s(e,"__unwrap",(function(){i(e,"addListener"),i(e,"on"),i(e,"emit"),delete e[o],delete e.__wrapped})),s(e,"__wrapped",!0))}})),Zn=v(((e,t)=>{"use strict";var r=n(73837),i=n(39491),o=Qn(),s=n(50852),a="cls@contexts",c="error@context",u=process.env.DEBUG_CLS_HOOKED,l=-1;function d(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function p(e){return process.namespaces[e]}function h(e){let t=p(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+r.inspect(t)),process.namespaces[e]=null}function f(...e){u&&process._rawDebug(`${r.format(...e)}`)}t.exports={getNamespace:p,createNamespace:function(e){i.ok(e,"namespace must be given a name."),u&&f(`NS-CREATING NAMESPACE (${e})`);let t=new d(e);return t.id=l,s.createHook({init(n,i,o,a){if(l=s.executionAsyncId(),t.active)t._contexts.set(n,t.active),u&&f(`${" ".repeat(t._indent<0?0:t._indent)}INIT [${i}] (${e}) asyncId:${n} currentUid:${l} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`);else if(0===l){let o=s.triggerAsyncId(),c=t._contexts.get(o);c?(t._contexts.set(n,c),u&&f(`${" ".repeat(t._indent<0?0:t._indent)}INIT USING CONTEXT FROM TRIGGERID [${i}] (${e}) asyncId:${n} currentUid:${l} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)):u&&f(`${" ".repeat(t._indent<0?0:t._indent)}INIT MISSING CONTEXT [${i}] (${e}) asyncId:${n} currentUid:${l} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}if(u&&"PROMISE"===i){f(r.inspect(a,{showHidden:!0}));let s=a.parentId;f(`${" ".repeat(t._indent<0?0:t._indent)}INIT RESOURCE-PROMISE [${i}] (${e}) parentId:${s} asyncId:${n} currentUid:${l} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${a}`)}},before(n){let i;if(l=s.executionAsyncId(),i=t._contexts.get(n)||t._contexts.get(l),i){if(u){let o=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE (${e}) asyncId:${n} currentUid:${l} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(i)}`),t._indent+=2}t.enter(i)}else if(u){let i=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}BEFORE MISSING CONTEXT (${e}) asyncId:${n} currentUid:${l} triggerId:${i} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${r.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(n){let i;if(l=s.executionAsyncId(),i=t._contexts.get(n)||t._contexts.get(l),i){if(u){let o=s.triggerAsyncId();t._indent-=2,f(`${" ".repeat(t._indent<0?0:t._indent)}AFTER (${e}) asyncId:${n} currentUid:${l} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(i)}`)}t.exit(i)}else if(u){let o=s.triggerAsyncId();t._indent-=2,f(`${" ".repeat(t._indent<0?0:t._indent)}AFTER MISSING CONTEXT (${e}) asyncId:${n} currentUid:${l} triggerId:${o} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(i)}`)}},destroy(n){if(l=s.executionAsyncId(),u){let i=s.triggerAsyncId();f(`${" ".repeat(t._indent<0?0:t._indent)}DESTROY (${e}) currentUid:${l} asyncId:${n} triggerId:${i} active:${r.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(t._contexts.get(l))}`)}t._contexts.delete(n)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:h,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){h(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:c},d.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,u&&f(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+e+"="+t+" in ns:"+this.name+" currentUid:"+l+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),t},d.prototype.get=function(e){if(this.active){if(u){let t=s.executionAsyncId(),n=s.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);f(i+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+l+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),f(`${i}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${l} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length} active:${r.inspect(this.active)}`)}return this.active[e]}if(u){let t=s.currentId(),n=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${l} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length}`)}},d.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=l,u){let t=s.executionAsyncId(),n=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${l} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length} context:${r.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e},d.prototype.run=function(e){let t=this.createContext();this.enter(t);try{if(u){let e=s.triggerAsyncId(),n=s.executionAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${l} triggerId:${e} asyncHooksCurrentId:${n} len:${this._set.length} context:${r.inspect(t)}`)}return e(t),t}catch(e){throw e&&(e[c]=t),e}finally{if(u){let e=s.triggerAsyncId(),n=s.executionAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${l} triggerId:${e} asyncHooksCurrentId:${n} len:${this._set.length} ${r.inspect(t)}`)}this.exit(t)}},d.prototype.runAndReturn=function(e){let t;return this.run((function(n){t=e(n)})),t},d.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let n=e(t);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return u&&f("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(t)),n.then((e=>(u&&f("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e))).catch((e=>{throw e[c]=t,u&&f("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e}))},d.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[c]=t),e}finally{n.exit(t)}}},d.prototype.enter=function(e){if(i.ok(e,"context must be provided for entering"),u){let t=s.executionAsyncId(),n=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${l} triggerId:${n} asyncHooksCurrentId:${t} len:${this._set.length} ${r.inspect(e)}`)}this._set.push(this.active),this.active=e},d.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),u){let t=s.executionAsyncId(),n=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${l} triggerId:${n} asyncHooksCurrentId:${t} len:${this._set.length} ${r.inspect(e)}`)}if(this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(u&&f("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+r.inspect(this)+"\n"+r.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},d.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,n="context@"+this.name;o(e,(function(e){!e||(e[a]||(e[a]=Object.create(null)),e[a][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;let t=e,n=e[a];return Object.keys(n).forEach((function(e){let r=n[e];t=r.namespace.bind(t,r.context)})),t}))},d.prototype.fromException=function(e){return e[c]},process.namespaces={}})),er=v(((e,t)=>{"use strict";function n(){}t.exports=function(){let e=this._hooks,t=this._state,r=process.nextTick;process.nextTick=function(){if(!t.enabled)return r.apply(process,arguments);let i=new Array(arguments.length);for(let e=0;e<arguments.length;e++)i[e]=arguments[e];let o=i[0];if("function"!=typeof o)throw new TypeError("callback is not a function");let s=new n,a=--t.counter;return e.init.call(s,a,0,null,null),i[0]=function(){e.pre.call(s,a);let t=!0;try{o.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(s,a,!0),e.destroy.call(null,a)}))}e.post.call(s,a,!1),e.destroy.call(null,a)},r.apply(process,i)}}})),tr=v(((e,t)=>{"use strict";function n(){}t.exports=function(){let e=this._hooks,t=this._state,r=global.Promise,i=r.prototype.then;function o(t,n,r,i){return"function"!=typeof t?i?function(t){return function(n){return e.destroy.call(null,t),n}}(r):function(t){return function(n){throw e.destroy.call(null,t),n}}(r):function(){e.pre.call(n,r);try{return t.apply(this,arguments)}finally{e.post.call(n,r,!1),e.destroy.call(null,r)}}}r.prototype.then=function(r,s){if(!t.enabled)return i.call(this,r,s);let a=new n,c=--t.counter;return e.init.call(a,c,0,null,null),i.call(this,o(r,a,c,!0),o(s,a,c,!1))}}})),nr=v(((e,t)=>{"use strict";var r=n(39512);function i(){}function o(){}function s(){}var a=new Map,c=new Map,u=new Map,l=null,d=!1;function p(e,t,n,i,o,s,a){let c=r[n],u=r[i];r[n]=function(){if(!t.enabled)return c.apply(r,arguments);let n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];let i=n[0];if("function"!=typeof i)throw new TypeError('"callback" argument must be a function');let u,p=new o,h=--t.counter;return e.init.call(p,h,0,null,null),n[0]=function(){l=u,e.pre.call(p,h);let t=!0;try{i.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(p,h,!0),s.delete(u),e.destroy.call(null,h)}))}e.post.call(p,h,!1),l=null,(a||d)&&(d=!1,s.delete(u),e.destroy.call(null,h))},u=c.apply(r,n),s.set(u,h),u},r[i]=function(t){if(l===t&&null!==t)d=!0;else if(s.has(t)){let n=s.get(t);s.delete(t),e.destroy.call(null,n)}u.apply(r,arguments)}}t.exports=function(){p(this._hooks,this._state,"setTimeout","clearTimeout",i,a,!0),p(this._hooks,this._state,"setInterval","clearInterval",o,c,!1),p(this._hooks,this._state,"setImmediate","clearImmediate",s,u,!0),global.setTimeout=r.setTimeout,global.setInterval=r.setInterval,global.setImmediate=r.setImmediate,global.clearTimeout=r.clearTimeout,global.clearInterval=r.clearInterval,global.clearImmediate=r.clearImmediate}})),rr=v(((e,t)=>{t.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}})),ir=v(((e,t)=>{"use strict";var n=process.binding("async_wrap"),r=n.Providers.TIMERWRAP,i={nextTick:er(),promise:tr(),timers:nr()},o=new Set;function s(){this.enabled=!1,this.counter=0}function a(){let e=this.initFns=[],t=this.preFns=[],n=this.postFns=[],i=this.destroyFns=[];this.init=function(t,n,i,s){if(n!==r)for(let r of e)r(t,this,n,i,s);else o.add(t)},this.pre=function(e){if(!o.has(e))for(let n of t)n(e,this)},this.post=function(e,t){if(!o.has(e))for(let r of n)r(e,this,t)},this.destroy=function(e){if(o.has(e))o.delete(e);else for(let t of i)t(e)}}function c(e,t){let n=e.indexOf(t);-1!==n&&e.splice(n,1)}function u(){this._state=new s,this._hooks=new a,this.version=rr().version,this.providers=n.Providers;for(let e of Object.keys(i))i[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),n.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}a.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)},a.prototype.remove=function(e){e.init&&c(this.initFns,e.init),e.pre&&c(this.preFns,e.pre),e.post&&c(this.postFns,e.post),e.destroy&&c(this.destroyFns,e.destroy)},t.exports=u,u.prototype.addHooks=function(e){this._hooks.add(e)},u.prototype.removeHooks=function(e){this._hooks.remove(e)},u.prototype.enable=function(){this._state.enabled=!0,n.enable()},u.prototype.disable=function(){this._state.enabled=!1,n.disable()}})),or=v(((e,t)=>{t.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}})),sr=v(((e,t)=>{t.exports=function(e,t){var n=[];n.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return"<error: "+e+">"}catch{return"<error>"}}}(e));for(var r=0;r<t.length;r++){var i,o=t[r];try{i=o.toString()}catch(e){try{i="<error: "+e+">"}catch{i="<error>"}}n.push("    at "+i)}return n.join("\n")}})),ar=v(((e,t)=>{var n=sr();function r(){this.extend=new s,this.filter=new s,this.format=new a,this.version=or().version}var i=!1;r.prototype.callSite=function e(t){t||(t={}),i=!0;var n={};Error.captureStackTrace(n,e);var r=n.stack;return i=!1,r=r.slice(t.slice||0),t.extend&&(r=this.extend._modify(n,r)),t.filter&&(r=this.filter._modify(n,r)),r};var o=new r;function s(){this._modifiers=[]}function a(){this._formater=n,this._previous=void 0}s.prototype._modify=function(e,t){for(var n=0,r=this._modifiers.length;n<r;n++)t=this._modifiers[n](e,t);return t},s.prototype.attach=function(e){this._modifiers.push(e)},s.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&&(this._modifiers.splice(t,1),!0)},a.prototype.replace=function(e){e?this._formater=e:this.restore()},a.prototype.restore=function(){this._formater=n,this._previous=void 0},a.prototype._backup=function(){this._previous=this._formater},a.prototype._roolback=function(){this._previous===n?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&o.format.replace(Error.prepareStackTrace);var c=!1;function u(e,t){if(i)return t;if(c)return n(e,t);var r=t.concat();r=o.extend._modify(e,r),r=(r=o.filter._modify(e,r)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&void 0===Object.getOwnPropertyDescriptor(e,"callSite")&&(e.callSite={original:t,mutated:r}),c=!0;var s=o.format._formater(e,r);return c=!1,s}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return u},set:function(e){e===u?o.format._roolback():(o.format._backup(),o.format.replace(e))}}),Object.defineProperty(Error.prototype,"callSite",{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0}),t.exports=o})),cr=v(((e,t)=>{if(global._stackChain){if(global._stackChain.version!==or().version)throw new Error("Conflicting version of stack-chain found");t.exports=global._stackChain}else t.exports=global._stackChain=ar()})),ur=v(((e,t)=>{"use strict";var n=ir();if(global._asyncHook){if(global._asyncHook.version!==rr().version)throw new Error("Conflicting version of async-hook-jl found");t.exports=global._asyncHook}else cr().filter.attach((function(e,t){return t.filter((function(e){let t=e.getFileName();return!(t&&t.slice(0,__dirname.length)===__dirname)}))})),t.exports=global._asyncHook=new n})),lr=v(((e,t)=>{"use strict";var r=n(73837),i=n(39491),o=Qn(),s=ur(),a="cls@contexts",c="error@context",u=[];for(let e in s.providers)u[s.providers[e]]=e;var l,d,p=process.env.DEBUG_CLS_HOOKED,h=-1;function f(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function g(e){return process.namespaces[e]}function m(e){let t=g(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+r.inspect(t)),process.namespaces[e]=null}function v(e){process.env.DEBUG&&process._rawDebug(e)}function y(e){return e?"function"==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&&e.constructor.name?e.constructor.name:void 0:e}if(t.exports={getNamespace:g,createNamespace:function(e){i.ok(e,"namespace must be given a name."),p&&v("CREATING NAMESPACE "+e);let t=new f(e);return t.id=h,s.addHooks({init(n,i,o,s,a){h=n,s?(t._contexts.set(n,t._contexts.get(s)),p&&v("PARENTID: "+e+" uid:"+n+" parent:"+s+" provider:"+o)):t._contexts.set(h,t.active),p&&v("INIT "+e+" uid:"+n+" parent:"+s+" provider:"+u[o]+" active:"+r.inspect(t.active,!0))},pre(n,i){h=n;let o=t._contexts.get(n);o?(p&&v(" PRE "+e+" uid:"+n+" handle:"+y(i)+" context:"+r.inspect(o)),t.enter(o)):p&&v(" PRE MISSING CONTEXT "+e+" uid:"+n+" handle:"+y(i))},post(n,i){h=n;let o=t._contexts.get(n);o?(p&&v(" POST "+e+" uid:"+n+" handle:"+y(i)+" context:"+r.inspect(o)),t.exit(o)):p&&v(" POST MISSING CONTEXT "+e+" uid:"+n+" handle:"+y(i))},destroy(n){h=n,p&&v("DESTROY "+e+" uid:"+n+" context:"+r.inspect(t._contexts.get(h))+" active:"+r.inspect(t.active,!0)),t._contexts.delete(n)}}),process.namespaces[e]=t,t},destroyNamespace:m,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){m(e)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:c},f.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return p&&v("    SETTING KEY:"+e+"="+t+" in ns:"+this.name+" uid:"+h+" active:"+r.inspect(this.active,!0)),this.active[e]=t,t},f.prototype.get=function(e){if(this.active)return p&&v("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+h+" active:"+r.inspect(this.active,!0)),this.active[e];p&&v("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+h+" active:"+r.inspect(this.active,!0))},f.prototype.createContext=function(){p&&v("   CREATING Context: "+this.name+" uid:"+h+" len:"+this._set.length+"  active:"+r.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=h,p&&v("   CREATED Context: "+this.name+" uid:"+h+" len:"+this._set.length+"  context:"+r.inspect(e,!0,2,!0)),e},f.prototype.run=function(e){let t=this.createContext();this.enter(t);try{return p&&v(" BEFORE RUN: "+this.name+" uid:"+h+" len:"+this._set.length+" "+r.inspect(t)),e(t),t}catch(e){throw e&&(e[c]=t),e}finally{p&&v(" AFTER RUN: "+this.name+" uid:"+h+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t)}},f.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},f.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let n=e(t);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return p&&v(" BEFORE runPromise: "+this.name+" uid:"+h+" len:"+this._set.length+" "+r.inspect(t)),n.then((e=>(p&&v(" AFTER runPromise: "+this.name+" uid:"+h+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e))).catch((e=>{throw e[c]=t,p&&v(" AFTER runPromise: "+this.name+" uid:"+h+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e}))},f.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[c]=t),e}finally{n.exit(t)}}},f.prototype.enter=function(e){i.ok(e,"context must be provided for entering"),p&&v("  ENTER "+this.name+" uid:"+h+" len:"+this._set.length+" context: "+r.inspect(e)),this._set.push(this.active),this.active=e},f.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),p&&v("  EXIT "+this.name+" uid:"+h+" len:"+this._set.length+" context: "+r.inspect(e)),this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(p&&v("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+r.inspect(this)+"\n"+r.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},f.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,n="context@"+this.name;o(e,(function(e){!e||(e[a]||(e[a]=Object.create(null)),e[a][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e[a])return e;let t=e,n=e[a];return Object.keys(n).forEach((function(e){let r=n[e];t=r.namespace.bind(t,r.context)})),t}))},f.prototype.fromException=function(e){return e[c]},process.namespaces={},s._state&&!s._state.enabled&&s.enable(),p)for(d in(l=cr()).filter._modifiers)l.filter.deattach(d)})),dr=v(((e,t)=>{"use strict";var n=Jn();process&&n.gte(process.versions.node,"8.0.0")?t.exports=Zn():t.exports=lr()})),pr=v(((e,t)=>{var n;e=t.exports=G,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,i=e.re=[],o=e.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;o[l]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var d=s++;o[d]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[u]+")";var h=s++;o[h]="(?:"+o[c]+"|"+o[u]+")";var f=s++;o[f]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var g=s++;o[g]="(?:-?("+o[h]+"(?:\\."+o[h]+")*))";var m=s++;o[m]="[0-9A-Za-z-]+";var v=s++;o[v]="(?:\\+("+o[m]+"(?:\\."+o[m]+")*))";var y=s++,b="v?"+o[l]+o[f]+"?"+o[v]+"?";o[y]="^"+b+"$";var S="[v=\\s]*"+o[d]+o[g]+"?"+o[v]+"?",_=s++;o[_]="^"+S+"$";var E=s++;o[E]="((?:<|>)?=?)";var w=s++;o[w]=o[c]+"|x|X|\\*";var P=s++;o[P]=o[a]+"|x|X|\\*";var T=s++;o[T]="[v=\\s]*("+o[P]+")(?:\\.("+o[P]+")(?:\\.("+o[P]+")(?:"+o[f]+")?"+o[v]+"?)?)?";var C=s++;o[C]="[v=\\s]*("+o[w]+")(?:\\.("+o[w]+")(?:\\.("+o[w]+")(?:"+o[g]+")?"+o[v]+"?)?)?";var I=s++;o[I]="^"+o[E]+"\\s*"+o[T]+"$";var R=s++;o[R]="^"+o[E]+"\\s*"+o[C]+"$";var D=s++;o[D]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var O=s++;o[O]="(?:~>?)";var k=s++;o[k]="(\\s*)"+o[O]+"\\s+",i[k]=new RegExp(o[k],"g");var x=s++;o[x]="^"+o[O]+o[T]+"$";var N=s++;o[N]="^"+o[O]+o[C]+"$";var A=s++;o[A]="(?:\\^)";var j=s++;o[j]="(\\s*)"+o[A]+"\\s+",i[j]=new RegExp(o[j],"g");var M=s++;o[M]="^"+o[A]+o[T]+"$";var L=s++;o[L]="^"+o[A]+o[C]+"$";var F=s++;o[F]="^"+o[E]+"\\s*("+S+")$|^$";var q=s++;o[q]="^"+o[E]+"\\s*("+b+")$|^$";var U=s++;o[U]="(\\s*)"+o[E]+"\\s*("+S+"|"+o[T]+")",i[U]=new RegExp(o[U],"g");var W=s++;o[W]="^\\s*("+o[T]+")\\s+-\\s+("+o[T]+")\\s*$";var V=s++;o[V]="^\\s*("+o[C]+")\\s+-\\s+("+o[C]+")\\s*$";var H,$=s++;for(o[$]="(<|>)?=?\\s*\\*",H=0;H<35;H++)n(H,o[H]),i[H]||(i[H]=new RegExp(o[H]));function B(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof G)return e;if("string"!=typeof e||e.length>256)return null;if(!(t.loose?i[_]:i[y]).test(e))return null;try{return new G(e,t)}catch{return null}}function G(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof G){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof G))return new G(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[_]:i[y]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}e.parse=B,e.valid=function(e,t){var n=B(e,t);return n?n.version:null},e.clean=function(e,t){var n=B(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},e.SemVer=G,G.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},G.prototype.toString=function(){return this.version},G.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof G||(e=new G(e,this.options)),this.compareMain(e)||this.comparePre(e)},G.prototype.compareMain=function(e){return e instanceof G||(e=new G(e,this.options)),z(this.major,e.major)||z(this.minor,e.minor)||z(this.patch,e.patch)},G.prototype.comparePre=function(e){if(e instanceof G||(e=new G(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return z(r,i)}while(++t)},G.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},e.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new G(e,n).inc(t,r).version}catch{return null}},e.diff=function(e,t){if(Q(e,t))return null;var n=B(e),r=B(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},e.compareIdentifiers=z;var K=/^[0-9]+$/;function z(e,t){var n=K.test(e),r=K.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function Y(e,t,n){return new G(e,n).compare(new G(t,n))}function J(e,t,n){return Y(e,t,n)>0}function X(e,t,n){return Y(e,t,n)<0}function Q(e,t,n){return 0===Y(e,t,n)}function Z(e,t,n){return 0!==Y(e,t,n)}function ee(e,t,n){return Y(e,t,n)>=0}function te(e,t,n){return Y(e,t,n)<=0}function ne(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return Q(e,n,r);case"!=":return Z(e,n,r);case">":return J(e,n,r);case">=":return ee(e,n,r);case"<":return X(e,n,r);case"<=":return te(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function re(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof re){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof re))return new re(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(e,t){return z(t,e)},e.major=function(e,t){return new G(e,t).major},e.minor=function(e,t){return new G(e,t).minor},e.patch=function(e,t){return new G(e,t).patch},e.compare=Y,e.compareLoose=function(e,t){return Y(e,t,!0)},e.rcompare=function(e,t,n){return Y(t,e,n)},e.sort=function(t,n){return t.sort((function(t,r){return e.compare(t,r,n)}))},e.rsort=function(t,n){return t.sort((function(t,r){return e.rcompare(t,r,n)}))},e.gt=J,e.lt=X,e.eq=Q,e.neq=Z,e.gte=ee,e.lte=te,e.cmp=ne,e.Comparator=re;var ie={};function oe(e,t){if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof re)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,n,r,i,o,s,a,c,u,l,d,p){return((t=se(n)?"":se(r)?">="+n+".0.0":se(i)?">="+n+"."+r+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":d?"<="+c+"."+u+"."+l+"-"+d:"<="+a)).trim()}function ce(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==ie&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,n){try{t=new oe(t,n)}catch{return!1}return t.test(e)}function le(e,t,n,r){var i,o,s,a,c;switch(e=new G(e,r),t=new oe(t,r),n){case">":i=J,o=te,s=X,a=">",c=">=";break;case"<":i=X,o=ee,s=J,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,r))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],d=null,p=null;if(l.forEach((function(e){e.semver===ie&&(e=new re(">=0.0.0")),d=d||e,p=p||e,i(e.semver,d.semver,r)?d=e:s(e.semver,p.semver,r)&&(p=e)})),d.operator===a||d.operator===c||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}re.prototype.parse=function(e){var t=this.options.loose?i[F]:i[q],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new G(n[2],this.options.loose):this.semver=ie},re.prototype.toString=function(){return this.value},re.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new G(e,this.options)),ne(e,this.operator,this.semver,this.options))},re.prototype.intersects=function(e,t){if(!(e instanceof re))throw new TypeError("a Comparator is required");var n;if((!t||"object"!=typeof t)&&(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new oe(e.value,t),ue(this.value,n,t);if(""===e.operator)return n=new oe(this.value,t),ue(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},e.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?i[V]:i[W];e=e.replace(r,ae),n("hyphen replace",e),e=e.replace(i[U],"$1$2$3"),n("comparator trim",e,i[U]),e=(e=(e=e.replace(i[k],"$1~")).replace(i[j],"$1^")).split(/\s+/).join(" ");var o=t?i[F]:i[q],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?i[L]:i[M];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),se(r)?a="":se(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?i[N]:i[x];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),se(r)?a="":se(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?i[R]:i[I];return e.replace(r,(function(t,r,i,o,s,a){n("xRange",e,t,r,i,o,s,a);var c=se(i),u=c||se(o),l=u||se(s);return"="===r&&l&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&l?(u&&(o=0),s=0,">"===r?(r=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",u?i=+i+1:o=+o+1),t=r+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(i[$],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new re(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},e.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new G(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},e.satisfies=ue,e.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new oe(t,n)}catch{return null}return e.forEach((function(e){o.test(e)&&(!r||-1===i.compare(e))&&(i=new G(r=e,n))})),r},e.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new oe(t,n)}catch{return null}return e.forEach((function(e){o.test(e)&&(!r||1===i.compare(e))&&(i=new G(r=e,n))})),r},e.minVersion=function(e,t){e=new oe(e,t);var n=new G("0.0.0");if(e.test(n)||(n=new G("0.0.0-0"),e.test(n)))return n;n=null;for(var r=0;r<e.set.length;++r)e.set[r].forEach((function(e){var t=new G(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!n||J(n,t))&&(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return n&&e.test(n)?n:null},e.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch{return null}},e.ltr=function(e,t,n){return le(e,t,"<",n)},e.gtr=function(e,t,n){return le(e,t,">",n)},e.outside=le,e.prerelease=function(e,t){var n=B(e,t);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(e,t,n){return e=new oe(e,n),t=new oe(t,n),e.intersects(t)},e.coerce=function(e){if(e instanceof G)return e;if("string"!=typeof e)return null;var t=e.match(i[D]);return null==t?null:B(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}})),hr=v(((e,t)=>{var n,r,i,o,s,a=Xn().wrap,c=[],u=0,l=!1,d=[];function p(e,t){var n=e.length,r=t.length,i=[];if(0===n&&0===r)return i;for(var o=0;o<n;o++)i[o]=e[o];if(0===r)return i;for(var s=0;s<r;s++){var a=!0;for(o=0;o<n;o++)if(e[o].uid===t[s].uid){a=!1;break}a&&i.push(t[s])}return i}function h(e,t){"function"==typeof e.create&&(this.create=e.create,this.flags|=1),"function"==typeof e.before&&(this.before=e.before,this.flags|=2),"function"==typeof e.after&&(this.after=e.after,this.flags|=4),"function"==typeof e.error&&(this.error=e.error,this.flags|=8),this.uid=++u,this.data=void 0===t?null:t}function f(e,t){if("object"!=typeof e||!e)throw new TypeError("callbacks argument must be an object");return e instanceof h?e:new h(e,t)}process._fatalException?(i=!1,n=function(e){var t=c.length;if(i||0===t)return!1;var n=!1;i=!0;for(var r=0;r<t;++r){var s=c[r];if(0!=(8&s.flags)){var a=o&&o[s.uid];n=s.error(a,e)||n}}return i=!1,d.length>0&&(c=d.pop()),o=void 0,n&&!l},r=function(e,t,n){var r=[];l=!0;for(var i=0;i<n;++i){var s=t[i];if(r[s.uid]=s.data,0!=(1&s.flags)){var a=s.create(s.data);void 0!==a&&(r[s.uid]=a)}}return l=!1,function(){o=r,d.push(c),c=p(t,c),l=!0;for(var i=0;i<n;++i)(2&t[i].flags)>0&&t[i].before(this,r[t[i].uid]);l=!1;var s=e.apply(this,arguments);for(l=!0,i=0;i<n;++i)(4&t[i].flags)>0&&t[i].after(this,r[t[i].uid]);return l=!1,c=d.pop(),o=void 0,s}},a(process,"_fatalException",(function(e){return function(t){return n(t)||e(t)}}))):(s=!1,n=function(e){if(s)throw e;for(var t=!1,n=c.length,r=0;r<n;++r){var i=c[r];0!=(8&i.flags)&&(t=i.error(null,e)||t)}if(!t&&l)throw e},r=function(e,t,r){var i=[];l=!0;for(var o=0;o<r;++o){var a=t[o];if(i[a.uid]=a.data,0!=(1&a.flags)){var u=a.create(a.data);void 0!==u&&(i[a.uid]=u)}}return l=!1,function(){var o,a=!1,u=!1;d.push(c),c=p(t,c),l=!0;for(var h=0;h<r;++h)(2&t[h].flags)>0&&t[h].before(this,i[t[h].uid]);l=!1;try{o=e.apply(this,arguments)}catch(e){for(a=!0,h=0;h<r;++h)if(0!=(8&c[h].flags))try{u=c[h].error(i[t[h].uid],e)||u}catch(e){throw s=!0,e}if(!u)throw process.removeListener("uncaughtException",n),process._originalNextTick((function(){process.addListener("uncaughtException",n)})),e}finally{if(!a||u){for(l=!0,h=0;h<r;++h)(4&t[h].flags)>0&&t[h].after(this,i[t[h].uid]);l=!1}c=d.pop()}return o}},process.addListener("uncaughtException",n)),h.prototype.create=void 0,h.prototype.before=void 0,h.prototype.after=void 0,h.prototype.error=void 0,h.prototype.data=void 0,h.prototype.uid=0,h.prototype.flags=0,process.createAsyncListener=f,process.addAsyncListener=function(e,t){var n;n=e instanceof h?e:f(e,t);for(var r=!1,i=0;i<c.length;i++)if(n===c[i]){r=!0;break}return r||c.push(n),n},process.removeAsyncListener=function(e){for(var t=0;t<c.length;t++)if(e===c[t]){c.splice(t,1);break}},t.exports=function(e){var t=c.length;if(0===t)return e;for(var n=c.slice(),i=0;i<t;++i)if(n[i].flags>0)return r(e,n,t);return function(e,t,n){l=!0;for(var r=0;r<n;++r){var i=t[r];i.create&&i.create(i.data)}return l=!1,function(){d.push(c),c=p(t,c);var n=e.apply(this,arguments);return c=d.pop(),n}}(e,n,t)}})),fr=v(((e,t)=>{"use strict";t.exports=(e,t)=>class extends e{constructor(e){var n,r;super((function(e,o){n=this,r=[function(n){return t(i,!1),e(n)},function(e){return t(i,!1),o(e)}]}));var i=this;try{e.apply(n,r)}catch(e){r[1](e)}return i}}})),gr=v((()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var e=Xn(),t=pr(),r=e.wrap,i=e.massWrap,o=hr(),s=n(73837),a=t.gte(process.version,"6.0.0"),c=t.gte(process.version,"7.0.0"),u=t.gte(process.version,"8.0.0"),l=t.gte(process.version,"11.0.0"),d=n(41808);function p(e){return function(){this.on("connection",(function(e){e._handle&&(e._handle.onread=o(e._handle.onread))}));try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=o(this._handle.onconnection))}}}function h(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=o(t._originalOnread)}}c&&!d._normalizeArgs?d._normalizeArgs=function(e){if(0===e.length)return[{},null];var t=e[0],n={};"object"==typeof t&&null!==t?n=t:function(e){return"string"==typeof e&&!1===function(e){return(e=Number(e))>=0&&e}(e)}(t)?n.path=t:(n.port=t,e.length>1&&"string"==typeof e[1]&&(n.host=e[1]));var r=e[e.length-1];return"function"!=typeof r?[n,null]:[n,r]}:!c&&!d._normalizeConnectArgs&&(d._normalizeConnectArgs=function(e){var t,n={};"object"==typeof e[0]&&null!==e[0]?n=e[0]:"string"==typeof e[0]&&!1===(t=e[0],(t=Number(t))>=0&&t)?n.path=e[0]:(n.port=e[0],"string"==typeof e[1]&&(n.host=e[1]));var r=e[e.length-1];return"function"==typeof r?[n,r]:[n]}),"_setUpListenHandle"in d.Server.prototype?r(d.Server.prototype,"_setUpListenHandle",p):r(d.Server.prototype,"_listen2",p),r(d.Socket.prototype,"connect",(function(e){return function(){var t;(t=u&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:c?d._normalizeArgs(arguments):d._normalizeConnectArgs(arguments))[1]&&(t[1]=o(t[1]));var n=e.apply(this,t);return h(this),n}}));var f=n(13685);r(f.Agent.prototype,"addRequest",(function(e){return function(t){var n=t.onSocket;return t.onSocket=o((function(e){return h(e),n.apply(this,arguments)})),e.apply(this,arguments)}}));var g=n(32081);function m(e){Array.isArray(e.stdio)&&e.stdio.forEach((function(e){e&&e._handle&&(e._handle.onread=o(e._handle.onread),r(e._handle,"close",O))})),e._handle&&(e._handle.onexit=o(e._handle.onexit))}g.ChildProcess?r(g.ChildProcess.prototype,"spawn",(function(e){return function(){var t=e.apply(this,arguments);return m(this),t}})):i(g,["execFile","fork","spawn"],(function(e){return function(){var t=e.apply(this,arguments);return m(t),t}})),process._fatalException||(process._originalNextTick=process.nextTick);var v=[];process._nextDomainTick&&v.push("_nextDomainTick"),process._tickDomainCallback&&v.push("_tickDomainCallback"),i(process,v,D),r(process,"nextTick",O);var y=["setTimeout","setInterval"];global.setImmediate&&y.push("setImmediate");var b=n(39512),S=global.setTimeout===b.setTimeout;i(b,y,O),S&&i(global,y,O);var _=n(9523);i(_,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],D),_.resolveNaptr&&r(_,"resolveNaptr",D);var E,w,P,T=n(57147);i(T,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],D),T.lchown&&r(T,"lchown",D),T.lchmod&&r(T,"lchmod",D),T.ftruncate&&r(T,"ftruncate",D);try{E=n(59796)}catch{}E&&E.Deflate&&E.Deflate.prototype&&((w=Object.getPrototypeOf(E.Deflate.prototype))._transform?r(w,"_transform",D):w.write&&w.flush&&w.end&&i(w,["write","flush","end"],D));try{P=n(6113)}catch{}P&&(C=["pbkdf2","randomBytes"],l||C.push("pseudoRandomBytes"),i(P,C,D));var C,I,R=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();function D(e){var t=function(){var t,n=arguments.length-1;if("function"==typeof arguments[n]){t=Array(arguments.length);for(var r=0;r<arguments.length-1;r++)t[r]=arguments[r];t[n]=o(arguments[n])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=o(r)),e.call(this,n,r))};case 3:return function(n,r,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof i&&(i=o(i)),e.call(this,n,r,i))};case 4:return function(n,r,i,s){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof s&&(s=o(s)),e.call(this,n,r,i,s))};case 5:return function(n,r,i,s,a){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof a&&(a=o(a)),e.call(this,n,r,i,s,a))};case 6:return function(n,r,i,s,a,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof c&&(c=o(c)),e.call(this,n,r,i,s,a,c))};default:return t}}function O(e){var t=function(){var t;if("function"==typeof arguments[0]){(t=Array(arguments.length))[0]=o(arguments[0]);for(var n=1;n<arguments.length;n++)t[n]=arguments[n]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n,r))};case 3:return function(n,r,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n,r,i))};case 4:return function(n,r,i,s){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n,r,i,s))};case 5:return function(n,r,i,s,a){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n,r,i,s,a))};case 6:return function(n,r,i,s,a,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=o(n)),e.call(this,n,r,i,s,a,c))};default:return t}}R&&(I=process.addAsyncListener({create:function(){R=!1}}),global.Promise.resolve(!0).then((function(){R=!1})),process.removeAsyncListener(I)),R&&function(){var e=global.Promise;function t(r){if(!(this instanceof t))return e(r);if("function"!=typeof r)return new e(r);var i,o,s=new e((function(e,t){i=this,o=[function(t){return n(s,!1),e(t)},function(e){return n(s,!1),t(e)}]}));s.__proto__=t.prototype;try{r.apply(i,o)}catch(e){o[1](e)}return s}function n(e,t){(!e.__asl_wrapper||t)&&(e.__asl_wrapper=o(i))}function i(t,r,o,s){var a;try{return{returnVal:a=r.call(t,o),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{a instanceof e?s.__asl_wrapper=function(){var e=a.__asl_wrapper||i;return e.apply(this,arguments)}:n(s,!0)}}function c(e){return function(){var t=this,n=e.apply(t,Array.prototype.map.call(arguments,r));return n.__asl_wrapper=function(e,r,o,s){return t.__asl_wrapper?(t.__asl_wrapper(e,(function(){}),null,n),n.__asl_wrapper(e,r,o,s)):i(e,r,o,s)},n;function r(e){return"function"!=typeof e?e:o((function(r){var o=(t.__asl_wrapper||i)(this,e,r,n);if(o.error)throw o.errorVal;return o.returnVal}))}}}s.inherits(t,e),r(e.prototype,"then",c),e.prototype.chain&&r(e.prototype,"chain",c),a?global.Promise=fr()(e,n):(["all","race","reject","resolve","accept","defer"].forEach((function(n){"function"==typeof e[n]&&(t[n]=e[n])})),global.Promise=t)}()})),mr=v(((e,t)=>{"use strict";var r=n(39491),i=Qn(),o="cls@contexts",s="error@context";function a(e){this.name=e,this.active=null,this._set=[],this.id=null}function c(e){return process.namespaces[e]}function u(e){var t=c(e);r.ok(t,"can't delete nonexistent namespace!"),r.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function l(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){u(e)})),process.namespaces=Object.create(null)}process.addAsyncListener||gr(),a.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t},a.prototype.get=function(e){if(this.active)return this.active[e]},a.prototype.createContext=function(){return Object.create(this.active)},a.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&&(e[s]=t),e}finally{this.exit(t)}},a.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},a.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e[s]=t),e}finally{n.exit(t)}}},a.prototype.enter=function(e){r.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e},a.prototype.exit=function(e){if(r.ok(e,"context must be provided for exiting"),this.active===e)return r.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);r.ok(t>=0,"context not currently entered; can't exit"),r.ok(t,"can't remove top context"),this._set.splice(t,1)},a.prototype.bindEmitter=function(e){r.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,n="context@"+this.name;i(e,(function(e){!e||(e[o]||(e[o]=Object.create(null)),e[o][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e[o])return e;var t=e,n=e[o];return Object.keys(n).forEach((function(e){var r=n[e];t=r.namespace.bind(t,r.context)})),t}))},a.prototype.fromException=function(e){return e[s]},process.namespaces||l(),t.exports={getNamespace:c,createNamespace:function(e){r.ok(e,"namespace must be given a name!");var t=new a(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,n){n&&t.enter(n)},after:function(e,n){n&&t.exit(n)},error:function(e){e&&t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:u,reset:l}})),vr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CorrelationContextManager=void 0;var t=S(),n=Xt(),r=tn(),i=nn(),o=Yn(),s=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,n,r,i,o){return t=t||e,this.enabled?{operation:{name:n,id:e,parentId:t,traceparent:i,tracestate:o},customProperties:new a(r)}:null},e.spanToContextObject=function(t,n,i){var o=new r;return o.traceId=t.traceId,o.spanId=t.spanId,o.traceFlag=r.formatOpenTelemetryTraceFlags(t.traceFlags)||r.DEFAULT_TRACE_FLAG,o.parentId=n,e.generateContextObject(o.traceId,o.parentId,i,null,o)},e.runWithContext=function(t,n){var r;return e.enabled?e.session.bind(n,((r={})[e.CONTEXT_NAME]=t,r))():n()},e.wrapEmitter=function(t){e.enabled&&e.session.bindEmitter(t)},e.wrapCallback=function(t,n){var r;return e.enabled?e.session.bind(t,n?((r={})[e.CONTEXT_NAME]=n,r):void 0):t},e.enable=function(t){if(!this.enabled){if(!this.isNodeVersionCompatible())return void(this.enabled=!1);e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,typeof this.cls>"u"&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=dr():this.cls=mr()),e.session=this.cls.createNamespace("AI-CLS-Session"),n.registerContextPreservation((function(t){return e.session.bind(t)}))),this.enabled=!0}},e.startOperation=function(n,s){var a=n&&n.traceContext||null,c=n&&n.traceId?n:null,u=n&&n.headers;if(c){var l=new r("00-"+c.traceId+"-"+c.spanId+"-01"),d=new i(c.traceState?c.traceState.serialize():null);return e.generateContextObject(c.traceId,"|"+c.traceId+"."+c.spanId+".","string"==typeof s?s:"",void 0,l,d)}if(a){l=new r(a.traceparent),d=new i(a.tracestate);var p="object"==typeof s?new o(s):null;return e.generateContextObject(l.traceId,l.parentId,"string"==typeof s?s:p.getOperationName({}),p&&p.getCorrelationContextHeader()||void 0,l,d)}return u?(l=new r(u.traceparent?u.traceparent.toString():null),d=new i(u.tracestate?u.tracestate.toString():null),p=new o(n),e.generateContextObject(l.traceId,l.parentId,p.getOperationName({}),p.getCorrelationContextHeader(),l,d)):(t.warn("startOperation was called with invalid arguments",arguments),null)},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},e.canUseClsHooked=function(){var e=process.versions.node.split("."),t=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,n=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,r=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(t&&n)&&r},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();e.CorrelationContextManager=s;var a=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(e){return e.key+"="+e.value})).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var n=this.props[t];if(n.key===e)return n.value}},e.prototype.setProperty=function(n,r){if(e.bannedCharacters.test(n)||e.bannedCharacters.test(r))t.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+n+" and value: "+r);else{for(var i=0;i<this.props.length;++i){var o=this.props[i];if(o.key===n)return void(o.value=r)}this.props.push({key:n,value:r})}},e.bannedCharacters=/[,=]/,e}()})),yr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Kn(),n=T(),r=[],i=function(e){var n=e.data.message;r.forEach((function(r){n instanceof Error?r.trackException({exception:n}):(n.lastIndexOf("\n")==n.length-1&&(n=n.substring(0,n.length-1)),r.trackTrace({message:n,severity:e.data.stderr?t.SeverityLevel.Warning:t.SeverityLevel.Information}))}))};e.enable=function(e,t){e?(0===r.length&&n.channel.subscribe("console",i),r.push(t)):0===(r=r.filter((function(e){return e!=t}))).length&&n.channel.unsubscribe("console",i)},e.dispose=function(){n.channel.unsubscribe("console",i),r=[]}})),br=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Kn(),n=T(),r=[],i={10:t.SeverityLevel.Verbose,20:t.SeverityLevel.Verbose,30:t.SeverityLevel.Information,40:t.SeverityLevel.Warning,50:t.SeverityLevel.Error,60:t.SeverityLevel.Critical},o=function(e){var t=e.data.result;r.forEach((function(n){var r=i[e.data.level];t instanceof Error?n.trackException({exception:t}):n.trackTrace({message:t,severity:r})}))};e.enable=function(e,t){e?(0===r.length&&n.channel.subscribe("bunyan",o),r.push(t)):0===(r=r.filter((function(e){return e!=t}))).length&&n.channel.unsubscribe("bunyan",o)},e.dispose=function(){n.channel.unsubscribe("bunyan",o),r=[]}})),Sr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.enable=void 0;var t=Kn(),n=T(),r=[],i={syslog:function(e){var n={emerg:t.SeverityLevel.Critical,alert:t.SeverityLevel.Critical,crit:t.SeverityLevel.Critical,error:t.SeverityLevel.Error,warning:t.SeverityLevel.Warning,notice:t.SeverityLevel.Information,info:t.SeverityLevel.Information,debug:t.SeverityLevel.Verbose};return void 0===n[e]?t.SeverityLevel.Information:n[e]},npm:function(e){var n={error:t.SeverityLevel.Error,warn:t.SeverityLevel.Warning,info:t.SeverityLevel.Information,verbose:t.SeverityLevel.Verbose,debug:t.SeverityLevel.Verbose,silly:t.SeverityLevel.Verbose};return void 0===n[e]?t.SeverityLevel.Information:n[e]},unknown:function(e){return t.SeverityLevel.Information}},o=function(e){var t=e.data.message;r.forEach((function(n){if(t instanceof Error)n.trackException({exception:t,properties:e.data.meta});else{var r=i[e.data.levelKind](e.data.level);n.trackTrace({message:t,severity:r,properties:e.data.meta})}}))};e.enable=function(e,t){e?(0===r.length&&n.channel.subscribe("winston",o),r.push(t)):0===(r=r.filter((function(e){return e!=t}))).length&&n.channel.unsubscribe("winston",o)},e.dispose=function(){n.channel.unsubscribe("winston",o),r=[]}})),_r=v(((e,t)=>{"use strict";var n=Xt(),r=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){n.IsInitialized&&(yr().enable(e&&t,this._client),br().enable(e,this._client),Sr().enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();t.exports=r})),Er=v(((e,t)=>{"use strict";var n=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var n=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(n[0])>13||13===parseInt(n[0])&&parseInt(n[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var n=this;if(t){if(this._isInitialized=!0,!this._exceptionListenerHandle){var r=function(t,r,i){void 0===i&&(i=new Error(e._FALLBACK_ERROR_MESSAGE)),n._client.trackException({exception:i}),n._client.flush({isAppCrashing:!0}),t&&r&&1===process.listeners(r).length&&(console.error(i),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=r.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=r.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=r.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();t.exports=n})),wr=v((e=>{"use strict";var t,n,r,i;Object.defineProperty(e,"__esModule",{value:!0}),e.HeartBeatMetricName=e.DependencyTypeName=e.SpanAttribute=e.TelemetryTypeStringToQuickPulseDocumentType=e.TelemetryTypeStringToQuickPulseType=e.QuickPulseType=e.QuickPulseDocumentType=e.PerformanceToQuickPulseCounter=e.MetricId=e.PerformanceCounter=e.QuickPulseCounter=e.DEFAULT_LIVEMETRICS_HOST=e.DEFAULT_LIVEMETRICS_ENDPOINT=e.DEFAULT_BREEZE_ENDPOINT=void 0,e.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",e.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com",(r=n=e.QuickPulseCounter||(e.QuickPulseCounter={})).COMMITTED_BYTES="\\Memory\\Committed Bytes",r.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",r.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",r.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",r.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",r.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",r.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",r.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",r.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec",function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(i=e.PerformanceCounter||(e.PerformanceCounter={})),function(e){e.REQUESTS_DURATION="requests/duration",e.DEPENDENCIES_DURATION="dependencies/duration",e.EXCEPTIONS_COUNT="exceptions/count",e.TRACES_COUNT="traces/count"}(e.MetricId||(e.MetricId={})),e.PerformanceToQuickPulseCounter=((t={})[i.PROCESSOR_TIME]=n.PROCESSOR_TIME,t[i.REQUEST_RATE]=n.REQUEST_RATE,t[i.REQUEST_DURATION]=n.REQUEST_DURATION,t[n.COMMITTED_BYTES]=n.COMMITTED_BYTES,t[n.REQUEST_FAILURE_RATE]=n.REQUEST_FAILURE_RATE,t[n.DEPENDENCY_RATE]=n.DEPENDENCY_RATE,t[n.DEPENDENCY_FAILURE_RATE]=n.DEPENDENCY_FAILURE_RATE,t[n.DEPENDENCY_DURATION]=n.DEPENDENCY_DURATION,t[n.EXCEPTION_RATE]=n.EXCEPTION_RATE,t),e.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},e.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},e.TelemetryTypeStringToQuickPulseType={EventData:e.QuickPulseType.Event,ExceptionData:e.QuickPulseType.Exception,MessageData:e.QuickPulseType.Trace,MetricData:e.QuickPulseType.Metric,RequestData:e.QuickPulseType.Request,RemoteDependencyData:e.QuickPulseType.Dependency,AvailabilityData:e.QuickPulseType.Availability,PageViewData:e.QuickPulseType.PageView},e.TelemetryTypeStringToQuickPulseDocumentType={EventData:e.QuickPulseDocumentType.Event,ExceptionData:e.QuickPulseDocumentType.Exception,MessageData:e.QuickPulseDocumentType.Trace,MetricData:e.QuickPulseDocumentType.Metric,RequestData:e.QuickPulseDocumentType.Request,RemoteDependencyData:e.QuickPulseDocumentType.Dependency,AvailabilityData:e.QuickPulseDocumentType.Availability,PageViewData:e.QuickPulseDocumentType.PageView},e.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},e.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},e.HeartBeatMetricName="HeartBeat"})),Pr=v(((e,t)=>{"use strict";var r=n(22037),i=wr(),o=function(){function e(t,n,r){void 0===n&&(n=6e4),void 0===r&&(r=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=n,this._enableLiveMetricsCounters=r}return e.prototype.enable=function(t,n){var i=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=n||this._collectionInterval,this._handle=setInterval((function(){return i.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,n){var r;if(e.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}e._intervalRequestExecutionTime+=r,!1===n&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,n){var r;if(e.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}e._intervalDependencyExecutionTime+=r,!1===n&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=r.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,n=0,o=0,s=0,a=0,c=0;e&&c<e.length;c++){var u=e[c],l=this._lastCpus[c],d=(u.model,u.speed,u.times),p=l.times;t+=d.user-p.user||0,n+=d.sys-p.sys||0,o+=d.nice-p.nice||0,s+=d.idle-p.idle||0,a+=d.irq-p.irq||0}var h=void 0;if("function"==typeof process.cpuUsage){var f=process.cpuUsage(),g=process.hrtime(),m=f.user-this._lastAppCpuUsage.user+(f.system-this._lastAppCpuUsage.system)||0;typeof this._lastHrtime<"u"&&2===this._lastHrtime.length&&(h=100*m/((1e6*(g[0]-this._lastHrtime[0])+(g[1]-this._lastHrtime[1])/1e3||0)*e.length)),this._lastAppCpuUsage=f,this._lastHrtime=g}var v=t+n+o+s+a||1;this._client.trackMetric({name:i.PerformanceCounter.PROCESSOR_TIME,value:(v-s)/v*100}),this._client.trackMetric({name:i.PerformanceCounter.PROCESS_TIME,value:h||t/v*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=r.freemem(),t=process.memoryUsage().rss,n=r.totalmem()-e;this._client.trackMetric({name:i.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:i.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:i.QuickPulseCounter.COMMITTED_BYTES,value:n})},e.prototype._trackNetwork=function(){var t=this._lastRequests,n={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},r=n.totalRequestCount-t.totalRequestCount||0,o=n.totalFailedRequestCount-t.totalFailedRequestCount||0,s=n.time-t.time,a=s/1e3,c=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/r||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,s>0){var u=r/a,l=o/a;this._client.trackMetric({name:i.PerformanceCounter.REQUEST_RATE,value:u}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:i.PerformanceCounter.REQUEST_DURATION,value:c}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:i.QuickPulseCounter.REQUEST_FAILURE_RATE,value:l})}this._lastRequests=n},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,n={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},r=n.totalDependencyCount-t.totalDependencyCount||0,o=n.totalFailedDependencyCount-t.totalFailedDependencyCount||0,s=n.time-t.time,a=s/1e3,c=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/r||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,s>0){var u=r/a,l=o/a;this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_RATE,value:u}),this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:l}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_DURATION,value:c})}this._lastDependencies=n}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,n={totalExceptionCount:e._totalExceptionCount,time:+new Date},r=n.totalExceptionCount-t.totalExceptionCount||0,o=n.time-t.time;if(o>0){var s=r/(o/1e3);this._client.trackMetric({name:i.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=n}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();t.exports=o})),Tr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AggregatedMetricCounter=void 0;e.AggregatedMetricCounter=function(e){this.dimensions=e,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}})),Cr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PreaggregatedMetricPropertyNames=void 0,e.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}})),Ir=v(((e,t)=>{"use strict";var n=e&&e.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},r=wr(),i=Tr(),o=Cr(),s=function(){function e(t,n){void 0===n&&(n=6e4),e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,e._dependencyCountersCollection=[],e._requestCountersCollection=[],e._exceptionCountersCollection=[],e._traceCountersCollection=[],this._client=t,this._collectionInterval=n}return e.prototype.enable=function(e,t){var n=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._collectionInterval=t||this._collectionInterval,this._handle=setInterval((function(){return n.trackPreAggregatedMetrics()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countException=function(t){e.isEnabled()&&e._getAggregatedCounter(t,this._exceptionCountersCollection).totalCount++},e.countTrace=function(t){e.isEnabled()&&e._getAggregatedCounter(t,this._traceCountersCollection).totalCount++},e.countRequest=function(t,n){if(e.isEnabled()){var r,i=e._getAggregatedCounter(n,this._requestCountersCollection);if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}i.intervalExecutionTime+=r,i.totalCount++}},e.countDependency=function(t,n){if(e.isEnabled()){var r,i=e._getAggregatedCounter(n,this._dependencyCountersCollection);if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}i.intervalExecutionTime+=r,i.totalCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},e._getAggregatedCounter=function(e,t){for(var n=!1,r=0;r<t.length;r++){if(e===t[r].dimensions)return t[r];if(Object.keys(e).length===Object.keys(t[r].dimensions).length){for(var o in e)if(e[o]!=t[r].dimensions[o]){n=!0;break}if(!n)return t[r];n=!1}}var s=new i.AggregatedMetricCounter(e);return t.push(s),s},e.prototype._trackRequestMetrics=function(){for(var t=0;t<e._requestCountersCollection.length;t++){var n=e._requestCountersCollection[t];n.time=+new Date;var i=n.totalCount-n.lastTotalCount||0,o=n.time-n.lastTime,s=(n.intervalExecutionTime-n.lastIntervalExecutionTime)/i||0;n.lastIntervalExecutionTime=n.intervalExecutionTime,o>0&&i>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:n.dimensions,value:s,count:i,aggregationInterval:o,metricType:r.MetricId.REQUESTS_DURATION}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackDependencyMetrics=function(){for(var t=0;t<e._dependencyCountersCollection.length;t++){var n=e._dependencyCountersCollection[t];n.time=+new Date;var i=n.totalCount-n.lastTotalCount||0,o=n.time-n.lastTime,s=(n.intervalExecutionTime-n.lastIntervalExecutionTime)/i||0;n.lastIntervalExecutionTime=n.intervalExecutionTime,o>0&&i>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:n.dimensions,value:s,count:i,aggregationInterval:o,metricType:r.MetricId.DEPENDENCIES_DURATION}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackExceptionMetrics=function(){for(var t=0;t<e._exceptionCountersCollection.length;t++){var n=e._exceptionCountersCollection[t],i=n.totalCount-n.lastTotalCount||0,o=n.time-n.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:n.dimensions,value:i,count:i,aggregationInterval:o,metricType:r.MetricId.EXCEPTIONS_COUNT}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackTraceMetrics=function(){for(var t=0;t<e._traceCountersCollection.length;t++){var n=e._traceCountersCollection[t],i=n.totalCount-n.lastTotalCount||0,o=n.time-n.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:n.dimensions,value:i,count:i,aggregationInterval:o,metricType:r.MetricId.TRACES_COUNT}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackPreAggregatedMetric=function(e){var t={};for(var r in e.dimensions)t[o.PreaggregatedMetricPropertyNames[r]]=e.dimensions[r];t=n(n({},t),{"_MS.MetricId":e.metricType,"_MS.AggregationIntervalMs":String(e.aggregationInterval),"_MS.IsAutocollected":"True"});var i={name:e.name,value:e.value,count:e.count,properties:t,kind:"Aggregation"};this._client.trackMetric(i)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();t.exports=s})),Rr=v(((e,t)=>{"use strict";var r=n(22037),i=n(57147),o=n(71017),s=Kn(),a=S(),c=function(){function e(e){this.keys=new s.ContextTagKeys,this.tags={},this._loadApplicationContext(e),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||o.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";try{var n=JSON.parse(i.readFileSync(t,"utf8"));n&&"string"==typeof n.version&&(e.appVersion[t]=n.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=r&&r.hostname(),this.tags[this.keys.deviceOSVersion]=r&&r.type()+" "+r.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=r&&r.arch(),this.tags["ai.device.osPlatform"]=r&&r.platform()},e.prototype._loadInternalContext=function(){var t=o.resolve(__dirname,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var n=JSON.parse(i.readFileSync(t,"utf8"));n&&"string"==typeof n.version&&(e.sdkVersion=n.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();t.exports=c})),Dr=v(((e,t)=>{"use strict";var r,i=e&&e.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(57310),s=Kn(),a=Zt(),c=Qt(),u=zn(),l=en(),d=function(e){function t(n,r){var i=e.call(this)||this;return r&&r.method&&n&&(i.method=r.method,i.url=t._getUrlFromRequestOptions(n,r),i.startTime=+new Date),i}return i(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(e,c.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var n=o.parse(this.url);n.search=void 0,n.hash=void 0;var r=this.method.toUpperCase()+" "+n.pathname,i=s.RemoteDependencyDataConstants.TYPE_HTTP,a=n.hostname;n.port&&(a+=":"+n.port),this.correlationId?(i=s.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==l.correlationIdPrefix&&(a+=" | "+this.correlationId)):i=s.RemoteDependencyDataConstants.TYPE_HTTP;var c={id:t,name:r,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:i,target:a};if(e&&e.time?c.time=e.time:this.startTime&&(c.time=new Date(this.startTime)),e){for(var u in e)c[u]||(c[u]=e[u]);if(e.properties)for(var u in e.properties)c.properties[u]=e.properties[u]}return c},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)if(0===e.indexOf("http://")||0===e.indexOf("https://"))e=o.parse(e);else{var n=o.parse(e);e="443"===n.host?o.parse("https://"+e):o.parse("http://"+e)}else{if(e&&"function"==typeof o.URL&&e instanceof o.URL)return o.format(e);var r=e;e={},r&&Object.keys(r).forEach((function(t){e[t]=r[t]}))}if(e.path){var i=o.parse(e.path);e.pathname=i.pathname,e.search=i.search}return e.host&&e.port&&!o.parse("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host),e.protocol=e.protocol||t.agent&&t.agent.protocol||t.protocol||void 0,e.hostname=e.hostname||"localhost",o.format(e)},t}(u);t.exports=d})),Or=v((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.spanToTelemetryContract=void 0;var n=Se(),r=wr();function i(e){var n=t({},e);return Object.keys(r.SpanAttribute).forEach((function(e){delete n[e]})),n}e.spanToTelemetryContract=function(e){var o="|"+e.spanContext().traceId+"."+e.spanContext().spanId+".",s=Math.round(1e3*e._duration[0]+e._duration[1]/1e6),a=e.attributes["peer.address"]?e.attributes["peer.address"].toString():"",c=e.attributes.component?e.attributes.component.toString():"",u=c.toUpperCase()===r.DependencyTypeName.Http||!!e.attributes[r.SpanAttribute.HttpUrl],l=c.toLowerCase()===r.DependencyTypeName.Grpc;if(u){var d=e.attributes[r.SpanAttribute.HttpMethod]||"GET",p=new URL(e.attributes[r.SpanAttribute.HttpUrl].toString()),h=e.attributes[r.SpanAttribute.HttpHost]||p.host,f=e.attributes[r.SpanAttribute.HttpPort]||p.port||null,g=d+" "+(p.pathname||"/"),m=r.DependencyTypeName.Http,v=f?(h+":"+f).toString():h.toString(),y=p.toString(),b=e.attributes[r.SpanAttribute.HttpStatusCode]||e.status.code||0;return{id:o,name:g,dependencyTypeName:m,target:v,data:y,success:b<400,duration:s,url:y,resultCode:String(b),properties:i(e.attributes)}}if(l){d=e.attributes[r.SpanAttribute.GrpcMethod]||"rpc";var S=e.attributes[r.SpanAttribute.GrpcService],_=S?d+" "+S:e.name;return{id:o,duration:s,name:_,target:S.toString(),data:S.toString()||_,url:S.toString()||_,dependencyTypeName:r.DependencyTypeName.Grpc,resultCode:String(e.status.code||0),success:0===e.status.code,properties:i(e.attributes)}}var E=e.name,w=e.links&&e.links.map((function(e){return{operation_Id:e.context.traceId,id:e.context.spanId}}));return{id:o,duration:s,name:E,target:a,data:a||E,url:a||E,dependencyTypeName:e.kind===n.SpanKind.INTERNAL?r.DependencyTypeName.InProc:c||e.name,resultCode:String(e.status.code||0),success:0===e.status.code,properties:t(t({},i(e.attributes)),{"_MS.links":w||void 0})}}})),kr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=Se(),n=T(),r=tn(),i=Or(),o=_(),s=[];e.subscriber=function(e){var n=e.data,a=i.spanToTelemetryContract(n),c=n.spanContext(),u=new r;u.traceId=c.traceId,u.spanId=c.spanId,u.traceFlag=r.formatOpenTelemetryTraceFlags(c.traceFlags),u.parentId=n.parentSpanId?"|"+c.traceId+"."+n.parentSpanId+".":null,o.AsyncScopeManager.with(n,(function(){s.forEach((function(e){n.kind===t.SpanKind.SERVER?e.trackRequest(a):(n.kind===t.SpanKind.CLIENT||n.kind===t.SpanKind.INTERNAL)&&e.trackDependency(a)}))}))},e.enable=function(t,r){t?(0===s.length&&n.channel.subscribe("azure-coretracing",e.subscriber),s.push(r)):0===(s=s.filter((function(e){return e!=r}))).length&&n.channel.unsubscribe("azure-coretracing",e.subscriber)}})),xr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=T(),n=[];e.subscriber=function(e){"ismaster"!==e.data.event.commandName&&n.forEach((function(t){var n=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:n,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",time:e.data.startedData.time,dependencyTypeName:"mongodb"})}))},e.enable=function(r,i){r?(0===n.length&&t.channel.subscribe("mongodb",e.subscriber),n.push(i)):0===(n=n.filter((function(e){return e!=i}))).length&&t.channel.unsubscribe("mongodb",e.subscriber)}})),Nr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=T(),n=[];e.subscriber=function(e){n.forEach((function(t){var n=e.data.query||{},r=n.sql||"Unknown query",i=!e.data.err,o=(n._connection||{}).config||{},s=o.socketPath?o.socketPath:(o.host||"localhost")+":"+o.port;t.trackDependency({target:s,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",time:e.data.time,dependencyTypeName:"mysql"})}))},e.enable=function(r,i){r?(0===n.length&&t.channel.subscribe("mysql",e.subscriber),n.push(i)):0===(n=n.filter((function(e){return e!=i}))).length&&t.channel.unsubscribe("mysql",e.subscriber)}})),Ar=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=T(),n=[];e.subscriber=function(e){n.forEach((function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",time:e.data.time,dependencyTypeName:"redis"})}))},e.enable=function(r,i){r?(0===n.length&&t.channel.subscribe("redis",e.subscriber),n.push(i)):0===(n=n.filter((function(e){return e!=i}))).length&&t.channel.unsubscribe("redis",e.subscriber)}})),jr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.enable=e.subscriber=void 0;var t=T(),n=[];e.subscriber=function(e){n.forEach((function(t){var n=e.data.query,r=n.preparable&&n.preparable.text||n.plan||n.text||"unknown query",i=!e.data.error,o=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:o,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",time:e.data.time,dependencyTypeName:"postgres"})}))},e.enable=function(r,i){r?(0===n.length&&t.channel.subscribe("postgres",e.subscriber),n.push(i)):0===(n=n.filter((function(e){return e!=i}))).length&&t.channel.unsubscribe("postgres",e.subscriber)}})),Mr=v(((e,t)=>{"use strict";var r=e&&e.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},i=n(13685),o=n(95687),s=S(),a=Zt(),c=Qt(),u=Dr(),l=vr(),d=en(),p=tn(),h=Xt(),f=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),h.IsInitialized&&(kr().enable(!0,this._client),xr().enable(e,this._client),Nr().enable(e,this._client),Ar().enable(e,this._client),jr().enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var n=i.request,s=o.request,a=function(n,r){var i=!r[e.disableCollectionRequestOption]&&!n[e.alreadyAutoCollectedFlag];r.headers&&r.headers["user-agent"]&&-1!==r.headers["user-agent"].toString().indexOf("azsdk-js")&&(i=!1),n[e.alreadyAutoCollectedFlag]=!0,n&&r&&i&&(l.CorrelationContextManager.wrapEmitter(n),e.trackRequest(t._client,{options:r,request:n}))};i.request=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var s=n.call.apply(n,r([i,e],t));return a(s,e),s},o.request=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=s.call.apply(s,r([o,e],t));return a(i,e),i},i.get=function(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var s=(t=i.request).call.apply(t,r([i,e],n));return s.end(),s},o.get=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=(t=o.request).call.apply(t,r([o,e],n));return s.end(),s}},e.trackRequest=function(t,n){if(n.options&&n.request&&t){var r,i,o=new u(n.options,n.request),h=l.CorrelationContextManager.getCurrentContext();if(h&&h.operation&&h.operation.traceparent&&p.isValidTraceId(h.operation.traceparent.traceId)?(h.operation.traceparent.updateSpanId(),r=h.operation.traceparent.getBackCompatRequestId()):d.w3cEnabled?(i=(g=new p).toString(),r=g.getBackCompatRequestId()):r=h&&h.operation&&h.operation.parentId+e.requestNumber+++".",a.canIncludeCorrelationHeader(t,o.getUrl())&&n.request.getHeader&&n.request.setHeader&&t.config&&t.config.correlationId){var f=n.request.getHeader(c.requestContextHeader);try{a.safeIncludeCorrelationHeader(t,n.request,f)}catch(e){s.warn("Request-Context header could not be set. Correlation of requests may be lost",e)}if(h&&h.operation)try{if(n.request.setHeader(c.requestIdHeader,r),t.config.ignoreLegacyHeaders||(n.request.setHeader(c.parentIdHeader,h.operation.id),n.request.setHeader(c.rootIdHeader,r)),i||h.operation.traceparent)n.request.setHeader(c.traceparentHeader,i||h.operation.traceparent.toString());else if(d.w3cEnabled){var g=(new p).toString();n.request.setHeader(c.traceparentHeader,g)}if(h.operation.tracestate){var m=h.operation.tracestate.toString();m&&n.request.setHeader(c.traceStateHeader,m)}var v=h.customProperties.serializeToHeader();v&&n.request.setHeader(c.correlationContextHeader,v)}catch(e){s.warn("Correlation headers could not be set. Correlation of requests may be lost.",e)}}n.request.on&&(n.request.on("response",(function(e){o.onResponse(e);var i=o.getDependencyTelemetry(n,r);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=n.options,i.contextObjects["http.ClientRequest"]=n.request,i.contextObjects["http.ClientResponse"]=e,t.trackDependency(i)})),n.request.on("error",(function(e){o.onError(e);var i=o.getDependencyTelemetry(n,r);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=n.options,i.contextObjects["http.ClientRequest"]=n.request,i.contextObjects.Error=e,t.trackDependency(i)})),n.request.on("abort",(function(){o.onError(new Error);var e=o.getDependencyTelemetry(n,r);e.contextObjects=e.contextObjects||{},e.contextObjects["http.RequestOptions"]=n.options,e.contextObjects["http.ClientRequest"]=n.request,t.trackDependency(e)})))}else s.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!n.options,!n.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();t.exports=f})),Lr=v(((e,t)=>{"use strict";var r=n(22037),i=wr(),o=Zt(),s=Rr(),a=Mr(),c=function(){function e(t){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t}return e.prototype.enable=function(e,t){var n=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._handle=setInterval((function(){return n.trackHeartBeat(t,(function(){}))}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackHeartBeat=function(e,t){var n=this,o=!1,a={},c=s.sdkVersion;a.sdk=c,a.osType=r.type(),process.env.WEBSITE_SITE_NAME?(a.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",a.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",a.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?a.azfunction_appId=process.env.WEBSITE_HOSTNAME:e&&(void 0===this._isVM?(o=!0,this._getAzureComputeMetadata(e,(function(){n._isVM&&Object.keys(n._vmData).length>0&&(a.azInst_vmId=n._vmData.vmId||"",a.azInst_subscriptionId=n._vmData.subscriptionId||"",a.azInst_osType=n._vmData.osType||"",n._azInst_vmId=n._vmData.vmId||"",n._azInst_subscriptionId=n._vmData.subscriptionId||"",n._azInst_osType=n._vmData.osType||""),n._client.trackMetric({name:i.HeartBeatMetricName,value:0,properties:a}),t()}))):this._isVM&&(a.azInst_vmId=this._azInst_vmId,a.azInst_subscriptionId=this._azInst_subscriptionId,a.azInst_osType=this._azInst_osType)),o||(this._client.trackMetric({name:i.HeartBeatMetricName,value:0,properties:a}),t())},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.prototype._getAzureComputeMetadata=function(e,t){var n,r=this,i=((n={method:"GET"})[a.disableCollectionRequestOption]=!0,n.headers={Metadata:"True"},n),s=o.makeRequest(e,"http://169.254.169.254/metadata/instance/compute?api-version=2017-12-01&format=json",i,(function(e){if(200===e.statusCode){r._isVM=!0;var n="";e.on("data",(function(e){n+=e})),e.on("end",(function(){r._vmData=r._isJSON(n)?JSON.parse(n):{},t()}))}else t()}));s&&(s.on("error",(function(e){e&&e.message&&e.message.indexOf("ENETUNREACH")>-1&&(r._isVM=!1),t()})),s.end())},e.prototype._isJSON=function(e){try{return JSON.parse(e)&&!!e}catch{return!1}},e}();t.exports=c})),Fr=v(((e,t)=>{"use strict";var r=n(13685),i=n(95687),o=S(),s=Zt(),a=Qt(),c=Yn(),u=vr(),l=Pr(),d=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||l.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&&!this._isAutoCorrelating?u.CorrelationContextManager.enable(t):!e&&this._isAutoCorrelating&&u.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return u.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var n=function(n){if(n){if("function"!=typeof n)throw new Error("onRequest handler must be a function");return function(r,i){u.CorrelationContextManager.wrapEmitter(r),u.CorrelationContextManager.wrapEmitter(i);var o=r&&!r[e.alreadyAutoCollectedFlag];if(r&&o){var s=new c(r),a=t._generateCorrelationContext(s);u.CorrelationContextManager.runWithContext(a,(function(){t._isEnabled&&(r[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(t._client,{request:r,response:i},s)),"function"==typeof n&&n(r,i)}))}else"function"==typeof n&&n(r,i)}}},o=function(e){var t=e.addListener.bind(e);e.addListener=function(e,r){switch(e){case"request":case"checkContinue":return t(e,n(r));default:return t(e,r)}},e.on=e.addListener},s=r.createServer;r.createServer=function(e,t){if(t&&"function"==typeof t){var r=s(e,n(t));return o(r),r}return r=s(n(e)),o(r),r};var a=i.createServer;i.createServer=function(e,t){var r=a(e,n(t));return o(r),r}},e.trackRequestSync=function(t,n){if(n.request&&n.response&&t){e.addResponseCorrelationIdHeader(t,n.response);var r=u.CorrelationContextManager.getCurrentContext(),i=new c(n.request,r&&r.operation.parentId);r&&(r.operation.id=i.getOperationId(t.context.tags)||r.operation.id,r.operation.name=i.getOperationName(t.context.tags)||r.operation.name,r.operation.parentId=i.getRequestId()||r.operation.parentId,r.customProperties.addHeaderData(i.getCorrelationContextHeader())),e.endRequest(t,i,n,n.duration,n.error)}else o.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!n.request,!n.response,!t)},e.trackRequest=function(t,n,r){if(n.request&&n.response&&t){var i=u.CorrelationContextManager.getCurrentContext(),a=r||new c(n.request,i&&i.operation.parentId);s.canIncludeCorrelationHeader(t,a.getUrl())&&e.addResponseCorrelationIdHeader(t,n.response),i&&!r&&(i.operation.id=a.getOperationId(t.context.tags)||i.operation.id,i.operation.name=a.getOperationName(t.context.tags)||i.operation.name,i.operation.parentId=a.getOperationParentId(t.context.tags)||i.operation.parentId,i.customProperties.addHeaderData(a.getCorrelationContextHeader())),n.response.once&&n.response.once("finish",(function(){e.endRequest(t,a,n,null,null)})),n.request.on&&n.request.on("error",(function(r){e.endRequest(t,a,n,null,r)})),n.request.on&&n.request.on("aborted",(function(){e.endRequest(t,a,n,null,"The request has been aborted and the network socket has closed.")}))}else o.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!n.request,!n.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var n=t.getHeader(a.requestContextHeader);s.safeIncludeCorrelationHeader(e,t,n)}},e.endRequest=function(e,t,n,r,i){i?t.onError(i,r):t.onResponse(n.response,r);var o=t.getRequestTelemetry(n);if(o.tagOverrides=t.getRequestTags(e.context.tags),n.tagOverrides)for(var s in n.tagOverrides)o.tagOverrides[s]=n.tagOverrides[s];var a=t.getLegacyRootId();a&&(o.properties.ai_legacyRootId=a),o.contextObjects=o.contextObjects||{},o.contextObjects["http.ServerRequest"]=n.request,o.contextObjects["http.ServerResponse"]=n.response,e.trackRequest(o)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,u.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();t.exports=d})),qr=v(((e,t)=>{"use strict";var r=e&&e.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=n(22037),o=Kn(),s=wr(),a=Zt(),c=S(),u=a.w3cTraceId(),l=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,n,r){var o=i&&"function"==typeof i.hostname&&i.hostname()||"Unknown",s=r.tags&&r.keys&&r.keys.cloudRoleInstance&&r.tags[r.keys.cloudRoleInstance]||o,a=r.tags&&r.keys&&r.keys.cloudRole&&r.tags[r.keys.cloudRole]||null;return{Documents:t.length>0?t:null,InstrumentationKey:n.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:r.tags[r.keys.internalSdkVersion],StreamId:u,MachineName:o,Instance:s,RoleName:a}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case o.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case o.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case o.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case o.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case o.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.name;return r(r({},n),{Name:i})},e.createQuickPulseTraceDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.severityLevel||0;return r(r({},n),{Message:t.data.baseData.message,SeverityLevel:o.SeverityLevel[i]})},e.createQuickPulseExceptionDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.exceptions,o="",s="",a="";return i&&i.length>0&&(i[0].parsedStack&&i[0].parsedStack.length>0?i[0].parsedStack.forEach((function(e){o+=e.assembly+"\n"})):i[0].stack&&i[0].stack.length>0&&(o=i[0].stack),s=i[0].message,a=i[0].typeName),r(r({},n),{Exception:o,ExceptionMessage:s,ExceptionType:a})},e.createQuickPulseRequestDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData;return r(r({},n),{Name:i.name,Success:i.success,Duration:i.duration,ResponseCode:i.responseCode,OperationName:i.name})},e.createQuickPulseDependencyDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData;return r(r({},n),{Name:i.name,Target:i.target,Success:i.success,Duration:i.duration,ResultCode:i.resultCode,CommandName:i.data,OperationName:n.OperationId,DependencyTypeName:i.type})},e.createQuickPulseDocument=function(t){var n,r;return t.data.baseType?(r=s.TelemetryTypeStringToQuickPulseType[t.data.baseType],n=s.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):c.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:n,__type:r,OperationId:t.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],n=e.data.baseData.measurements||{};for(var r in n)if(n.hasOwnProperty(r)){var i={key:r,value:n[r]};t.push(i)}var o=e.data.baseData.properties||{};for(var r in o)o.hasOwnProperty(r)&&(i={key:r,value:o[r]},t.push(i));return t},e.keys=new o.ContextTagKeys,e}();t.exports=l})),Ur=v(((e,t)=>{"use strict";t.exports={getTransmissionTime:function(){return 1e4*(Date.now()+621355968e5)}}})),Wr=v(((e,t)=>{"use strict";var r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=n(95687),s=Mr(),a=S(),c=Ur(),u=Zt(),l="x-ms-qps-service-polling-interval-hint",d="x-ms-qps-service-endpoint-redirect",p=function(){function e(e){this._config=e,this._consecutiveErrors=0}return e.prototype.ping=function(e,t,n){var r=[{name:"x-ms-qps-stream-id",value:e.StreamId},{name:"x-ms-qps-machine-name",value:e.MachineName},{name:"x-ms-qps-role-name",value:e.RoleName},{name:"x-ms-qps-instance-name",value:e.Instance},{name:"x-ms-qps-invariant-version",value:e.InvariantVersion.toString()}];this._submitData(e,t,n,"ping",r)},e.prototype.post=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,this._submitData([e],t,n,"post")];case 1:return r.sent(),[2]}}))}))},e.prototype._submitData=function(e,t,n,a,p){return r(this,void 0,void 0,(function(){var r,h,f,g,m,v=this;return i(this,(function(i){return r=JSON.stringify(e),(g={})[s.disableCollectionRequestOption]=!0,g.host=t&&t.length>0?t:this._config.quickPulseHost,g.method="POST",g.path="/QuickPulseService.svc/"+a+"?ikey="+this._config.instrumentationKey,g.headers=((m={Expect:"100-continue"})["x-ms-qps-transmission-time"]=c.getTransmissionTime(),m["Content-Type"]="application/json",m["Content-Length"]=Buffer.byteLength(r),m),h=g,p&&p.length>0&&p.forEach((function(e){return h.headers[e.name]=e.value})),this._config.httpsAgent?h.agent=this._config.httpsAgent:h.agent=u.tlsRestrictedAgent,(f=o.request(h,(function(e){if(200==e.statusCode){var t="true"===e.headers["x-ms-qps-subscribed"],r=e.headers[d]?e.headers[d].toString():null,i=e.headers[l]?parseInt(e.headers[l].toString()):null;v._consecutiveErrors=0,n(t,e,r,i)}else v._onError("StatusCode:"+e.statusCode+" StatusMessage:"+e.statusMessage),n()}))).on("error",(function(e){v._onError(e),n()})),f.write(r),f.end(),[2]}))}))},e.prototype._onError=function(t){this._consecutiveErrors++;var n="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(n="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",a.warn(e.TAG,n,t)):a.info(e.TAG,n,t)},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();t.exports=p})),Vr=v(((e,t)=>{"use strict";var n=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},r=e&&e.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=S(),o=qr(),s=Wr(),a=wr(),c=Rr(),u=function(){function e(e,t){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=e,this.context=t||new c,this._sender=new s(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){var t=o.telemetryEnvelopeToQuickPulseDocument(e);t&&this._documents.push(t)},e.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach((function(t){t.enable(e)}))},e.prototype._addMetric=function(e){var t=e.value,n=e.count||1,r=a.PerformanceToQuickPulseCounter[e.name];r&&(this._metrics[r]?(this._metrics[r].Value=(this._metrics[r].Value*this._metrics[r].Weight+t*n)/(this._metrics[r].Weight+n),this._metrics[r].Weight+=n):(this._metrics[r]=o.createQuickPulseMetric(e),this._metrics[r].Name=r,this._metrics[r].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){return n(this,void 0,void 0,(function(){var t,n,i,s,a=this;return r(this,(function(r){switch(r.label){case 0:return t=Object.keys(this._metrics).map((function(e){return a._metrics[e]})),n=o.createQuickPulseEnvelope(t,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(n)]:[3,2];case 1:return r.sent(),[3,3];case 2:this._ping(n),r.label=3;case 3:return i=this._pollingIntervalHint>0?this._pollingIntervalHint:e.PING_INTERVAL,s=this._isCollectingData?e.POST_INTERVAL:i,this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,s=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(s=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),s),this._handle.unref(),[2]}}))}))},e.prototype._ping=function(e){this._sender.ping(e,this._redirectedHost,this._quickPulseDone.bind(this))},e.prototype._post=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this._sender.post(e,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return t.sent(),[2]}}))}))},e.prototype._quickPulseDone=function(e,t,n,r){null!=e?(this._isCollectingData!==e&&(i.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,n&&n.length>0&&(this._redirectedHost=n,i.info("Redirecting endpoint to: ",n)),r&&r>0&&(this._pollingIntervalHint=r),t&&t.statusCode<300&&t.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();t.exports=u})),Hr=v(((e,t)=>{"use strict";var n=wr(),r=function(){function e(){}return e.parse=function(t){if(!t)return{};var r=t.split(e._FIELDS_SEPARATOR).reduce((function(t,n){var r=n.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===r.length){var i=r[0].toLowerCase(),o=r[1];t[i]=o}return t}),{});if(Object.keys(r).length>0){if(r.endpointsuffix){var i=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+i+"dc."+r.endpointsuffix,r.liveendpoint=r.liveendpoint||"https://"+i+"live."+r.endpointsuffix}r.ingestionendpoint=r.ingestionendpoint||n.DEFAULT_BREEZE_ENDPOINT,r.liveendpoint=r.liveendpoint||n.DEFAULT_LIVEMETRICS_ENDPOINT}return r},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();t.exports=r})),$r=v(((e,t)=>{"use strict";var r=en(),i=Hr(),o=(S(),wr()),s=n(57310),a=function(){function e(t){var n=this;this.endpointBase=o.DEFAULT_BREEZE_ENDPOINT;var r=process.env[e.ENV_connectionString],a=i.parse(t),c=i.parse(r),u=!a.instrumentationkey&&Object.keys(a).length>0?null:t;this.instrumentationKey=a.instrumentationkey||u||c.instrumentationkey||e._getInstrumentationKey(),e._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(a.ingestionendpoint||c.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(e){return n.correlationId=e},this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=a.ingestionendpoint||c.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=a.liveendpoint||c.liveendpoint||process.env[e.ENV_quickPulseHost]||o.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){r.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=r.correlationIdPrefix,r.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(e){this._quickPulseHost=e},enumerable:!1,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e._validateInstrumentationKey=function(e){return new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e)},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",e.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",e.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();t.exports=a})),Br=v((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.AutoCollectNativePerformance=void 0;var r=$r(),i=Rr(),o=S(),s=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>=6},e.prototype.enable=function(t,r,i){var s=this;if(void 0===r&&(r={}),void 0===i&&(i=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&&t&&!this._isInitialized)try{var a=n(32220);e._emitter=new a,e._metricsAvailable=!0,o.info("Native metrics module successfully loaded!")}catch{return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=r,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,i),this._handle||(this._handle=setInterval((function(){return s._trackNativeMetrics()}),i),this._handle.unref())):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e){var n=process.env[r.ENV_nativeMetricsDisableAll],i=process.env[r.ENV_nativeMetricsDisablers];if(n)return{isEnabled:!1,disabledMetrics:{}};if(i){var o=i.split(","),s={};if(o.length>0)for(var a=0,c=o;a<c.length;a++)s[c[a]]=!0;return"object"==typeof e?{isEnabled:!0,disabledMetrics:t(t({},e),s)}:{isEnabled:e,disabledMetrics:s}}return"boolean"==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;"object"!=typeof this._isEnabled&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){var t;if(!this._disabledMetrics.gc){var n=e._emitter.getGCData();for(var r in n){var o=n[r].metrics,s=r+" Garbage Collection Duration",a=Math.sqrt(o.sumSquares/o.count-Math.pow(o.total/o.count,2))||0;this._client.trackMetric({name:s,value:o.total,count:o.count,max:o.max,min:o.min,stdDev:a,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){var t;if(!this._disabledMetrics.loop){var n=e._emitter.getLoopData().loopUsage;if(0!=n.count){var r=Math.sqrt(n.sumSquares/n.count-Math.pow(n.total/n.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:n.total,count:n.count,min:n.min,max:n.max,stdDev:r,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,t)})}}},e.prototype._trackHeapUsage=function(){var e,t,n;if(!this._disabledMetrics.heap){var r=process.memoryUsage(),o=r.heapUsed,s=r.heapTotal,a=r.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:o,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:s,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,t)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-s,count:1,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+i.sdkVersion,n)})}},e}();e.AutoCollectNativePerformance=s})),Gr=v(((e,t)=>{"use strict";var n=S(),r=function(){function e(e,t,n,r){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=n,this._sender=r}return e.prototype.setUseDiskRetryCaching=function(e,t,n){this._sender.setDiskRetryMode(e,t,n)},e.prototype.send=function(e){var t=this;if(!this._isDisabled()){if(!e)return void n.warn("Cannot send null/undefined telemetry");if(this._buffer.push(e),this._buffer.length>=this._getBatchSize())return void this.triggerSend(!1);!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs()))}},e.prototype.triggerSend=function(e,t){var n=this._buffer.length<1;n||(e?(this._sender.saveOnCrash(this._buffer),"function"==typeof t&&t("data saved on crash")):this._sender.send(this._buffer,t)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,n&&"function"==typeof t&&t("no data to send")},e}();t.exports=r})),Kr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.azureRoleEnvironmentTelemetryProcessor=void 0,e.azureRoleEnvironmentTelemetryProcessor=function(e,t){process.env.WEBSITE_SITE_NAME&&(e.tags[t.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}})),zr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSamplingHashCode=e.samplingTelemetryProcessor=void 0;var t=Kn();function n(e){var t=2147483647,n=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var r=0;r<e.length;r++)n=((n<<5)+n|0)+e.charCodeAt(r)|0;return(n=n<=-2147483648?t:Math.abs(n))/t*100}e.samplingTelemetryProcessor=function(e,r){var i=e.sampleRate;return!!(null==i||i>=100||e.data&&t.TelemetryType.Metric===t.baseTypeToTelemetryType(e.data.baseType))||(r.correlationContext&&r.correlationContext.operation?n(r.correlationContext.operation.id)<i:100*Math.random()<i)},e.getSamplingHashCode=n})),Yr=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.performanceMetricsTelemetryProcessor=void 0;var t=Pr(),n=Kn();e.performanceMetricsTelemetryProcessor=function(e,r){switch(r&&r.addDocument(e),e.data.baseType){case n.TelemetryTypeString.Exception:t.countException();break;case n.TelemetryTypeString.Request:var i=e.data.baseData;t.countRequest(i.duration,i.success);break;case n.TelemetryTypeString.Dependency:var o=e.data.baseData;t.countDependency(o.duration,o.success)}return!0}})),Jr=v((e=>{"use strict";var t=e&&e.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.preAggregatedMetricsTelemetryProcessor=void 0;var n=Kn(),r=Ir(),i=Kn();e.preAggregatedMetricsTelemetryProcessor=function(e,o){if(r.isEnabled())switch(e.data.baseType){case i.TelemetryTypeString.Exception:var s=e.data.baseData;s.properties=t(t({},s.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var a={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole]};r.countException(a);break;case i.TelemetryTypeString.Trace:var c=e.data.baseData;c.properties=t(t({},c.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var u={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole],traceSeverityLevel:n.SeverityLevel[c.severity]};r.countTrace(u);break;case i.TelemetryTypeString.Request:var l=e.data.baseData;l.properties=t(t({},l.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var d={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole],operationSynthetic:e.tags[o.keys.operationSyntheticSource],requestSuccess:l.success,requestResultCode:l.responseCode};r.countRequest(l.duration,d);break;case i.TelemetryTypeString.Dependency:var p=e.data.baseData;p.properties=t(t({},p.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var h={cloudRoleInstance:e.tags[o.keys.cloudRoleInstance],cloudRoleName:e.tags[o.keys.cloudRole],operationSynthetic:e.tags[o.keys.operationSyntheticSource],dependencySuccess:p.success,dependencyType:p.type,dependencyTarget:p.target,dependencyResultCode:p.resultCode};r.countDependency(p.duration,h)}return!0}})),Xr=v((e=>{"use strict";var t=e&&e.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=e&&e.__exportStar||function(e,n){for(var r in e)"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,e,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(Kr(),e),n(zr(),e),n(Yr(),e),n(Jr(),e)})),Qr=v(((e,t)=>{"use strict";var r=e&&e.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=e&&e.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=n(57147),s=n(22037),a=n(71017),c=n(59796),u=n(32081),l=S(),d=Mr(),p=Zt(),h=function(){function e(t,n,r){if(this._redirectedHost=null,this._config=t,this._onSuccess=n,this._onError=r,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=a.join(s.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey),!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=o.existsSync(e.ICACLS_PATH)}catch{}e.OS_PROVIDES_FILE_PROTECTION||l.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,n,r){var i=this;this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof n&&n>=0&&(this._resendInterval=Math.floor(n)),"number"==typeof r&&r>=0&&(this._maxBytesOnDisk=Math.floor(r)),t&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,l.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout((function(){i._fileCleanupTask()}),e.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},e.prototype.send=function(t,n){return r(this,void 0,void 0,(function(){var r,o,s,a,u=this;return i(this,(function(i){return t&&(r=this._redirectedHost||this._config.endpointUrl,o={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},s="",t.forEach((function(e){var t=u._stringify(e);"string"==typeof t&&(s+=t+"\n")})),s.length>0&&(s=s.substring(0,s.length-1)),a=Buffer.from?Buffer.from(s):new Buffer(s),c.gzip(a,(function(i,s){var c=s;i?(l.warn(i),c=a,o.headers["Content-Length"]=a.length.toString()):(o.headers["Content-Encoding"]="gzip",o.headers["Content-Length"]=s.length.toString()),l.info(e.TAG,o),o[d.disableCollectionRequestOption]=!0;var h=p.makeRequest(u._config,r,o,(function(r){r.setEncoding("utf-8");var i="";r.on("data",(function(e){i+=e})),r.on("end",(function(){if(u._numConsecutiveFailures=0,u._enableDiskRetryMode)if(200===r.statusCode)u._resendTimer||(u._resendTimer=setTimeout((function(){u._resendTimer=null,u._sendFirstFileOnDisk()}),u._resendInterval),u._resendTimer.unref());else if(u._isRetriable(r.statusCode))try{var o=JSON.parse(i),s=[];o.errors.forEach((function(e){u._isRetriable(e.statusCode)&&s.push(t[e.index])})),s.length>0&&u._storeToDisk(s)}catch{u._storeToDisk(t)}if(307===r.statusCode||308===r.statusCode)if(u._numConsecutiveRedirects++,u._numConsecutiveRedirects<10){var a=r.headers.location?r.headers.location.toString():null;a&&(u._redirectedHost=a,u.send(t,n))}else"function"==typeof n&&n("Error sending telemetry because of circular redirects.");else u._numConsecutiveRedirects=0,"function"==typeof n&&n(i),l.info(e.TAG,i),"function"==typeof u._onSuccess&&u._onSuccess(i)}))}));h.on("error",(function(r){if(u._numConsecutiveFailures++,!u._enableDiskRetryMode||u._numConsecutiveFailures>0&&u._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var i="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";u._enableDiskRetryMode&&(i="Ingestion endpoint could not be reached "+u._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),l.warn(e.TAG,i,p.dumpObj(r))}else i="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:",l.info(e.TAG,i,p.dumpObj(r));u._onErrorHelper(r),"function"==typeof n&&(r&&n(p.dumpObj(r)),n("Error sending telemetry")),u._enableDiskRetryMode&&u._storeToDisk(t)})),h.write(c),h.end()}))),[2]}))}))},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(e))},e.prototype._isRetriable=function(e){return 206===e||408===e||429===e||439===e||500===e||503===e},e.prototype._runICACLS=function(t,n){var r=u.spawn(e.ICACLS_PATH,t,{windowsHide:!0});r.on("error",(function(e){return n(e)})),r.on("close",(function(e,t){return n(0===e?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))}))},e.prototype._runICACLSSync=function(t){if(!u.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var n=u.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(n.error)throw n.error;if(0!==n.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+n.status+")")},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var n=u.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),r="";n.stdout.on("data",(function(e){return r+=e})),n.on("error",(function(e){return t(e,null)})),n.on("close",(function(n,i){return e.ACL_IDENTITY=r&&r.trim(),t(0===n?null:new Error("Getting ACL identity did not succeed (PS returned code "+n+")"),e.ACL_IDENTITY)}))},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(u.spawnSync){var t=u.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(t,n){var r=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?n(e.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity((function(i,o){if(i)return e.ACLED_DIRECTORIES[t]=!1,n(i);r._runICACLS(r._getACLArguments(t,o),(function(r){return e.ACLED_DIRECTORIES[t]=!r,n(r)}))}))):n(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(e,t){var n=this;o.lstat(e,(function(r,i){r&&"ENOENT"===r.code?o.mkdir(e,(function(r){r&&"EEXIST"!==r.code?t(r):n._applyACLRules(e,t)})):!r&&i.isDirectory()?n._applyACLRules(e,t):t(r||new Error("Path existed but was not a directory"))}))},e.prototype._getShallowDirectorySize=function(e,t){o.readdir(e,(function(n,r){if(n)return t(n,-1);var i=null,s=0,c=0;if(0!==r.length)for(var u=0;u<r.length;u++)o.stat(a.join(e,r[u]),(function(e,n){c++,e?i=e:n.isFile()&&(s+=n.size),c===r.length&&t(i,i?-1:s)}));else t(null,0)}))},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=o.readdirSync(e),n=0,r=0;r<t.length;r++)n+=o.statSync(a.join(e,t[r])).size;return n},e.prototype._storeToDisk=function(t){var n=this;l.info(e.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,(function(r){if(r)return l.warn(e.TAG,"Error while checking/creating directory: "+(r&&r.message)),void n._onErrorHelper(r);n._getShallowDirectorySize(n._tempDir,(function(r,i){if(r||i<0)return l.warn(e.TAG,"Error while checking directory size: "+(r&&r.message)),void n._onErrorHelper(r);if(i>n._maxBytesOnDisk)l.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+i);else{var s=(new Date).getTime()+".ai.json",c=a.join(n._tempDir,s);l.info(e.TAG,"saving data to disk at: "+c),o.writeFile(c,n._stringify(t),{mode:384},(function(e){return n._onErrorHelper(e)}))}}))}))},e.prototype._storeToDiskSync=function(t){try{l.info(e.TAG,"Checking existence of data storage directory: "+this._tempDir),o.existsSync(this._tempDir)||o.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var n=this._getShallowDirectorySizeSync(this._tempDir);if(n>this._maxBytesOnDisk)return void l.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+n);var r=(new Date).getTime()+".ai.json",i=a.join(this._tempDir,r);l.info(e.TAG,"saving data before crash to disk at: "+i),o.writeFileSync(i,t,{mode:384})}catch(t){l.warn(e.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var e=this;o.exists(this._tempDir,(function(t){t&&o.readdir(e._tempDir,(function(t,n){if(t)e._onErrorHelper(t);else if((n=n.filter((function(e){return a.basename(e).indexOf(".ai.json")>-1}))).length>0){var r=n[0],i=a.join(e._tempDir,r);o.readFile(i,(function(t,n){t?e._onErrorHelper(t):o.unlink(i,(function(t){if(t)e._onErrorHelper(t);else try{var r=JSON.parse(n.toString());e.send(r)}catch(e){l.warn("Failed to read persisted file",e)}}))}))}}))}))},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){l.warn("Failed to serialize payload",t,e)}},e.prototype._fileCleanupTask=function(){var t=this;o.exists(this._tempDir,(function(n){n&&o.readdir(t._tempDir,(function(n,r){n?t._onErrorHelper(n):(r=r.filter((function(e){return a.basename(e).indexOf(".ai.json")>-1}))).length>0&&r.forEach((function(n){var r=new Date(parseInt(n.split(".ai.json")[0]));if(new Date(+new Date-e.FILE_RETEMPTION_PERIOD)>r){var i=a.join(t._tempDir,n);o.unlink(i,(function(e){e&&t._onErrorHelper(e)}))}}))}))}))},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=52428800,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.CLEANUP_TIMEOUT=36e5,e.FILE_RETEMPTION_PERIOD=6048e5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===s.type(),e}();t.exports=h})),Zr=v(((e,t)=>{"use strict";var n=Kn(),r=Zt(),i=vr(),o=function(){function e(){}return e.createEnvelope=function(t,i,o,s,a){var c=null;switch(i){case n.TelemetryType.Trace:c=e.createTraceData(t);break;case n.TelemetryType.Dependency:c=e.createDependencyData(t);break;case n.TelemetryType.Event:c=e.createEventData(t);break;case n.TelemetryType.Exception:c=e.createExceptionData(t);break;case n.TelemetryType.Request:c=e.createRequestData(t);break;case n.TelemetryType.Metric:c=e.createMetricData(t);break;case n.TelemetryType.Availability:c=e.createAvailabilityData(t);break;case n.TelemetryType.PageView:c=e.createPageViewData(t)}if(o&&n.domainSupportsProperties(c.baseData)){if(c&&c.baseData)if(c.baseData.properties)for(var u in o)c.baseData.properties[u]||(c.baseData.properties[u]=o[u]);else c.baseData.properties=o;c.baseData.properties=r.validateStringMap(c.baseData.properties)}var l=a&&a.instrumentationKey||"",d=new n.Envelope;return d.data=c,d.iKey=l,d.name="Microsoft.ApplicationInsights."+l.replace(/-/g,"")+"."+c.baseType.substr(0,c.baseType.length-4),d.tags=this.getTags(s,t.tagOverrides),d.time=(new Date).toISOString(),d.ver=1,d.sampleRate=a?a.samplingPercentage:100,i===n.TelemetryType.Metric&&(d.sampleRate=100),d},e.createTraceData=function(e){var t=new n.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=n.SeverityLevel.Information:t.severityLevel=e.severity;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Trace),r.baseData=t,r},e.createDependencyData=function(e){var t=new n.RemoteDependencyData;"string"==typeof e.name&&(t.name=e.name.length>1024?e.name.slice(0,1021)+"...":e.name),t.data=e.data,t.target=e.target,t.duration=r.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+"":"",e.id?t.id=e.id:t.id=r.w3cTraceId();var i=new n.Data;return i.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Dependency),i.baseData=t,i},e.createEventData=function(e){var t=new n.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var r=new n.Data;return r.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Event),r.baseData=t,r},e.createExceptionData=function(e){var t=new n.ExceptionData;t.properties=e.properties,isNaN(e.severity)?t.severityLevel=n.SeverityLevel.Error:t.severityLevel=e.severity,t.measurements=e.measurements,t.exceptions=[];var i=e.exception.stack,o=new n.ExceptionDetails;o.message=e.exception.message,o.typeName=e.exception.name,o.parsedStack=this.parseStack(i),o.hasFullStack=r.isArray(o.parsedStack)&&o.parsedStack.length>0,t.exceptions.push(o);var s=new n.Data;return s.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Exception),s.baseData=t,s},e.createRequestData=function(e){var t=new n.RequestData;e.id?t.id=e.id:t.id=r.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=r.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+"":"",t.success=e.success,t.properties=e.properties;var i=new n.Data;return i.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Request),i.baseData=t,i},e.createMetricData=function(e){var t=new n.MetricData;t.metrics=[];var r=new n.DataPoint;r.count=isNaN(e.count)?1:e.count,r.kind=n.DataPointType.Aggregation,r.max=isNaN(e.max)?e.value:e.max,r.min=isNaN(e.min)?e.value:e.min,r.name=e.name,r.stdDev=isNaN(e.stdDev)?0:e.stdDev,r.value=e.value,t.metrics.push(r),t.properties=e.properties;var i=new n.Data;return i.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Metric),i.baseData=t,i},e.createAvailabilityData=function(e){var t=new n.AvailabilityData;e.id?t.id=e.id:t.id=r.w3cTraceId(),t.name=e.name,t.duration=r.msToTimeSpan(e.duration),t.success=e.success,t.runLocation=e.runLocation,t.message=e.message,t.measurements=e.measurements,t.properties=e.properties;var i=new n.Data;return i.baseType=n.telemetryTypeToBaseType(n.TelemetryType.Availability),i.baseData=t,i},e.createPageViewData=function(e){var t=new n.PageViewData;t.name=e.name,t.duration=r.msToTimeSpan(e.duration),t.url=e.url,t.measurements=e.measurements,t.properties=e.properties;var i=new n.Data;return i.baseType=n.telemetryTypeToBaseType(n.TelemetryType.PageView),i.baseData=t,i},e.getTags=function(e,t){var n=i.CorrelationContextManager.getCurrentContext(),r={};if(e&&e.tags)for(var o in e.tags)r[o]=e.tags[o];if(t)for(var o in t)r[o]=t[o];return n&&(r[e.keys.operationId]=r[e.keys.operationId]||n.operation.id,r[e.keys.operationName]=r[e.keys.operationName]||n.operation.name,r[e.keys.operationParentId]=r[e.keys.operationParentId]||n.operation.parentId),r},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var n=e.split("\n");t=[];for(var r=0,i=0,o=0;o<=n.length;o++){var a=n[o];if(s.regex.test(a)){var c=new s(n[o],r++);i+=c.sizeInBytes,t.push(c)}}if(i>32768)for(var u=0,l=t.length-1,d=0,p=u,h=l;u<l;){if((d+=t[u].sizeInBytes+t[l].sizeInBytes)>32768){var f=h-p+1;t.splice(p,f);break}p=u,h=l,u++,l--}}return t},e}(),s=function(){function e(t,n){this.sizeInBytes=0,this.level=n,this.method="<no_method>",this.assembly=r.trim(t);var i=t.match(e.regex);i&&i.length>=5&&(this.method=r.trim(i[2])||this.method,this.fileName=r.trim(i[4])||"<no_filename>",this.line=parseInt(i[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,e.baseSize=58,e}();t.exports=o})),ei=v(((e,t)=>{"use strict";var r=n(57310),i=$r(),o=Rr(),s=Kn(),a=Gr(),c=Xr(),u=vr(),l=Qr(),d=Zt(),p=S(),h=Zr(),f=function(){function e(e){this._telemetryProcessors=[],this._enableAzureProperties=!1;var t=new i(e);this.config=t,this.context=new o,this.commonProperties={};var n=new l(this.config);this.channel=new a((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),n)}return e.prototype.trackAvailability=function(e){this.track(e,s.TelemetryType.Availability)},e.prototype.trackPageView=function(e){this.track(e,s.TelemetryType.PageView)},e.prototype.trackTrace=function(e){this.track(e,s.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,s.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!d.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,s.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,s.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,s.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&&!e.target&&e.data&&(e.target=r.parse(e.data).host),this.track(e,s.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&&s.telemetryTypeToBaseType(t)){var n=h.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&&(n.time=e.time.toISOString()),this._enableAzureProperties&&c.azureRoleEnvironmentTelemetryProcessor(n,this.context);var r=this.runTelemetryProcessors(n,e.contextObjects);r=r&&c.samplingTelemetryProcessor(n,{correlationContext:u.CorrelationContextManager.getCurrentContext()}),c.preAggregatedMetricsTelemetryProcessor(n,this.context),r&&(c.performanceMetricsTelemetryProcessor(n,this.quickPulseClient),this.channel.send(n))}else p.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.setAutoPopulateAzureProperties=function(e){this._enableAzureProperties=e},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var n=!0,r=this._telemetryProcessors.length;if(0===r)return n;(t=t||{}).correlationContext=u.CorrelationContextManager.getCurrentContext();for(var i=0;i<r;++i)try{var o=this._telemetryProcessors[i];if(o&&!1===o.apply(null,[e,t])){n=!1;break}}catch(t){n=!0,p.warn("One of telemetry processors failed, telemetry item will be sent.",t,e)}return n&&(e&&e.tags&&(e.tags=d.validateStringMap(e.tags)),e&&e.data&&e.data.baseData&&e.data.baseData.properties&&(e.data.baseData.properties=d.validateStringMap(e.data.baseData.properties))),n},e}();t.exports=f})),ti=v(((e,t)=>{"use strict";var n,r=e&&e.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=ei(),o=Fr(),s=Mr(),a=S(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?o.trackRequestSync(this,e):a.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&a.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?o.trackRequest(this,e):a.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?s.trackRequest(this,e):a.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(i);t.exports=c})),ni=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})})),ri=v((e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dispose=e.Configuration=e.wrapWithCorrelationContext=e.startOperation=e.getCorrelationContext=e.start=e.setup=e.liveMetricsClient=e.defaultClient=e.DistributedTracingModes=void 0;var t,n,r=vr(),i=_r(),o=Er(),s=Pr(),a=Ir(),c=Lr(),u=Mr(),l=Fr(),d=en(),p=S(),h=Vr(),f=Br();e.TelemetryClient=ti(),e.Contracts=Kn(),e.azureFunctionsTypes=ni(),(n=t=e.DistributedTracingModes||(e.DistributedTracingModes={}))[n.AI=0]="AI",n[n.AI_AND_W3C=1]="AI_AND_W3C";var g,m,v,y,b,_,E,w,P,T,C,I=!0,R=!1,D=!0,O=!0,k=!0,x=!1,N=!0,A=!0,j=!0,M=!0,L=!1,F=!0,q=void 0,U=void 0,W=!1;function V(){return e.defaultClient?(W=!0,v.enable(I,R),y.enable(D),b.enable(O),_.enable(k),E.enable(x,e.defaultClient.config),w.enable(F,m),P.useAutoCorrelation(M,g),P.enable(N),T.enable(A),e.liveMetricsClient&&L&&e.liveMetricsClient.enable(L)):p.warn("Start cannot be called before setup"),H}e.setup=function(t){return e.defaultClient?p.info("The default client is already setup"):(e.defaultClient=new e.TelemetryClient(t),v=new i(e.defaultClient),y=new o(e.defaultClient),b=new s(e.defaultClient),_=new a(e.defaultClient),E=new c(e.defaultClient),P=new l(e.defaultClient),T=new u(e.defaultClient),w||(w=new f.AutoCollectNativePerformance(e.defaultClient))),e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(j,q,U),H},e.start=V,e.getCorrelationContext=function(){return M?r.CorrelationContextManager.getCurrentContext():null},e.startOperation=function(e,t){return r.CorrelationContextManager.startOperation(e,t)},e.wrapWithCorrelationContext=function(e,t){return r.CorrelationContextManager.wrapCallback(e,t)};var H=function(){function n(){}return n.setDistributedTracingMode=function(e){return d.w3cEnabled=e===t.AI_AND_W3C,n},n.setAutoCollectConsole=function(e,t){return void 0===t&&(t=!1),I=e,R=t,W&&v.enable(e,t),n},n.setAutoCollectExceptions=function(e){return D=e,W&&y.enable(e),n},n.setAutoCollectPerformance=function(e,t){void 0===t&&(t=!0),O=e;var r=f.AutoCollectNativePerformance.parseEnabled(t);return F=r.isEnabled,m=r.disabledMetrics,W&&(b.enable(e),w.enable(r.isEnabled,r.disabledMetrics)),n},n.setAutoCollectPreAggregatedMetrics=function(e){return k=e,W&&_.enable(e),n},n.setAutoCollectHeartbeat=function(t){return x=t,W&&E.enable(t,e.defaultClient.config),n},n.setAutoCollectRequests=function(e){return N=e,W&&P.enable(e),n},n.setAutoCollectDependencies=function(e){return A=e,W&&T.enable(e),n},n.setAutoDependencyCorrelation=function(e,t){return M=e,g=t,W&&P.useAutoCorrelation(e,t),n},n.setUseDiskRetryCaching=function(t,r,i){return j=t,q=r,U=i,e.defaultClient&&e.defaultClient.channel&&e.defaultClient.channel.setUseDiskRetryCaching(t,r,i),n},n.setInternalLogging=function(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!0),p.enableDebug=e,p.disableWarnings=!t,n},n.setSendLiveMetrics=function(t){return void 0===t&&(t=!1),e.defaultClient?(!e.liveMetricsClient&&t?(e.liveMetricsClient=new h(e.defaultClient.config,null),C=new s(e.liveMetricsClient,1e3,!0),e.liveMetricsClient.addCollector(C),e.defaultClient.quickPulseClient=e.liveMetricsClient):e.liveMetricsClient&&e.liveMetricsClient.enable(t),L=t,n):(p.warn("Live metrics client cannot be setup without the default client"),n)},n.start=V,n}();e.Configuration=H,e.dispose=function(){d.w3cEnabled=!0,e.defaultClient=null,W=!1,v&&v.dispose(),y&&y.dispose(),b&&b.dispose(),_&&_.dispose(),E&&E.dispose(),w&&w.dispose(),P&&P.dispose(),T&&T.dispose(),e.liveMetricsClient&&(e.liveMetricsClient.enable(!1),L=!1,e.liveMetricsClient=void 0)}})),ii={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(ii,{default:()=>ui}),e.exports=(r=ii,y(o({},"__esModule",{value:!0}),r));var oi=b(n(22037)),si=b(n(66828)),ai=b(n(95687)),ci=class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){try{let e=this.vscodeAPI.env.telemetryConfiguration;return e.isUsageEnabled&&e.isErrorsEnabled&&e.isCrashEnabled?"on":e.isErrorsEnabled&&e.isCrashEnabled?"error":"off"}catch{return void 0!==this.vscodeAPI.env.isTelemetryEnabled?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration("telemetry").get("enableTelemetry")?"on":"off"}}static applyReplacements(e,t){for(let n of Object.keys(e))for(let r of t)r.lookup.test(n)&&(void 0!==r.replacementString?e[n]=r.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return 74===e.length&&"-"===e[32]&&"-"===e[41]&&"-"===e[46]&&"-"===e[51]&&"-"===e[56]&&"-"===e[69]}static getInstance(e){return ci._instance||(ci._instance=new ci(e)),ci._instance}},ui=class extends class{constructor(e,t,n,r,i,o){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=n,this.osShim=r,this.vscodeAPI=i,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!o,this.updateUserOptStatus(),void 0!==i.env.onDidChangeTelemetryEnabled?(this.disposables.push(i.env.onDidChangeTelemetryEnabled((()=>this.updateUserOptStatus()))),this.disposables.push(i.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))):this.disposables.push(i.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))}updateUserOptStatus(){let e=ci.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn="on"===e,this.errorOptIn="error"===e||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach((n=>{0===e.indexOf(`${n}`)&&(t=n)})),t}get extension(){return void 0===this._extension&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(null===e||"object"!=typeof e||"function"!=typeof t)return e;let n={};for(let r in e)n[r]=t(r,e[r]);return n}shouldSendErrorTelemetry(){return!(!1===this.errorOptIn||this.firstParty&&this.vscodeAPI.env.remoteName&&"other"===this.cleanRemoteName(this.vscodeAPI.env.remoteName))}getCommonProperties(){let e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,t){let n;if(null==e)return"";let r=[];""!==this.vscodeAPI.env.appRoot&&r.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=e;if(t){let t=[];for(let i of r)for(;(n=i.exec(e))&&n;)t.push([n.index,i.lastIndex]);let o=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,a=0;for(i="";(n=s.exec(e))&&n;)n[0]&&!o.test(n[0])&&t.every((([e,t])=>n.index<e||n.index>=t))&&(i+=e.substring(a,n.index)+"<REDACTED: user-file-path>",a=s.lastIndex);a<e.length&&(i+=e.substr(a))}for(let e of r)i=i.replace(e,"");return i}removePropertiesWithPossibleUserInfo(e){if("object"!=typeof e)return;let t={};for(let n of Object.keys(e)){let r=e[n];if(!r)continue;let i=/@[a-zA-Z0-9-.]+/,o=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/.test(r.toLowerCase())?t[n]="<REDACTED: secret>":i.test(r)?t[n]="<REDACTED: email>":o.test(r)?t[n]="<REDACTED: token>":t[n]=r}return t}get telemetryLevel(){switch(ci.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,t,n,r,i){if((this.userOptIn||i)&&""!==e){if(t=g(g({},t),this.getCommonProperties()),r){let e=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));t=this.removePropertiesWithPossibleUserInfo(e)}t=t??{},n=n??{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!0,!1)}sendRawTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1,!1)}sendDangerousTelemetryEvent(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,t,n,r,!0)}internalSendTelemetryErrorEvent(e,t,n,r,i){if((this.shouldSendErrorTelemetry()||i)&&""!==e){if(t=g(g({},t),this.getCommonProperties()),r){let e=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));t=this.removePropertiesWithPossibleUserInfo(e)}t=t??{},n=n??{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!0,!1)}sendDangerousTelemetryErrorEvent(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,t,n,r,!0)}internalSendTelemetryException(e,t,n,r,i){if((this.shouldSendErrorTelemetry()||i)&&e){if(t=g(g({},t),this.getCommonProperties()),r){let n=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),t=this.removePropertiesWithPossibleUserInfo(n)}t=t??{},n=n??{},this.telemetryAppender.logException(e,{properties:t,measurements:n})}}sendTelemetryException(e,t,n){this.internalSendTelemetryException(e,t,n,!0,!1)}sendDangerousTelemetryException(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,t,n,r,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map((e=>e.dispose())))}}{constructor(e,t,r,i,o){let s=e=>(async(e,t)=>{let n;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let t=await Promise.resolve().then((()=>b(ri())));t.defaultClient?(n=new t.TelemetryClient(e),n.channel.setUseDiskRetryCaching(!0)):(t.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),n=t.defaultClient),si&&si.env&&(n.context.tags[n.context.keys.userId]=si.env.machineId,n.context.tags[n.context.keys.sessionId]=si.env.sessionId,n.context.tags[n.context.keys.cloudRole]=si.env.appName,n.context.tags[n.context.keys.cloudRoleInstance]=si.env.appName),e&&0===e.indexOf("AIF-")&&(n.config.endpointUrl="https://mobile.events.data.microsoft.com/collect/v1")}catch(e){return Promise.reject("Failed to initialize app insights!\n"+e.message)}return null!=t&&t.length&&function(e,t){e.addTelemetryProcessor((e=>(Array.isArray(e.tags)?e.tags.forEach((e=>ci.applyReplacements(e,t))):e.tags&&ci.applyReplacements(e.tags,t),e.data.baseData&&ci.applyReplacements(e.data.baseData,t),!0)))}(n,t),{logEvent:(e,t)=>{try{null==n||n.trackEvent({name:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},logException:(e,t)=>{try{null==n||n.trackException({exception:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements})}catch(e){throw new Error("Failed to log exception to app insights!\n"+e.message)}},flush:async()=>{try{null==n||n.flush()}catch(e){throw new Error("Failed to flush app insights!\n"+e.message)}}}})(e,o);ci.shouldUseOneDataSystemSDK(r)&&(s=e=>(async(e,t,r)=>{let i=await(async(e,t,r)=>{let i=await Promise.all([n.e(939),n.e(164)]).then(n.bind(n,67164)),o=await Promise.all([n.e(939),n.e(391)]).then(n.bind(n,63391)),s=new i.AppInsightsCore,a=new o.PostChannel,c={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[a]]};if(r){c.extensionConfig={};let e={alwaysUseXhrOverride:!0,httpXHROverride:r};c.extensionConfig[a.identifier]=e}let u=t.workspace.getConfiguration("telemetry").get("internalTesting");return s.initialize(c,[]),s.addTelemetryInitializer((e=>{!u||(e.ext=e.ext??{},e.ext.utc=e.ext.utc??{},e.ext.utc.flags=8462029)})),s})(e,t,r);return{logEvent:(e,t)=>{try{null==i||i.track({name:e,baseData:{name:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements}})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},logException:(e,t)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:async()=>{try{null==i||i.unload()}catch(e){throw new Error("Failed to flush app insights!\n"+e.message)}}}})(e,si,{sendPOST:(e,t)=>{let n={method:"POST",headers:m(g({},e.headers),{"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)})};try{let r=ai.request(e.urlString,n,(e=>{e.on("data",(function(n){t(e.statusCode??200,e.headers,n.toString())})),e.on("error",(function(){t(0,{})}))}));r.write(e.data),r.end()}catch{t(0,{})}}}));let a=new class{constructor(e,t){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}logEvent(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):2!==this._instantiationStatus&&this._eventQueue.push({eventName:e,data:t})}logException(e,t){this._telemetryClient?this._telemetryClient.logException(e,t):2!==this._instantiationStatus&&this._exceptionQueue.push({exception:e,data:t})}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach((({eventName:e,data:t})=>this.logEvent(e,t))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:e,data:t})=>this.logException(e,t))),this._exceptionQueue=[]}instantiateAppender(){0===this._instantiationStatus&&(this._instantiationStatus=1,this._clientFactory(this._key).then((e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()})).catch((e=>{console.error(e),this._instantiationStatus=2})))}}(r,s);r&&(0===r.indexOf("AIF-")||ci.shouldUseOneDataSystemSDK(r))&&(i=!0),super(e,t,a,{release:oi.release(),platform:oi.platform(),architecture:oi.arch()},si,i)}}},75029:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=75029,e.exports=t},3437:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=3437,e.exports=t},1730:(e,t,n)=>{(()=>{var t={2881:e=>{(()=>{var t={705:e=>{e.exports=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}a=n[s]={exports:{}},t[s][0].call(a.exports,(function(e){return i(t[s][1][e]||e)}),a,a.exports,e,t,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){(function(r,i,o,s,a,c,u,l,d){"use strict";var p=e("crypto");function h(e,t){var n;return void 0===(n="passthrough"!==(t=m(e,t)).algorithm?p.createHash(t.algorithm):new b).write&&(n.write=n.update,n.end=n.update),y(t,n).dispatch(e),n.update||n.end(""),n.digest?n.digest("buffer"===t.encoding?void 0:t.encoding):(e=n.read(),"buffer"!==t.encoding?e.toString(t.encoding):e)}(n=t.exports=h).sha1=function(e){return h(e)},n.keys=function(e){return h(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return h(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return h(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var f=p.getHashes?p.getHashes().slice():["sha1","md5"],g=(f.push("passthrough"),["buffer","hex","binary","base64"]);function m(e,t){var n={};if(n.algorithm=(t=t||{}).algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var r=0;r<f.length;++r)f[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=f[r]);if(-1===f.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+f.join(", "));if(-1===g.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+g.join(", "));return n}function v(e){if("function"==typeof e)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function y(e,t,n){function r(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return this["_"+(null===(t=e.replacer?e.replacer(t):t)?"null":typeof t)](t)},_object:function(t){var i,s=Object.prototype.toString.call(t),a=/\[object (.*)\]/i.exec(s);if(a=(a=a?a[1]:"unknown:["+s+"]").toLowerCase(),0<=(s=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+s+"]");if(n.push(t),void 0!==o&&o.isBuffer&&o.isBuffer(t))return r("buffer:"),r(t);if("object"===a||"function"===a||"asyncfunction"===a)return s=Object.keys(t),e.unorderedObjects&&(s=s.sort()),!1===e.respectType||v(t)||s.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(s=s.filter((function(t){return!e.excludeKeys(t)}))),r("object:"+s.length+":"),i=this,s.forEach((function(n){i.dispatch(n),r(":"),e.excludeValues||i.dispatch(t[n]),r(",")}));if(!this["_"+a]){if(e.ignoreUnknown)return r("["+a+"]");throw new Error('Unknown object type "'+a+'"')}this["_"+a](t)},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var o=this;if(r("array:"+t.length+":"),!i||t.length<=1)return t.forEach((function(e){return o.dispatch(e)}));var s=[];return i=t.map((function(t){var r=new b,i=n.slice();return y(e,r,i).dispatch(t),s=s.concat(i.slice(n.length)),r.read().toString()})),n=n.concat(s),i.sort(),this._array(i,!1)},_date:function(e){return r("date:"+e.toJSON())},_symbol:function(e){return r("symbol:"+e.toString())},_error:function(e){return r("error:"+e.toString())},_boolean:function(e){return r("bool:"+e.toString())},_string:function(e){r("string:"+e.length+":"),r(e.toString())},_function:function(t){r("fn:"),v(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return r("number:"+e.toString())},_xml:function(e){return r("xml:"+e.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(e){return r("regex:"+e.toString())},_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return r("int8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return r("int16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return r("int32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return r("url:"+e.toString())},_map:function(t){return r("map:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_set:function(t){return r("set:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_file:function(e){return r("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_bigint:function(e){return r("bigint:"+e.toString())},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function b(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),y(t=m(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,n){(function(e,t,r,i,o,s,a,c,u){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),i="0".charCodeAt(0),o="a".charCodeAt(0),s="A".charCodeAt(0),a="-".charCodeAt(0),c="_".charCodeAt(0);function u(e){return(e=e.charCodeAt(0))===n||e===a?62:e===r||e===c?63:e<i?-1:e<i+10?e-i+26+26:e<s+26?e-s:e<o+26?e-o+26:void 0}e.toByteArray=function(e){var n,r;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.length,o=(i="="===e.charAt(i-2)?2:"="===e.charAt(i-1)?1:0,new t(3*e.length/4-i)),s=0<i?e.length-4:e.length,a=0;function c(e){o[a++]=e}for(n=0;n<s;n+=4,0)c((16711680&(r=u(e.charAt(n))<<18|u(e.charAt(n+1))<<12|u(e.charAt(n+2))<<6|u(e.charAt(n+3))))>>16),c((65280&r)>>8),c(255&r);return 2==i?c(255&(r=u(e.charAt(n))<<2|u(e.charAt(n+1))>>4)):1==i&&(c((r=u(e.charAt(n))<<10|u(e.charAt(n+1))<<4|u(e.charAt(n+2))>>2)>>8&255),c(255&r)),o},e.fromByteArray=function(e){var t,n,r,i,o=e.length%3,s="";function a(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,r=e.length-o;t<r;t+=3)s+=a((i=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+a(i>>12&63)+a(i>>6&63)+a(63&i);switch(o){case 1:s=(s+=a((n=e[e.length-1])>>2))+a(n<<4&63)+"==";break;case 2:s=(s=(s+=a((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+a(n>>4&63))+a(n<<2&63)+"="}return s}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(e,t,n){(function(t,r,i,o,s,a,c,u,l){var d=e("base64-js"),p=e("ieee754");function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var r,o,s,a,c=typeof e;if("base64"===t&&"string"==c)for(e=(a=e).trim?a.trim():a.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==c)r=I(e);else if("string"==c)r=i.byteLength(e,t);else{if("object"!=c)throw new Error("First argument needs to be a number, array or string.");r=I(e.length)}if(i._useTypedArrays?o=i._augment(new Uint8Array(r)):((o=this).length=r,o._isBuffer=!0),i._useTypedArrays&&"number"==typeof e.byteLength)o._set(e);else if(R(a=e)||i.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length)for(s=0;s<r;s++)i.isBuffer(e)?o[s]=e.readUInt8(s):o[s]=e[s];else if("string"==c)o.write(e,0,t);else if("number"==c&&!i._useTypedArrays&&!n)for(s=0;s<r;s++)o[s]=0;return o}function h(e,t,n,r){var i;if(r||(L("boolean"==typeof n,"missing or invalid endian"),L(null!=t,"missing offset"),L(t+1<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(i=e[t],t+1<r&&(i|=e[t+1]<<8)):(i=e[t]<<8,t+1<r&&(i|=e[t+1])),i}function f(e,t,n,r){var i;if(r||(L("boolean"==typeof n,"missing or invalid endian"),L(null!=t,"missing offset"),L(t+3<e.length,"Trying to read beyond buffer length")),!((r=e.length)<=t))return n?(t+2<r&&(i=e[t+2]<<16),t+1<r&&(i|=e[t+1]<<8),i|=e[t],t+3<r&&(i+=e[t+3]<<24>>>0)):(t+1<r&&(i=e[t+1]<<16),t+2<r&&(i|=e[t+2]<<8),t+3<r&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}function g(e,t,n,r){if(r||(L("boolean"==typeof n,"missing or invalid endian"),L(null!=t,"missing offset"),L(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 32768&(r=h(e,t,n,!0))?-1*(65535-r+1):r}function m(e,t,n,r){if(r||(L("boolean"==typeof n,"missing or invalid endian"),L(null!=t,"missing offset"),L(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 2147483648&(r=f(e,t,n,!0))?-1*(4294967295-r+1):r}function v(e,t,n,r){return r||(L("boolean"==typeof n,"missing or invalid endian"),L(t+3<e.length,"Trying to read beyond buffer length")),p.read(e,t,n,23,4)}function y(e,t,n,r){return r||(L("boolean"==typeof n,"missing or invalid endian"),L(t+7<e.length,"Trying to read beyond buffer length")),p.read(e,t,n,52,8)}function b(e,t,n,r,i){if(i||(L(null!=t,"missing value"),L("boolean"==typeof r,"missing or invalid endian"),L(null!=n,"missing offset"),L(n+1<e.length,"trying to write beyond buffer length"),A(t,65535)),!((i=e.length)<=n))for(var o=0,s=Math.min(i-n,2);o<s;o++)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function S(e,t,n,r,i){if(i||(L(null!=t,"missing value"),L("boolean"==typeof r,"missing or invalid endian"),L(null!=n,"missing offset"),L(n+3<e.length,"trying to write beyond buffer length"),A(t,4294967295)),!((i=e.length)<=n))for(var o=0,s=Math.min(i-n,4);o<s;o++)e[n+o]=t>>>8*(r?o:3-o)&255}function _(e,t,n,r,i){i||(L(null!=t,"missing value"),L("boolean"==typeof r,"missing or invalid endian"),L(null!=n,"missing offset"),L(n+1<e.length,"Trying to write beyond buffer length"),j(t,32767,-32768)),e.length<=n||b(e,0<=t?t:65535+t+1,n,r,i)}function E(e,t,n,r,i){i||(L(null!=t,"missing value"),L("boolean"==typeof r,"missing or invalid endian"),L(null!=n,"missing offset"),L(n+3<e.length,"Trying to write beyond buffer length"),j(t,2147483647,-2147483648)),e.length<=n||S(e,0<=t?t:4294967295+t+1,n,r,i)}function w(e,t,n,r,i){i||(L(null!=t,"missing value"),L("boolean"==typeof r,"missing or invalid endian"),L(null!=n,"missing offset"),L(n+3<e.length,"Trying to write beyond buffer length"),M(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||p.write(e,t,n,r,23,4)}function P(e,t,n,r,i){i||(L(null!=t,"missing value"),L("boolean"==typeof r,"missing or invalid endian"),L(null!=n,"missing offset"),L(n+7<e.length,"Trying to write beyond buffer length"),M(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||p.write(e,t,n,r,52,8)}n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=O(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=k(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},i.concat=function(e,t){if(L(R(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new i(0);if(1===e.length)return e[0];if("number"!=typeof t)for(o=t=0;o<e.length;o++)t+=e[o].length;for(var n=new i(t),r=0,o=0;o<e.length;o++){var s=e[o];s.copy(n,r),r+=s.length}return n},i.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(u=r,r=t,t=n,n=u),t=Number(t)||0;var o,s,a,c,u=this.length-t;switch((!n||u<(n=Number(n)))&&(n=u),r=String(r||"utf8").toLowerCase()){case"hex":o=function(e,t,n,r){n=Number(n)||0;var o=e.length-n;(!r||o<(r=Number(r)))&&(r=o),L((o=t.length)%2==0,"Invalid hex string"),o/2<r&&(r=o/2);for(var s=0;s<r;s++){var a=parseInt(t.substr(2*s,2),16);L(!isNaN(a),"Invalid hex string"),e[n+s]=a}return i._charsWritten=2*s,s}(this,e,t,n);break;case"utf8":case"utf-8":s=this,a=t,c=n,o=i._charsWritten=x(O(e),s,a,c);break;case"ascii":case"binary":o=function(e,t,n,r){return i._charsWritten=x(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}(this,e,t,n);break;case"base64":s=this,a=t,c=n,o=i._charsWritten=x(k(e),s,a,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":o=function(e,t,n,r){return i._charsWritten=x(function(e){for(var t,n,r=[],i=0;i<e.length;i++)t=(n=e.charCodeAt(i))>>8,n%=256,r.push(n),r.push(t);return r}(t),e,n,r)}(this,e,t,n);break;default:throw new Error("Unknown encoding")}return o},i.prototype.toString=function(e,t,n){var r,i,o,s,a=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):a.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;o++)i+=D(e[o]);return i}(a,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var o=t;o<n;o++)e[o]<=127?(r+=N(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return r+N(i)}(a,t,n);break;case"ascii":case"binary":r=function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}(a,t,n);break;case"base64":i=a,s=n,r=0===(o=t)&&s===i.length?d.fromByteArray(i):d.fromByteArray(i.slice(o,s));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(a,t,n);break;default:throw new Error("Unknown encoding")}return r},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(e,t,n,r){if(t=t||0,(r=r||0===r?r:this.length)!==(n=n||0)&&0!==e.length&&0!==this.length){L(n<=r,"sourceEnd < sourceStart"),L(0<=t&&t<e.length,"targetStart out of bounds"),L(0<=n&&n<this.length,"sourceStart out of bounds"),L(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length);var o=(r=e.length-t<r-n?e.length-t+n:r)-n;if(o<100||!i._useTypedArrays)for(var s=0;s<o;s++)e[s+t]=this[s+n];else e._set(this.subarray(n,n+o),t)}},i.prototype.slice=function(e,t){var n=this.length;if(e=C(e,n,0),t=C(t,n,n),i._useTypedArrays)return i._augment(this.subarray(e,t));for(var r=t-e,o=new i(r,void 0,!0),s=0;s<r;s++)o[s]=this[s+e];return o},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.readUInt8=function(e,t){if(t||(L(null!=e,"missing offset"),L(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},i.prototype.readUInt16LE=function(e,t){return h(this,e,!0,t)},i.prototype.readUInt16BE=function(e,t){return h(this,e,!1,t)},i.prototype.readUInt32LE=function(e,t){return f(this,e,!0,t)},i.prototype.readUInt32BE=function(e,t){return f(this,e,!1,t)},i.prototype.readInt8=function(e,t){if(t||(L(null!=e,"missing offset"),L(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){return g(this,e,!0,t)},i.prototype.readInt16BE=function(e,t){return g(this,e,!1,t)},i.prototype.readInt32LE=function(e,t){return m(this,e,!0,t)},i.prototype.readInt32BE=function(e,t){return m(this,e,!1,t)},i.prototype.readFloatLE=function(e,t){return v(this,e,!0,t)},i.prototype.readFloatBE=function(e,t){return v(this,e,!1,t)},i.prototype.readDoubleLE=function(e,t){return y(this,e,!0,t)},i.prototype.readDoubleBE=function(e,t){return y(this,e,!1,t)},i.prototype.writeUInt8=function(e,t,n){n||(L(null!=e,"missing value"),L(null!=t,"missing offset"),L(t<this.length,"trying to write beyond buffer length"),A(e,255)),t>=this.length||(this[t]=e)},i.prototype.writeUInt16LE=function(e,t,n){b(this,e,t,!0,n)},i.prototype.writeUInt16BE=function(e,t,n){b(this,e,t,!1,n)},i.prototype.writeUInt32LE=function(e,t,n){S(this,e,t,!0,n)},i.prototype.writeUInt32BE=function(e,t,n){S(this,e,t,!1,n)},i.prototype.writeInt8=function(e,t,n){n||(L(null!=e,"missing value"),L(null!=t,"missing offset"),L(t<this.length,"Trying to write beyond buffer length"),j(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},i.prototype.writeInt16LE=function(e,t,n){_(this,e,t,!0,n)},i.prototype.writeInt16BE=function(e,t,n){_(this,e,t,!1,n)},i.prototype.writeInt32LE=function(e,t,n){E(this,e,t,!0,n)},i.prototype.writeInt32BE=function(e,t,n){E(this,e,t,!1,n)},i.prototype.writeFloatLE=function(e,t,n){w(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){w(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){P(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){P(this,e,t,!1,n)},i.prototype.fill=function(e,t,n){if(t=t||0,n=n||this.length,L("number"==typeof(e="string"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),"value is not a number"),L(t<=n,"end < start"),n!==t&&0!==this.length){L(0<=t&&t<this.length,"start out of bounds"),L(0<=n&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},i.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=D(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(i._useTypedArrays)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var T=i.prototype;function C(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function I(e){return(e=~~Math.ceil(+e))<0?0:e}function R(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function D(e){return e<16?"0"+e.toString(16):e.toString(16)}function O(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var i=n,o=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(i,n+1)).substr(1).split("%")),s=0;s<o.length;s++)t.push(parseInt(o[s],16))}return t}function k(e){return d.toByteArray(e)}function x(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function N(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function A(e,t){L("number"==typeof e,"cannot write a non-number as a number"),L(0<=e,"specified a negative value for writing an unsigned value"),L(e<=t,"value is larger than maximum value for type"),L(Math.floor(e)===e,"value has a fractional component")}function j(e,t,n){L("number"==typeof e,"cannot write a non-number as a number"),L(e<=t,"value larger than maximum allowed value"),L(n<=e,"value smaller than minimum allowed value"),L(Math.floor(e)===e,"value has a fractional component")}function M(e,t,n){L("number"==typeof e,"cannot write a non-number as a number"),L(e<=t,"value larger than maximum allowed value"),L(n<=e,"value smaller than minimum allowed value")}function L(e,t){if(!e)throw new Error(t||"Failed assertion")}i._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=T.get,e.set=T.set,e.write=T.write,e.toString=T.toString,e.toLocaleString=T.toString,e.toJSON=T.toJSON,e.copy=T.copy,e.slice=T.slice,e.readUInt8=T.readUInt8,e.readUInt16LE=T.readUInt16LE,e.readUInt16BE=T.readUInt16BE,e.readUInt32LE=T.readUInt32LE,e.readUInt32BE=T.readUInt32BE,e.readInt8=T.readInt8,e.readInt16LE=T.readInt16LE,e.readInt16BE=T.readInt16BE,e.readInt32LE=T.readInt32LE,e.readInt32BE=T.readInt32BE,e.readFloatLE=T.readFloatLE,e.readFloatBE=T.readFloatBE,e.readDoubleLE=T.readDoubleLE,e.readDoubleBE=T.readDoubleBE,e.writeUInt8=T.writeUInt8,e.writeUInt16LE=T.writeUInt16LE,e.writeUInt16BE=T.writeUInt16BE,e.writeUInt32LE=T.writeUInt32LE,e.writeUInt32BE=T.writeUInt32BE,e.writeInt8=T.writeInt8,e.writeInt16LE=T.writeInt16LE,e.writeInt16BE=T.writeInt16BE,e.writeInt32LE=T.writeInt32LE,e.writeInt32BE=T.writeInt32BE,e.writeFloatLE=T.writeFloatLE,e.writeFloatBE=T.writeFloatBE,e.writeDoubleLE=T.writeDoubleLE,e.writeDoubleBE=T.writeDoubleBE,e.fill=T.fill,e.inspect=T.inspect,e.toArrayBuffer=T.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,n){(function(n,r,i,o,s,a,c,u,l){var d=new(i=e("buffer").Buffer)(4);d.fill(0),t.exports={hash:function(e,t,n,r){for(var o=t(function(e,t){e.length%4!=0&&(n=e.length+(4-e.length%4),e=i.concat([e,d],n));for(var n,r=[],o=t?e.readInt32BE:e.readInt32LE,s=0;s<e.length;s+=4)r.push(o.call(e,s));return r}(e=i.isBuffer(e)?e:new i(e),r),8*e.length),s=(t=r,new i(n)),a=t?s.writeInt32BE:s.writeInt32LE,c=0;c<o.length;c++)a.call(s,o[c],4*c,!0);return s}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(e,t,n){(function(t,r,i,o,s,a,c,u,l){i=e("buffer").Buffer;var d=e("./sha"),p=e("./sha256"),h=e("./rng"),f={sha1:d,sha256:p,md5:e("./md5")},g=64,m=new i(g);function v(e,t){var n=f[e=e||"sha1"],r=[];return n||y("algorithm:",e,"is not yet supported"),{update:function(e){return i.isBuffer(e)||(e=new i(e)),r.push(e),e.length,this},digest:function(e){var o=i.concat(r);return o=t?function(e,t,n){i.isBuffer(t)||(t=new i(t)),i.isBuffer(n)||(n=new i(n)),t.length>g?t=e(t):t.length<g&&(t=i.concat([t,m],g));for(var r=new i(g),o=new i(g),s=0;s<g;s++)r[s]=54^t[s],o[s]=92^t[s];return n=e(i.concat([r,n])),e(i.concat([o,n]))}(n,t,o):n(o),r=null,e?o.toString(e):o}}}function y(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}m.fill(0),n.createHash=function(e){return v(e)},n.createHmac=v,n.randomBytes=function(e,t){if(!t||!t.call)return new i(h(e));try{t.call(this,void 0,new i(h(e)))}catch(e){t(e)}};var b,S=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],_=function(e){n[e]=function(){y("sorry,",e,"is not implemented yet")}};for(b in S)_(S[b])}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,n){(function(n,r,i,o,s,a,c,u,l){var d=e("./helpers");function p(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,c=r,u=i,l=o;n=f(n,r,i,o,e[s+0],7,-680876936),o=f(o,n,r,i,e[s+1],12,-389564586),i=f(i,o,n,r,e[s+2],17,606105819),r=f(r,i,o,n,e[s+3],22,-1044525330),n=f(n,r,i,o,e[s+4],7,-176418897),o=f(o,n,r,i,e[s+5],12,1200080426),i=f(i,o,n,r,e[s+6],17,-1473231341),r=f(r,i,o,n,e[s+7],22,-45705983),n=f(n,r,i,o,e[s+8],7,1770035416),o=f(o,n,r,i,e[s+9],12,-1958414417),i=f(i,o,n,r,e[s+10],17,-42063),r=f(r,i,o,n,e[s+11],22,-1990404162),n=f(n,r,i,o,e[s+12],7,1804603682),o=f(o,n,r,i,e[s+13],12,-40341101),i=f(i,o,n,r,e[s+14],17,-1502002290),n=g(n,r=f(r,i,o,n,e[s+15],22,1236535329),i,o,e[s+1],5,-165796510),o=g(o,n,r,i,e[s+6],9,-1069501632),i=g(i,o,n,r,e[s+11],14,643717713),r=g(r,i,o,n,e[s+0],20,-373897302),n=g(n,r,i,o,e[s+5],5,-701558691),o=g(o,n,r,i,e[s+10],9,38016083),i=g(i,o,n,r,e[s+15],14,-660478335),r=g(r,i,o,n,e[s+4],20,-405537848),n=g(n,r,i,o,e[s+9],5,568446438),o=g(o,n,r,i,e[s+14],9,-1019803690),i=g(i,o,n,r,e[s+3],14,-187363961),r=g(r,i,o,n,e[s+8],20,1163531501),n=g(n,r,i,o,e[s+13],5,-1444681467),o=g(o,n,r,i,e[s+2],9,-51403784),i=g(i,o,n,r,e[s+7],14,1735328473),n=m(n,r=g(r,i,o,n,e[s+12],20,-1926607734),i,o,e[s+5],4,-378558),o=m(o,n,r,i,e[s+8],11,-2022574463),i=m(i,o,n,r,e[s+11],16,1839030562),r=m(r,i,o,n,e[s+14],23,-35309556),n=m(n,r,i,o,e[s+1],4,-1530992060),o=m(o,n,r,i,e[s+4],11,1272893353),i=m(i,o,n,r,e[s+7],16,-155497632),r=m(r,i,o,n,e[s+10],23,-1094730640),n=m(n,r,i,o,e[s+13],4,681279174),o=m(o,n,r,i,e[s+0],11,-358537222),i=m(i,o,n,r,e[s+3],16,-722521979),r=m(r,i,o,n,e[s+6],23,76029189),n=m(n,r,i,o,e[s+9],4,-640364487),o=m(o,n,r,i,e[s+12],11,-421815835),i=m(i,o,n,r,e[s+15],16,530742520),n=v(n,r=m(r,i,o,n,e[s+2],23,-995338651),i,o,e[s+0],6,-198630844),o=v(o,n,r,i,e[s+7],10,1126891415),i=v(i,o,n,r,e[s+14],15,-1416354905),r=v(r,i,o,n,e[s+5],21,-57434055),n=v(n,r,i,o,e[s+12],6,1700485571),o=v(o,n,r,i,e[s+3],10,-1894986606),i=v(i,o,n,r,e[s+10],15,-1051523),r=v(r,i,o,n,e[s+1],21,-2054922799),n=v(n,r,i,o,e[s+8],6,1873313359),o=v(o,n,r,i,e[s+15],10,-30611744),i=v(i,o,n,r,e[s+6],15,-1560198380),r=v(r,i,o,n,e[s+13],21,1309151649),n=v(n,r,i,o,e[s+4],6,-145523070),o=v(o,n,r,i,e[s+11],10,-1120210379),i=v(i,o,n,r,e[s+2],15,718787259),r=v(r,i,o,n,e[s+9],21,-343485551),n=y(n,a),r=y(r,c),i=y(i,u),o=y(o,l)}return Array(n,r,i,o)}function h(e,t,n,r,i,o){return y((t=y(y(t,e),y(r,o)))<<i|t>>>32-i,n)}function f(e,t,n,r,i,o,s){return h(t&n|~t&r,e,t,i,o,s)}function g(e,t,n,r,i,o,s){return h(t&r|n&~r,e,t,i,o,s)}function m(e,t,n,r,i,o,s){return h(t^n^r,e,t,i,o,s)}function v(e,t,n,r,i,o,s){return h(n^(t|~r),e,t,i,o,s)}function y(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return d.hash(e,p,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,n){(function(e,n,r,i,o,s,a,c,u){t.exports=function(e){for(var t,n=new Array(e),r=0;r<e;r++)0==(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(e,t,n){(function(n,r,i,o,s,a,c,u,l){var d=e("./helpers");function p(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,i,o=Array(80),s=1732584193,a=-271733879,c=-1732584194,u=271733878,l=-1009589776,d=0;d<e.length;d+=16){for(var p=s,g=a,m=c,v=u,y=l,b=0;b<80;b++){o[b]=b<16?e[d+b]:f(o[b-3]^o[b-8]^o[b-14]^o[b-16],1);var S=h(h(f(s,5),(S=a,r=c,i=u,(n=b)<20?S&r|~S&i:!(n<40)&&n<60?S&r|S&i|r&i:S^r^i)),h(h(l,o[b]),(n=b)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));l=u,u=c,c=f(a,30),a=s,s=S}s=h(s,p),a=h(a,g),c=h(c,m),u=h(u,v),l=h(l,y)}return Array(s,a,c,u,l)}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function f(e,t){return e<<t|e>>>32-t}t.exports=function(e){return d.hash(e,p,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,n){(function(n,r,i,o,s,a,c,u,l){function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function p(e,t){var n,r=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),i=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),o=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var s,a,c=0;c<e.length;c+=16){for(var u=i[0],l=i[1],p=i[2],h=i[3],m=i[4],v=i[5],y=i[6],b=i[7],S=0;S<64;S++)o[S]=S<16?e[S+c]:d(d(d((a=o[S-2],f(a,17)^f(a,19)^g(a,10)),o[S-7]),(a=o[S-15],f(a,7)^f(a,18)^g(a,3))),o[S-16]),n=d(d(d(d(b,f(a=m,6)^f(a,11)^f(a,25)),m&v^~m&y),r[S]),o[S]),s=d(f(s=u,2)^f(s,13)^f(s,22),u&l^u&p^l&p),b=y,y=v,v=m,m=d(h,n),h=p,p=l,l=u,u=d(n,s);i[0]=d(u,i[0]),i[1]=d(l,i[1]),i[2]=d(p,i[2]),i[3]=d(h,i[3]),i[4]=d(m,i[4]),i[5]=d(v,i[5]),i[6]=d(y,i[6]),i[7]=d(b,i[7])}return i}var h=e("./helpers"),f=function(e,t){return e>>>t|e<<32-t},g=function(e,t){return e>>>t};t.exports=function(e){return h.hash(e,p,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,n){(function(e,t,r,i,o,s,a,c,u){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,d=n?i-1:0,p=n?-1:1;for(i=e[t+d],d+=p,o=i&(1<<-l)-1,i>>=-l,l+=a;0<l;o=256*o+e[t+d],d+=p,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;0<l;s=256*s+e[t+d],d+=p,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(i?-1:1);s+=Math.pow(2,r),o-=u}return(i?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,c=8*o-i-1,u=(1<<c)-1,l=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1;for(o=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-s))<1&&(s--,r*=2),2<=(t+=1<=s+l?d/r:d*Math.pow(2,1-l))*r&&(s++,r/=2),u<=s+l?(a=0,s=u):1<=s+l?(a=(t*r-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));8<=i;e[n+p]=255&a,p+=h,a/=256,i-=8);for(s=s<<i|a,c+=i;0<c;e[n+p]=255&s,p+=h,s/=256,c-=8);e[n+p-h]|=128*o}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(e,t,n){(function(e,n,r,i,o,s,a,c,u){var l,d,p;function h(){}(e=t.exports={}).nextTick=(d="undefined"!=typeof window&&window.setImmediate,p="undefined"!=typeof window&&window.postMessage&&window.addEventListener,d?function(e){return window.setImmediate(e)}:p?(l=[],window.addEventListener("message",(function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<l.length&&l.shift()())}),!0),function(e){l.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=h,e.addListener=h,e.once=h,e.off=h,e.removeListener=h,e.removeAllListeners=h,e.emit=h,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)},470:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){-1===c?(r="",i=0):i=(r=r.slice(0,c)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,a):r=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s;o>=0?s=arguments[o]:(void 0===e&&(e=process.cwd()),s=e),t(s),0!==s.length&&(r=s+"/"+r,i=47===s.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,s=o-i,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var c=n.length-a,u=s<c?s:c,l=-1,d=0;d<=u;++d){if(d===u){if(c>u){if(47===n.charCodeAt(a+d))return n.slice(a+d+1);if(0===d)return n.slice(a+d)}else s>u&&(47===e.charCodeAt(i+d)?l=d:0===d&&(l=0));break}var p=e.charCodeAt(i+d);if(p!==n.charCodeAt(a+d))break;47===p&&(l=d)}var h="";for(d=i+l+1;d<=o;++d)d!==o&&47!==e.charCodeAt(d)||(0===h.length?h+="..":h+="/..");return h.length>0?h+n.slice(a+l):(a+=l,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(n=e.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,o=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,c=-1;for(r=e.length-1;r>=0;--r){var u=e.charCodeAt(r);if(47===u){if(!s){i=r+1;break}}else-1===c&&(s=!1,c=r+1),a>=0&&(u===n.charCodeAt(a)?-1==--a&&(o=r):(a=-1,o=c))}return i===o?o=c:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!s){i=r+1;break}}else-1===o&&(s=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47!==c)-1===i&&(o=!1,i=a+1),46===c?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1);else if(!o){r=a+1;break}}return-1===n||-1===i||0===s||1===s&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var s=-1,a=0,c=-1,u=!0,l=e.length-1,d=0;l>=r;--l)if(47!==(i=e.charCodeAt(l)))-1===c&&(u=!1,c=l+1),46===i?-1===s?s=l:1!==d&&(d=1):-1!==s&&(d=-1);else if(!u){a=l+1;break}return-1===s||-1===c||0===d||1===d&&s===c-1&&s===a+1?-1!==c&&(n.base=n.name=0===a&&o?e.slice(1,c):e.slice(a,c)):(0===a&&o?(n.name=e.slice(1,s),n.base=e.slice(1,c)):(n.name=e.slice(a,s),n.base=e.slice(a,c)),n.ext=e.slice(s,c)),a>0?n.dir=e.slice(0,a-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},169:(e,t,n)=>{"use strict";e.exports=n(54)},54:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.BrowserMessageWriter=t.BrowserMessageReader=void 0,n(669).default.install();const o=n(870);i(n(870),t);class s extends o.AbstractMessageReader{constructor(e){super(),this._onData=new o.Emitter,this._messageListener=e=>{this._onData.fire(e.data)},e.addEventListener("error",(e=>this.fireError(e))),e.onmessage=this._messageListener}listen(e){return this._onData.event(e)}}t.BrowserMessageReader=s;class a extends o.AbstractMessageWriter{constructor(e){super(),this.context=e,this.errorCount=0,e.addEventListener("error",(e=>this.fireError(e)))}write(e){try{return this.context.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.BrowserMessageWriter=a,t.createMessageConnection=function(e,t,n,r){return void 0===n&&(n=o.NullLogger),o.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,o.createMessageConnection)(e,t,n,r)}},669:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(147),i=n(911),o=n(135),s=n(530);class a extends s.AbstractMessageBuffer{constructor(e="utf-8"){super(e),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return a.emptyBuffer}fromString(e,t){return(new TextEncoder).encode(e)}toString(e,t){return"ascii"===t?this.asciiDecoder.decode(e):new TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e:e.slice(0,t)}allocNative(e){return new Uint8Array(e)}}a.emptyBuffer=new Uint8Array(0);class c{constructor(e){this.socket=e,this._onData=new o.Emitter,this._messageListener=e=>{e.data.arrayBuffer().then((e=>{this._onData.fire(new Uint8Array(e))}),(()=>{(0,r.default)().console.error("Converting blob to array buffer failed.")}))},this.socket.addEventListener("message",this._messageListener)}onClose(e){return this.socket.addEventListener("close",e),i.Disposable.create((()=>this.socket.removeEventListener("close",e)))}onError(e){return this.socket.addEventListener("error",e),i.Disposable.create((()=>this.socket.removeEventListener("error",e)))}onEnd(e){return this.socket.addEventListener("end",e),i.Disposable.create((()=>this.socket.removeEventListener("end",e)))}onData(e){return this._onData.event(e)}}class u{constructor(e){this.socket=e}onClose(e){return this.socket.addEventListener("close",e),i.Disposable.create((()=>this.socket.removeEventListener("close",e)))}onError(e){return this.socket.addEventListener("error",e),i.Disposable.create((()=>this.socket.removeEventListener("error",e)))}onEnd(e){return this.socket.addEventListener("end",e),i.Disposable.create((()=>this.socket.removeEventListener("end",e)))}write(e,t){if("string"==typeof e){if(void 0!==t&&"utf-8"!==t)throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t}`);this.socket.send(e)}else this.socket.send(e);return Promise.resolve()}end(){this.socket.close()}}const l=new TextEncoder,d=Object.freeze({messageBuffer:Object.freeze({create:e=>new a(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{if("utf-8"!==t.charset)throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(l.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new c(e),asWritableStream:e=>new u(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){const r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){const n=setTimeout(e,0,...t);return{dispose:()=>clearTimeout(n)}},setInterval(e,t,...n){const r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function p(){return d}!function(e){e.install=function(){r.default.install(d)}}(p||(p={})),t.default=p},870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFormat=t.TraceValues=t.Trace=t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=void 0;const r=n(839);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return r.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return r.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return r.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return r.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return r.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return r.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return r.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return r.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return r.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return r.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return r.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return r.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return r.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return r.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return r.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return r.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return r.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return r.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return r.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return r.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return r.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return r.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return r.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return r.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return r.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return r.ParameterStructures}});const i=n(184);Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return i.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return i.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return i.Touch}});const o=n(911);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return o.Disposable}});const s=n(135);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return s.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return s.Emitter}});const a=n(881);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return a.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return a.CancellationToken}});const c=n(525);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return c.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return c.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return c.ReadableStreamMessageReader}});const u=n(654);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return u.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return u.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return u.WriteableStreamMessageWriter}});const l=n(343);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return l.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return l.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return l.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return l.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return l.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return l.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return l.Trace}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return l.TraceValues}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return l.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return l.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return l.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return l.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return l.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return l.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return l.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return l.CancellationStrategy}});const d=n(147);t.RAL=d.default},881:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const r=n(147),i=n(574),o=n(135);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None}),e.is=function(t){const n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));const a=Object.freeze((function(e,t){const n=(0,r.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}));class c{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new c),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof c&&this._token.dispose():this._token=s.None}}},343:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;const r=n(147),i=n(574),o=n(839),s=n(184),a=n(135),c=n(881);var u,l,d,p,h,f,g,m,v,y,b,S,_,E,w;!function(e){e.type=new o.NotificationType("$/cancelRequest")}(u||(u={})),function(e){e.is=function(e){return"string"==typeof e||"number"==typeof e}}(l=t.ProgressToken||(t.ProgressToken={})),function(e){e.type=new o.NotificationType("$/progress")}(d||(d={})),t.ProgressType=class{constructor(){}},function(e){e.is=function(e){return i.func(e)}}(p||(p={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"}(h=t.Trace||(t.Trace={})),(w=t.TraceValues||(t.TraceValues={})).Off="off",w.Messages="messages",w.Compact="compact",w.Verbose="verbose",function(e){e.fromString=function(t){if(!i.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":default:return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}}(h=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return i.string(t)&&"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(f=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTrace")}(g=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTrace")}(m=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(v=t.ConnectionErrors||(t.ConnectionErrors={}));class P extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,P.prototype)}}t.ConnectionError=P,function(e){e.is=function(e){const t=e;return t&&i.func(t.cancelUndispatched)}}(y=t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new c.CancellationTokenSource}),e.is=function(e){const t=e;return t&&i.func(t.createCancellationTokenSource)}}(b=t.CancellationReceiverStrategy||(t.CancellationReceiverStrategy={})),function(e){e.Message=Object.freeze({sendCancellation:(e,t)=>e.sendNotification(u.type,{id:t}),cleanup(e){}}),e.is=function(e){const t=e;return t&&i.func(t.sendCancellation)&&i.func(t.cleanup)}}(S=t.CancellationSenderStrategy||(t.CancellationSenderStrategy={})),function(e){e.Message=Object.freeze({receiver:b.Message,sender:S.Message}),e.is=function(e){const t=e;return t&&b.is(t.receiver)&&S.is(t.sender)}}(_=t.CancellationStrategy||(t.CancellationStrategy={})),(t.ConnectionOptions||(t.ConnectionOptions={})).is=function(e){const t=e;return t&&(_.is(t.cancellationStrategy)||y.is(t.connectionStrategy))},function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(E||(E={})),t.createMessageConnection=function(e,n,y,b){const S=void 0!==y?y:t.NullLogger;let w=0,T=0,C=0;const I="2.0";let R;const D=new Map;let O;const k=new Map,x=new Map;let N,A,j=new s.LinkedMap,M=new Map,L=new Set,F=new Map,q=h.Off,U=f.Text,W=E.New;const V=new a.Emitter,H=new a.Emitter,$=new a.Emitter,B=new a.Emitter,G=new a.Emitter,K=b&&b.cancellationStrategy?b.cancellationStrategy:_.Message;function z(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function Y(e){}function J(){return W===E.Listening}function X(){return W===E.Closed}function Q(){return W===E.Disposed}function Z(){W!==E.New&&W!==E.Listening||(W=E.Closed,H.fire(void 0))}function ee(){N||0===j.size||(N=(0,r.default)().timer.setImmediate((()=>{N=void 0,function(){if(0===j.size)return;const e=j.shift();try{o.Message.isRequest(e)?function(e){if(Q())return;function t(t,r,i){const s={jsonrpc:I,id:e.id};t instanceof o.ResponseError?s.error=t.toJson():s.result=void 0===t?null:t,re(s,r,i),n.write(s).catch((()=>S.error("Sending response failed.")))}function r(t,r,i){const o={jsonrpc:I,id:e.id,error:t.toJson()};re(o,r,i),n.write(o).catch((()=>S.error("Sending response failed.")))}!function(e){if(q!==h.Off&&A)if(U===f.Text){let t;q!==h.Verbose&&q!==h.Compact||!e.params||(t=`Params: ${ne(e.params)}\n\n`),A.log(`Received request '${e.method} - (${e.id})'.`,t)}else oe("receive-request",e)}(e);const s=D.get(e.method);let a,c;s&&(a=s.type,c=s.handler);const u=Date.now();if(c||R){const s=e.id??String(Date.now()),l=K.receiver.createCancellationTokenSource(s);null!==e.id&&L.has(e.id)&&l.cancel(),null!==e.id&&F.set(s,l);try{let d;if(c)if(void 0===e.params){if(void 0!==a&&0!==a.numberOfParams)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines ${a.numberOfParams} params but received none.`),e.method,u);d=c(l.token)}else if(Array.isArray(e.params)){if(void 0!==a&&a.parameterStructures===o.ParameterStructures.byName)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,u);d=c(...e.params,l.token)}else{if(void 0!==a&&a.parameterStructures===o.ParameterStructures.byPosition)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,u);d=c(e.params,l.token)}else R&&(d=R(e.method,e.params,l.token));const p=d;d?p.then?p.then((n=>{F.delete(s),t(n,e.method,u)}),(t=>{F.delete(s),t instanceof o.ResponseError?r(t,e.method,u):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)})):(F.delete(s),t(d,e.method,u)):(F.delete(s),function(t,r,i){void 0===t&&(t=null);const o={jsonrpc:I,id:e.id,result:t};re(o,r,i),n.write(o).catch((()=>S.error("Sending response failed.")))}(d,e.method,u))}catch(n){F.delete(s),n instanceof o.ResponseError?t(n,e.method,u):n&&i.string(n.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${n.message}`),e.method,u):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else r(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,u)}(e):o.Message.isNotification(e)?function(e){if(Q())return;let t,n;if(e.method===u.type.method){const t=e.params.id;return L.delete(t),void ie(e)}{const r=k.get(e.method);r&&(n=r.handler,t=r.type)}if(n||O)try{if(ie(e),n)if(void 0===e.params)void 0!==t&&0!==t.numberOfParams&&t.parameterStructures!==o.ParameterStructures.byName&&S.error(`Notification ${e.method} defines ${t.numberOfParams} params but received none.`),n();else if(Array.isArray(e.params)){const r=e.params;e.method===d.type.method&&2===r.length&&l.is(r[0])?n({token:r[0],value:r[1]}):(void 0!==t&&(t.parameterStructures===o.ParameterStructures.byName&&S.error(`Notification ${e.method} defines parameters by name but received parameters by position`),t.numberOfParams!==e.params.length&&S.error(`Notification ${e.method} defines ${t.numberOfParams} params but received ${r.length} arguments`)),n(...r))}else void 0!==t&&t.parameterStructures===o.ParameterStructures.byPosition&&S.error(`Notification ${e.method} defines parameters by position but received parameters by name`),n(e.params);else O&&O(e.method,e.params)}catch(t){t.message?S.error(`Notification handler '${e.method}' failed with message: ${t.message}`):S.error(`Notification handler '${e.method}' failed unexpectedly.`)}else $.fire(e)}(e):o.Message.isResponse(e)?function(e){if(!Q())if(null===e.id)e.error?S.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):S.error("Received response message without id. No further error information provided.");else{const t=e.id,n=M.get(t);if(function(e,t){if(q!==h.Off&&A)if(U===f.Text){let n;if(q!==h.Verbose&&q!==h.Compact||(e.error&&e.error.data?n=`Error data: ${ne(e.error.data)}\n\n`:e.result?n=`Result: ${ne(e.result)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";A.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else A.log(`Received response ${e.id} without active response promise.`,n)}else oe("receive-response",e)}(e,n),void 0!==n){M.delete(t);try{if(e.error){const t=e.error;n.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?S.error(`Response handler '${n.method}' failed with message: ${e.message}`):S.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void S.error("Received empty message.");S.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);const t=e;if(i.string(t.id)||i.number(t.id)){const e=t.id,n=M.get(e);n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{ee()}}()})))}e.onClose(Z),e.onError((function(e){V.fire([e,void 0,void 0])})),n.onClose(Z),n.onError((function(e){V.fire(e)}));const te=e=>{try{if(o.Message.isNotification(e)&&e.method===u.type.method){const t=e.params.id,r=z(t),i=j.get(r);if(o.Message.isRequest(i)){const o=b?.connectionStrategy,s=o&&o.cancelUndispatched?o.cancelUndispatched(i,Y):void 0;if(s&&(void 0!==s.error||void 0!==s.result))return j.delete(r),F.delete(t),s.id=i.id,re(s,e.method,Date.now()),void n.write(s).catch((()=>S.error("Sending response for canceled message failed.")))}const s=F.get(t);if(void 0!==s)return s.cancel(),void ie(e);L.add(t)}!function(e,t){var n;o.Message.isRequest(t)?e.set(z(t.id),t):o.Message.isResponse(t)?e.set(null===(n=t.id)?"res-unknown-"+(++C).toString():"res-"+n.toString(),t):e.set("not-"+(++T).toString(),t)}(j,e)}finally{ee()}};function ne(e){if(null!=e)switch(q){case h.Verbose:return JSON.stringify(e,null,4);case h.Compact:return JSON.stringify(e);default:return}}function re(e,t,n){if(q!==h.Off&&A)if(U===f.Text){let r;q!==h.Verbose&&q!==h.Compact||(e.error&&e.error.data?r=`Error data: ${ne(e.error.data)}\n\n`:e.result?r=`Result: ${ne(e.result)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),A.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else oe("send-response",e)}function ie(e){if(q!==h.Off&&A&&e.method!==m.type.method)if(U===f.Text){let t;q!==h.Verbose&&q!==h.Compact||(t=e.params?`Params: ${ne(e.params)}\n\n`:"No parameters provided.\n\n"),A.log(`Received notification '${e.method}'.`,t)}else oe("receive-notification",e)}function oe(e,t){if(!A||q===h.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};A.log(n)}function se(){if(X())throw new P(v.Closed,"Connection is closed.");if(Q())throw new P(v.Disposed,"Connection is disposed.")}function ae(e){return void 0===e?null:e}function ce(e){return null===e?void 0:e}function ue(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function le(e,t){switch(e){case o.ParameterStructures.auto:return ue(t)?ce(t):[ae(t)];case o.ParameterStructures.byName:if(!ue(t))throw new Error("Received parameters by name but param is not an object literal.");return ce(t);case o.ParameterStructures.byPosition:return[ae(t)];default:throw new Error(`Unknown parameter structure ${e.toString()}`)}}function de(e,t){let n;const r=e.numberOfParams;switch(r){case 0:n=void 0;break;case 1:n=le(e.parameterStructures,t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(ae(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}const pe={sendNotification:(e,...t)=>{let r,s;if(se(),i.string(e)){r=e;const n=t[0];let i=0,a=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(i=1,a=n);let c=t.length;const u=c-i;switch(u){case 0:s=void 0;break;case 1:s=le(a,t[i]);break;default:if(a===o.ParameterStructures.byName)throw new Error(`Received ${u} parameters for 'by Name' notification parameter structure.`);s=t.slice(i,c).map((e=>ae(e)))}}else{const n=t;r=e.method,s=de(e,n)}const a={jsonrpc:I,method:r,params:s};return function(e){if(q!==h.Off&&A)if(U===f.Text){let t;q!==h.Verbose&&q!==h.Compact||(t=e.params?`Params: ${ne(e.params)}\n\n`:"No parameters provided.\n\n"),A.log(`Sending notification '${e.method}'.`,t)}else oe("send-notification",e)}(a),n.write(a).catch((()=>S.error("Sending notification failed.")))},onNotification:(e,t)=>{let n;return se(),i.func(e)?O=e:t&&(i.string(e)?(n=e,k.set(e,{type:void 0,handler:t})):(n=e.method,k.set(e.method,{type:e,handler:t}))),{dispose:()=>{void 0!==n?k.delete(n):O=void 0}}},onProgress:(e,t,n)=>{if(x.has(t))throw new Error(`Progress handler for token ${t} already registered`);return x.set(t,n),{dispose:()=>{x.delete(t)}}},sendProgress:(e,t,n)=>pe.sendNotification(d.type,{token:t,value:n}),onUnhandledProgress:B.event,sendRequest:(e,...t)=>{let r,s,a;if(se(),function(){if(!J())throw new Error("Call listen() first.")}(),i.string(e)){r=e;const n=t[0],i=t[t.length-1];let u=0,l=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(u=1,l=n);let d=t.length;c.CancellationToken.is(i)&&(d-=1,a=i);const p=d-u;switch(p){case 0:s=void 0;break;case 1:s=le(l,t[u]);break;default:if(l===o.ParameterStructures.byName)throw new Error(`Received ${p} parameters for 'by Name' request parameter structure.`);s=t.slice(u,d).map((e=>ae(e)))}}else{const n=t;r=e.method,s=de(e,n);const i=e.numberOfParams;a=c.CancellationToken.is(n[i])?n[i]:void 0}const u=w++;let l;return a&&(l=a.onCancellationRequested((()=>{const e=K.sender.sendCancellation(pe,u);return void 0===e?(S.log(`Received no promise from cancellation strategy when cancelling id ${u}`),Promise.resolve()):e.catch((()=>{S.log(`Sending cancellation messages for id ${u} failed`)}))}))),new Promise(((e,t)=>{const i={jsonrpc:I,id:u,method:r,params:s};let a={method:r,timerStart:Date.now(),resolve:t=>{e(t),K.sender.cleanup(u),l?.dispose()},reject:e=>{t(e),K.sender.cleanup(u),l?.dispose()}};!function(e){if(q!==h.Off&&A)if(U===f.Text){let t;q!==h.Verbose&&q!==h.Compact||!e.params||(t=`Params: ${ne(e.params)}\n\n`),A.log(`Sending request '${e.method} - (${e.id})'.`,t)}else oe("send-request",e)}(i);try{n.write(i).catch((()=>S.error("Sending request failed.")))}catch(e){a.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),a=null}a&&M.set(u,a)}))},onRequest:(e,t)=>{se();let n=null;return p.is(e)?(n=void 0,R=e):i.string(e)?(n=null,void 0!==t&&(n=e,D.set(e,{handler:t,type:void 0}))):void 0!==t&&(n=e.method,D.set(e.method,{type:e,handler:t})),{dispose:()=>{null!==n&&(void 0!==n?D.delete(n):R=void 0)}}},hasPendingResponse:()=>M.size>0,trace:async(e,t,n)=>{let r=!1,o=f.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,o=n.traceFormat||f.Text)),q=e,U=o,A=q===h.Off?void 0:t,!r||X()||Q()||await pe.sendNotification(g.type,{value:h.toString(e)})},onError:V.event,onClose:H.event,onUnhandledNotification:$.event,onDispose:G.event,end:()=>{n.end()},dispose:()=>{if(Q())return;W=E.Disposed,G.fire(void 0);const t=new o.ResponseError(o.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const e of M.values())e.reject(t);M=new Map,F=new Map,L=new Set,j=new s.LinkedMap,i.func(n.dispose)&&n.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{se(),function(){if(J())throw new P(v.AlreadyListening,"Connection is already listening")}(),W=E.Listening,e.listen(te)},inspect:()=>{(0,r.default)().console.log("inspect")}};return pe.onNotification(m.type,(e=>{if(q===h.Off||!A)return;const t=q===h.Verbose||q===h.Compact;A.log(e.message,t?e.verbose:void 0)})),pe.onNotification(d.type,(e=>{const t=x.get(e.token);t?t(e.value):B.fire(e)})),pe}},911:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,(t.Disposable||(t.Disposable={})).create=function(e){return{dispose:e}}},135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const r=n(147);!function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class i{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(e){(0,r.default)().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class o{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new i),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),r.dispose=o._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=o,o._noop=function(){}},574:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))}},184:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(r=t.Touch||(t.Touch={}));class i{constructor(){this[n]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=r.None){const n=this._map.get(e);if(n)return t!==r.None&&this.touch(n,t),n.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.key,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.value,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:[t.key,t.value],done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}[(n=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}t.LinkedMap=i,t.LRUCache=class extends i{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=r.AsNew){return super.get(e,t)}peek(e){return super.get(e,r.None)}set(e,t){return super.set(e,t,r.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},530:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0,t.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let e=0,t=0,n=0,r=0;e:for(;t<this._chunks.length;){const i=this._chunks[t];for(n=0;n<i.length;){switch(i[n]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}r+=i.byteLength,t++}if(4!==e)return;const i=this._read(r+n),o=new Map,s=this.toString(i,"ascii").split("\r\n");if(s.length<2)return o;for(let e=0;e<s.length-2;e++){const t=s[e],n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");const r=t.substr(0,n),i=t.substr(n+1).trim();o.set(r,i)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],n=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,n}const t=this.allocNative(e);let n=0;for(;e>0;){const r=this._chunks[0];if(r.byteLength>e){const i=r.slice(0,e);t.set(i,n),n+=e,this._chunks[0]=r.slice(e),this._totalLength-=e,e-=e}else t.set(r,n),n+=r.byteLength,this._chunks.shift(),this._totalLength-=r.byteLength,e-=r.byteLength}return t}}},525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const r=n(147),i=n(574),o=n(135);var s;(t.MessageReader||(t.MessageReader={})).is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)};class a{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter,this.partialMessageEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=a,function(e){e.fromOptions=function(e){let t,n;const i=new Map;let o;const s=new Map;if(void 0===e||"string"==typeof e)t=e??"utf-8";else{if(t=e.charset??"utf-8",void 0!==e.contentDecoder&&(n=e.contentDecoder,i.set(n.name,n)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)i.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(o=e.contentTypeDecoder,s.set(o.name,o)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)s.set(t.name,t)}return void 0===o&&(o=(0,r.default)().applicationJson.decoder,s.set(o.name,o)),{charset:t,contentDecoder:n,contentDecoders:i,contentTypeDecoder:o,contentTypeDecoders:s}}}(s||(s={})),t.ReadableStreamMessageReader=class extends a{constructor(e,t){super(),this.readable=e,this.options=s.fromOptions(t),this.buffer=(0,r.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData((e=>{this.onData(e)}));return this.readable.onError((e=>this.fireError(e))),this.readable.onClose((()=>this.fireClose())),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then((e=>{this.options.contentTypeDecoder.decode(e,this.options).then((e=>{this.callback(e)}),(e=>{this.fireError(e)}))}),(e=>{this.fireError(e)}))}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=(0,r.default)().timer.setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const r=n(147),i=n(574),o=n(142),s=n(135);var a;(t.MessageWriter||(t.MessageWriter={})).is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)};class c{constructor(){this.errorEmitter=new s.Emitter,this.closeEmitter=new s.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=c,function(e){e.fromOptions=function(e){return void 0===e||"string"==typeof e?{charset:e??"utf-8",contentTypeEncoder:(0,r.default)().applicationJson.encoder}:{charset:e.charset??"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:e.contentTypeEncoder??(0,r.default)().applicationJson.encoder}}}(a||(a={})),t.WriteableStreamMessageWriter=class extends c{constructor(e,t){super(),this.writable=e,this.options=a.fromOptions(t),this.errorCount=0,this.writeSemaphore=new o.Semaphore(1),this.writable.onError((e=>this.fireError(e))),this.writable.onClose((()=>this.fireClose()))}async write(e){return this.writeSemaphore.lock((async()=>this.options.contentTypeEncoder.encode(e,this.options).then((e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e)).then((t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)}),(e=>{throw this.fireError(e),e}))))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const r=n(574);var i,o;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3}(i=t.ErrorCodes||(t.ErrorCodes={}));class s extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,s.prototype)}toJson(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),e}}t.ResponseError=s;class a{constructor(e){this.kind=e}static is(e){return e===a.auto||e===a.byName||e===a.byPosition}toString(){return this.kind}}t.ParameterStructures=a,a.auto=new a("auto"),a.byPosition=new a("byPosition"),a.byName=new a("byName");class c{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return a.auto}}t.AbstractMessageSignature=c,t.RequestType0=class extends c{constructor(e){super(e,0)}},t.RequestType=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType1=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType2=class extends c{constructor(e){super(e,2)}},t.RequestType3=class extends c{constructor(e){super(e,3)}},t.RequestType4=class extends c{constructor(e){super(e,4)}},t.RequestType5=class extends c{constructor(e){super(e,5)}},t.RequestType6=class extends c{constructor(e){super(e,6)}},t.RequestType7=class extends c{constructor(e){super(e,7)}},t.RequestType8=class extends c{constructor(e){super(e,8)}},t.RequestType9=class extends c{constructor(e){super(e,9)}},t.NotificationType=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType0=class extends c{constructor(e){super(e,0)}},t.NotificationType1=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType2=class extends c{constructor(e){super(e,2)}},t.NotificationType3=class extends c{constructor(e){super(e,3)}},t.NotificationType4=class extends c{constructor(e){super(e,4)}},t.NotificationType5=class extends c{constructor(e){super(e,5)}},t.NotificationType6=class extends c{constructor(e){super(e,6)}},t.NotificationType7=class extends c{constructor(e){super(e,7)}},t.NotificationType8=class extends c{constructor(e){super(e,8)}},t.NotificationType9=class extends c{constructor(e){super(e,9)}},(o=t.Message||(t.Message={})).isRequest=function(e){const t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},o.isNotification=function(e){const t=e;return t&&r.string(t.method)&&void 0===e.id},o.isResponse=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},147:(e,t)=>{"use strict";let n;function r(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(r||(r={})),t.default=r},142:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const r=n(147);t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,r.default)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},152:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const o=n(169);i(n(169),t),i(n(661),t),t.createProtocolConnection=function(e,t,n,r){return(0,o.createMessageConnection)(e,t,n,r)}},661:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,i(n(54),t),i(n(674),t),i(n(140),t),i(n(542),t);var o,s=n(767);Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return s.createProtocolConnection}}),(o=t.LSPErrorCodes||(t.LSPErrorCodes={})).lspReservedErrorRangeStart=-32899,o.RequestFailed=-32803,o.ServerCancelled=-32802,o.ContentModified=-32801,o.RequestCancelled=-32800,o.lspReservedErrorRangeEnd=-32800},767:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const r=n(54);t.createProtocolConnection=function(e,t,n,i){return r.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,r.createMessageConnection)(e,t,n,i)}},140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolNotificationType=t.ProtocolNotificationType0=t.ProtocolRequestType=t.ProtocolRequestType0=t.RegistrationType=void 0;const r=n(54);t.RegistrationType=class{constructor(e){this.method=e}};class i extends r.RequestType0{constructor(e){super(e)}}t.ProtocolRequestType0=i;class o extends r.RequestType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolRequestType=o;class s extends r.NotificationType0{constructor(e){super(e)}}t.ProtocolNotificationType0=s;class a extends r.NotificationType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolNotificationType=a},918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.CallHierarchyPrepareRequest=void 0;const r=n(140);var i,o,s;(s=t.CallHierarchyPrepareRequest||(t.CallHierarchyPrepareRequest={})).method="textDocument/prepareCallHierarchy",s.type=new r.ProtocolRequestType(s.method),(o=t.CallHierarchyIncomingCallsRequest||(t.CallHierarchyIncomingCallsRequest={})).method="callHierarchy/incomingCalls",o.type=new r.ProtocolRequestType(o.method),(i=t.CallHierarchyOutgoingCallsRequest||(t.CallHierarchyOutgoingCallsRequest={})).method="callHierarchy/outgoingCalls",i.type=new r.ProtocolRequestType(i.method)},891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPresentationRequest=t.DocumentColorRequest=void 0;const r=n(140);var i;(i=t.DocumentColorRequest||(t.DocumentColorRequest={})).method="textDocument/documentColor",i.type=new r.ProtocolRequestType(i.method),(t.ColorPresentationRequest||(t.ColorPresentationRequest={})).type=new r.ProtocolRequestType("textDocument/colorPresentation")},934:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationRequest=void 0;const r=n(140);(t.ConfigurationRequest||(t.ConfigurationRequest={})).type=new r.ProtocolRequestType("workspace/configuration")},764:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationRequest=void 0;const r=n(140);var i;(i=t.DeclarationRequest||(t.DeclarationRequest={})).method="textDocument/declaration",i.type=new r.ProtocolRequestType(i.method)},824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=void 0;const r=n(54),i=n(533),o=n(140);var s,a,c,u;(t.DiagnosticServerCancellationData||(t.DiagnosticServerCancellationData={})).is=function(e){const t=e;return t&&i.boolean(t.retriggerRequest)},(u=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={})).Full="full",u.Unchanged="unchanged",(c=t.DocumentDiagnosticRequest||(t.DocumentDiagnosticRequest={})).method="textDocument/diagnostic",c.type=new o.ProtocolRequestType(c.method),c.partialResult=new r.ProgressType,(a=t.WorkspaceDiagnosticRequest||(t.WorkspaceDiagnosticRequest={})).method="workspace/diagnostic",a.type=new o.ProtocolRequestType(a.method),a.partialResult=new r.ProgressType,(s=t.DiagnosticRefreshRequest||(t.DiagnosticRefreshRequest={})).method="workspace/diagnostic/refresh",s.type=new o.ProtocolRequestType0(s.method)},846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.DidRenameFilesNotification=t.WillRenameFilesRequest=t.DidCreateFilesNotification=t.WillCreateFilesRequest=t.FileOperationPatternKind=void 0;const r=n(140);var i,o,s,a,c,u,l;(l=t.FileOperationPatternKind||(t.FileOperationPatternKind={})).file="file",l.folder="folder",(u=t.WillCreateFilesRequest||(t.WillCreateFilesRequest={})).method="workspace/willCreateFiles",u.type=new r.ProtocolRequestType(u.method),(c=t.DidCreateFilesNotification||(t.DidCreateFilesNotification={})).method="workspace/didCreateFiles",c.type=new r.ProtocolNotificationType(c.method),(a=t.WillRenameFilesRequest||(t.WillRenameFilesRequest={})).method="workspace/willRenameFiles",a.type=new r.ProtocolRequestType(a.method),(s=t.DidRenameFilesNotification||(t.DidRenameFilesNotification={})).method="workspace/didRenameFiles",s.type=new r.ProtocolNotificationType(s.method),(o=t.DidDeleteFilesNotification||(t.DidDeleteFilesNotification={})).method="workspace/didDeleteFiles",o.type=new r.ProtocolNotificationType(o.method),(i=t.WillDeleteFilesRequest||(t.WillDeleteFilesRequest={})).method="workspace/willDeleteFiles",i.type=new r.ProtocolRequestType(i.method)},394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeRequest=void 0;const r=n(140);var i;(i=t.FoldingRangeRequest||(t.FoldingRangeRequest={})).method="textDocument/foldingRange",i.type=new r.ProtocolRequestType(i.method)},122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationRequest=void 0;const r=n(140);var i;(i=t.ImplementationRequest||(t.ImplementationRequest={})).method="textDocument/implementation",i.type=new r.ProtocolRequestType(i.method)},999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=void 0;const r=n(140);var i,o,s;(s=t.InlayHintRequest||(t.InlayHintRequest={})).method="textDocument/inlayHint",s.type=new r.ProtocolRequestType(s.method),(o=t.InlayHintResolveRequest||(t.InlayHintResolveRequest={})).method="inlayHint/resolve",o.type=new r.ProtocolRequestType(o.method),(i=t.InlayHintRefreshRequest||(t.InlayHintRefreshRequest={})).method="workspace/inlayHint/refresh",i.type=new r.ProtocolRequestType0(i.method)},246:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueRefreshRequest=t.InlineValueRequest=void 0;const r=n(140);var i,o;(o=t.InlineValueRequest||(t.InlineValueRequest={})).method="textDocument/inlineValue",o.type=new r.ProtocolRequestType(o.method),(i=t.InlineValueRefreshRequest||(t.InlineValueRefreshRequest={})).method="workspace/inlineValue/refresh",i.type=new r.ProtocolRequestType0(i.method)},542:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.RelativePattern=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeErrorCodes=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.PositionEncodingKind=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.NotebookCellTextDocumentFilter=t.NotebookDocumentFilter=t.TextDocumentFilter=void 0,t.TypeHierarchySubtypesRequest=t.TypeHierarchyPrepareRequest=t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolResolveRequest=void 0,t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=t.InlineValueRefreshRequest=t.InlineValueRequest=t.TypeHierarchySupertypesRequest=void 0;const r=n(140),i=n(674),o=n(533),s=n(122);Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return s.ImplementationRequest}});const a=n(589);Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return a.TypeDefinitionRequest}});const c=n(744);Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return c.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return c.DidChangeWorkspaceFoldersNotification}});const u=n(934);Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return u.ConfigurationRequest}});const l=n(891);Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return l.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return l.ColorPresentationRequest}});const d=n(394);Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return d.FoldingRangeRequest}});const p=n(764);Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return p.DeclarationRequest}});const h=n(206);Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return h.SelectionRangeRequest}});const f=n(862);Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return f.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return f.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return f.WorkDoneProgressCancelNotification}});const g=n(918);Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return g.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return g.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return g.CallHierarchyPrepareRequest}});const m=n(434);Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return m.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return m.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return m.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return m.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return m.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return m.SemanticTokensRegistrationType}});const v=n(726);Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return v.ShowDocumentRequest}});const y=n(305);Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return y.LinkedEditingRangeRequest}});const b=n(846);Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return b.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return b.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return b.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return b.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return b.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return b.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return b.WillDeleteFilesRequest}});const S=n(443);Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return S.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return S.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return S.MonikerRequest}});const _=n(693);Object.defineProperty(t,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return _.TypeHierarchyPrepareRequest}}),Object.defineProperty(t,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return _.TypeHierarchySubtypesRequest}}),Object.defineProperty(t,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return _.TypeHierarchySupertypesRequest}});const E=n(246);Object.defineProperty(t,"InlineValueRequest",{enumerable:!0,get:function(){return E.InlineValueRequest}}),Object.defineProperty(t,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return E.InlineValueRefreshRequest}});const w=n(999);Object.defineProperty(t,"InlayHintRequest",{enumerable:!0,get:function(){return w.InlayHintRequest}}),Object.defineProperty(t,"InlayHintResolveRequest",{enumerable:!0,get:function(){return w.InlayHintResolveRequest}}),Object.defineProperty(t,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return w.InlayHintRefreshRequest}});const P=n(824);Object.defineProperty(t,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return P.DiagnosticServerCancellationData}}),Object.defineProperty(t,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return P.DocumentDiagnosticReportKind}}),Object.defineProperty(t,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return P.DocumentDiagnosticRequest}}),Object.defineProperty(t,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return P.WorkspaceDiagnosticRequest}}),Object.defineProperty(t,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return P.DiagnosticRefreshRequest}});const T=n(182);var C,I,R,D,O,k,x,N,A,j,M,L,F,q,U,W,V,H,$,B,G,K,z,Y,J,X,Q,Z,ee,te,ne,re,ie,oe,se,ae,ce,ue,le,de,pe,he,fe,ge;Object.defineProperty(t,"NotebookCellKind",{enumerable:!0,get:function(){return T.NotebookCellKind}}),Object.defineProperty(t,"ExecutionSummary",{enumerable:!0,get:function(){return T.ExecutionSummary}}),Object.defineProperty(t,"NotebookCell",{enumerable:!0,get:function(){return T.NotebookCell}}),Object.defineProperty(t,"NotebookDocument",{enumerable:!0,get:function(){return T.NotebookDocument}}),Object.defineProperty(t,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return T.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(t,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return T.DidOpenNotebookDocumentNotification}}),Object.defineProperty(t,"NotebookCellArrayChange",{enumerable:!0,get:function(){return T.NotebookCellArrayChange}}),Object.defineProperty(t,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return T.DidChangeNotebookDocumentNotification}}),Object.defineProperty(t,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return T.DidSaveNotebookDocumentNotification}}),Object.defineProperty(t,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return T.DidCloseNotebookDocumentNotification}}),function(e){e.is=function(e){const t=e;return o.string(t.language)||o.string(t.scheme)||o.string(t.pattern)}}(C=t.TextDocumentFilter||(t.TextDocumentFilter={})),function(e){e.is=function(e){const t=e;return o.objectLiteral(t)&&(o.string(t.notebookType)||o.string(t.scheme)||o.string(t.pattern))}}(I=t.NotebookDocumentFilter||(t.NotebookDocumentFilter={})),function(e){e.is=function(e){const t=e;return o.objectLiteral(t)&&(o.string(t.notebook)||I.is(t.notebook))&&(void 0===t.language||o.string(t.language))}}(R=t.NotebookCellTextDocumentFilter||(t.NotebookCellTextDocumentFilter={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;for(let t of e)if(!o.string(t)&&!C.is(t)&&!R.is(t))return!1;return!0}}(D=t.DocumentSelector||(t.DocumentSelector={})),(t.RegistrationRequest||(t.RegistrationRequest={})).type=new r.ProtocolRequestType("client/registerCapability"),(t.UnregistrationRequest||(t.UnregistrationRequest={})).type=new r.ProtocolRequestType("client/unregisterCapability"),(ge=t.ResourceOperationKind||(t.ResourceOperationKind={})).Create="create",ge.Rename="rename",ge.Delete="delete",(fe=t.FailureHandlingKind||(t.FailureHandlingKind={})).Abort="abort",fe.Transactional="transactional",fe.TextOnlyTransactional="textOnlyTransactional",fe.Undo="undo",(he=t.PositionEncodingKind||(t.PositionEncodingKind={})).UTF8="utf-8",he.UTF16="utf-16",he.UTF32="utf-32",(t.StaticRegistrationOptions||(t.StaticRegistrationOptions={})).hasId=function(e){const t=e;return t&&o.string(t.id)&&t.id.length>0},(t.TextDocumentRegistrationOptions||(t.TextDocumentRegistrationOptions={})).is=function(e){const t=e;return t&&(null===t.documentSelector||D.is(t.documentSelector))},(pe=t.WorkDoneProgressOptions||(t.WorkDoneProgressOptions={})).is=function(e){const t=e;return o.objectLiteral(t)&&(void 0===t.workDoneProgress||o.boolean(t.workDoneProgress))},pe.hasWorkDoneProgress=function(e){const t=e;return t&&o.boolean(t.workDoneProgress)},(t.InitializeRequest||(t.InitializeRequest={})).type=new r.ProtocolRequestType("initialize"),(t.InitializeErrorCodes||(t.InitializeErrorCodes={})).unknownProtocolVersion=1,(t.InitializedNotification||(t.InitializedNotification={})).type=new r.ProtocolNotificationType("initialized"),(t.ShutdownRequest||(t.ShutdownRequest={})).type=new r.ProtocolRequestType0("shutdown"),(t.ExitNotification||(t.ExitNotification={})).type=new r.ProtocolNotificationType0("exit"),(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})).type=new r.ProtocolNotificationType("workspace/didChangeConfiguration"),(de=t.MessageType||(t.MessageType={})).Error=1,de.Warning=2,de.Info=3,de.Log=4,(t.ShowMessageNotification||(t.ShowMessageNotification={})).type=new r.ProtocolNotificationType("window/showMessage"),(t.ShowMessageRequest||(t.ShowMessageRequest={})).type=new r.ProtocolRequestType("window/showMessageRequest"),(t.LogMessageNotification||(t.LogMessageNotification={})).type=new r.ProtocolNotificationType("window/logMessage"),(t.TelemetryEventNotification||(t.TelemetryEventNotification={})).type=new r.ProtocolNotificationType("telemetry/event"),(le=t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})).None=0,le.Full=1,le.Incremental=2,(ue=t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})).method="textDocument/didOpen",ue.type=new r.ProtocolNotificationType(ue.method),(ce=t.TextDocumentContentChangeEvent||(t.TextDocumentContentChangeEvent={})).isIncremental=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},ce.isFull=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength},(ae=t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})).method="textDocument/didChange",ae.type=new r.ProtocolNotificationType(ae.method),(se=t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})).method="textDocument/didClose",se.type=new r.ProtocolNotificationType(se.method),(oe=t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})).method="textDocument/didSave",oe.type=new r.ProtocolNotificationType(oe.method),(ie=t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})).Manual=1,ie.AfterDelay=2,ie.FocusOut=3,(re=t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})).method="textDocument/willSave",re.type=new r.ProtocolNotificationType(re.method),(ne=t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})).method="textDocument/willSaveWaitUntil",ne.type=new r.ProtocolRequestType(ne.method),(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})).type=new r.ProtocolNotificationType("workspace/didChangeWatchedFiles"),(te=t.FileChangeType||(t.FileChangeType={})).Created=1,te.Changed=2,te.Deleted=3,(t.RelativePattern||(t.RelativePattern={})).is=function(e){const t=e;return o.objectLiteral(t)&&(i.URI.is(t.baseUri)||i.WorkspaceFolder.is(t.baseUri))&&o.string(t.pattern)},(ee=t.WatchKind||(t.WatchKind={})).Create=1,ee.Change=2,ee.Delete=4,(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})).type=new r.ProtocolNotificationType("textDocument/publishDiagnostics"),(Z=t.CompletionTriggerKind||(t.CompletionTriggerKind={})).Invoked=1,Z.TriggerCharacter=2,Z.TriggerForIncompleteCompletions=3,(Q=t.CompletionRequest||(t.CompletionRequest={})).method="textDocument/completion",Q.type=new r.ProtocolRequestType(Q.method),(X=t.CompletionResolveRequest||(t.CompletionResolveRequest={})).method="completionItem/resolve",X.type=new r.ProtocolRequestType(X.method),(J=t.HoverRequest||(t.HoverRequest={})).method="textDocument/hover",J.type=new r.ProtocolRequestType(J.method),(Y=t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={})).Invoked=1,Y.TriggerCharacter=2,Y.ContentChange=3,(z=t.SignatureHelpRequest||(t.SignatureHelpRequest={})).method="textDocument/signatureHelp",z.type=new r.ProtocolRequestType(z.method),(K=t.DefinitionRequest||(t.DefinitionRequest={})).method="textDocument/definition",K.type=new r.ProtocolRequestType(K.method),(G=t.ReferencesRequest||(t.ReferencesRequest={})).method="textDocument/references",G.type=new r.ProtocolRequestType(G.method),(B=t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})).method="textDocument/documentHighlight",B.type=new r.ProtocolRequestType(B.method),($=t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})).method="textDocument/documentSymbol",$.type=new r.ProtocolRequestType($.method),(H=t.CodeActionRequest||(t.CodeActionRequest={})).method="textDocument/codeAction",H.type=new r.ProtocolRequestType(H.method),(V=t.CodeActionResolveRequest||(t.CodeActionResolveRequest={})).method="codeAction/resolve",V.type=new r.ProtocolRequestType(V.method),(W=t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})).method="workspace/symbol",W.type=new r.ProtocolRequestType(W.method),(U=t.WorkspaceSymbolResolveRequest||(t.WorkspaceSymbolResolveRequest={})).method="workspaceSymbol/resolve",U.type=new r.ProtocolRequestType(U.method),(q=t.CodeLensRequest||(t.CodeLensRequest={})).method="textDocument/codeLens",q.type=new r.ProtocolRequestType(q.method),(F=t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})).method="codeLens/resolve",F.type=new r.ProtocolRequestType(F.method),(L=t.CodeLensRefreshRequest||(t.CodeLensRefreshRequest={})).method="workspace/codeLens/refresh",L.type=new r.ProtocolRequestType0(L.method),(M=t.DocumentLinkRequest||(t.DocumentLinkRequest={})).method="textDocument/documentLink",M.type=new r.ProtocolRequestType(M.method),(j=t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})).method="documentLink/resolve",j.type=new r.ProtocolRequestType(j.method),(A=t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})).method="textDocument/formatting",A.type=new r.ProtocolRequestType(A.method),(N=t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})).method="textDocument/rangeFormatting",N.type=new r.ProtocolRequestType(N.method),(x=t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})).method="textDocument/onTypeFormatting",x.type=new r.ProtocolRequestType(x.method),(t.PrepareSupportDefaultBehavior||(t.PrepareSupportDefaultBehavior={})).Identifier=1,(k=t.RenameRequest||(t.RenameRequest={})).method="textDocument/rename",k.type=new r.ProtocolRequestType(k.method),(O=t.PrepareRenameRequest||(t.PrepareRenameRequest={})).method="textDocument/prepareRename",O.type=new r.ProtocolRequestType(O.method),(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})).type=new r.ProtocolRequestType("workspace/executeCommand"),(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={})).type=new r.ProtocolRequestType("workspace/applyEdit")},305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeRequest=void 0;const r=n(140);var i;(i=t.LinkedEditingRangeRequest||(t.LinkedEditingRangeRequest={})).method="textDocument/linkedEditingRange",i.type=new r.ProtocolRequestType(i.method)},443:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=void 0;const r=n(140);var i,o,s;(s=t.UniquenessLevel||(t.UniquenessLevel={})).document="document",s.project="project",s.group="group",s.scheme="scheme",s.global="global",(o=t.MonikerKind||(t.MonikerKind={})).$import="import",o.$export="export",o.local="local",(i=t.MonikerRequest||(t.MonikerRequest={})).method="textDocument/moniker",i.type=new r.ProtocolRequestType(i.method)},182:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=void 0;const r=n(674),i=n(533),o=n(140);var s,a,c,u,l,d,p,h,f,g;!function(e){e.Markup=1,e.Code=2,e.is=function(e){return 1===e||2===e}}(s=t.NotebookCellKind||(t.NotebookCellKind={})),function(e){e.create=function(e,t){const n={executionOrder:e};return!0!==t&&!1!==t||(n.success=t),n},e.is=function(e){const t=e;return i.objectLiteral(t)&&r.uinteger.is(t.executionOrder)&&(void 0===t.success||i.boolean(t.success))},e.equals=function(e,t){return e===t||null!=e&&null!=t&&e.executionOrder===t.executionOrder&&e.success===t.success}}(a=t.ExecutionSummary||(t.ExecutionSummary={})),function(e){function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(typeof e!=typeof n)return!1;if("object"!=typeof e)return!1;const r=Array.isArray(e),o=Array.isArray(n);if(r!==o)return!1;if(r&&o){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1}if(i.objectLiteral(e)&&i.objectLiteral(n)){const r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;if(r.sort(),i.sort(),!t(r,i))return!1;for(let i=0;i<r.length;i++){const o=r[i];if(!t(e[o],n[o]))return!1}}return!0}e.create=function(e,t){return{kind:e,document:t}},e.is=function(e){const t=e;return i.objectLiteral(t)&&s.is(t.kind)&&r.DocumentUri.is(t.document)&&(void 0===t.metadata||i.objectLiteral(t.metadata))},e.diff=function(e,n){const r=new Set;return e.document!==n.document&&r.add("document"),e.kind!==n.kind&&r.add("kind"),e.executionSummary!==n.executionSummary&&r.add("executionSummary"),void 0===e.metadata&&void 0===n.metadata||t(e.metadata,n.metadata)||r.add("metadata"),void 0===e.executionSummary&&void 0===n.executionSummary||a.equals(e.executionSummary,n.executionSummary)||r.add("executionSummary"),r}}(c=t.NotebookCell||(t.NotebookCell={})),(g=t.NotebookDocument||(t.NotebookDocument={})).create=function(e,t,n,r){return{uri:e,notebookType:t,version:n,cells:r}},g.is=function(e){const t=e;return i.objectLiteral(t)&&i.string(t.uri)&&r.integer.is(t.version)&&i.typedArray(t.cells,c.is)},(f=t.NotebookDocumentSyncRegistrationType||(t.NotebookDocumentSyncRegistrationType={})).method="notebookDocument/sync",f.type=new o.RegistrationType(f.method),(h=t.DidOpenNotebookDocumentNotification||(t.DidOpenNotebookDocumentNotification={})).method="notebookDocument/didOpen",h.type=new o.ProtocolNotificationType(h.method),(p=t.NotebookCellArrayChange||(t.NotebookCellArrayChange={})).is=function(e){const t=e;return i.objectLiteral(t)&&r.uinteger.is(t.start)&&r.uinteger.is(t.deleteCount)&&(void 0===t.cells||i.typedArray(t.cells,c.is))},p.create=function(e,t,n){const r={start:e,deleteCount:t};return void 0!==n&&(r.cells=n),r},(d=t.DidChangeNotebookDocumentNotification||(t.DidChangeNotebookDocumentNotification={})).method="notebookDocument/didChange",d.type=new o.ProtocolNotificationType(d.method),(l=t.DidSaveNotebookDocumentNotification||(t.DidSaveNotebookDocumentNotification={})).method="notebookDocument/didSave",l.type=new o.ProtocolNotificationType(l.method),(u=t.DidCloseNotebookDocumentNotification||(t.DidCloseNotebookDocumentNotification={})).method="notebookDocument/didClose",u.type=new o.ProtocolNotificationType(u.method)},862:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=void 0;const r=n(54),i=n(140);var o,s,a;(a=t.WorkDoneProgress||(t.WorkDoneProgress={})).type=new r.ProgressType,a.is=function(e){return e===a.type},(s=t.WorkDoneProgressCreateRequest||(t.WorkDoneProgressCreateRequest={})).method="window/workDoneProgress/create",s.type=new i.ProtocolRequestType(s.method),(o=t.WorkDoneProgressCancelNotification||(t.WorkDoneProgressCancelNotification={})).method="window/workDoneProgress/cancel",o.type=new i.ProtocolNotificationType(o.method)},206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeRequest=void 0;const r=n(140);var i;(i=t.SelectionRangeRequest||(t.SelectionRangeRequest={})).method="textDocument/selectionRange",i.type=new r.ProtocolRequestType(i.method)},434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.SemanticTokensRegistrationType=t.TokenFormat=void 0;const r=n(140);var i,o,s,a,c;(t.TokenFormat||(t.TokenFormat={})).Relative="relative",(c=t.SemanticTokensRegistrationType||(t.SemanticTokensRegistrationType={})).method="textDocument/semanticTokens",c.type=new r.RegistrationType(c.method),(a=t.SemanticTokensRequest||(t.SemanticTokensRequest={})).method="textDocument/semanticTokens/full",a.type=new r.ProtocolRequestType(a.method),(s=t.SemanticTokensDeltaRequest||(t.SemanticTokensDeltaRequest={})).method="textDocument/semanticTokens/full/delta",s.type=new r.ProtocolRequestType(s.method),(o=t.SemanticTokensRangeRequest||(t.SemanticTokensRangeRequest={})).method="textDocument/semanticTokens/range",o.type=new r.ProtocolRequestType(o.method),(i=t.SemanticTokensRefreshRequest||(t.SemanticTokensRefreshRequest={})).method="workspace/semanticTokens/refresh",i.type=new r.ProtocolRequestType0(i.method)},726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentRequest=void 0;const r=n(140);var i;(i=t.ShowDocumentRequest||(t.ShowDocumentRequest={})).method="window/showDocument",i.type=new r.ProtocolRequestType(i.method)},589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionRequest=void 0;const r=n(140);var i;(i=t.TypeDefinitionRequest||(t.TypeDefinitionRequest={})).method="textDocument/typeDefinition",i.type=new r.ProtocolRequestType(i.method)},693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchySubtypesRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchyPrepareRequest=void 0;const r=n(140);var i,o,s;(s=t.TypeHierarchyPrepareRequest||(t.TypeHierarchyPrepareRequest={})).method="textDocument/prepareTypeHierarchy",s.type=new r.ProtocolRequestType(s.method),(o=t.TypeHierarchySupertypesRequest||(t.TypeHierarchySupertypesRequest={})).method="typeHierarchy/supertypes",o.type=new r.ProtocolRequestType(o.method),(i=t.TypeHierarchySubtypesRequest||(t.TypeHierarchySubtypesRequest={})).method="typeHierarchy/subtypes",i.type=new r.ProtocolRequestType(i.method)},744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=void 0;const r=n(140);(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})).type=new r.ProtocolRequestType0("workspace/workspaceFolders"),(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={})).type=new r.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")},533:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.objectLiteral=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"==typeof e}},674:(e,t,n)=>{"use strict";var r,i,o,s,a,c,u,l,d,p,h,f,g,m,v,y,b,S,_,E,w,P,T,C,I,R,D,O;n.r(t),n.d(t,{AnnotatedTextEdit:()=>T,ChangeAnnotation:()=>w,ChangeAnnotationIdentifier:()=>P,CodeAction:()=>oe,CodeActionContext:()=>ie,CodeActionKind:()=>ne,CodeActionTriggerKind:()=>re,CodeDescription:()=>b,CodeLens:()=>se,Color:()=>d,ColorInformation:()=>p,ColorPresentation:()=>h,Command:()=>_,CompletionItem:()=>H,CompletionItemKind:()=>L,CompletionItemLabelDetails:()=>V,CompletionItemTag:()=>q,CompletionList:()=>$,CreateFile:()=>I,DeleteFile:()=>D,Diagnostic:()=>S,DiagnosticRelatedInformation:()=>m,DiagnosticSeverity:()=>v,DiagnosticTag:()=>y,DocumentHighlight:()=>J,DocumentHighlightKind:()=>Y,DocumentLink:()=>ce,DocumentSymbol:()=>te,DocumentUri:()=>r,EOL:()=>Te,FoldingRange:()=>g,FoldingRangeKind:()=>f,FormattingOptions:()=>ae,Hover:()=>G,InlayHint:()=>be,InlayHintKind:()=>ve,InlayHintLabelPart:()=>ye,InlineValueContext:()=>me,InlineValueEvaluatableExpression:()=>ge,InlineValueText:()=>he,InlineValueVariableLookup:()=>fe,InsertReplaceEdit:()=>U,InsertTextFormat:()=>F,InsertTextMode:()=>W,Location:()=>u,LocationLink:()=>l,MarkedString:()=>B,MarkupContent:()=>M,MarkupKind:()=>j,OptionalVersionedTextDocumentIdentifier:()=>N,ParameterInformation:()=>K,Position:()=>a,Range:()=>c,RenameFile:()=>R,SelectionRange:()=>ue,SemanticTokenModifiers:()=>de,SemanticTokenTypes:()=>le,SemanticTokens:()=>pe,SignatureInformation:()=>z,SymbolInformation:()=>Z,SymbolKind:()=>X,SymbolTag:()=>Q,TextDocument:()=>Pe,TextDocumentEdit:()=>C,TextDocumentIdentifier:()=>k,TextDocumentItem:()=>A,TextEdit:()=>E,URI:()=>i,VersionedTextDocumentIdentifier:()=>x,WorkspaceChange:()=>we,WorkspaceEdit:()=>O,WorkspaceFolder:()=>Se,WorkspaceSymbol:()=>ee,integer:()=>o,uinteger:()=>s}),function(e){e.is=function(e){return"string"==typeof e}}(r||(r={})),function(e){e.is=function(e){return"string"==typeof e}}(i||(i={})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(o||(o={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(s||(s={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=s.MAX_VALUE),t===Number.MAX_VALUE&&(t=s.MAX_VALUE),{line:e,character:t}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.uinteger(t.line)&&Ce.uinteger(t.character)}}(a||(a={})),function(e){e.create=function(e,t,n,r){if(Ce.uinteger(e)&&Ce.uinteger(t)&&Ce.uinteger(n)&&Ce.uinteger(r))return{start:a.create(e,t),end:a.create(n,r)};if(a.is(e)&&a.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments[".concat(e,", ").concat(t,", ").concat(n,", ").concat(r,"]"))},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&a.is(t.start)&&a.is(t.end)}}(c||(c={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return Ce.defined(t)&&c.is(t.range)&&(Ce.string(t.uri)||Ce.undefined(t.uri))}}(u||(u={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return Ce.defined(t)&&c.is(t.targetRange)&&Ce.string(t.targetUri)&&c.is(t.targetSelectionRange)&&(c.is(t.originSelectionRange)||Ce.undefined(t.originSelectionRange))}}(l||(l={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.numberRange(t.red,0,1)&&Ce.numberRange(t.green,0,1)&&Ce.numberRange(t.blue,0,1)&&Ce.numberRange(t.alpha,0,1)}}(d||(d={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&c.is(t.range)&&d.is(t.color)}}(p||(p={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.string(t.label)&&(Ce.undefined(t.textEdit)||E.is(t))&&(Ce.undefined(t.additionalTextEdits)||Ce.typedArray(t.additionalTextEdits,E.is))}}(h||(h={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(f||(f={})),function(e){e.create=function(e,t,n,r,i,o){var s={startLine:e,endLine:t};return Ce.defined(n)&&(s.startCharacter=n),Ce.defined(r)&&(s.endCharacter=r),Ce.defined(i)&&(s.kind=i),Ce.defined(o)&&(s.collapsedText=o),s},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.uinteger(t.startLine)&&Ce.uinteger(t.startLine)&&(Ce.undefined(t.startCharacter)||Ce.uinteger(t.startCharacter))&&(Ce.undefined(t.endCharacter)||Ce.uinteger(t.endCharacter))&&(Ce.undefined(t.kind)||Ce.string(t.kind))}}(g||(g={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return Ce.defined(t)&&u.is(t.location)&&Ce.string(t.message)}}(m||(m={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(v||(v={})),function(e){e.Unnecessary=1,e.Deprecated=2}(y||(y={})),function(e){e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.string(t.href)}}(b||(b={})),function(e){e.create=function(e,t,n,r,i,o){var s={range:e,message:t};return Ce.defined(n)&&(s.severity=n),Ce.defined(r)&&(s.code=r),Ce.defined(i)&&(s.source=i),Ce.defined(o)&&(s.relatedInformation=o),s},e.is=function(e){var t,n=e;return Ce.defined(n)&&c.is(n.range)&&Ce.string(n.message)&&(Ce.number(n.severity)||Ce.undefined(n.severity))&&(Ce.integer(n.code)||Ce.string(n.code)||Ce.undefined(n.code))&&(Ce.undefined(n.codeDescription)||Ce.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(Ce.string(n.source)||Ce.undefined(n.source))&&(Ce.undefined(n.relatedInformation)||Ce.typedArray(n.relatedInformation,m.is))}}(S||(S={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return Ce.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.string(t.title)&&Ce.string(t.command)}}(_||(_={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.string(t.newText)&&c.is(t.range)}}(E||(E={})),function(e){e.create=function(e,t,n){var r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.string(t.label)&&(Ce.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(Ce.string(t.description)||void 0===t.description)}}(w||(w={})),function(e){e.is=function(e){var t=e;return Ce.string(t)}}(P||(P={})),function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){var t=e;return E.is(t)&&(w.is(t.annotationId)||P.is(t.annotationId))}}(T||(T={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return Ce.defined(t)&&N.is(t.textDocument)&&Array.isArray(t.edits)}}(C||(C={})),function(e){e.create=function(e,t,n){var r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"create"===t.kind&&Ce.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||Ce.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Ce.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||P.is(t.annotationId))}}(I||(I={})),function(e){e.create=function(e,t,n,r){var i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),void 0!==r&&(i.annotationId=r),i},e.is=function(e){var t=e;return t&&"rename"===t.kind&&Ce.string(t.oldUri)&&Ce.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||Ce.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Ce.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||P.is(t.annotationId))}}(R||(R={})),function(e){e.create=function(e,t,n){var r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"delete"===t.kind&&Ce.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||Ce.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||Ce.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||P.is(t.annotationId))}}(D||(D={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return Ce.string(e.kind)?I.is(e)||R.is(e)||D.is(e):C.is(e)})))}}(O||(O={}));var k,x,N,A,j,M,L,F,q,U,W,V,H,$,B,G,K,z,Y,J,X,Q,Z,ee,te,ne,re,ie,oe,se,ae,ce,ue,le,de,pe,he,fe,ge,me,ve,ye,be,Se,_e=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,n){var r,i;if(void 0===n?r=E.insert(e,t):P.is(n)?(i=n,r=T.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=T.insert(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.replace=function(e,t,n){var r,i;if(void 0===n?r=E.replace(e,t):P.is(n)?(i=n,r=T.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=T.replace(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.delete=function(e,t){var n,r;if(void 0===t?n=E.del(e):P.is(t)?(r=t,n=T.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(t),n=T.del(e,r)),this.edits.push(n),void 0!==r)return r},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),Ee=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var n;if(P.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw new Error("Id ".concat(n," is already in use."));if(void 0===t)throw new Error("No annotation provided for id ".concat(n));return this._annotations[n]=t,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),we=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Ee(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(C.is(e)){var n=new _e(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}}))):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new _e(e.changes[n]);t._textEditChanges[n]=r}))):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(N.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new _e(i,this._changeAnnotations),this._textEditChanges[t.uri]=r}return r}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new _e(i),this._textEditChanges[e]=r}return r},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new Ee,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(w.is(t)||P.is(t)?r=t:n=t,void 0===r?i=I.create(e,n):(o=P.is(r)?r:this._changeAnnotations.manage(r),i=I.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e.prototype.renameFile=function(e,t,n,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,o,s;if(w.is(n)||P.is(n)?i=n:r=n,void 0===i?o=R.create(e,t,r):(s=P.is(i)?i:this._changeAnnotations.manage(i),o=R.create(e,t,r,s)),this._workspaceEdit.documentChanges.push(o),void 0!==s)return s},e.prototype.deleteFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(w.is(t)||P.is(t)?r=t:n=t,void 0===r?i=D.create(e,n):(o=P.is(r)?r:this._changeAnnotations.manage(r),i=D.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.string(t.uri)}}(k||(k={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.string(t.uri)&&Ce.integer(t.version)}}(x||(x={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.string(t.uri)&&(null===t.version||Ce.integer(t.version))}}(N||(N={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.string(t.uri)&&Ce.string(t.languageId)&&Ce.integer(t.version)&&Ce.string(t.text)}}(A||(A={})),function(e){e.PlainText="plaintext",e.Markdown="markdown",e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(j||(j={})),function(e){e.is=function(e){var t=e;return Ce.objectLiteral(e)&&j.is(t.kind)&&Ce.string(t.value)}}(M||(M={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(L||(L={})),function(e){e.PlainText=1,e.Snippet=2}(F||(F={})),function(e){e.Deprecated=1}(q||(q={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){var t=e;return t&&Ce.string(t.newText)&&c.is(t.insert)&&c.is(t.replace)}}(U||(U={})),function(e){e.asIs=1,e.adjustIndentation=2}(W||(W={})),function(e){e.is=function(e){var t=e;return t&&(Ce.string(t.detail)||void 0===t.detail)&&(Ce.string(t.description)||void 0===t.description)}}(V||(V={})),function(e){e.create=function(e){return{label:e}}}(H||(H={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}($||($={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return Ce.string(t)||Ce.objectLiteral(t)&&Ce.string(t.language)&&Ce.string(t.value)}}(B||(B={})),function(e){e.is=function(e){var t=e;return!!t&&Ce.objectLiteral(t)&&(M.is(t.contents)||B.is(t.contents)||Ce.typedArray(t.contents,B.is))&&(void 0===e.range||c.is(e.range))}}(G||(G={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(K||(K={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return Ce.defined(t)&&(i.documentation=t),Ce.defined(n)?i.parameters=n:i.parameters=[],i}}(z||(z={})),function(e){e.Text=1,e.Read=2,e.Write=3}(Y||(Y={})),function(e){e.create=function(e,t){var n={range:e};return Ce.number(t)&&(n.kind=t),n}}(J||(J={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(X||(X={})),function(e){e.Deprecated=1}(Q||(Q={})),function(e){e.create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(Z||(Z={})),function(e){e.create=function(e,t,n,r){return void 0!==r?{name:e,kind:t,location:{uri:n,range:r}}:{name:e,kind:t,location:{uri:n}}}}(ee||(ee={})),function(e){e.create=function(e,t,n,r,i,o){var s={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(s.children=o),s},e.is=function(e){var t=e;return t&&Ce.string(t.name)&&Ce.number(t.kind)&&c.is(t.range)&&c.is(t.selectionRange)&&(void 0===t.detail||Ce.string(t.detail))&&(void 0===t.deprecated||Ce.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(te||(te={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(ne||(ne={})),function(e){e.Invoked=1,e.Automatic=2}(re||(re={})),function(e){e.create=function(e,t,n){var r={diagnostics:e};return null!=t&&(r.only=t),null!=n&&(r.triggerKind=n),r},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.typedArray(t.diagnostics,S.is)&&(void 0===t.only||Ce.typedArray(t.only,Ce.string))&&(void 0===t.triggerKind||t.triggerKind===re.Invoked||t.triggerKind===re.Automatic)}}(ie||(ie={})),function(e){e.create=function(e,t,n){var r={title:e},i=!0;return"string"==typeof t?(i=!1,r.kind=t):_.is(t)?r.command=t:r.edit=t,i&&void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&Ce.string(t.title)&&(void 0===t.diagnostics||Ce.typedArray(t.diagnostics,S.is))&&(void 0===t.kind||Ce.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||_.is(t.command))&&(void 0===t.isPreferred||Ce.boolean(t.isPreferred))&&(void 0===t.edit||O.is(t.edit))}}(oe||(oe={})),function(e){e.create=function(e,t){var n={range:e};return Ce.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return Ce.defined(t)&&c.is(t.range)&&(Ce.undefined(t.command)||_.is(t.command))}}(se||(se={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.uinteger(t.tabSize)&&Ce.boolean(t.insertSpaces)}}(ae||(ae={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return Ce.defined(t)&&c.is(t.range)&&(Ce.undefined(t.target)||Ce.string(t.target))}}(ce||(ce={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return Ce.objectLiteral(n)&&c.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(ue||(ue={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(le||(le={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(de||(de={})),function(e){e.is=function(e){var t=e;return Ce.objectLiteral(t)&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(pe||(pe={})),function(e){e.create=function(e,t){return{range:e,text:t}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&Ce.string(t.text)}}(he||(he={})),function(e){e.create=function(e,t,n){return{range:e,variableName:t,caseSensitiveLookup:n}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&Ce.boolean(t.caseSensitiveLookup)&&(Ce.string(t.variableName)||void 0===t.variableName)}}(fe||(fe={})),function(e){e.create=function(e,t){return{range:e,expression:t}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&(Ce.string(t.expression)||void 0===t.expression)}}(ge||(ge={})),function(e){e.create=function(e,t){return{frameId:e,stoppedLocation:t}},e.is=function(e){var t=e;return Ce.defined(t)&&c.is(e.stoppedLocation)}}(me||(me={})),function(e){e.Type=1,e.Parameter=2,e.is=function(e){return 1===e||2===e}}(ve||(ve={})),function(e){e.create=function(e){return{value:e}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&(void 0===t.tooltip||Ce.string(t.tooltip)||M.is(t.tooltip))&&(void 0===t.location||u.is(t.location))&&(void 0===t.command||_.is(t.command))}}(ye||(ye={})),function(e){e.create=function(e,t,n){var r={position:e,label:t};return void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&a.is(t.position)&&(Ce.string(t.label)||Ce.typedArray(t.label,ye.is))&&(void 0===t.kind||ve.is(t.kind))&&void 0===t.textEdits||Ce.typedArray(t.textEdits,E.is)&&(void 0===t.tooltip||Ce.string(t.tooltip)||M.is(t.tooltip))&&(void 0===t.paddingLeft||Ce.boolean(t.paddingLeft))&&(void 0===t.paddingRight||Ce.boolean(t.paddingRight))}}(be||(be={})),function(e){e.is=function(e){var t=e;return Ce.objectLiteral(t)&&i.is(t.uri)&&Ce.string(t.name)}}(Se||(Se={}));var Pe,Te=["\n","\r\n","\r"];!function(e){function t(e,n){if(e.length<=1)return e;var r=e.length/2|0,i=e.slice(0,r),o=e.slice(r);t(i,n),t(o,n);for(var s=0,a=0,c=0;s<i.length&&a<o.length;){var u=n(i[s],o[a]);e[c++]=u<=0?i[s++]:o[a++]}for(;s<i.length;)e[c++]=i[s++];for(;a<o.length;)e[c++]=o[a++];return e}e.create=function(e,t,n,r){return new Ie(e,t,n,r)},e.is=function(e){var t=e;return!!(Ce.defined(t)&&Ce.string(t.uri)&&(Ce.undefined(t.languageId)||Ce.string(t.languageId))&&Ce.uinteger(t.lineCount)&&Ce.func(t.getText)&&Ce.func(t.positionAt)&&Ce.func(t.offsetAt))},e.applyEdits=function(e,n){for(var r=e.getText(),i=t(n,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),o=r.length,s=i.length-1;s>=0;s--){var a=i[s],c=e.offsetAt(a.range.start),u=e.offsetAt(a.range.end);if(!(u<=o))throw new Error("Overlapping edit");r=r.substring(0,c)+a.newText+r.substring(u,r.length),o=c}return r}}(Pe||(Pe={}));var Ce,Ie=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return a.create(0,e);for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var o=n-1;return a.create(o,e-t[o])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,r){return"[object Number]"===t.call(e)&&n<=e&&e<=r},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(Ce||(Ce={}))}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";var e;r.r(i),r.d(i,{createConverter:()=>P,getConcatDocumentRoot:()=>_,isNotebookCell:()=>c}),e=(()=>{var e={470:e=>{function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){-1===c?(r="",i=0):i=(r=r.slice(0,c)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,a):r=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s;o>=0?s=arguments[o]:(void 0===e&&(e=process.cwd()),s=e),t(s),0!==s.length&&(r=s+"/"+r,i=47===s.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,s=o-i,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var c=n.length-a,u=s<c?s:c,l=-1,d=0;d<=u;++d){if(d===u){if(c>u){if(47===n.charCodeAt(a+d))return n.slice(a+d+1);if(0===d)return n.slice(a+d)}else s>u&&(47===e.charCodeAt(i+d)?l=d:0===d&&(l=0));break}var p=e.charCodeAt(i+d);if(p!==n.charCodeAt(a+d))break;47===p&&(l=d)}var h="";for(d=i+l+1;d<=o;++d)d!==o&&47!==e.charCodeAt(d)||(0===h.length?h+="..":h+="/..");return h.length>0?h+n.slice(a+l):(a+=l,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(n=e.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,o=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,c=-1;for(r=e.length-1;r>=0;--r){var u=e.charCodeAt(r);if(47===u){if(!s){i=r+1;break}}else-1===c&&(s=!1,c=r+1),a>=0&&(u===n.charCodeAt(a)?-1==--a&&(o=r):(a=-1,o=c))}return i===o?o=c:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!s){i=r+1;break}}else-1===o&&(s=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47!==c)-1===i&&(o=!1,i=a+1),46===c?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1);else if(!o){r=a+1;break}}return-1===n||-1===i||0===s||1===s&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var s=-1,a=0,c=-1,u=!0,l=e.length-1,d=0;l>=r;--l)if(47!==(i=e.charCodeAt(l)))-1===c&&(u=!1,c=l+1),46===i?-1===s?s=l:1!==d&&(d=1):-1!==s&&(d=-1);else if(!u){a=l+1;break}return-1===s||-1===c||0===d||1===d&&s===c-1&&s===a+1?-1!==c&&(n.base=n.name=0===a&&o?e.slice(1,c):e.slice(a,c)):(0===a&&o?(n.name=e.slice(1,s),n.base=e.slice(1,c)):(n.name=e.slice(a,s),n.base=e.slice(a,c)),n.ext=e.slice(s,c)),a>0?n.dir=e.slice(0,a-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},447:(e,t,n)=>{var r;if(n.r(t),n.d(t,{URI:()=>g,Utils:()=>C}),"object"==typeof process)r="win32"===process.platform;else if("object"==typeof navigator){var i=navigator.userAgent;r=i.indexOf("Windows")>=0}var o,s,a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=/^\w[\w\d+.-]*$/,u=/^\//,l=/^\/\//;function d(e,t){if(!e.scheme&&t)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(e.authority,'", path: "').concat(e.path,'", query: "').concat(e.query,'", fragment: "').concat(e.fragment,'"}'));if(e.scheme&&!c.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!u.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}var p="",h="/",f=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,g=function(){function e(e,t,n,r,i,o){void 0===o&&(o=!1),"object"==typeof e?(this.scheme=e.scheme||p,this.authority=e.authority||p,this.path=e.path||p,this.query=e.query||p,this.fragment=e.fragment||p):(this.scheme=function(e,t){return e||t?e:"file"}(e,o),this.authority=t||p,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==h&&(t=h+t):t=h}return t}(this.scheme,n||p),this.query=r||p,this.fragment=i||p,d(this,o))}return e.isUri=function(t){return t instanceof e||!!t&&"string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme&&"string"==typeof t.fsPath&&"function"==typeof t.with&&"function"==typeof t.toString},Object.defineProperty(e.prototype,"fsPath",{get:function(){return _(this,!1)},enumerable:!1,configurable:!0}),e.prototype.with=function(e){if(!e)return this;var t=e.scheme,n=e.authority,r=e.path,i=e.query,o=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=p),void 0===n?n=this.authority:null===n&&(n=p),void 0===r?r=this.path:null===r&&(r=p),void 0===i?i=this.query:null===i&&(i=p),void 0===o?o=this.fragment:null===o&&(o=p),t===this.scheme&&n===this.authority&&r===this.path&&i===this.query&&o===this.fragment?this:new v(t,n,r,i,o)},e.parse=function(e,t){void 0===t&&(t=!1);var n=f.exec(e);return n?new v(n[2]||p,T(n[4]||p),T(n[5]||p),T(n[7]||p),T(n[9]||p),t):new v(p,p,p,p,p)},e.file=function(e){var t=p;if(r&&(e=e.replace(/\\/g,h)),e[0]===h&&e[1]===h){var n=e.indexOf(h,2);-1===n?(t=e.substring(2),e=h):(t=e.substring(2,n),e=e.substring(n)||h)}return new v("file",t,e,p,p)},e.from=function(e){var t=new v(e.scheme,e.authority,e.path,e.query,e.fragment);return d(t,!0),t},e.prototype.toString=function(e){return void 0===e&&(e=!1),E(this,e)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var n=new v(t);return n._formatted=t.external,n._fsPath=t._sep===m?t.fsPath:null,n}return t},e}(),m=r?1:void 0,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return a(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=_(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?E(this,!0):(this._formatted||(this._formatted=E(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=m),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(g),y=((s={})[58]="%3A",s[47]="%2F",s[63]="%3F",s[35]="%23",s[91]="%5B",s[93]="%5D",s[64]="%40",s[33]="%21",s[36]="%24",s[38]="%26",s[39]="%27",s[40]="%28",s[41]="%29",s[42]="%2A",s[43]="%2B",s[44]="%2C",s[59]="%3B",s[61]="%3D",s[32]="%20",s);function b(e,t){for(var n=void 0,r=-1,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o)-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),void 0!==n&&(n+=e.charAt(i));else{void 0===n&&(n=e.substr(0,i));var s=y[o];void 0!==s?(-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),n+=s):-1===r&&(r=i)}}return-1!==r&&(n+=encodeURIComponent(e.substring(r))),void 0!==n?n:e}function S(e){for(var t=void 0,n=0;n<e.length;n++){var r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=y[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function _(e,t){var n;return n=e.authority&&e.path.length>1&&"file"===e.scheme?"//".concat(e.authority).concat(e.path):47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,r&&(n=n.replace(/\//g,"\\")),n}function E(e,t){var n=t?S:b,r="",i=e.scheme,o=e.authority,s=e.path,a=e.query,c=e.fragment;if(i&&(r+=i,r+=":"),(o||"file"===i)&&(r+=h,r+=h),o){var u=o.indexOf("@");if(-1!==u){var l=o.substr(0,u);o=o.substr(u+1),-1===(u=l.indexOf(":"))?r+=n(l,!1):(r+=n(l.substr(0,u),!1),r+=":",r+=n(l.substr(u+1),!1)),r+="@"}-1===(u=(o=o.toLowerCase()).indexOf(":"))?r+=n(o,!1):(r+=n(o.substr(0,u),!1),r+=o.substr(u))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2))(d=s.charCodeAt(1))>=65&&d<=90&&(s="/".concat(String.fromCharCode(d+32),":").concat(s.substr(3)));else if(s.length>=2&&58===s.charCodeAt(1)){var d;(d=s.charCodeAt(0))>=65&&d<=90&&(s="".concat(String.fromCharCode(d+32),":").concat(s.substr(2)))}r+=n(s,!0)}return a&&(r+="?",r+=n(a,!1)),c&&(r+="#",r+=t?c:b(c,!1)),r}function w(e){try{return decodeURIComponent(e)}catch(t){return e.length>3?e.substr(0,3)+w(e.substr(3)):e}}var P=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function T(e){return e.match(P)?e.replace(P,(function(e){return w(e)})):e}var C,I=n(470),R=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},D=I.posix||I;!function(e){e.joinPath=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.with({path:D.join.apply(D,R([e.path],t,!1))})},e.resolvePath=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e.path||"/";return e.with({path:D.resolve.apply(D,R([r],t,!1))})},e.dirname=function(e){var t=D.dirname(e.path);return 1===t.length&&46===t.charCodeAt(0)?e:e.with({path:t})},e.basename=function(e){return D.basename(e.path)},e.extname=function(e){return D.extname(e.path)}}(C||(C={}))}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(447)})();const{URI:t,Utils:n}=e;var o=r(152);const s="vscode-interactive-input",a="vscode-interactive";function c(e){return e.scheme.includes("vscode-notebook-cell")||e.scheme.includes(s)}function u(e){let t=e.split(/\r?\n/g);return t.slice(0,t.length-1)}var l=r(470),d=r(705);const p=function(e=""){let t="(-?\\d*\\.\\d\\w*)|([^";for(const n of"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?")e.indexOf(n)>=0||(t+=`\\${n}`);return t+="\\s]+)",new RegExp(t,"g")}(),h=/(-?\d*\.\d\w*)|([^\`\~\!\@\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g;function f(e,t){return{start:e,end:t}}function g(e,t){return{line:e,character:t}}function m(e,t){return{uri:e,range:t}}class v{constructor(e,t,n,r){this.cellUri=e,this._contents=t,this._line=n,this._offset=r,this._range=f(g(n,0),g(n,t.length)),this._rangeWithLineBreak=f(this.range.start,g(n,t.length+1))}get offset(){return this._offset}get endOffset(){return this._offset+this._contents.length+1}get lineNumber(){return this._line}get text(){return this._contents}get range(){return this._range}get rangeIncludingLineBreak(){return this._rangeWithLineBreak}get firstNonWhitespaceCharacterIndex(){return void 0===this._firstNonWhitespaceIndex&&(this._firstNonWhitespaceIndex=this._contents.trimLeft().length-this._contents.length),this._firstNonWhitespaceIndex}get isEmptyOrWhitespace(){return void 0===this._isEmpty&&(this._isEmpty=0===this._contents.length||0===this._contents.trim().length),this._isEmpty}}const y=" # type: ignore",b="import IPython\nIPython.get_ipython()\n",S=[{regex:/(^\s*%.*)/},{regex:/(^\s*!.*)/},{regex:/(^\s*await\s+.*)/}];function _(e){return l.dirname(e.fsPath)}class E{constructor(e,t,n=!1){this.key=e,this.getNotebookHeader=t,this._disableTypeIgnore=n,this._interactiveWindow=!1,this._version=1,this._closed=!0,this._spans=[],this._lines=[],this._realLines=[]}get uri(){return this.concatUri}get fileName(){return this.uri.fsPath}get isUntitled(){return!0}get languageId(){return"python"}get version(){return this._version}get isDirty(){return!0}get isClosed(){return this._closed}get isOpen(){return!this.isClosed}get eol(){return 1}get notebook(){}get lineCount(){return this._lines.length}get concatUri(){return this._concatUri||t.parse("")}get notebookUri(){return this._notebookUri||t.parse("")}handleChange(e){this._version++;const t=[],n=this._spans.findIndex((t=>t.uri.toString()===e.textDocument.uri));if(n>=0)return e.contentChanges.forEach((r=>{try{const i=this._spans.filter((t=>t.uri.toString()===e.textDocument.uri)),o=this._lines.filter((t=>t.cellUri.toString()===e.textDocument.uri)),s=r.text.replace(/\r/g,""),a="range"in r?r.range:f(g(0,0),g(0,0)),c=this.getRealText(i[0].uri),u=this._realLines.filter((t=>t.cellUri.toString()===e.textDocument.uri)),l=u[0].offset,d=u[a.start.line].offset+a.start.character-l,p=u[a.end.line].offset+a.end.character-l,h=`${c.slice(0,d)}${s}${c.slice(p)}`,m=this.createSpans(i[0].uri,h,i[0].startOffset,i[0].realOffset),v=m.map((e=>e.text)).join(""),y=i.find((e=>!e.inRealCell&&!e.text.endsWith("\n"))),b=m.find((e=>!e.inRealCell&&!e.text.endsWith("\n")));if(y||b||m.length!=i.length){const e=o[0].range.start,n={line:o.length+o[0].range.start.line,character:0};t.push({text:v,range:this.createSerializableRange(e,n),rangeLength:o[o.length-1].endOffset+1-o[0].offset})}else{const e=this.mapRealToConcatOffset(d+l),n=this.mapRealToConcatOffset(p+l),r=o.find((t=>e>=t.offset&&e<t.endOffset)),i=o.find((e=>n>=e.offset&&n<e.endOffset)),c=g((null==r?void 0:r.lineNumber)||a.start.line,a.start.character),u=g((null==i?void 0:i.lineNumber)||a.end.line,a.end.character);t.push({text:s,range:this.createSerializableRange(c,u),rangeLength:n-e})}const S=m[m.length-1].endOffset-i[i.length-1].endOffset,_=m[m.length-1].realEndOffset-i[i.length-1].realEndOffset;this._spans.splice(n,i.length,...m);for(let e=n+m.length;e<this._spans.length;e++)this._spans[e].startOffset+=S,this._spans[e].endOffset+=S,this._spans[e].realOffset+=_,this._spans[e].realEndOffset+=_;this.computeLines()}catch(e){console.log(`Concat document failure : ${e}`)}})),this.toDidChangeTextDocumentParams(t)}handleOpen(e,n){const r=t.parse(e.textDocument.uri);if(this._spans.find((t=>{var n;return(null===(n=t.uri)||void 0===n?void 0:n.toString())==e.textDocument.uri})))return;this._version=Math.max(e.textDocument.version,this._version+1),this._closed=!1,this.initialize(r);const i=`${e.textDocument.text.replace(/\r/g,"")}\n`,o=r.scheme===s?-1:parseInt(r.fragment.substring(2)||"0"),a=n?this._spans.length:this.computeInsertionIndex(o),c=a<this._spans.length&&a>=0?this._spans[a].startOffset:this.getEndOffset(),u=a<this._spans.length&&a>=0?this._spans[a].realOffset:this.getRealEndOffset(),l=a<this._spans.length&&a>=0?this._lines.find((e=>e.offset==c)).range.start:g(this._lines.length,0),d=this.createSpans(r,i,c,u),p=d[d.length-1].endOffset-c,h=d[d.length-1].realEndOffset-u;for(let e=a;e<=this._spans.length-1;e+=1)this._spans[e].startOffset+=p,this._spans[e].endOffset+=p,this._spans[e].realOffset+=h,this._spans[e].realEndOffset+=h;this._spans.splice(a,0,...d),this.computeLines();const f=[{range:this.createSerializableRange(l,l),rangeOffset:c,rangeLength:0,text:d.map((e=>e.text)).join("")}];return this.toDidChangeTextDocumentParams(f)}handleClose(e){const n=this._spans.findIndex((t=>t.uri.toString()===e.textDocument.uri)),r=function(t,n){for(let n=t.length-1;n>=0;n--)if(t[n].uri.toString()===e.textDocument.uri)return n;return-1}(this._spans);if(this.initialize(t.parse(e.textDocument.uri)),n>=0&&r>=0&&!this._interactiveWindow){this._version+=1;const t=this._spans[n].startOffset,i=this._spans[r].endOffset,o=this._lines.find((e=>e.offset==t)).range.start,s=this._lines.find((e=>e.endOffset==i)).range.end,a=i-t;this._spans=this._spans.filter((t=>t.uri.toString()!==e.textDocument.uri));for(let e=n;e<this._spans.length;e++)this._spans[e].startOffset-=a,this._spans[e].endOffset-=a;this.computeLines();const c=[{range:this.createSerializableRange(o,s),rangeOffset:t,rangeLength:a,text:""}];return 0==this._spans.length&&(this._closed=!0),this.toDidChangeTextDocumentParams(c)}e.textDocument.uri.includes(s)&&(this._closed=!0,this._spans=[],this._lines=[],this._realLines=[])}handleRefresh(e){if(!this._interactiveWindow){const t=g(0,0),n=this._lines.length>0?this._lines[this._lines.length-1].rangeIncludingLineBreak.end:t,r=this.getEndOffset(),i=this.getRealText();if(`${e.cells.map((e=>e.textDocument.text.replace(/\r/g,""))).join("\n")}\n`!=i){this._version++,this._closed=!1,this._spans=[],this._lines=[],this._realLines=[],this._concatUri=void 0,e.cells.forEach((e=>{this.handleOpen({textDocument:e.textDocument},!0)}));const i=[{range:this.createSerializableRange(t,n),rangeOffset:0,rangeLength:r,text:this.getContents()}];return this.toDidChangeTextDocumentParams(i)}}}dispose(){}contains(e){return void 0!==this._spans.find((t=>t.uri.toString()===e.toString()))}save(){return Promise.resolve(!1)}lineAt(e){return"number"==typeof e?this._lines[e]:this._lines[e.line]}offsetAt(e){throw new Error("offsetAt should not be used on concat document. Use a more specific offset computation")}positionAt(e){throw new Error("positionAt should not be used on concat document. Use a more specific position computation")}getText(e){const t=this.getContents();if(e){const n=this._lines[e.start.line].offset+e.start.character,r=this._lines[e.end.line].offset+e.end.character;return t.substring(n,r-n)}return t}concatPositionAt(e){const t=this._realLines.find((t=>t.cellUri.toString()===e.uri.toString()));if(t){const n=this._realLines[e.range.start.line+t.lineNumber],r=this.mapRealToConcatOffset(n.offset+e.range.start.character),i=this._lines.find((e=>r>=e.offset&&r<e.endOffset));if(i)return g(i.lineNumber,r-i.offset)}return g(0,0)}concatOffsetAt(e){const t=this._realLines.find((t=>t.cellUri.toString()===e.uri.toString()));if(t){const n=this._realLines[e.range.start.line+t.lineNumber];return this.mapRealToConcatOffset(n.offset+e.range.start.character)}return 0}concatRangeOf(e){const t=this._lines.filter((t=>t.cellUri.toString()===e.toString())),n=t[0],r=t[t.length-1];return n&&r?f(n.range.start,r.rangeIncludingLineBreak.end):f(g(0,0),g(0,0))}realRangeOf(e){const t=this._spans.filter((t=>t.uri.toString()==e.toString()&&t.inRealCell)),n=t[0].startOffset||0,r=t.length>0?t[t.length-1].endOffset:n,i=this._lines.find((e=>n>=e.offset&&n<e.endOffset)),o=this._lines.find((e=>r>=e.offset&&r<=e.endOffset));return i&&o?f(i.range.start,o.rangeIncludingLineBreak.end):f(g(0,0),g(0,0))}getCells(){return[...new Set(this._spans.map((e=>e.uri)))]}notebookLocationAt(e){const t="line"in e?f(e,e):e;let n=this._lines[t.start.line],r=this._lines[t.end.line];if(n&&r){let e=n.offset+t.start.character,i=r.offset+t.end.character;const o=this._spans.filter((t=>t.inRealCell&&(e>=t.startOffset&&e<t.endOffset||i>=t.startOffset&&i<=t.endOffset)));if(e=o.length>0?Math.max(e,o[0].startOffset):-1,n=this._lines.find((t=>e>=t.offset&&e<t.endOffset)),n)return{uri:n.cellUri.toString(),range:f(this.notebookPositionAt(g(n.lineNumber,e-n.offset)),this.notebookPositionAt(t.end))}}return{uri:"",range:t}}notebookPositionAt(e){const t=this._lines[e.line].offset,n=this.mapConcatToClosestRealOffset(t),r=this._realLines.find((e=>n>=e.offset&&n<e.endOffset)),i=this._realLines.find((e=>e.cellUri.toString()===(null==r?void 0:r.cellUri.toString())));return g(i&&r?r.lineNumber-i.lineNumber:0,this.mapConcatToClosestRealOffset(t+e.character)-((null==r?void 0:r.offset)||0))}notebookOffsetAt(e,t){const n=this.mapConcatToClosestRealOffset(t),r=this._spans.find((t=>t.uri.toString()===e.toString()));return r?n-r.realOffset:n}getWordRangeAtPosition(e,t){t?function(e){return"^"!==e.source&&"^$"!==e.source&&"$"!==e.source&&"^\\s*$"!==e.source&&!(!e.exec("")||0!==e.lastIndex)}(t)&&(console.warn(`[getWordRangeAtPosition]: ignoring custom regexp '${t.source}' because it matches the empty string.`),t=h):t=h;const n=function(e,t,n,r){t.lastIndex=0;const i=t.exec(n);if(!i)return null;const o=i[0].indexOf(" ")>=0?function(e,t,n,r){const i=e-1-0;t.lastIndex=0;let o=t.exec(n);for(;o;){const e=o.index||0;if(e>i)return null;if(t.lastIndex>=i)return{word:o[0],startColumn:1+e,endColumn:1+t.lastIndex};o=t.exec(n)}return null}(e,t,n):function(e,t,n,r){const i=e-1-0,o=n.lastIndexOf(" ",i-1)+1;t.lastIndex=o;let s=t.exec(n);for(;s;){const e=s.index||0;if(e<=i&&t.lastIndex>=i)return{word:s[0],startColumn:1+e,endColumn:1+t.lastIndex};s=t.exec(n)}return null}(e,t,n);return t.lastIndex=0,o}(e.character+1,function(e){let t=p;if(e&&e instanceof RegExp)if(e.global)t=e;else{let n="g";e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.unicode&&(n+="u"),t=new RegExp(e.source,n)}return t.lastIndex=0,t}(t),this._lines[e.line].text);if(n)return f(g(e.line,n.startColumn-1),g(e.line,n.endColumn-1))}validateRange(e){return e}validatePosition(e){return e}get textDocumentItem(){return{uri:this.concatUri.toString(),languageId:this.languageId,version:this.version,text:this.getText()}}get textDocumentId(){return{uri:this.concatUri.toString(),version:this.version}}getContents(){return this._spans.map((e=>e.text)).join("")}toDidChangeTextDocumentParams(e){return{textDocument:{version:this.version,uri:this.concatUri.toString()},contentChanges:e}}mapRealToConcatOffset(e){const t=this._spans.find((t=>t.inRealCell&&e>=t.realOffset&&e<t.realEndOffset));return t?e-t.realOffset+t.startOffset:e}mapConcatToClosestRealOffset(e){const t=this._spans.find((t=>e>=t.startOffset&&e<t.endOffset));if(t){const n=e-t.startOffset;return t.inRealCell?n+t.realOffset:t.realOffset}return e}createSpan(e,t,n,r,i){return{fragment:e.scheme===s?-1:parseInt(e.fragment.substring(2)||"0"),uri:e,inRealCell:!0,startOffset:r,endOffset:r+t.length,realOffset:i,realEndOffset:i+n.length,text:t,realText:n}}createTypeIgnoreSpan(e,t,n){return{fragment:e.scheme===s?-1:parseInt(e.fragment.substring(2)||"0"),uri:e,inRealCell:!1,startOffset:t,endOffset:t+y.length,realOffset:n,realEndOffset:n,text:y,realText:""}}createHeaderSpans(e){let t=this.getNotebookHeader(e);return t.length?(t.endsWith("\n")||(t=`${t}\n`),[{fragment:-1,uri:e,inRealCell:!1,startOffset:0,endOffset:b.length+t.length,realOffset:0,realEndOffset:0,text:`${b}${t}`,realText:""}]):[{fragment:-1,uri:e,inRealCell:!1,startOffset:0,endOffset:b.length,realOffset:0,realEndOffset:0,text:b,realText:""}]}createSpans(e,t,n,r){const i=u(t);let o=[];0!=n||e.scheme.includes(s)||(o=this.createHeaderSpans(e),n=o[o.length-1].endOffset);let a=r,c=0,l=0;return i.forEach((r=>{!this._disableTypeIgnore&&S.find((e=>e.regex.test(r)))?(o.push(this.createSpan(e,t.substring(c,l+r.length),t.substring(c,l+r.length),n,c+a)),n=o[o.length-1].endOffset,l+=r.length,c=l,o.push(this.createTypeIgnoreSpan(e,n,c+a)),n=o[o.length-1].endOffset,l+=1):l+=r.length+1})),c<t.length&&o.push(this.createSpan(e,t.substring(c),t.substring(c),n,a+c)),o}getRealText(e){return e?this._spans.filter((t=>t.inRealCell&&t.uri.toString()===e.toString())).map((e=>e.realText)).join(""):this._spans.filter((e=>e.inRealCell)).map((e=>e.realText)).join("")}createTextLines(e,t,n){return u(t).map((t=>{const r=this.createTextLine(e,t,n);return n=r,r}))}computeLinesUsingFunc(e,t){const n=[];let r;return e.forEach((e=>{const i=this._spans.filter((t=>t.uri.toString()==e.toString())).map(t).join("");n.push(...this.createTextLines(e,i,r)),r=n[n.length-1]})),n}computeLines(){const e=this.getCells();this._lines=this.computeLinesUsingFunc(e,(e=>e.text)),this._realLines=this.computeLinesUsingFunc(e,(e=>e.realText))}createTextLine(e,t,n){return new v(e,t,n?n.lineNumber+1:0,n?n.offset+n.rangeIncludingLineBreak.end.character:0)}getEndOffset(){return this._spans.length>0?this._spans[this._spans.length-1].endOffset:0}getRealEndOffset(){return this._spans.length>0?this._spans[this._spans.length-1].realEndOffset:0}createSerializableRange(e,t){return{start:{line:e.line,character:e.character},end:{line:t.line,character:t.character}}}computeInsertionIndex(e){var t,n;const r=(null===(n=null===(t=this._spans[this._spans.length-1])||void 0===t?void 0:t.uri)||void 0===n?void 0:n.scheme)===s?this._spans.length-1:this._spans.length,i=-1==e?this._spans.length:this._spans.findIndex((t=>t.fragment>e));return i<0?r:i}initialize(e){var n;if(!(null===(n=this._concatUri)||void 0===n?void 0:n.fsPath)){this._interactiveWindow=function(e){return e.fragment.includes(a)||e.scheme.includes(s)||e.scheme.includes(a)}(e);const n=_(e),r=l.join(n,`_NotebookConcat_${d.sha1(e.fsPath).substring(0,12)}.py`);this._concatUri=t.file(r),this._notebookUri=this._interactiveWindow?e.with({scheme:a,path:e.fsPath,fragment:""}):e.fragment.includes("untitled")?e.with({scheme:"untitled",path:e.fsPath,fragment:"",query:""}):t.file(e.fsPath)}}}class w{constructor(e,t,n=!1){this.getNotebookHeader=e,this.platformGetter=t,this.disableTypeIgnore=n,this.activeConcats=new Map,this.activeConcatsOutgoingMap=new Map,this.disposables=[],this.mapOfConcatDocumentsWithCellUris=new Map}getDocumentKey(e){if(e.scheme===s){const t=/InteractiveInput-(\d+)/.exec(e.path);if(t&&t[1])return`interactive-${t[1]}.interactive`}return e.scheme===a?e.path.toLowerCase():"win32"===this.platformGetter()?e.fsPath.toLowerCase():e.fsPath}dispose(){this.disposables.forEach((e=>e.dispose()))}hasCell(e){return this.getConcatDocument(e).contains(e.uri)}isOpen(e){const t=this.toURI(e),n=this.getDocumentKey(t),r=this.activeConcats.get(n);return!!r&&r.isOpen}handleOpen(e){const t=this.getConcatDocument(e.textDocument),n=null==t?void 0:t.handleOpen(e);return this.activeConcatsOutgoingMap.set(this.getDocumentKey(t.concatUri),t),n}handleRefresh(e){const t=e.cells.length?this.getConcatDocument(e.cells[0].textDocument):void 0;return null==t?void 0:t.handleRefresh(e)}handleClose(e){return this.getConcatDocument(e.textDocument.uri).handleClose(e)}handleChange(e){return this.getConcatDocument(e.textDocument.uri).handleChange(e)}toNotebookDiagnosticsMap(e,n){const r=this.getConcatDocumentForUri(e),i=new Map;if(r){const o=[],s=this.mapOfConcatDocumentsWithCellUris.get(e.toString())||[];r.getCells().forEach((e=>{i.set(e.toString(),[]),o.push(e.toString())}));const a=new Set(o);s.filter((e=>!a.has(e))).forEach((e=>i.set(e,[]))),this.mapOfConcatDocumentsWithCellUris.set(e.toString(),o),n.forEach((e=>{const n=r.notebookLocationAt(e.range);if(t.parse(n.uri).fragment){let t=i.get(n.uri);t||(t=[],i.set(n.uri,t)),t.push(this.toNotebookDiagnostic(n.uri,e))}}))}else this.mapOfConcatDocumentsWithCellUris.has(e.toString())?((this.mapOfConcatDocumentsWithCellUris.get(e.toString())||[]).forEach((e=>i.set(e,[]))),this.mapOfConcatDocumentsWithCellUris.delete(e.toString())):i.set(this.toURI(e).toString(),n);return i}toNotebookWorkspaceSymbols(e){return Array.isArray(e)?e.map(this.toNotebookWorkspaceSymbol.bind(this)):null!=e?e:void 0}toNotebookWorkspaceEdit(e){if(e){const t=new Map;(e.changes?Object.keys(e.changes):[]).forEach((n=>{e.changes[n].forEach((e=>{const r=this.toNotebookLocationFromRange(n,e.range);let i=t.get(r.uri);i||(i=[],t.set(r.uri,i)),i.push({...e,range:r.range})}))}));const n={changes:{}};return t.forEach(((e,t)=>n.changes[t]=e)),n}return null!=e?e:void 0}toConcatDocument(e){const t=this.getConcatDocument(e);return{text:t.getText(),uri:t.uri.toString(),languageId:t.languageId,version:t.version}}toConcatTextDocument(e){return this.getConcatDocument(e)}toConcatUri(e){return this.getConcatDocument(e).concatUri.toString()}toConcatPosition(e,t){return this.getConcatDocument(e).concatPositionAt(m(e.uri,f(t,t)))}toConcatPositions(e,t){return t.map((t=>this.toConcatPosition(e,t)))}toConcatRange(e,t){const n=this.getConcatDocument(e),r=this.toURI(e);return n.concatRangeOf(r)||t||f(g(0,0),g(0,0))}toRealRange(e,t){const n=this.getConcatDocument(e),r=this.toURI(e);return n.realRangeOf(r)||t||f(g(0,0),g(0,0))}toConcatContext(e,t){return{...t,diagnostics:t.diagnostics.map(this.toConcatDiagnostic.bind(this,e))}}toNotebookHover(e,t){return t&&t.range?{...t,range:this.toNotebookRange(e,t.range)}:null!=t?t:void 0}toNotebookCompletions(e,t){return t?Array.isArray(t)?t.map(this.toNotebookCompletion.bind(this,e)):{...t,items:t.items.map(this.toNotebookCompletion.bind(this,e))}:t}toNotebookLocations(e){return Array.isArray(e)?e.map(this.toNotebookLocationOrLink.bind(this)):(null==e?void 0:e.range)?this.toNotebookRange(e.uri,e.range):e}toNotebookHighlight(e,t){if(!t)return;const n=this.getConcatDocument(e),r=[];for(let i of t){const t=n.notebookLocationAt(i.range);t.uri.toString()===e.uri.toString()&&r.push({...i,range:t.range})}return r}toNotebookSymbols(e,t){return t&&Array.isArray(t)&&t.length?"kind"in t[0]?t.map(this.toNotebookSymbolFromSymbolInformation.bind(this,e.uri)):t.map(this.toNotebookSymbolFromDocumentSymbol.bind(this,e)):null!=t?t:void 0}toNotebookSymbolFromSymbolInformation(e,t){return{...t,location:"range"in t.location?this.toNotebookLocationFromRange(e,t.location.range):{uri:this.toNotebookUri(t.location.uri)}}}toNotebookDiagnostic(e,t){return{...t,range:this.toNotebookRange(e,t.range),relatedInformation:t.relatedInformation?t.relatedInformation.map(this.toNotebookRelatedInformation.bind(this,e)):void 0}}toNotebookActions(e,t){if(!Array.isArray(t))return null!=t?t:void 0}toNotebookCodeLenses(e,t){return Array.isArray(t)?t.map((t=>({...t,range:this.toNotebookRange(e,t.range)}))):null!=t?t:void 0}toNotebookEdits(e,t){return Array.isArray(t)?t.map((t=>({...t,range:this.toNotebookRange(e,t.range)}))):null!=t?t:void 0}toNotebookRename(e,t){return t?"range"in t?{...t,range:this.toNotebookRange(e,t.range)}:this.toNotebookRange(e,t):null!=t?t:void 0}toNotebookDocumentLinks(e,t){return t&&Array.isArray(t)?t.map((t=>{const n=t.target?t.target:e.uri,r=this.toNotebookLocationFromRange(n,t.range);return{...t,range:r.range,target:t.target?r.uri:void 0}})):null!=t?t:void 0}toNotebookRange(e,t){const n=this.getConcatDocumentForUri(e);if(n){const e=n.notebookLocationAt(t.start),r=n.notebookLocationAt(t.end);return f(e.range.start,r.range.end)}return t}toNotebookPosition(e,t){return this.toNotebookRange(e,f(t,t)).start}toNotebookOffset(e,t){const n=this.toURI(e);return this.getConcatDocument(e).notebookOffsetAt(n,t)}toNotebookUri(e,t){const n=this.getConcatDocumentForUri(e);let r;return n&&(r=t?n.notebookLocationAt(t).uri:n.notebookUri.toString()),r||e}toNotebookColorInformations(e,n){if(Array.isArray(n)){const r=this.toURI(e);return n.map((t=>({color:t.color,location:this.toNotebookLocationFromRange(e,t.range)}))).filter((e=>t.parse(e.location.uri).fragment==r.fragment)).map((e=>({color:e.color,range:e.location.range})))}}toNotebookColorPresentations(e,t){if(Array.isArray(t))return t.map((t=>({...t,additionalTextEdits:t.additionalTextEdits?this.toNotebookTextEdits(e,t.additionalTextEdits):void 0,textEdit:t.textEdit?this.toNotebookTextEdit(e,t.textEdit):void 0})))}toNotebookTextEdits(e,t){if(Array.isArray(t))return t.map((t=>this.toNotebookTextEdit(e,t)))}toNotebookTextEdit(e,t){return{...t,range:this.toNotebookRange(e,t.range)}}toNotebookFoldingRanges(e,t){if(Array.isArray(t)){const n=this.toURI(e);return t.map((t=>this.toNotebookLocationFromRange(e,f(g(t.startLine,0),g(t.endLine,0))))).filter((e=>e.uri==n.toString())).map((e=>({startLine:e.range.start.line,endLine:e.range.end.line})))}}toNotebookSelectionRanges(e,t){if(Array.isArray(t))return t.map((t=>this.toNotebookSelectionRange(e,t)))}toNotebookSelectionRange(e,t){return{parent:t.parent?this.toNotebookSelectionRange(e,t.parent):void 0,range:this.toNotebookRange(e,t.range)}}toNotebookCallHierarchyItems(e,t){return Array.isArray(t)?t.map((t=>this.toNotebookCallHierarchyItem(e,t))):t?[this.toNotebookCallHierarchyItem(e,t)]:null}toNotebookCallHierarchyItem(e,t){return{...t,uri:this.toURI(e).toString(),range:this.toNotebookRange(e,t.range),selectionRange:this.toNotebookRange(e,t.selectionRange)}}toNotebookCallHierarchyIncomingCallItems(e,t){return Array.isArray(t)?t.map((t=>this.toNotebookCallHierarchyIncomingCallItem(e,t))):null}toNotebookCallHierarchyIncomingCallItem(e,t){return{from:this.toNotebookCallHierarchyItem(e,t.from),fromRanges:t.fromRanges.map((t=>this.toNotebookRange(e,t)))}}toNotebookCallHierarchyOutgoingCallItems(e,t){return Array.isArray(t)?t.map((t=>this.toNotebookCallHierarchyOutgoingCallItem(e,t))):null}toNotebookCallHierarchyOutgoingCallItem(e,t){return{to:this.toNotebookCallHierarchyItem(e,t.to),fromRanges:t.fromRanges.map((t=>this.toNotebookRange(e,t)))}}toNotebookSemanticEdit(e,t){return{...t,start:this.toNotebookOffset(e,t.start)}}toNotebookSemanticTokens(e,t){if(t){const n=this.getConcatDocument(e),r=this.toURI(e);if(n&&t.data.length>0){const e=n.concatPositionAt(m(r.toString(),f(g(0,0),g(0,0))));return t.data[0]=t.data[0]-e.line,t}}}toNotebookLinkedEditingRanges(e,t){if(t)return{...t,ranges:t.ranges.map((t=>this.toNotebookRange(e,t)))}}remove(e){const t=this.toURI(e),n=this.getDocumentKey(t),r=this.activeConcats.get(n);r&&this.deleteConcatDocument(r)}toURI(e){return t.isUri(e)?e:"string"==typeof e?t.parse(e):t.parse(e.uri)}toNotebookWorkspaceSymbol(e){return this.toNotebookSymbolFromSymbolInformation(e.location.uri,e)}toConcatDiagnostic(e,t){return{...t,range:this.toConcatRange(e,t.range),relatedInformation:t.relatedInformation?t.relatedInformation.map(this.toConcatRelatedInformation.bind(this,e)):void 0}}toConcatRelatedInformation(e,t){const n=this.toConcatDocument(e);return{...t,location:t.location.uri===n.uri?this.toConcatLocation(e,t.location):t.location}}toConcatLocation(e,t){return{uri:this.toConcatDocument(e).uri,range:this.toConcatRange(e,t.range)}}toNotebookRelatedInformation(e,t){const n=this.toConcatUri(e);return{...t,location:t.location.uri===n?this.toNotebookLocationFromLocation(t.location):t.location}}toNotebookSymbolFromDocumentSymbol(e,t){return t.children?{...t,range:this.toNotebookRange(e,t.range),selectionRange:this.toNotebookRange(e,t.selectionRange),children:t.children.map(this.toNotebookSymbolFromDocumentSymbol.bind(this,e))}:{...t,range:this.toNotebookRange(e,t.range),selectionRange:this.toNotebookRange(e,t.selectionRange)}}toNotebookLocationFromLocation(e){const t=this.toNotebookUri(e.uri,e.range);return{uri:t,range:this.toNotebookRange(t,e.range)}}toNotebookLocationLinkFromLocationLink(e){const t=this.toNotebookUri(e.targetUri,e.targetRange);return{originSelectionRange:e.originSelectionRange?this.toNotebookRange(t,e.originSelectionRange):void 0,targetUri:t,targetRange:this.toNotebookRange(t,e.targetRange),targetSelectionRange:this.toNotebookRange(t,e.targetSelectionRange)}}toNotebookLocationOrLink(e){return"targetUri"in e?this.toNotebookLocationLinkFromLocationLink(e):this.toNotebookLocationFromLocation(e)}toNotebookCompletion(e,t){const n=t;return n.range?n.range.inserting?{...t,range:{inserting:this.toNotebookRange(e,n.range.inserting),replacing:this.toNotebookRange(e,n.range.replacing)}}:{...t,range:this.toNotebookRange(e,n.range)}:t}toNotebookLocationFromRange(e,t){const n=this.getConcatDocumentForUri(e);if(n){const e=n.notebookLocationAt(t.start),r=n.notebookLocationAt(t.end);return{uri:e.uri,range:f(e.range.start,r.range.end)}}return{uri:o.TextDocumentIdentifier.is(e)?e.uri:e,range:t}}deleteConcatDocument(e){this.activeConcatsOutgoingMap.delete(this.getDocumentKey(e.concatUri)),this.activeConcats.delete(e.key),e.dispose()}getConcatDocumentForUri(e){const t=this.toURI(e);return c(t)?this.getConcatDocument(t):this.getConcatFromOutgoingUri(t)}getConcatFromOutgoingUri(e){const t=this.toURI(e);return this.activeConcatsOutgoingMap.get(this.getDocumentKey(t))}getConcatDocument(e){const t=this.toURI(e),n=this.getDocumentKey(t);let r=this.activeConcats.get(n);return r||(r=new E(n,this.getNotebookHeader,this.disableTypeIgnore),this.activeConcats.set(n,r)),r}}function P(e,t,n=!1){return new w(e,t,n)}})(),e.exports=i})()},5623:e=>{"use strict";function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var o=r(e,t,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+e.length,o[1]),post:i.slice(o[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,o,s,a,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){if(e===t)return[c,u];for(r=[],o=n.length;l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(e,l+1)):1==r.length?a=[r.pop(),u]:((i=r.pop())<o&&(o=i,s=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;r.length&&(a=[o,s])}return a}e.exports=t,t.range=r},3644:(e,t,n)=>{var r=n(1048),i=n(5623);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),v(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(d)):[]};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function p(e){if(!e)return[""];var t=[],n=i("{","}",e);if(!n)return e.split(",");var r=n.pre,o=n.body,s=n.post,a=r.split(",");a[a.length-1]+="{"+o+"}";var c=p(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function h(e){return"{"+e+"}"}function f(e){return/^-?0\d/.test(e)}function g(e,t){return e<=t}function m(e,t){return e>=t}function v(e,t){var n=[],o=i("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var s,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),d=c||u,y=o.body.indexOf(",")>=0;if(!d&&!y)return o.post.match(/,.*\}/)?v(e=o.pre+"{"+o.body+a+o.post):[e];if(d)s=o.body.split(/\.\./);else if(1===(s=p(o.body)).length&&1===(s=v(s[0],!1).map(h)).length)return(_=o.post.length?v(o.post,!1):[""]).map((function(e){return o.pre+s[0]+e}));var b,S=o.pre,_=o.post.length?v(o.post,!1):[""];if(d){var E=l(s[0]),w=l(s[1]),P=Math.max(s[0].length,s[1].length),T=3==s.length?Math.abs(l(s[2])):1,C=g;w<E&&(T*=-1,C=m);var I=s.some(f);b=[];for(var R=E;C(R,w);R+=T){var D;if(u)"\\"===(D=String.fromCharCode(R))&&(D="");else if(D=String(R),I){var O=P-D.length;if(O>0){var k=new Array(O+1).join("0");D=R<0?"-"+k+D.slice(1):k+D}}b.push(D)}}else b=r(s,(function(e){return v(e,!1)}));for(var x=0;x<b.length;x++)for(var N=0;N<_.length;N++){var A=S+b[x]+_[N];(!t||d||A)&&n.push(A)}return n}},1048:e=>{e.exports=function(e,n){for(var r=[],i=0;i<e.length;i++){var o=n(e[i],i);t(o)?r.push.apply(r,o):r.push(o)}return r};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},9593:(e,t,n)=>{"use strict";const r=n(4411),i=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),d=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),f=()=>1,g=(e,t,n)=>{const r=e[p].get(t);if(r){const t=r.value;if(m(e,t)){if(y(e,r),!e[a])return}else n&&(e[h]&&(r.value.now=Date.now()),e[d].unshiftNode(r));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[c]&&n>e[c]},v=e=>{if(e[o]>e[i])for(let t=e[d].tail;e[o]>e[i]&&null!==t;){const n=t.prev;y(e,t),t=n}},y=(e,t)=>{if(t){const n=t.value;e[u]&&e[u](n.key,n.value),e[o]-=n.length,e[p].delete(n.key),e[d].removeNode(t)}};class b{constructor(e,t,n,r,i){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=i||0}}const S=(e,t,n,r)=>{let i=n.value;m(e,i)&&(y(e,n),e[a]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||f;if(this[s]="function"!=typeof t?f:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,v(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,v(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[s]&&(this[s]=e,this[o]=0,this[d].forEach((e=>{e.length=this[s](e.value,e.key),this[o]+=e.length}))),v(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;null!==n;){const r=n.prev;S(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[d].head;null!==n;){const r=n.next;S(this,e,n,t),n=r}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[u]&&this[d]&&this[d].length&&this[d].forEach((e=>this[u](e.key,e.value))),this[p]=new Map,this[d]=new r,this[o]=0}dump(){return this[d].map((e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,n){if((n=n||this[c])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,a=this[s](t,e);if(this[p].has(e)){if(a>this[i])return y(this,this[p].get(e)),!1;const s=this[p].get(e).value;return this[u]&&(this[l]||this[u](e,s.value)),s.now=r,s.maxAge=n,s.value=t,this[o]+=a-s.length,s.length=a,this.get(e),v(this),!0}const h=new b(e,t,a,r,n);return h.length>this[i]?(this[u]&&this[u](e,t),!1):(this[o]+=h.length,this[d].unshift(h),this[p].set(e,this[d].head),v(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!m(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[d].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const e=i-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[p].forEach(((e,t)=>g(this,t,!1)))}}},1171:(e,t,n)=>{e.exports=p,p.Minimatch=h;var r={sep:"/"};try{r=n(1017)}catch(e){}var i=p.GLOBSTAR=h.GLOBSTAR={},o=n(3644),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c="[^/]*?",u="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),l=/\/+/;function d(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function p(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new h(t,n).match(e))}function h(e,t){if(!(this instanceof h))return new h(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function f(e,t){if(t||(t=this instanceof h?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}p.filter=function(e,t){return t=t||{},function(n,r,i){return p(n,e,t)}},p.defaults=function(e){if(!e||!Object.keys(e).length)return p;var t=p,n=function(n,r,i){return t.minimatch(n,r,d(e,i))};return n.Minimatch=function(n,r){return new t.Minimatch(n,d(e,r))},n},h.defaults=function(e){return e&&Object.keys(e).length?p.defaults(e).Minimatch:h},h.prototype.debug=function(){},h.prototype.make=function(){if(!this._made){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(l)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n}else this.empty=!0;else this.comment=!0}},h.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=0;if(!this.options.nonegate){for(var r=0,i=e.length;r<i&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}},p.braceExpand=function(e,t){return f(e,t)},h.prototype.braceExpand=f,h.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return i;if(""===e)return"";var r,o="",l=!!n.nocase,d=!1,p=[],h=[],f=!1,m=-1,v=-1,y="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=this;function S(){if(r){switch(r){case"*":o+=c,l=!0;break;case"?":o+=a,l=!0;break;default:o+="\\"+r}b.debug("clearStateChar %j %j",r,o),r=!1}}for(var _,E=0,w=e.length;E<w&&(_=e.charAt(E));E++)if(this.debug("%s\t%s %s %j",e,E,o,_),d&&u[_])o+="\\"+_,d=!1;else switch(_){case"/":return!1;case"\\":S(),d=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,E,o,_),f){this.debug("  in class"),"!"===_&&E===v+1&&(_="^"),o+=_;continue}b.debug("call clearStateChar %j",r),S(),r=_,n.noext&&S();continue;case"(":if(f){o+="(";continue}if(!r){o+="\\(";continue}p.push({type:r,start:E-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(f||!p.length){o+="\\)";continue}S(),l=!0;var P=p.pop();o+=P.close,"!"===P.type&&h.push(P),P.reEnd=o.length;continue;case"|":if(f||!p.length||d){o+="\\|",d=!1;continue}S(),o+="|";continue;case"[":if(S(),f){o+="\\"+_;continue}f=!0,v=E,m=o.length,o+=_;continue;case"]":if(E===v+1||!f){o+="\\"+_,d=!1;continue}if(f){var T=e.substring(v+1,E);try{RegExp("["+T+"]")}catch(e){var C=this.parse(T,g);o=o.substr(0,m)+"\\["+C[0]+"\\]",l=l||C[1],f=!1;continue}}l=!0,f=!1,o+=_;continue;default:S(),d?d=!1:!u[_]||"^"===_&&f||(o+="\\"),o+=_}for(f&&(T=e.substr(v+1),C=this.parse(T,g),o=o.substr(0,m)+"\\["+C[0],l=l||C[1]),P=p.pop();P;P=p.pop()){var I=o.slice(P.reStart+P.open.length);this.debug("setting tail",o,P),I=I.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",I,I,P,o);var R="*"===P.type?c:"?"===P.type?a:"\\"+P.type;l=!0,o=o.slice(0,P.reStart)+R+"\\("+I}S(),d&&(o+="\\\\");var D=!1;switch(o.charAt(0)){case".":case"[":case"(":D=!0}for(var O=h.length-1;O>-1;O--){var k=h[O],x=o.slice(0,k.reStart),N=o.slice(k.reStart,k.reEnd-8),A=o.slice(k.reEnd-8,k.reEnd),j=o.slice(k.reEnd);A+=j;var M=x.split("(").length-1,L=j;for(E=0;E<M;E++)L=L.replace(/\)[+*?]?/,"");var F="";""===(j=L)&&t!==g&&(F="$"),o=x+N+j+F+A}if(""!==o&&l&&(o="(?=.)"+o),D&&(o=y+o),t===g)return[o,l];if(!l)return e.replace(/\\(.)/g,"$1");var q=n.nocase?"i":"";try{var U=new RegExp("^"+o+"$",q)}catch(e){return new RegExp("$.")}return U._glob=e,U._src=o,U};var g={};p.makeRe=function(e,t){return new h(e,t||{}).makeRe()},h.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===i?n:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},p.match=function(e,t,n){var r=new h(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},h.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/")),e=e.split(l),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],c=e;if(n.matchBase&&1===a.length&&(c=[i]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},h.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var u,l=t[s],d=e[o];if(this.debug(t,l,d),!1===l)return!1;if(l===i){this.debug("GLOBSTAR",[t,l,d]);var p=o,h=s+1;if(h===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug("\nglobstar while",e,p,t,h,f),this.matchOne(e.slice(p),t.slice(h),n))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,t,h);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",e,p,t,h),p!==a))}if("string"==typeof l?(u=r.nocase?d.toLowerCase()===l.toLowerCase():d===l,this.debug("string match",l,d,u)):(u=d.match(l),this.debug("pattern match",l,d,u)),!u)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},2257:(e,t,n)=>{const r=Symbol("SemVer ANY");class i{static get ANY(){return r}constructor(e,t){if(t=o(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new d(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new d(this.value,t).test(e.semver);const n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=c(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=c(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||r||o&&s||a||u}}e.exports=i;const o=n(2893),{re:s,t:a}=n(5765),c=n(7539),u=n(4225),l=n(6376),d=n(6902)},6902:(e,t,n)=>{class r{constructor(e,t){if(t=o(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!f(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&g(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,n=i.get(t);if(n)return n;const r=this.options.loose,o=r?u[l.HYPHENRANGELOOSE]:u[l.HYPHENRANGE];e=e.replace(o,I(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(u[l.COMPARATORTRIM],d),a("comparator trim",e);let c=(e=(e=(e=e.replace(u[l.TILDETRIM],p)).replace(u[l.CARETTRIM],h)).split(/\s+/).join(" ")).split(" ").map((e=>v(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));r&&(c=c.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(u[l.COMPARATORLOOSE]))))),a("range list",c);const g=new Map,m=c.map((e=>new s(e,this.options)));for(const e of m){if(f(e))return[e];g.set(e.value,e)}g.size>1&&g.has("")&&g.delete("");const y=[...g.values()];return i.set(t,y),y}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some((n=>m(n,t)&&e.set.some((e=>m(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(R(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const i=new(n(9593))({max:1e3}),o=n(2893),s=n(2257),a=n(4225),c=n(6376),{re:u,t:l,comparatorTrimReplace:d,tildeTrimReplace:p,caretTrimReplace:h}=n(5765),f=e=>"<0.0.0-0"===e.value,g=e=>""===e.value,m=(e,t)=>{let n=!0;const r=e.slice();let i=r.pop();for(;n&&r.length;)n=r.every((e=>i.intersects(e,t))),i=r.pop();return n},v=(e,t)=>(a("comp",e,t),e=_(e,t),a("caret",e),e=b(e,t),a("tildes",e),e=w(e,t),a("xrange",e),e=T(e,t),a("stars",e),e),y=e=>!e||"x"===e.toLowerCase()||"*"===e,b=(e,t)=>e.trim().split(/\s+/).map((e=>S(e,t))).join(" "),S=(e,t)=>{const n=t.loose?u[l.TILDELOOSE]:u[l.TILDE];return e.replace(n,((t,n,r,i,o)=>{let s;return a("tilde",e,t,n,r,i,o),y(n)?s="":y(r)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:y(i)?s=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:o?(a("replaceTilde pr",o),s=`>=${n}.${r}.${i}-${o} <${n}.${+r+1}.0-0`):s=`>=${n}.${r}.${i} <${n}.${+r+1}.0-0`,a("tilde return",s),s}))},_=(e,t)=>e.trim().split(/\s+/).map((e=>E(e,t))).join(" "),E=(e,t)=>{a("caret",e,t);const n=t.loose?u[l.CARETLOOSE]:u[l.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,i,o,s)=>{let c;return a("caret",e,t,n,i,o,s),y(n)?c="":y(i)?c=`>=${n}.0.0${r} <${+n+1}.0.0-0`:y(o)?c="0"===n?`>=${n}.${i}.0${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${r} <${+n+1}.0.0-0`:s?(a("replaceCaret pr",s),c="0"===n?"0"===i?`>=${n}.${i}.${o}-${s} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}-${s} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o}-${s} <${+n+1}.0.0-0`):(a("no pr"),c="0"===n?"0"===i?`>=${n}.${i}.${o}${r} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o} <${+n+1}.0.0-0`),a("caret return",c),c}))},w=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>P(e,t))).join(" ")),P=(e,t)=>{e=e.trim();const n=t.loose?u[l.XRANGELOOSE]:u[l.XRANGE];return e.replace(n,((n,r,i,o,s,c)=>{a("xRange",e,n,r,i,o,s,c);const u=y(i),l=u||y(o),d=l||y(s),p=d;return"="===r&&p&&(r=""),c=t.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(l&&(o=0),s=0,">"===r?(r=">=",l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",l?i=+i+1:o=+o+1),"<"===r&&(c="-0"),n=`${r+i}.${o}.${s}${c}`):l?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),a("xRange return",n),n}))},T=(e,t)=>(a("replaceStars",e,t),e.trim().replace(u[l.STAR],"")),C=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?l.GTE0PRE:l.GTE0],"")),I=e=>(t,n,r,i,o,s,a,c,u,l,d,p,h)=>`${n=y(r)?"":y(i)?`>=${r}.0.0${e?"-0":""}`:y(o)?`>=${r}.${i}.0${e?"-0":""}`:s?`>=${n}`:`>=${n}${e?"-0":""}`} ${c=y(u)?"":y(l)?`<${+u+1}.0.0-0`:y(d)?`<${u}.${+l+1}.0-0`:p?`<=${u}.${l}.${d}-${p}`:e?`<${u}.${l}.${+d+1}-0`:`<=${c}`}`.trim(),R=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(a(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},6376:(e,t,n)=>{const r=n(4225),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=n(3295),{re:s,t:a}=n(5765),c=n(2893),{compareIdentifiers:u}=n(6742);class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return u(n,i)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],i=e.build[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return u(n,i)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=l},3507:(e,t,n)=>{const r=n(3959);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},7539:(e,t,n)=>{const r=n(8718),i=n(1194),o=n(1312),s=n(5903),a=n(1544),c=n(2056);e.exports=(e,t,n,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,u);case"!=":return i(e,n,u);case">":return o(e,n,u);case">=":return s(e,n,u);case"<":return a(e,n,u);case"<=":return c(e,n,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},9038:(e,t,n)=>{const r=n(6376),i=n(3959),{re:o,t:s}=n(5765);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=o[s.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),o[s.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;o[s.COERCERTL].lastIndex=-1}else n=e.match(o[s.COERCE]);return null===n?null:i(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)}},8880:(e,t,n)=>{const r=n(6376);e.exports=(e,t,n)=>{const i=new r(e,n),o=new r(t,n);return i.compare(o)||i.compareBuild(o)}},7880:(e,t,n)=>{const r=n(6269);e.exports=(e,t)=>r(e,t,!0)},6269:(e,t,n)=>{const r=n(6376);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},2378:(e,t,n)=>{const r=n(3959),i=n(8718);e.exports=(e,t)=>{if(i(e,t))return null;{const n=r(e),i=r(t),o=n.prerelease.length||i.prerelease.length,s=o?"pre":"",a=o?"prerelease":"";for(const e in n)if(("major"===e||"minor"===e||"patch"===e)&&n[e]!==i[e])return s+e;return a}}},8718:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>0===r(e,t,n)},1312:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>r(e,t,n)>0},5903:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>r(e,t,n)>=0},253:(e,t,n)=>{const r=n(6376);e.exports=(e,t,n,i)=>{"string"==typeof n&&(i=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,i).version}catch(e){return null}}},1544:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>r(e,t,n)<0},2056:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>r(e,t,n)<=0},8679:(e,t,n)=>{const r=n(6376);e.exports=(e,t)=>new r(e,t).major},7789:(e,t,n)=>{const r=n(6376);e.exports=(e,t)=>new r(e,t).minor},1194:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>0!==r(e,t,n)},3959:(e,t,n)=>{const{MAX_LENGTH:r}=n(3295),{re:i,t:o}=n(5765),s=n(6376),a=n(2893);e.exports=(e,t)=>{if(t=a(t),e instanceof s)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?i[o.LOOSE]:i[o.FULL]).test(e))return null;try{return new s(e,t)}catch(e){return null}}},2358:(e,t,n)=>{const r=n(6376);e.exports=(e,t)=>new r(e,t).patch},7559:(e,t,n)=>{const r=n(3959);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},9795:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>r(t,e,n)},3657:(e,t,n)=>{const r=n(8880);e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))},5712:(e,t,n)=>{const r=n(6902);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},1100:(e,t,n)=>{const r=n(8880);e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))},6397:(e,t,n)=>{const r=n(3959);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},1249:(e,t,n)=>{const r=n(5765);e.exports={re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n(3295).SEMVER_SPEC_VERSION,SemVer:n(6376),compareIdentifiers:n(6742).compareIdentifiers,rcompareIdentifiers:n(6742).rcompareIdentifiers,parse:n(3959),valid:n(6397),clean:n(3507),inc:n(253),diff:n(2378),major:n(8679),minor:n(7789),patch:n(2358),prerelease:n(7559),compare:n(6269),rcompare:n(9795),compareLoose:n(7880),compareBuild:n(8880),sort:n(1100),rsort:n(3657),gt:n(1312),lt:n(1544),eq:n(8718),neq:n(1194),gte:n(5903),lte:n(2056),cmp:n(7539),coerce:n(9038),Comparator:n(2257),Range:n(6902),satisfies:n(5712),toComparators:n(1042),maxSatisfying:n(5775),minSatisfying:n(1657),minVersion:n(5316),validRange:n(9042),outside:n(6826),gtr:n(7606),ltr:n(32),intersects:n(2937),simplifyRange:n(7908),subset:n(799)}},3295:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},4225:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},6742:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),i=t.test(n);return r&&i&&(e=+e,n=+n),e===n?0:r&&!i?-1:i&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},2893:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},5765:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r}=n(3295),i=n(4225),o=(t=e.exports={}).re=[],s=t.src=[],a=t.t={};let c=0;const u=(e,t,n)=>{const r=c++;i(e,r,t),a[e]=r,s[r]=t,o[r]=new RegExp(t,n?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),u("FULL",`^${s[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),u("LOOSE",`^${s[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${s[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${s[a.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),u("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),u("COERCERTL",s[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},7606:(e,t,n)=>{const r=n(6826);e.exports=(e,t,n)=>r(e,t,">",n)},2937:(e,t,n)=>{const r=n(6902);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t))},32:(e,t,n)=>{const r=n(6826);e.exports=(e,t,n)=>r(e,t,"<",n)},5775:(e,t,n)=>{const r=n(6376),i=n(6902);e.exports=(e,t,n)=>{let o=null,s=null,a=null;try{a=new i(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&-1!==s.compare(e)||(o=e,s=new r(o,n)))})),o}},1657:(e,t,n)=>{const r=n(6376),i=n(6902);e.exports=(e,t,n)=>{let o=null,s=null,a=null;try{a=new i(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&1!==s.compare(e)||(o=e,s=new r(o,n)))})),o}},5316:(e,t,n)=>{const r=n(6376),i=n(6902),o=n(1312);e.exports=(e,t)=>{e=new i(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const i=e.set[t];let s=null;i.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!o(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||n&&!o(n,s)||(n=s)}return n&&e.test(n)?n:null}},6826:(e,t,n)=>{const r=n(6376),i=n(2257),{ANY:o}=i,s=n(6902),a=n(5712),c=n(1312),u=n(1544),l=n(2056),d=n(5903);e.exports=(e,t,n,p)=>{let h,f,g,m,v;switch(e=new r(e,p),t=new s(t,p),n){case">":h=c,f=l,g=u,m=">",v=">=";break;case"<":h=u,f=d,g=c,m="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,p))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let s=null,a=null;if(r.forEach((e=>{e.semver===o&&(e=new i(">=0.0.0")),s=s||e,a=a||e,h(e.semver,s.semver,p)?s=e:g(e.semver,a.semver,p)&&(a=e)})),s.operator===m||s.operator===v)return!1;if((!a.operator||a.operator===m)&&f(e,a.semver))return!1;if(a.operator===v&&g(e,a.semver))return!1}return!0}},7908:(e,t,n)=>{const r=n(5712),i=n(6269);e.exports=(e,t,n)=>{const o=[];let s=null,a=null;const c=e.sort(((e,t)=>i(e,t,n)));for(const e of c)r(e,t,n)?(a=e,s||(s=e)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);const u=[];for(const[e,t]of o)e===t?u.push(e):t||e!==c[0]?t?e===c[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const l=u.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return l.length<d.length?l:t}},799:(e,t,n)=>{const r=n(6902),i=n(2257),{ANY:o}=i,s=n(5712),a=n(6269),c=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=n.includePrerelease?[new i(">=0.0.0-0")]:[new i(">=0.0.0")]}if(1===t.length&&t[0].semver===o){if(n.includePrerelease)return!0;t=[new i(">=0.0.0")]}const r=new Set;let c,d,p,h,f,g,m;for(const t of e)">"===t.operator||">="===t.operator?c=u(c,t,n):"<"===t.operator||"<="===t.operator?d=l(d,t,n):r.add(t.semver);if(r.size>1)return null;if(c&&d){if(p=a(c.semver,d.semver,n),p>0)return null;if(0===p&&(">="!==c.operator||"<="!==d.operator))return null}for(const e of r){if(c&&!s(e,String(c),n))return null;if(d&&!s(e,String(d),n))return null;for(const r of t)if(!s(e,String(r),n))return!1;return!0}let v=!(!d||n.includePrerelease||!d.semver.prerelease.length)&&d.semver,y=!(!c||n.includePrerelease||!c.semver.prerelease.length)&&c.semver;v&&1===v.prerelease.length&&"<"===d.operator&&0===v.prerelease[0]&&(v=!1);for(const e of t){if(m=m||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,c)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),">"===e.operator||">="===e.operator){if(h=u(c,e,n),h===e&&h!==c)return!1}else if(">="===c.operator&&!s(c.semver,String(e),n))return!1;if(d)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if(f=l(d,e,n),f===e&&f!==d)return!1}else if("<="===d.operator&&!s(d.semver,String(e),n))return!1;if(!e.operator&&(d||c)&&0!==p)return!1}return!(c&&g&&!d&&0!==p||d&&m&&!c&&0!==p||y||v)},u=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},l=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let i=!1;e:for(const r of e.set){for(const e of t.set){const t=c(r,e,n);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},1042:(e,t,n)=>{const r=n(6902);e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},9042:(e,t,n)=>{const r=n(6902);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},3870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFormat=t.TraceValues=t.Trace=t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=void 0;const r=n(839);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return r.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return r.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return r.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return r.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return r.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return r.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return r.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return r.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return r.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return r.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return r.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return r.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return r.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return r.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return r.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return r.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return r.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return r.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return r.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return r.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return r.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return r.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return r.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return r.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return r.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return r.ParameterStructures}});const i=n(6184);Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return i.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return i.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return i.Touch}});const o=n(3911);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return o.Disposable}});const s=n(7135);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return s.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return s.Emitter}});const a=n(3881);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return a.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return a.CancellationToken}});const c=n(6525);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return c.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return c.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return c.ReadableStreamMessageReader}});const u=n(6654);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return u.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return u.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return u.WriteableStreamMessageWriter}});const l=n(1343);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return l.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return l.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return l.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return l.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return l.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return l.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return l.Trace}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return l.TraceValues}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return l.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return l.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return l.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return l.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return l.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return l.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return l.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return l.CancellationStrategy}});const d=n(147);t.RAL=d.default},3881:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const r=n(147),i=n(7574),o=n(7135);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None}),e.is=function(t){const n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));const a=Object.freeze((function(e,t){const n=(0,r.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}));class c{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new c),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof c&&this._token.dispose():this._token=s.None}}},1343:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;const r=n(147),i=n(7574),o=n(839),s=n(6184),a=n(7135),c=n(3881);var u,l,d,p,h,f,g,m,v,y,b,S,_,E,w;!function(e){e.type=new o.NotificationType("$/cancelRequest")}(u||(u={})),function(e){e.is=function(e){return"string"==typeof e||"number"==typeof e}}(l=t.ProgressToken||(t.ProgressToken={})),function(e){e.type=new o.NotificationType("$/progress")}(d||(d={})),t.ProgressType=class{constructor(){}},function(e){e.is=function(e){return i.func(e)}}(p||(p={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"}(h=t.Trace||(t.Trace={})),(w=t.TraceValues||(t.TraceValues={})).Off="off",w.Messages="messages",w.Compact="compact",w.Verbose="verbose",function(e){e.fromString=function(t){if(!i.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":default:return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}}(h=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return i.string(t)&&"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(f=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTrace")}(g=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTrace")}(m=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(v=t.ConnectionErrors||(t.ConnectionErrors={}));class P extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,P.prototype)}}t.ConnectionError=P,function(e){e.is=function(e){const t=e;return t&&i.func(t.cancelUndispatched)}}(y=t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new c.CancellationTokenSource}),e.is=function(e){const t=e;return t&&i.func(t.createCancellationTokenSource)}}(b=t.CancellationReceiverStrategy||(t.CancellationReceiverStrategy={})),function(e){e.Message=Object.freeze({sendCancellation:(e,t)=>e.sendNotification(u.type,{id:t}),cleanup(e){}}),e.is=function(e){const t=e;return t&&i.func(t.sendCancellation)&&i.func(t.cleanup)}}(S=t.CancellationSenderStrategy||(t.CancellationSenderStrategy={})),function(e){e.Message=Object.freeze({receiver:b.Message,sender:S.Message}),e.is=function(e){const t=e;return t&&b.is(t.receiver)&&S.is(t.sender)}}(_=t.CancellationStrategy||(t.CancellationStrategy={})),(t.ConnectionOptions||(t.ConnectionOptions={})).is=function(e){const t=e;return t&&(_.is(t.cancellationStrategy)||y.is(t.connectionStrategy))},function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(E||(E={})),t.createMessageConnection=function(e,n,y,b){const S=void 0!==y?y:t.NullLogger;let w=0,T=0,C=0;const I="2.0";let R;const D=new Map;let O;const k=new Map,x=new Map;let N,A,j=new s.LinkedMap,M=new Map,L=new Set,F=new Map,q=h.Off,U=f.Text,W=E.New;const V=new a.Emitter,H=new a.Emitter,$=new a.Emitter,B=new a.Emitter,G=new a.Emitter,K=b&&b.cancellationStrategy?b.cancellationStrategy:_.Message;function z(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function Y(e){}function J(){return W===E.Listening}function X(){return W===E.Closed}function Q(){return W===E.Disposed}function Z(){W!==E.New&&W!==E.Listening||(W=E.Closed,H.fire(void 0))}function ee(){N||0===j.size||(N=(0,r.default)().timer.setImmediate((()=>{N=void 0,function(){if(0===j.size)return;const e=j.shift();try{o.Message.isRequest(e)?function(e){if(Q())return;function t(t,r,i){const s={jsonrpc:I,id:e.id};t instanceof o.ResponseError?s.error=t.toJson():s.result=void 0===t?null:t,re(s,r,i),n.write(s).catch((()=>S.error("Sending response failed.")))}function r(t,r,i){const o={jsonrpc:I,id:e.id,error:t.toJson()};re(o,r,i),n.write(o).catch((()=>S.error("Sending response failed.")))}!function(e){if(q!==h.Off&&A)if(U===f.Text){let t;q!==h.Verbose&&q!==h.Compact||!e.params||(t=`Params: ${ne(e.params)}\n\n`),A.log(`Received request '${e.method} - (${e.id})'.`,t)}else oe("receive-request",e)}(e);const s=D.get(e.method);let a,c;s&&(a=s.type,c=s.handler);const u=Date.now();if(c||R){const s=e.id??String(Date.now()),l=K.receiver.createCancellationTokenSource(s);null!==e.id&&L.has(e.id)&&l.cancel(),null!==e.id&&F.set(s,l);try{let d;if(c)if(void 0===e.params){if(void 0!==a&&0!==a.numberOfParams)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines ${a.numberOfParams} params but received none.`),e.method,u);d=c(l.token)}else if(Array.isArray(e.params)){if(void 0!==a&&a.parameterStructures===o.ParameterStructures.byName)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,u);d=c(...e.params,l.token)}else{if(void 0!==a&&a.parameterStructures===o.ParameterStructures.byPosition)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,u);d=c(e.params,l.token)}else R&&(d=R(e.method,e.params,l.token));const p=d;d?p.then?p.then((n=>{F.delete(s),t(n,e.method,u)}),(t=>{F.delete(s),t instanceof o.ResponseError?r(t,e.method,u):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)})):(F.delete(s),t(d,e.method,u)):(F.delete(s),function(t,r,i){void 0===t&&(t=null);const o={jsonrpc:I,id:e.id,result:t};re(o,r,i),n.write(o).catch((()=>S.error("Sending response failed.")))}(d,e.method,u))}catch(n){F.delete(s),n instanceof o.ResponseError?t(n,e.method,u):n&&i.string(n.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${n.message}`),e.method,u):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else r(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,u)}(e):o.Message.isNotification(e)?function(e){if(Q())return;let t,n;if(e.method===u.type.method){const t=e.params.id;return L.delete(t),void ie(e)}{const r=k.get(e.method);r&&(n=r.handler,t=r.type)}if(n||O)try{if(ie(e),n)if(void 0===e.params)void 0!==t&&0!==t.numberOfParams&&t.parameterStructures!==o.ParameterStructures.byName&&S.error(`Notification ${e.method} defines ${t.numberOfParams} params but received none.`),n();else if(Array.isArray(e.params)){const r=e.params;e.method===d.type.method&&2===r.length&&l.is(r[0])?n({token:r[0],value:r[1]}):(void 0!==t&&(t.parameterStructures===o.ParameterStructures.byName&&S.error(`Notification ${e.method} defines parameters by name but received parameters by position`),t.numberOfParams!==e.params.length&&S.error(`Notification ${e.method} defines ${t.numberOfParams} params but received ${r.length} arguments`)),n(...r))}else void 0!==t&&t.parameterStructures===o.ParameterStructures.byPosition&&S.error(`Notification ${e.method} defines parameters by position but received parameters by name`),n(e.params);else O&&O(e.method,e.params)}catch(t){t.message?S.error(`Notification handler '${e.method}' failed with message: ${t.message}`):S.error(`Notification handler '${e.method}' failed unexpectedly.`)}else $.fire(e)}(e):o.Message.isResponse(e)?function(e){if(!Q())if(null===e.id)e.error?S.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):S.error("Received response message without id. No further error information provided.");else{const t=e.id,n=M.get(t);if(function(e,t){if(q!==h.Off&&A)if(U===f.Text){let n;if(q!==h.Verbose&&q!==h.Compact||(e.error&&e.error.data?n=`Error data: ${ne(e.error.data)}\n\n`:e.result?n=`Result: ${ne(e.result)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";A.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else A.log(`Received response ${e.id} without active response promise.`,n)}else oe("receive-response",e)}(e,n),void 0!==n){M.delete(t);try{if(e.error){const t=e.error;n.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?S.error(`Response handler '${n.method}' failed with message: ${e.message}`):S.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void S.error("Received empty message.");S.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);const t=e;if(i.string(t.id)||i.number(t.id)){const e=t.id,n=M.get(e);n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{ee()}}()})))}e.onClose(Z),e.onError((function(e){V.fire([e,void 0,void 0])})),n.onClose(Z),n.onError((function(e){V.fire(e)}));const te=e=>{try{if(o.Message.isNotification(e)&&e.method===u.type.method){const t=e.params.id,r=z(t),i=j.get(r);if(o.Message.isRequest(i)){const o=b?.connectionStrategy,s=o&&o.cancelUndispatched?o.cancelUndispatched(i,Y):void 0;if(s&&(void 0!==s.error||void 0!==s.result))return j.delete(r),F.delete(t),s.id=i.id,re(s,e.method,Date.now()),void n.write(s).catch((()=>S.error("Sending response for canceled message failed.")))}const s=F.get(t);if(void 0!==s)return s.cancel(),void ie(e);L.add(t)}!function(e,t){var n;o.Message.isRequest(t)?e.set(z(t.id),t):o.Message.isResponse(t)?e.set(null===(n=t.id)?"res-unknown-"+(++C).toString():"res-"+n.toString(),t):e.set("not-"+(++T).toString(),t)}(j,e)}finally{ee()}};function ne(e){if(null!=e)switch(q){case h.Verbose:return JSON.stringify(e,null,4);case h.Compact:return JSON.stringify(e);default:return}}function re(e,t,n){if(q!==h.Off&&A)if(U===f.Text){let r;q!==h.Verbose&&q!==h.Compact||(e.error&&e.error.data?r=`Error data: ${ne(e.error.data)}\n\n`:e.result?r=`Result: ${ne(e.result)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),A.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else oe("send-response",e)}function ie(e){if(q!==h.Off&&A&&e.method!==m.type.method)if(U===f.Text){let t;q!==h.Verbose&&q!==h.Compact||(t=e.params?`Params: ${ne(e.params)}\n\n`:"No parameters provided.\n\n"),A.log(`Received notification '${e.method}'.`,t)}else oe("receive-notification",e)}function oe(e,t){if(!A||q===h.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};A.log(n)}function se(){if(X())throw new P(v.Closed,"Connection is closed.");if(Q())throw new P(v.Disposed,"Connection is disposed.")}function ae(e){return void 0===e?null:e}function ce(e){return null===e?void 0:e}function ue(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function le(e,t){switch(e){case o.ParameterStructures.auto:return ue(t)?ce(t):[ae(t)];case o.ParameterStructures.byName:if(!ue(t))throw new Error("Received parameters by name but param is not an object literal.");return ce(t);case o.ParameterStructures.byPosition:return[ae(t)];default:throw new Error(`Unknown parameter structure ${e.toString()}`)}}function de(e,t){let n;const r=e.numberOfParams;switch(r){case 0:n=void 0;break;case 1:n=le(e.parameterStructures,t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(ae(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}const pe={sendNotification:(e,...t)=>{let r,s;if(se(),i.string(e)){r=e;const n=t[0];let i=0,a=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(i=1,a=n);let c=t.length;const u=c-i;switch(u){case 0:s=void 0;break;case 1:s=le(a,t[i]);break;default:if(a===o.ParameterStructures.byName)throw new Error(`Received ${u} parameters for 'by Name' notification parameter structure.`);s=t.slice(i,c).map((e=>ae(e)))}}else{const n=t;r=e.method,s=de(e,n)}const a={jsonrpc:I,method:r,params:s};return function(e){if(q!==h.Off&&A)if(U===f.Text){let t;q!==h.Verbose&&q!==h.Compact||(t=e.params?`Params: ${ne(e.params)}\n\n`:"No parameters provided.\n\n"),A.log(`Sending notification '${e.method}'.`,t)}else oe("send-notification",e)}(a),n.write(a).catch((()=>S.error("Sending notification failed.")))},onNotification:(e,t)=>{let n;return se(),i.func(e)?O=e:t&&(i.string(e)?(n=e,k.set(e,{type:void 0,handler:t})):(n=e.method,k.set(e.method,{type:e,handler:t}))),{dispose:()=>{void 0!==n?k.delete(n):O=void 0}}},onProgress:(e,t,n)=>{if(x.has(t))throw new Error(`Progress handler for token ${t} already registered`);return x.set(t,n),{dispose:()=>{x.delete(t)}}},sendProgress:(e,t,n)=>pe.sendNotification(d.type,{token:t,value:n}),onUnhandledProgress:B.event,sendRequest:(e,...t)=>{let r,s,a;if(se(),function(){if(!J())throw new Error("Call listen() first.")}(),i.string(e)){r=e;const n=t[0],i=t[t.length-1];let u=0,l=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(u=1,l=n);let d=t.length;c.CancellationToken.is(i)&&(d-=1,a=i);const p=d-u;switch(p){case 0:s=void 0;break;case 1:s=le(l,t[u]);break;default:if(l===o.ParameterStructures.byName)throw new Error(`Received ${p} parameters for 'by Name' request parameter structure.`);s=t.slice(u,d).map((e=>ae(e)))}}else{const n=t;r=e.method,s=de(e,n);const i=e.numberOfParams;a=c.CancellationToken.is(n[i])?n[i]:void 0}const u=w++;let l;return a&&(l=a.onCancellationRequested((()=>{const e=K.sender.sendCancellation(pe,u);return void 0===e?(S.log(`Received no promise from cancellation strategy when cancelling id ${u}`),Promise.resolve()):e.catch((()=>{S.log(`Sending cancellation messages for id ${u} failed`)}))}))),new Promise(((e,t)=>{const i={jsonrpc:I,id:u,method:r,params:s};let a={method:r,timerStart:Date.now(),resolve:t=>{e(t),K.sender.cleanup(u),l?.dispose()},reject:e=>{t(e),K.sender.cleanup(u),l?.dispose()}};!function(e){if(q!==h.Off&&A)if(U===f.Text){let t;q!==h.Verbose&&q!==h.Compact||!e.params||(t=`Params: ${ne(e.params)}\n\n`),A.log(`Sending request '${e.method} - (${e.id})'.`,t)}else oe("send-request",e)}(i);try{n.write(i).catch((()=>S.error("Sending request failed.")))}catch(e){a.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),a=null}a&&M.set(u,a)}))},onRequest:(e,t)=>{se();let n=null;return p.is(e)?(n=void 0,R=e):i.string(e)?(n=null,void 0!==t&&(n=e,D.set(e,{handler:t,type:void 0}))):void 0!==t&&(n=e.method,D.set(e.method,{type:e,handler:t})),{dispose:()=>{null!==n&&(void 0!==n?D.delete(n):R=void 0)}}},hasPendingResponse:()=>M.size>0,trace:async(e,t,n)=>{let r=!1,o=f.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,o=n.traceFormat||f.Text)),q=e,U=o,A=q===h.Off?void 0:t,!r||X()||Q()||await pe.sendNotification(g.type,{value:h.toString(e)})},onError:V.event,onClose:H.event,onUnhandledNotification:$.event,onDispose:G.event,end:()=>{n.end()},dispose:()=>{if(Q())return;W=E.Disposed,G.fire(void 0);const t=new o.ResponseError(o.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const e of M.values())e.reject(t);M=new Map,F=new Map,L=new Set,j=new s.LinkedMap,i.func(n.dispose)&&n.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{se(),function(){if(J())throw new P(v.AlreadyListening,"Connection is already listening")}(),W=E.Listening,e.listen(te)},inspect:()=>{(0,r.default)().console.log("inspect")}};return pe.onNotification(m.type,(e=>{if(q===h.Off||!A)return;const t=q===h.Verbose||q===h.Compact;A.log(e.message,t?e.verbose:void 0)})),pe.onNotification(d.type,(e=>{const t=x.get(e.token);t?t(e.value):B.fire(e)})),pe}},3911:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,(t.Disposable||(t.Disposable={})).create=function(e){return{dispose:e}}},7135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const r=n(147);!function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class i{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(e){(0,r.default)().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class o{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new i),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),r.dispose=o._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=o,o._noop=function(){}},7574:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))}},6184:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(r=t.Touch||(t.Touch={}));class i{constructor(){this[n]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=r.None){const n=this._map.get(e);if(n)return t!==r.None&&this.touch(n,t),n.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.key,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.value,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:[t.key,t.value],done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}[(n=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}t.LinkedMap=i,t.LRUCache=class extends i{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=r.AsNew){return super.get(e,t)}peek(e){return super.get(e,r.None)}set(e,t){return super.set(e,t,r.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},5530:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0,t.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let e=0,t=0,n=0,r=0;e:for(;t<this._chunks.length;){const i=this._chunks[t];for(n=0;n<i.length;){switch(i[n]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}r+=i.byteLength,t++}if(4!==e)return;const i=this._read(r+n),o=new Map,s=this.toString(i,"ascii").split("\r\n");if(s.length<2)return o;for(let e=0;e<s.length-2;e++){const t=s[e],n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");const r=t.substr(0,n),i=t.substr(n+1).trim();o.set(r,i)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],n=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,n}const t=this.allocNative(e);let n=0;for(;e>0;){const r=this._chunks[0];if(r.byteLength>e){const i=r.slice(0,e);t.set(i,n),n+=e,this._chunks[0]=r.slice(e),this._totalLength-=e,e-=e}else t.set(r,n),n+=r.byteLength,this._chunks.shift(),this._totalLength-=r.byteLength,e-=r.byteLength}return t}}},6525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const r=n(147),i=n(7574),o=n(7135);var s;(t.MessageReader||(t.MessageReader={})).is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)};class a{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter,this.partialMessageEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=a,function(e){e.fromOptions=function(e){let t,n;const i=new Map;let o;const s=new Map;if(void 0===e||"string"==typeof e)t=e??"utf-8";else{if(t=e.charset??"utf-8",void 0!==e.contentDecoder&&(n=e.contentDecoder,i.set(n.name,n)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)i.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(o=e.contentTypeDecoder,s.set(o.name,o)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)s.set(t.name,t)}return void 0===o&&(o=(0,r.default)().applicationJson.decoder,s.set(o.name,o)),{charset:t,contentDecoder:n,contentDecoders:i,contentTypeDecoder:o,contentTypeDecoders:s}}}(s||(s={})),t.ReadableStreamMessageReader=class extends a{constructor(e,t){super(),this.readable=e,this.options=s.fromOptions(t),this.buffer=(0,r.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData((e=>{this.onData(e)}));return this.readable.onError((e=>this.fireError(e))),this.readable.onClose((()=>this.fireClose())),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then((e=>{this.options.contentTypeDecoder.decode(e,this.options).then((e=>{this.callback(e)}),(e=>{this.fireError(e)}))}),(e=>{this.fireError(e)}))}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=(0,r.default)().timer.setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},6654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const r=n(147),i=n(7574),o=n(142),s=n(7135);var a;(t.MessageWriter||(t.MessageWriter={})).is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)};class c{constructor(){this.errorEmitter=new s.Emitter,this.closeEmitter=new s.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=c,function(e){e.fromOptions=function(e){return void 0===e||"string"==typeof e?{charset:e??"utf-8",contentTypeEncoder:(0,r.default)().applicationJson.encoder}:{charset:e.charset??"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:e.contentTypeEncoder??(0,r.default)().applicationJson.encoder}}}(a||(a={})),t.WriteableStreamMessageWriter=class extends c{constructor(e,t){super(),this.writable=e,this.options=a.fromOptions(t),this.errorCount=0,this.writeSemaphore=new o.Semaphore(1),this.writable.onError((e=>this.fireError(e))),this.writable.onClose((()=>this.fireClose()))}async write(e){return this.writeSemaphore.lock((async()=>this.options.contentTypeEncoder.encode(e,this.options).then((e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e)).then((t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)}),(e=>{throw this.fireError(e),e}))))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const r=n(7574);var i,o;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3}(i=t.ErrorCodes||(t.ErrorCodes={}));class s extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,s.prototype)}toJson(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),e}}t.ResponseError=s;class a{constructor(e){this.kind=e}static is(e){return e===a.auto||e===a.byName||e===a.byPosition}toString(){return this.kind}}t.ParameterStructures=a,a.auto=new a("auto"),a.byPosition=new a("byPosition"),a.byName=new a("byName");class c{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return a.auto}}t.AbstractMessageSignature=c,t.RequestType0=class extends c{constructor(e){super(e,0)}},t.RequestType=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType1=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType2=class extends c{constructor(e){super(e,2)}},t.RequestType3=class extends c{constructor(e){super(e,3)}},t.RequestType4=class extends c{constructor(e){super(e,4)}},t.RequestType5=class extends c{constructor(e){super(e,5)}},t.RequestType6=class extends c{constructor(e){super(e,6)}},t.RequestType7=class extends c{constructor(e){super(e,7)}},t.RequestType8=class extends c{constructor(e){super(e,8)}},t.RequestType9=class extends c{constructor(e){super(e,9)}},t.NotificationType=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType0=class extends c{constructor(e){super(e,0)}},t.NotificationType1=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType2=class extends c{constructor(e){super(e,2)}},t.NotificationType3=class extends c{constructor(e){super(e,3)}},t.NotificationType4=class extends c{constructor(e){super(e,4)}},t.NotificationType5=class extends c{constructor(e){super(e,5)}},t.NotificationType6=class extends c{constructor(e){super(e,6)}},t.NotificationType7=class extends c{constructor(e){super(e,7)}},t.NotificationType8=class extends c{constructor(e){super(e,8)}},t.NotificationType9=class extends c{constructor(e){super(e,9)}},(o=t.Message||(t.Message={})).isRequest=function(e){const t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},o.isNotification=function(e){const t=e;return t&&r.string(t.method)&&void 0===e.id},o.isResponse=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},147:(e,t)=>{"use strict";let n;function r(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(r||(r={})),t.default=r},142:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const r=n(147);t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,r.default)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},4389:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.createServerSocketTransport=t.createClientSocketTransport=t.createServerPipeTransport=t.createClientPipeTransport=t.generateRandomPipeName=t.StreamMessageWriter=t.StreamMessageReader=t.SocketMessageWriter=t.SocketMessageReader=t.IPCMessageWriter=t.IPCMessageReader=void 0;const o=n(3034);o.default.install();const s=n(3870),a=n(1017),c=n(2037),u=n(6113),l=n(1808);i(n(3870),t);class d extends s.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){return this.process.on("message",e),s.Disposable.create((()=>this.process.off("message",e)))}}t.IPCMessageReader=d;class p extends s.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){try{return"function"==typeof this.process.send&&this.process.send(e,void 0,void 0,(t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0})),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.IPCMessageWriter=p;class h extends s.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,o.default)().stream.asReadableStream(e),t)}}t.SocketMessageReader=h;class f extends s.WriteableStreamMessageWriter{constructor(e,t){super((0,o.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}}t.SocketMessageWriter=f;class g extends s.ReadableStreamMessageReader{constructor(e,t){super((0,o.default)().stream.asReadableStream(e),t)}}t.StreamMessageReader=g;class m extends s.WriteableStreamMessageWriter{constructor(e,t){super((0,o.default)().stream.asWritableStream(e),t)}}t.StreamMessageWriter=m;const v=process.env.XDG_RUNTIME_DIR,y=new Map([["linux",107],["darwin",103]]);t.generateRandomPipeName=function(){const e=(0,u.randomBytes)(21).toString("hex");if("win32"===process.platform)return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;t=v?a.join(v,`vscode-ipc-${e}.sock`):a.join(c.tmpdir(),`vscode-${e}.sock`);const n=y.get(process.platform);return void 0!==n&&t.length>=n&&(0,o.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t},t.createClientPipeTransport=function(e,t="utf-8"){let n;const r=new Promise(((e,t)=>{n=e}));return new Promise(((i,o)=>{let s=(0,l.createServer)((e=>{s.close(),n([new h(e,t),new f(e,t)])}));s.on("error",o),s.listen(e,(()=>{s.removeListener("error",o),i({onConnected:()=>r})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const n=(0,l.createConnection)(e);return[new h(n,t),new f(n,t)]},t.createClientSocketTransport=function(e,t="utf-8"){let n;const r=new Promise(((e,t)=>{n=e}));return new Promise(((i,o)=>{const s=(0,l.createServer)((e=>{s.close(),n([new h(e,t),new f(e,t)])}));s.on("error",o),s.listen(e,"127.0.0.1",(()=>{s.removeListener("error",o),i({onConnected:()=>r})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const n=(0,l.createConnection)(e,"127.0.0.1");return[new h(n,t),new f(n,t)]},t.createMessageConnection=function(e,t,n,r){n||(n=s.NullLogger);const i=function(e){const t=e;return void 0!==t.read&&void 0!==t.addListener}(e)?new g(e):e,o=function(e){const t=e;return void 0!==t.write&&void 0!==t.addListener}(t)?new m(t):t;return s.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,s.createMessageConnection)(i,o,n,r)}},3034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(147),i=n(3837),o=n(3911),s=n(5530);class a extends s.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return a.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new i.TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}}a.emptyBuffer=Buffer.allocUnsafe(0);class c{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),o.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),o.Disposable.create((()=>this.stream.off("end",e)))}onData(e){return this.stream.on("data",e),o.Disposable.create((()=>this.stream.off("data",e)))}}class u{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),o.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),o.Disposable.create((()=>this.stream.off("end",e)))}write(e,t){return new Promise(((n,r)=>{const i=e=>{null==e?n():r(e)};"string"==typeof e?this.stream.write(e,t,i):this.stream.write(e,i)}))}end(){this.stream.end()}}const l=Object.freeze({messageBuffer:Object.freeze({create:e=>new a(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(e){return Promise.reject(e)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new i.TextDecoder(t.charset).decode(e)))}catch(e){return Promise.reject(e)}}})}),stream:Object.freeze({asReadableStream:e=>new c(e),asWritableStream:e=>new u(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){const r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){const n=setImmediate(e,...t);return{dispose:()=>clearImmediate(n)}},setInterval(e,t,...n){const r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function d(){return l}!function(e){e.install=function(){r.default.install(l)}}(d||(d={})),t.default=d},5028:(e,t,n)=>{"use strict";e.exports=n(4389)},5734:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticPullMode=t.vsdiag=void 0,i(n(273),t),i(n(8909),t);var o=n(2570);Object.defineProperty(t,"vsdiag",{enumerable:!0,get:function(){return o.vsdiag}}),Object.defineProperty(t,"DiagnosticPullMode",{enumerable:!0,get:function(){return o.DiagnosticPullMode}}),i(n(4384),t)},5578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){const r=this.client,o=this.middleware,s=(e,t,n)=>{const o=r.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return r.sendRequest(i.CallHierarchyPrepareRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyItems(e,n)),(e=>r.handleFailedRequest(i.CallHierarchyPrepareRequest.type,n,e,null)))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(i.CallHierarchyIncomingCallsRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(e,t)),(e=>n.handleFailedRequest(i.CallHierarchyIncomingCallsRequest.type,t,e,null)))};return r.provideCallHierarchyIncomingCalls?r.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(i.CallHierarchyOutgoingCallsRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(e,t)),(e=>n.handleFailedRequest(i.CallHierarchyOutgoingCallsRequest.type,t,e,null)))};return r.provideCallHierarchyOutgoingCalls?r.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}}class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){const t=e;(0,o.ensure)((0,o.ensure)(t,"textDocument"),"callHierarchy").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.callHierarchyProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=this._client,n=new s(t);return[r.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}}t.CallHierarchyFeature=a},4384:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.BaseLanguageClient=t.MessageTransports=t.SuspendMode=t.State=t.CloseAction=t.ErrorAction=t.RevealOutputChannelOn=void 0;const r=n(9496),i=n(273),o=n(71),s=n(8785),a=n(9763),c=n(4904),u=n(1980),l=n(8071),d=n(8909),p=n(2570),h=n(203),f=n(6495),g=n(743),m=n(1435),v=n(6782),y=n(122),b=n(2908),S=n(9959),_=n(2483),E=n(3051),w=n(8480),P=n(9474),T=n(7711),C=n(6426),I=n(6458),R=n(3471),D=n(4849),O=n(5338),k=n(3069),x=n(9889),N=n(328),A=n(5941),j=n(6454),M=n(707),L=n(750),F=n(3603),q=n(5578),U=n(9957),W=n(8406),V=n(3483),H=n(4175),$=n(5098),B=n(6190);var G,K,z,Y,J,X,Q;!function(e){e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Never=4]="Never"}(G=t.RevealOutputChannelOn||(t.RevealOutputChannelOn={})),function(e){e[e.Continue=1]="Continue",e[e.Shutdown=2]="Shutdown"}(K=t.ErrorAction||(t.ErrorAction={})),function(e){e[e.DoNotRestart=1]="DoNotRestart",e[e.Restart=2]="Restart"}(z=t.CloseAction||(t.CloseAction={})),function(e){e[e.Stopped=1]="Stopped",e[e.Starting=3]="Starting",e[e.Running=2]="Running"}(Y=t.State||(t.State={})),(Q=t.SuspendMode||(t.SuspendMode={})).off="off",Q.on="on";class Z{constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:K.Continue}:{action:K.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:z.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?{action:z.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:z.Restart})}}!function(e){e.Initial="initial",e.Starting="starting",e.StartFailed="startFailed",e.Running="running",e.Stopping="stopping",e.Stopped="stopped"}(J||(J={})),(t.MessageTransports||(t.MessageTransports={})).is=function(e){return e&&i.MessageReader.is(e.reader)&&i.MessageWriter.is(e.writer)};class ee{constructor(e,t,n){this._traceFormat=i.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new c.Semaphore(1),this._id=e,this._name=t;const r={isTrusted:!1,supportHtml:!1};void 0!==(n=n||{}).markdown&&(r.isTrusted=!0===n.markdown.isTrusted,r.supportHtml=!0===n.markdown.supportHtml),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??G.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:r,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=J.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new c.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new i.Emitter,this._stateChangeEmitter=new i.Emitter,this._trace=i.Trace.Off,this._tracer={log:(e,t)=>{a.string(e)?this.logTrace(e,t):this.logObjectTrace(e)}},this._c2p=o.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=s.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=r.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case J.Starting:return Y.Starting;case J.Running:return Y.Running;default:return Y.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===J.StartFailed||this.$state===J.Stopping||this.$state===J.Stopped)return Promise.reject(new i.ResponseError(i.ErrorCodes.ConnectionInactive,"Client is not running"));try{const n=await this.$start();return await this.forceDocumentSync(),n.sendRequest(e,...t)}catch(t){throw this.error(`Sending request ${a.string(e)?e:e.method} failed.`,t),t}}onRequest(e,t){const n="string"==typeof e?e:e.method;this._requestHandlers.set(n,t);const r=this.activeConnection();let i;return void 0!==r?(this._requestDisposables.set(n,r.onRequest(e,t)),i={dispose:()=>{const e=this._requestDisposables.get(n);void 0!==e&&(e.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),i={dispose:()=>{this._pendingRequestHandlers.delete(n);const e=this._requestDisposables.get(n);void 0!==e&&(e.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),i.dispose()}}}async sendNotification(e,t){if(this.$state===J.StartFailed||this.$state===J.Stopping||this.$state===J.Stopped)return Promise.reject(new i.ResponseError(i.ErrorCodes.ConnectionInactive,"Client is not running"));try{const n=await this.$start();return await this.forceDocumentSync(),n.sendNotification(e,t)}catch(t){throw this.error(`Sending notification ${a.string(e)?e:e.method} failed.`,t),t}}onNotification(e,t){const n="string"==typeof e?e:e.method;this._notificationHandlers.set(n,t);const r=this.activeConnection();let i;return void 0!==r?(this._notificationDisposables.set(n,r.onNotification(e,t)),i={dispose:()=>{const e=this._notificationDisposables.get(n);void 0!==e&&(e.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),i={dispose:()=>{this._pendingNotificationHandlers.delete(n);const e=this._notificationDisposables.get(n);void 0!==e&&(e.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),i.dispose()}}}async sendProgress(e,t,n){try{return(await this.$start()).sendProgress(e,t,n)}catch(e){throw this.error(`Sending progress for token ${t} failed.`,e),e}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});const r=this.activeConnection();let o;const s=this._clientOptions.middleware?.handleWorkDoneProgress,a=i.WorkDoneProgress.is(e)&&void 0!==s?e=>{s(t,e,(()=>n(e)))}:n;return void 0!==r?(this._progressDisposables.set(t,r.onProgress(e,t,a)),o={dispose:()=>{const e=this._progressDisposables.get(t);void 0!==e&&(e.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);const e=this._progressDisposables.get(t);void 0!==e&&(e.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(void 0!==e&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new Z(this,e??4)}async setTrace(e){this._trace=e;const t=this.activeConnection();void 0!==t&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof i.ResponseError){const t=e;return`  Message: ${t.message}\n  Code: ${t.code} ${t.data?"\n"+t.data.toString():""}`}return e instanceof Error?a.string(e.stack)?e.stack:e.message:a.string(e)?e:e.toString()}info(e,t,n=!0){this.outputChannel.appendLine(`[Info  - ${(new Date).toLocaleTimeString()}] ${e}`),null!=t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=G.Info&&this.showNotificationMessage(i.MessageType.Info,e)}warn(e,t,n=!0){this.outputChannel.appendLine(`[Warn  - ${(new Date).toLocaleTimeString()}] ${e}`),null!=t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=G.Warn&&this.showNotificationMessage(i.MessageType.Warning,e)}error(e,t,n=!0){this.outputChannel.appendLine(`[Error - ${(new Date).toLocaleTimeString()}] ${e}`),null!=t&&this.outputChannel.appendLine(this.data2String(t)),("force"===n||n&&this._clientOptions.revealOutputChannelOn<=G.Error)&&this.showNotificationMessage(i.MessageType.Error,e)}showNotificationMessage(e,t){t=t??"A request has failed. See the output for more information.",(e===i.MessageType.Error?r.window.showErrorMessage:e===i.MessageType.Warning?r.window.showWarningMessage:r.window.showInformationMessage)(t,"Go to output").then((e=>{void 0!==e&&this.outputChannel.show(!0)}))}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${(new Date).toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${(new Date).toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===J.Initial||this.$state===J.Stopping||this.$state===J.Stopped}needsStop(){return this.$state===J.Starting||this.$state===J.Running}activeConnection(){return this.$state===J.Running&&void 0!==this._connection?this._connection:void 0}isRunning(){return this.$state===J.Running}async start(){if(this.$state===J.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(void 0!==this._onStart)return this._onStart;const[e,t,n]=this.createOnStartPromise();this._onStart=e,void 0===this._diagnostics&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?r.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):r.languages.createDiagnosticCollection());for(const[e,t]of this._notificationHandlers)this._pendingNotificationHandlers.has(e)||this._pendingNotificationHandlers.set(e,t);for(const[e,t]of this._requestHandlers)this._pendingRequestHandlers.has(e)||this._pendingRequestHandlers.set(e,t);for(const[e,t]of this._progressHandlers)this._pendingProgressHandlers.has(e)||this._pendingProgressHandlers.set(e,t);this.$state=J.Starting;try{const e=await this.createConnection();e.onNotification(i.LogMessageNotification.type,(e=>{switch(e.type){case i.MessageType.Error:this.error(e.message,void 0,!1);break;case i.MessageType.Warning:this.warn(e.message,void 0,!1);break;case i.MessageType.Info:this.info(e.message,void 0,!1);break;default:this.outputChannel.appendLine(e.message)}})),e.onNotification(i.ShowMessageNotification.type,(e=>{switch(e.type){case i.MessageType.Error:r.window.showErrorMessage(e.message);break;case i.MessageType.Warning:r.window.showWarningMessage(e.message);break;case i.MessageType.Info:default:r.window.showInformationMessage(e.message)}})),e.onRequest(i.ShowMessageRequest.type,(e=>{let t;switch(e.type){case i.MessageType.Error:t=r.window.showErrorMessage;break;case i.MessageType.Warning:t=r.window.showWarningMessage;break;case i.MessageType.Info:default:t=r.window.showInformationMessage}let n=e.actions||[];return t(e.message,...n)})),e.onNotification(i.TelemetryEventNotification.type,(e=>{this._telemetryEmitter.fire(e)})),e.onRequest(i.ShowDocumentRequest.type,(async e=>{const t=async e=>{const t=this.protocol2CodeConverter.asUri(e.uri);try{if(!0===e.external)return{success:await r.env.openExternal(t)};{const n={};return void 0!==e.selection&&(n.selection=this.protocol2CodeConverter.asRange(e.selection)),void 0===e.takeFocus||!1===e.takeFocus?n.preserveFocus=!0:!0===e.takeFocus&&(n.preserveFocus=!1),await r.window.showTextDocument(t,n),{success:!0}}}catch(e){return{success:!1}}},n=this._clientOptions.middleware.window?.showDocument;return void 0!==n?n(e,t):t(e)})),e.listen(),await this.initialize(e),t()}catch(e){this.$state=J.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,e,"force"),n(e)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise(((n,r)=>{e=n,t=r})),e,t]}async initialize(e){this.refreshTrace(e,!1);const t=this._clientOptions.initializationOptions,[n,o]=void 0!==this._clientOptions.workspaceFolder?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],s={processId:null,clientInfo:{name:r.env.appName,version:r.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(r.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:a.func(t)?t():t,trace:i.Trace.toString(this._trace),workspaceFolders:o};if(this.fillInitializeParams(s),!this._clientOptions.progressOnInitialization)return this.doInitialize(e,s);{const t=u.generateUuid(),n=new l.ProgressPart(e,t);s.workDoneToken=t;try{const t=await this.doInitialize(e,s);return n.done(),t}catch(e){throw n.cancel(),e}}}async doInitialize(e,t){try{const n=await e.initialize(t);if(void 0!==n.capabilities.positionEncoding&&n.capabilities.positionEncoding!==i.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);let r;this._initializeResult=n,this.$state=J.Running,a.number(n.capabilities.textDocumentSync)?r=n.capabilities.textDocumentSync===i.TextDocumentSyncKind.None?{openClose:!1,change:i.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:void 0!==n.capabilities.textDocumentSync&&null!==n.capabilities.textDocumentSync&&(r=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:r}),e.onNotification(i.PublishDiagnosticsNotification.type,(e=>this.handleDiagnostics(e))),e.onRequest(i.RegistrationRequest.type,(e=>this.handleRegistrationRequest(e))),e.onRequest("client/registerFeature",(e=>this.handleRegistrationRequest(e))),e.onRequest(i.UnregistrationRequest.type,(e=>this.handleUnregistrationRequest(e))),e.onRequest("client/unregisterFeature",(e=>this.handleUnregistrationRequest(e))),e.onRequest(i.ApplyWorkspaceEditRequest.type,(e=>this.handleApplyWorkspaceEdit(e)));for(const[t,n]of this._pendingNotificationHandlers)this._notificationDisposables.set(t,e.onNotification(t,n));this._pendingNotificationHandlers.clear();for(const[t,n]of this._pendingRequestHandlers)this._requestDisposables.set(t,e.onRequest(t,n));this._pendingRequestHandlers.clear();for(const[t,n]of this._pendingProgressHandlers)this._progressDisposables.set(t,e.onProgress(n.type,t,n.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(i.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(t){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(t)?this.initialize(e):this.stop():t instanceof i.ResponseError&&t.data&&t.data.retry?r.window.showErrorMessage(t.message,{title:"Retry",id:"retry"}).then((t=>{t&&"retry"===t.id?this.initialize(e):this.stop()})):(t&&t.message&&r.window.showErrorMessage(t.message),this.error("Server initialization failed.",t),this.stop()),t}}_clientGetRootPath(){let e=r.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}stop(e=2e3){return this.shutdown("stop",e)}async shutdown(e,t){if(this.$state===J.Stopped||this.$state===J.Initial)return;if(this.$state===J.Stopping){if(void 0!==this._onStop)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}const n=this.activeConnection();if(void 0===n||this.$state!==J.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=J.Stopping,this.cleanUp(e);const r=new Promise((e=>{(0,i.RAL)().timer.setTimeout(e,t)})),o=(async e=>(await e.shutdown(),await e.exit(),e))(n);return this._onStop=Promise.race([r,o]).then((e=>{if(void 0===e)throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out");e.end(),e.dispose()}),(e=>{throw this.error("Stopping server failed",e,!1),e})).finally((()=>{this.$state=J.Stopped,"stop"===e&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()}))}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();const t=this._listeners.splice(0,this._listeners.length);for(const e of t)e.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(const e of Array.from(this._features.entries()).map((e=>e[1])).reverse())e.dispose();"stop"===e&&void 0!==this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0),void 0!==this._idleInterval&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){void 0!==this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){const t=this;async function n(e){return t._fileEvents.push(e),t._fileEventDelayer.trigger((async()=>{const e=await t.$start();await t.forceDocumentSync();const n=e.sendNotification(i.DidChangeWatchedFilesNotification.type,{changes:t._fileEvents});return t._fileEvents=[],n}))}const r=this.clientOptions.middleware?.workspace;(r?.didChangeWatchedFile?r.didChangeWatchedFile(e,n):n(e)).catch((e=>{t.error("Notify file events failed.",e)}))}async forceDocumentSync(){return void 0===this._didChangeTextDocumentFeature&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(i.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;const t=e.uri;"busy"===this._diagnosticQueueState.state&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,i.RAL)().timer.setImmediate((()=>{this.workDiagnosticQueue()}))}workDiagnosticQueue(){if("busy"===this._diagnosticQueueState.state)return;const e=this._diagnosticQueue.entries().next();if(!0===e.done)return;const[t,n]=e.value;this._diagnosticQueue.delete(t);const i=new r.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then((e=>{if(!i.token.isCancellationRequested){const n=this._p2c.asUri(t),r=this.clientOptions.middleware;r.handleDiagnostics?r.handleDiagnostics(n,e,((e,t)=>this.setDiagnostics(e,t))):this.setDiagnostics(n,e)}})).finally((()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()}))}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}async $start(){if(this.$state===J.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();const e=this.activeConnection();if(void 0===e)throw new Error("Starting server failed");return e}async createConnection(){const e=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=function(e,t,n,r,o){let s=-1;const c=new te,u=(0,i.createProtocolConnection)(e,t,c,o);return u.onError((e=>{n(e[0],e[1],e[2])})),u.onClose(r),{get lastUsed(){return s},resetLastUsed:()=>{s=-1},listen:()=>u.listen(),sendRequest:(e,...t)=>(s=Date.now(),u.sendRequest(e,...t)),onRequest:(e,t)=>u.onRequest(e,t),hasPendingResponse:()=>u.hasPendingResponse(),sendNotification:(e,t)=>(s=Date.now(),u.sendNotification(e,t)),onNotification:(e,t)=>u.onNotification(e,t),onProgress:u.onProgress,sendProgress:u.sendProgress,trace:(e,t,n)=>{const r={sendNotification:!1,traceFormat:i.TraceFormat.Text};return void 0===n?u.trace(e,t,r):(a.boolean(n),u.trace(e,t,n))},initialize:e=>(s=Date.now(),u.sendRequest(i.InitializeRequest.type,e)),shutdown:()=>(s=Date.now(),u.sendRequest(i.ShutdownRequest.type,void 0)),exit:()=>(s=Date.now(),u.sendNotification(i.ExitNotification.type)),end:()=>u.end(),dispose:()=>u.dispose()}}(e.reader,e.writer,((e,t,n)=>{this.handleConnectionError(e,t,n)}),(()=>{this.handleConnectionClosed()}),this._clientOptions.connectionOptions),this._connection}handleConnectionClosed(){if(this.$state===J.Stopped)return;try{void 0!==this._connection&&this._connection.dispose()}catch(e){}let e={action:z.DoNotRestart};if(this.$state!==J.Stopping)try{e=this._clientOptions.errorHandler.closed()}catch(e){}this._connection=void 0,e.action===z.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,"force"),this.cleanUp("stop"),this.$state===J.Starting?this.$state=J.StartFailed:this.$state=J.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===z.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart."),this.cleanUp("restart"),this.$state=J.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch((e=>this.error("Restarting server failed",e,"force"))))}handleConnectionError(e,t,n){const r=this._clientOptions.errorHandler.error(e,t,n);r.action===K.Shutdown&&(this.error(r.message??`Client ${this._name}: connection to server is erroring. Shutting down server.`,void 0,"force"),this.stop().catch((e=>{this.error("Stopping server failed",e,!1)})))}hookConfigurationChanged(e){this._listeners.push(r.workspace.onDidChangeConfiguration((()=>{this.refreshTrace(e,!0)})))}refreshTrace(e,t=!1){const n=r.workspace.getConfiguration(this._id);let o=i.Trace.Off,s=i.TraceFormat.Text;if(n){const e=n.get("trace.server","off");"string"==typeof e?o=i.Trace.fromString(e):(o=i.Trace.fromString(n.get("trace.server.verbosity","off")),s=i.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=o,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch((e=>{this.error("Updating trace failed with error",e,!1)}))}hookFileEvents(e){let t,n=this._clientOptions.synchronize.fileEvents;n&&(t=a.array(n)?n:[n],t&&this._dynamicFeatures.get(i.DidChangeWatchedFilesNotification.type.method).registerRaw(u.generateUuid(),t))}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),d.DynamicFeature.is(e)){const t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){const t=this.getFeature(i.NotebookDocumentSyncRegistrationType.method);return void 0!==t&&t instanceof h.NotebookDocumentSyncFeature&&t.handles(e)}registerBuiltinFeatures(){this.registerFeature(new f.ConfigurationFeature(this)),this.registerFeature(new g.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new g.DidChangeTextDocumentFeature(this)),this.registerFeature(new g.WillSaveFeature(this)),this.registerFeature(new g.WillSaveWaitUntilFeature(this)),this.registerFeature(new g.DidSaveTextDocumentFeature(this)),this.registerFeature(new g.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new O.FileSystemWatcherFeature(this,(e=>this.notifyFileEvent(e)))),this.registerFeature(new m.CompletionItemFeature(this)),this.registerFeature(new v.HoverFeature(this)),this.registerFeature(new b.SignatureHelpFeature(this)),this.registerFeature(new y.DefinitionFeature(this)),this.registerFeature(new w.ReferencesFeature(this)),this.registerFeature(new S.DocumentHighlightFeature(this)),this.registerFeature(new _.DocumentSymbolFeature(this)),this.registerFeature(new E.WorkspaceSymbolFeature(this)),this.registerFeature(new P.CodeActionFeature(this)),this.registerFeature(new T.CodeLensFeature(this)),this.registerFeature(new C.DocumentFormattingFeature(this)),this.registerFeature(new C.DocumentRangeFormattingFeature(this)),this.registerFeature(new C.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new I.RenameFeature(this)),this.registerFeature(new R.DocumentLinkFeature(this)),this.registerFeature(new D.ExecuteCommandFeature(this)),this.registerFeature(new f.SyncConfigurationFeature(this)),this.registerFeature(new N.TypeDefinitionFeature(this)),this.registerFeature(new x.ImplementationFeature(this)),this.registerFeature(new k.ColorProviderFeature(this)),void 0===this.clientOptions.workspaceFolder&&this.registerFeature(new A.WorkspaceFoldersFeature(this)),this.registerFeature(new j.FoldingRangeFeature(this)),this.registerFeature(new M.DeclarationFeature(this)),this.registerFeature(new L.SelectionRangeFeature(this)),this.registerFeature(new F.ProgressFeature(this)),this.registerFeature(new q.CallHierarchyFeature(this)),this.registerFeature(new U.SemanticTokensFeature(this)),this.registerFeature(new V.LinkedEditingFeature(this)),this.registerFeature(new W.DidCreateFilesFeature(this)),this.registerFeature(new W.DidRenameFilesFeature(this)),this.registerFeature(new W.DidDeleteFilesFeature(this)),this.registerFeature(new W.WillCreateFilesFeature(this)),this.registerFeature(new W.WillRenameFilesFeature(this)),this.registerFeature(new W.WillDeleteFilesFeature(this)),this.registerFeature(new H.TypeHierarchyFeature(this)),this.registerFeature(new $.InlineValueFeature(this)),this.registerFeature(new B.InlayHintsFeature(this)),this.registerFeature(new p.DiagnosticFeature(this)),this.registerFeature(new h.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(X.createAll(this))}fillInitializeParams(e){for(let t of this._features)a.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){const e={};(0,d.ensure)(e,"workspace").applyEdit=!0;const t=(0,d.ensure)((0,d.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[i.ResourceOperationKind.Create,i.ResourceOperationKind.Rename,i.ResourceOperationKind.Delete],t.failureHandling=i.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};const n=(0,d.ensure)((0,d.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[i.DiagnosticTag.Unnecessary,i.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;const r=(0,d.ensure)(e,"window");(0,d.ensure)(r,"showMessage").messageActionItem={additionalPropertiesSupport:!0},(0,d.ensure)(r,"showDocument").support=!0;const o=(0,d.ensure)(e,"general");o.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(ee.RequestsToCancelOnContentModified)},o.regularExpressions={engine:"ECMAScript",version:"ES2020"},o.markdown={parser:"marked",version:"1.1.0"},o.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(o.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let t of this._features)t.fillClientCapabilities(e);return e}initializeFeatures(e){const t=this._clientOptions.documentSelector;for(const e of this._features)a.func(e.preInitialize)&&e.preInitialize(this._capabilities,t);for(const e of this._features)e.initialize(this._capabilities,t)}async handleRegistrationRequest(e){if(this.isRunning())for(const t of e.registrations){const n=this._dynamicFeatures.get(t.method);if(void 0===n)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));const r=t.registerOptions??{};r.documentSelector=r.documentSelector??this._clientOptions.documentSelector;const i={id:t.id,registerOptions:r};try{n.register(i)}catch(e){return Promise.reject(e)}}else for(const t of e.registrations)this._ignoredRegistrations.add(t.id)}async handleUnregistrationRequest(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;const e=this._dynamicFeatures.get(t.method);if(!e)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));e.unregister(t.id)}}async handleApplyWorkspaceEdit(e){const t=e.edit,n=await this.workspaceEditLock.lock((()=>this._p2c.asWorkspaceEdit(t))),o=new Map;r.workspace.textDocuments.forEach((e=>o.set(e.uri.toString(),e)));let s=!1;if(t.documentChanges)for(const e of t.documentChanges)if(i.TextDocumentEdit.is(e)&&e.textDocument.version&&e.textDocument.version>=0){const t=o.get(e.textDocument.uri);if(t&&t.version!==e.textDocument.version){s=!0;break}}return s?Promise.resolve({applied:!1}):a.asPromise(r.workspace.applyEdit(n).then((e=>({applied:e}))))}handleFailedRequest(e,t,n,o,s=!0){if(n instanceof i.ResponseError){if(n.code===i.ErrorCodes.PendingResponseRejected||n.code===i.ErrorCodes.ConnectionInactive)return o;if(n.code===i.LSPErrorCodes.RequestCancelled||n.code===i.LSPErrorCodes.ServerCancelled){if(void 0!==t&&t.isCancellationRequested)return o;throw void 0!==n.data?new d.LSPCancellationError(n.data):new r.CancellationError}if(n.code===i.LSPErrorCodes.ContentModified){if(ee.RequestsToCancelOnContentModified.has(e.method))throw new r.CancellationError;return o}}throw this.error(`Request ${e.method} failed.`,n,s),n}}t.BaseLanguageClient=ee,ee.RequestsToCancelOnContentModified=new Set([i.SemanticTokensRequest.method,i.SemanticTokensRangeRequest.method,i.SemanticTokensDeltaRequest.method]);class te{error(e){(0,i.RAL)().console.error(e)}warn(e){(0,i.RAL)().console.warn(e)}info(e){(0,i.RAL)().console.info(e)}log(e){(0,i.RAL)().console.log(e)}}!function(e){e.createAll=function(e){return[]}}(X=t.ProposedFeatures||(t.ProposedFeatures={}))},9474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeActionFeature=void 0;const r=n(9496),i=n(273),o=n(1980),s=n(8909);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,i.CodeActionRequest.type)}fillClientCapabilities(e){const t=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[i.CodeActionKind.Empty,i.CodeActionKind.QuickFix,i.CodeActionKind.Refactor,i.CodeActionKind.RefactorExtract,i.CodeActionKind.RefactorInline,i.CodeActionKind.RefactorRewrite,i.CodeActionKind.Source,i.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}initialize(e,t){const n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideCodeActions:(e,t,n,r)=>{const o=this._client,s=async(e,t,n,r)=>{const s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),context:await o.code2ProtocolConverter.asCodeActionContext(n,r)};return o.sendRequest(i.CodeActionRequest.type,s,r).then((e=>r.isCancellationRequested||null==e?null:o.protocol2CodeConverter.asCodeActionResult(e,r)),(e=>o.handleFailedRequest(i.CodeActionRequest.type,r,e,null)))},a=o.middleware;return a.provideCodeActions?a.provideCodeActions(e,t,n,r,s):s(e,t,n,r)},resolveCodeAction:e.resolveProvider?(e,t)=>{const n=this._client,r=this._client.middleware,o=async(e,t)=>n.sendRequest(i.CodeActionResolveRequest.type,await n.code2ProtocolConverter.asCodeAction(e,t),t).then((r=>t.isCancellationRequested?e:n.protocol2CodeConverter.asCodeAction(r,t)),(r=>n.handleFailedRequest(i.CodeActionResolveRequest.type,t,r,e)));return r.resolveCodeAction?r.resolveCodeAction(e,t,o):o(e,t)}:void 0};return[r.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}}t.CodeActionFeature=a},71:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const r=n(9496),i=n(273),o=n(9763),s=n(4904),a=n(1807),c=n(583),u=n(8705),l=n(6434),d=n(6640),p=n(8714),h=n(1365),f=n(3912),g=n(1065);var m;!function(e){e.is=function(e){const t=e;return t&&!!t.inserting&&!!t.replacing}}(m||(m={})),t.createConverter=function(e){const t=e||(e=>e.toString());function n(e){return t(e)}function v(e){return{uri:t(e.uri)}}function y(e){return{uri:t(e.uri),languageId:e.languageId,version:e.version,text:e.getText()}}function b(e){switch(e){case r.TextDocumentSaveReason.Manual:return i.TextDocumentSaveReason.Manual;case r.TextDocumentSaveReason.AfterDelay:return i.TextDocumentSaveReason.AfterDelay;case r.TextDocumentSaveReason.FocusOut:return i.TextDocumentSaveReason.FocusOut}return i.TextDocumentSaveReason.Manual}function S(e){switch(e){case r.CompletionTriggerKind.TriggerCharacter:return i.CompletionTriggerKind.TriggerCharacter;case r.CompletionTriggerKind.TriggerForIncompleteCompletions:return i.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return i.CompletionTriggerKind.Invoked}}function _(e){switch(e){case r.SignatureHelpTriggerKind.Invoke:return i.SignatureHelpTriggerKind.Invoked;case r.SignatureHelpTriggerKind.TriggerCharacter:return i.SignatureHelpTriggerKind.TriggerCharacter;case r.SignatureHelpTriggerKind.ContentChange:return i.SignatureHelpTriggerKind.ContentChange}}function E(e){return{label:e.label}}function w(e){return{label:e.label,parameters:(t=e.parameters,t.map(E))};var t}function P(e){return{line:e.line,character:e.character}}function T(e){return null==e?e:{line:e.line>i.uinteger.MAX_VALUE?i.uinteger.MAX_VALUE:e.line,character:e.character>i.uinteger.MAX_VALUE?i.uinteger.MAX_VALUE:e.character}}function C(e){return null==e?e:{start:T(e.start),end:T(e.end)}}function I(e){return null==e?e:i.Location.create(n(e.uri),C(e.range))}function R(e){switch(e){case r.DiagnosticSeverity.Error:return i.DiagnosticSeverity.Error;case r.DiagnosticSeverity.Warning:return i.DiagnosticSeverity.Warning;case r.DiagnosticSeverity.Information:return i.DiagnosticSeverity.Information;case r.DiagnosticSeverity.Hint:return i.DiagnosticSeverity.Hint}}function D(e){switch(e){case r.DiagnosticTag.Unnecessary:return i.DiagnosticTag.Unnecessary;case r.DiagnosticTag.Deprecated:return i.DiagnosticTag.Deprecated;default:return}}function O(e){return{message:e.message,location:I(e.location)}}function k(e){const t=i.Diagnostic.create(C(e.range),e.message),r=e instanceof d.ProtocolDiagnostic?e:void 0;void 0!==r&&void 0!==r.data&&(t.data=r.data);const s=function(e){if(null!=e)return o.number(e)||o.string(e)?e:{value:e.value,target:n(e.target)}}(e.code);return d.DiagnosticCode.is(s)?void 0!==r&&r.hasDiagnosticCode?t.code=s:(t.code=s.value,t.codeDescription={href:s.target}):t.code=s,o.number(e.severity)&&(t.severity=R(e.severity)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let n of e){let e=D(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(O)),e.source&&(t.source=e.source),t}function x(e,t){return null==e?e:s.map(e,k,t)}function N(e){if(e===r.CompletionItemTag.Deprecated)return i.CompletionItemTag.Deprecated}function A(e){return{range:C(e.range),newText:e.newText}}function j(e){return null==e?e:e.map(A)}function M(e){return e<=r.SymbolKind.TypeParameter?e+1:i.SymbolKind.Property}function L(e){return e}function F(e){return e.map(L)}function q(e){let t=i.Command.create(e.title,e.command);return e.arguments&&(t.arguments=e.arguments),t}function U(e){const t=i.InlayHintLabelPart.create(e.value);return void 0!==e.location&&(t.location=I(e.location)),void 0!==e.command&&(t.command=q(e.command)),void 0!==e.tooltip&&(t.tooltip=W(e.tooltip)),t}function W(e){return"string"==typeof e?e:{kind:i.MarkupKind.Markdown,value:e.value}}return{asUri:n,asTextDocumentIdentifier:v,asTextDocumentItem:y,asVersionedTextDocumentIdentifier:function(e){return{uri:t(e.uri),version:e.version}},asOpenTextDocumentParams:function(e){return{textDocument:y(e)}},asChangeTextDocumentParams:function(e){if(function(e){let t=e;return!!t.uri&&!!t.version}(e))return{textDocument:{uri:t(e.uri),version:e.version},contentChanges:[{text:e.getText()}]};if(function(e){let t=e;return!!t.document&&!!t.contentChanges}(e)){let n=e.document;return{textDocument:{uri:t(n.uri),version:n.version},contentChanges:e.contentChanges.map((e=>{let t=e.range;return{range:{start:{line:t.start.line,character:t.start.character},end:{line:t.end.line,character:t.end.character}},rangeLength:e.rangeLength,text:e.text}}))}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function(e){return{textDocument:v(e)}},asSaveTextDocumentParams:function(e,t=!1){let n={textDocument:v(e)};return t&&(n.text=e.getText()),n},asWillSaveTextDocumentParams:function(e){return{textDocument:v(e.document),reason:b(e.reason)}},asDidCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asDidRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asDidDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asWillDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asTextDocumentPositionParams:function(e,t){return{textDocument:v(e),position:P(t)}},asCompletionParams:function(e,t,n){return{textDocument:v(e),position:P(t),context:{triggerKind:S(n.triggerKind),triggerCharacter:n.triggerCharacter}}},asSignatureHelpParams:function(e,t,n){return{textDocument:v(e),position:P(t),context:{isRetrigger:n.isRetrigger,triggerCharacter:n.triggerCharacter,triggerKind:_(n.triggerKind),activeSignatureHelp:(r=n.activeSignatureHelp,void 0===r?r:{signatures:(i=r.signatures,i.map(w)),activeSignature:r.activeSignature,activeParameter:r.activeParameter})}};var r,i},asWorkerPosition:P,asRange:C,asPosition:T,asPositions:function(e,t){return s.map(e,T,t)},asLocation:I,asDiagnosticSeverity:R,asDiagnosticTag:D,asDiagnostic:k,asDiagnostics:x,asCompletionItem:function(e,t=!1){let n,s;o.string(e.label)?n=e.label:(n=e.label.label,!t||void 0===e.label.detail&&void 0===e.label.description||(s={detail:e.label.detail,description:e.label.description}));let c={label:n};void 0!==s&&(c.labelDetails=s);let u=e instanceof a.default?e:void 0;var l,d;e.detail&&(c.detail=e.detail),e.documentation&&(u&&"$string"!==u.documentationFormat?c.documentation=function(e,t){switch(e){case"$string":return t;case i.MarkupKind.PlainText:return{kind:e,value:t};case i.MarkupKind.Markdown:return{kind:e,value:t.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}(u.documentationFormat,e.documentation):c.documentation=e.documentation),e.filterText&&(c.filterText=e.filterText),function(e,t){let n,o,s=i.InsertTextFormat.PlainText;t.textEdit?(n=t.textEdit.newText,o=t.textEdit.range):t.insertText instanceof r.SnippetString?(s=i.InsertTextFormat.Snippet,n=t.insertText.value):n=t.insertText,t.range&&(o=t.range),e.insertTextFormat=s,t.fromEdit&&void 0!==n&&void 0!==o?e.textEdit=function(e,t){return m.is(t)?i.InsertReplaceEdit.create(e,C(t.inserting),C(t.replacing)):{newText:e,range:C(t)}}(n,o):e.insertText=n}(c,e),o.number(e.kind)&&(c.kind=(l=e.kind,void 0!==(d=u&&u.originalItemKind)?d:l+1)),e.sortText&&(c.sortText=e.sortText),e.additionalTextEdits&&(c.additionalTextEdits=j(e.additionalTextEdits)),e.commitCharacters&&(c.commitCharacters=e.commitCharacters.slice()),e.command&&(c.command=q(e.command)),!0!==e.preselect&&!1!==e.preselect||(c.preselect=e.preselect);const p=function(e){if(void 0===e)return e;const t=[];for(let n of e){const e=N(n);void 0!==e&&t.push(e)}return t}(e.tags);if(u){if(void 0!==u.data&&(c.data=u.data),!0===u.deprecated||!1===u.deprecated){if(!0===u.deprecated&&void 0!==p&&p.length>0){const e=p.indexOf(r.CompletionItemTag.Deprecated);-1!==e&&p.splice(e,1)}c.deprecated=u.deprecated}void 0!==u.insertTextMode&&(c.insertTextMode=u.insertTextMode)}return void 0!==p&&p.length>0&&(c.tags=p),void 0===c.insertTextMode&&!0===e.keepWhitespace&&(c.insertTextMode=i.InsertTextMode.adjustIndentation),c},asTextEdit:A,asSymbolKind:M,asSymbolTag:L,asSymbolTags:F,asReferenceParams:function(e,t,n){return{textDocument:v(e),position:P(t),context:{includeDeclaration:n.includeDeclaration}}},asCodeAction:async function(e,t){let n=i.CodeAction.create(e.title);if(e instanceof l.default&&void 0!==e.data&&(n.data=e.data),void 0!==e.kind&&(n.kind=function(e){if(null!=e)return e.value}(e.kind)),void 0!==e.diagnostics&&(n.diagnostics=await x(e.diagnostics,t)),void 0!==e.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return void 0!==e.command&&(n.command=q(e.command)),void 0!==e.isPreferred&&(n.isPreferred=e.isPreferred),void 0!==e.disabled&&(n.disabled={reason:e.disabled.reason}),n},asCodeActionContext:async function(e,t){if(null==e)return e;let n;return e.only&&o.string(e.only.value)&&(n=[e.only.value]),i.CodeActionContext.create(await x(e.diagnostics,t),n,function(e){switch(e){case r.CodeActionTriggerKind.Invoke:return i.CodeActionTriggerKind.Invoked;case r.CodeActionTriggerKind.Automatic:return i.CodeActionTriggerKind.Automatic;default:return}}(e.triggerKind))},asInlineValueContext:function(e){return null==e?e:i.InlineValueContext.create(e.frameId,C(e.stoppedLocation))},asCommand:q,asCodeLens:function(e){let t=i.CodeLens.create(C(e.range));return e.command&&(t.command=q(e.command)),e instanceof c.default&&e.data&&(t.data=e.data),t},asFormattingOptions:function(e,t){const n={tabSize:e.tabSize,insertSpaces:e.insertSpaces};return t.trimTrailingWhitespace&&(n.trimTrailingWhitespace=!0),t.trimFinalNewlines&&(n.trimFinalNewlines=!0),t.insertFinalNewline&&(n.insertFinalNewline=!0),n},asDocumentSymbolParams:function(e){return{textDocument:v(e)}},asCodeLensParams:function(e){return{textDocument:v(e)}},asDocumentLink:function(e){let t=i.DocumentLink.create(C(e.range));e.target&&(t.target=n(e.target)),void 0!==e.tooltip&&(t.tooltip=e.tooltip);let r=e instanceof u.default?e:void 0;return r&&r.data&&(t.data=r.data),t},asDocumentLinkParams:function(e){return{textDocument:v(e)}},asCallHierarchyItem:function(e){const t={name:e.name,kind:M(e.kind),uri:n(e.uri),range:C(e.range),selectionRange:C(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=F(e.tags)),e instanceof p.default&&void 0!==e.data&&(t.data=e.data),t},asTypeHierarchyItem:function(e){const t={name:e.name,kind:M(e.kind),uri:n(e.uri),range:C(e.range),selectionRange:C(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=F(e.tags)),e instanceof h.default&&void 0!==e.data&&(t.data=e.data),t},asInlayHint:function(e){const t="string"==typeof e.label?e.label:e.label.map(U),n=i.InlayHint.create(T(e.position),t);return void 0!==e.kind&&(n.kind=e.kind),void 0!==e.textEdits&&(n.textEdits=j(e.textEdits)),void 0!==e.tooltip&&(n.tooltip=W(e.tooltip)),void 0!==e.paddingLeft&&(n.paddingLeft=e.paddingLeft),void 0!==e.paddingRight&&(n.paddingRight=e.paddingRight),e instanceof g.default&&void 0!==e.data&&(n.data=e.data),n},asWorkspaceSymbol:function(e){const n=e instanceof f.default?{name:e.name,kind:M(e.kind),location:e.hasRange?I(e.location):{uri:t(e.location.uri)},data:e.data}:{name:e.name,kind:M(e.kind),location:I(e.location)};return void 0!==e.tags&&(n.tags=F(e.tags)),""!==e.containerName&&(n.containerName=e.containerName),n}}}},7711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeLensFeature=void 0;const r=n(9496),i=n(273),o=n(1980),s=n(8909);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,i.CodeLensRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,s.ensure)((0,s.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.CodeLensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeCodeLensEmitter.fire()}));const n=this.getRegistrationOptions(t,e.codeLensProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n=new r.EventEmitter,o={onDidChangeCodeLenses:n.event,provideCodeLenses:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.CodeLensRequest.type,n.code2ProtocolConverter.asCodeLensParams(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCodeLenses(e,t)),(e=>n.handleFailedRequest(i.CodeLensRequest.type,t,e,null))),o=n.middleware;return o.provideCodeLenses?o.provideCodeLenses(e,t,r):r(e,t)},resolveCodeLens:e.resolveProvider?(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.CodeLensResolveRequest.type,n.code2ProtocolConverter.asCodeLens(e),t).then((r=>t.isCancellationRequested?e:n.protocol2CodeConverter.asCodeLens(r)),(r=>n.handleFailedRequest(i.CodeLensResolveRequest.type,t,r,e))),o=n.middleware;return o.resolveCodeLens?o.resolveCodeLens(e,t,r):r(e,t)}:void 0};return[r.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),o),{provider:o,onDidChangeCodeLensEmitter:n}]}}t.CodeLensFeature=a},3069:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorProviderFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentColorRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.colorProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideColorPresentations:(e,t,n)=>{const r=this._client,o=(e,t,n)=>{const o={color:e,textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(t.document),range:r.code2ProtocolConverter.asRange(t.range)};return r.sendRequest(i.ColorPresentationRequest.type,o,n).then((e=>n.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(e,n)),(e=>r.handleFailedRequest(i.ColorPresentationRequest.type,n,e,null)))},s=r.middleware;return s.provideColorPresentations?s.provideColorPresentations(e,t,n,o):o(e,t,n)},provideDocumentColors:(e,t)=>{const n=this._client,r=(e,t)=>{const r={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(i.DocumentColorRequest.type,r,t).then((e=>t.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(e,t)),(e=>n.handleFailedRequest(i.DocumentColorRequest.type,t,e,null)))},o=n.middleware;return o.provideDocumentColors?o.provideDocumentColors(e,t,r):r(e,t)}};return[r.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.ColorProviderFeature=s},1435:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionItemFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(1980),a=[i.CompletionItemKind.Text,i.CompletionItemKind.Method,i.CompletionItemKind.Function,i.CompletionItemKind.Constructor,i.CompletionItemKind.Field,i.CompletionItemKind.Variable,i.CompletionItemKind.Class,i.CompletionItemKind.Interface,i.CompletionItemKind.Module,i.CompletionItemKind.Property,i.CompletionItemKind.Unit,i.CompletionItemKind.Value,i.CompletionItemKind.Enum,i.CompletionItemKind.Keyword,i.CompletionItemKind.Snippet,i.CompletionItemKind.Color,i.CompletionItemKind.File,i.CompletionItemKind.Reference,i.CompletionItemKind.Folder,i.CompletionItemKind.EnumMember,i.CompletionItemKind.Constant,i.CompletionItemKind.Struct,i.CompletionItemKind.Event,i.CompletionItemKind.Operator,i.CompletionItemKind.TypeParameter];class c extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[i.MarkupKind.Markdown,i.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[i.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[i.InsertTextMode.asIs,i.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=i.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:a},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}initialize(e,t){const n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);const n=e.triggerCharacters??[],o=e.allCommitCharacters,s=e.documentSelector,a={provideCompletionItems:(e,t,n,r)=>{const s=this._client,a=this._client.middleware,c=(e,t,n,r)=>s.sendRequest(i.CompletionRequest.type,s.code2ProtocolConverter.asCompletionParams(e,t,n),r).then((e=>r.isCancellationRequested?null:s.protocol2CodeConverter.asCompletionResult(e,o,r)),(e=>s.handleFailedRequest(i.CompletionRequest.type,r,e,null)));return a.provideCompletionItem?a.provideCompletionItem(e,t,r,n,c):c(e,t,r,n)},resolveCompletionItem:e.resolveProvider?(e,n)=>{const r=this._client,o=this._client.middleware,s=(e,n)=>r.sendRequest(i.CompletionResolveRequest.type,r.code2ProtocolConverter.asCompletionItem(e,!!this.labelDetailsSupport.get(t)),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asCompletionItem(e)),(t=>r.handleFailedRequest(i.CompletionResolveRequest.type,n,t,e)));return o.resolveCompletionItem?o.resolveCompletionItem(e,n,s):s(e,n)}:void 0};return[r.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(s),a,...n),a]}}t.CompletionItemFeature=c},6495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncConfigurationFeature=t.toJSONObject=t.ConfigurationFeature=void 0;const r=n(9496),i=n(273),o=n(9763),s=n(1980),a=n(8909);function c(e){if(e){if(Array.isArray(e))return e.map(c);if("object"==typeof e){const t=Object.create(null);for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=c(e[n]));return t}}return e}t.ConfigurationFeature=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(i.ConfigurationRequest.type,((t,n)=>{let r=e=>{let t=[];for(let n of e.items){let e=void 0!==n.scopeUri&&null!==n.scopeUri?this._client.protocol2CodeConverter.asUri(n.scopeUri):void 0;t.push(this.getConfiguration(e,null!==n.section?n.section:void 0))}return t},i=e.middleware.workspace;return i&&i.configuration?i.configuration(t,n,r):r(t)}))}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(-1===i)n=c(r.workspace.getConfiguration(void 0,e).get(t));else{let o=r.workspace.getConfiguration(t.substr(0,i),e);o&&(n=c(o.get(t.substr(i+1))))}}else{let t=r.workspace.getConfiguration(void 0,e);n={};for(let e of Object.keys(t))t.has(e)&&(n[e]=c(t.get(e)))}return void 0===n&&(n=null),n}dispose(){}},t.toJSONObject=c,t.SyncConfigurationFeature=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return i.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,a.ensure)((0,a.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize?.configurationSection;void 0!==e&&this.register({id:s.generateUuid(),registerOptions:{section:e}})}register(e){let t=r.workspace.onDidChangeConfiguration((t=>{this.onDidChangeConfiguration(e.registerOptions.section,t)}));this._listeners.set(e.id,t),void 0!==e.registerOptions.section&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(const e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(n=o.string(e)?[e]:e,void 0!==n&&void 0!==t&&!n.some((e=>t.affectsConfiguration(e))))return;const r=async e=>void 0===e?this._client.sendNotification(i.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(i.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(e)});let s=this._client.middleware.workspace?.didChangeConfiguration;(s?s(n,r):r(n)).catch((e=>{this._client.error(`Sending notification ${i.DidChangeConfigurationNotification.type.method} failed`,e)}))}extractSettingsInformation(e){function t(e,t){let n=e;for(let e=0;e<t.length-1;e++){let r=n[t[e]];r||(r=Object.create(null),n[t[e]]=r),n=r}return n}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),u=null;if(u=a>=0?r.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):r.workspace.getConfiguration(void 0,n).get(s),u){let n=e[o].split(".");t(i,n)[n[n.length-1]]=c(u)}}return i}}},707:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DeclarationRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.declarationProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDeclaration:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.DeclarationRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDeclarationResult(e,n)),(e=>r.handleFailedRequest(i.DeclarationRequest.type,n,e,null))),s=r.middleware;return s.provideDeclaration?s.provideDeclaration(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.DeclarationFeature=s},122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefinitionFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(1980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDefinition:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.DefinitionRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>r.handleFailedRequest(i.DefinitionRequest.type,n,e,null))),s=r.middleware;return s.provideDefinition?s.provideDefinition(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.DefinitionFeature=a},2570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticFeature=t.DiagnosticPullMode=t.vsdiag=void 0;const r=n(1171),i=n(9496),o=n(273),s=n(1980),a=n(8909);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var u,l,d,p;!function(e){let t;!function(e){e.full="full",e.unChanged="unChanged"}(t=e.DocumentDiagnosticReportKind||(e.DocumentDiagnosticReportKind={}))}(u=t.vsdiag||(t.vsdiag={})),function(e){e.onType="onType",e.onSave="onSave"}(l=t.DiagnosticPullMode||(t.DiagnosticPullMode={})),function(e){e.active="open",e.reschedule="reschedule",e.outDated="drop"}(d||(d={}));class h{constructor(){this.open=new Set;const e=()=>{this.open.clear();for(const e of i.window.tabGroups.all)for(const t of e.tabs){const e=t.input;e instanceof i.TabInputText?this.open.add(e.uri.toString()):e instanceof i.TabInputTextDiff&&this.open.add(e.modified.toString())}};e(),void 0!==i.window.tabGroups.onDidChangeTabGroups?this.disposable=i.window.tabGroups.onDidChangeTabGroups(e):this.disposable={dispose:()=>{}}}dispose(){this.disposable.dispose()}isActive(e){return e instanceof i.Uri?i.window.activeTextEditor?.document.uri===e:i.window.activeTextEditor?.document===e}isVisible(e){const t=e instanceof i.Uri?e:e.uri;return this.open.has(t.toString())}getTabResources(){const e=[];for(const t of i.window.tabGroups.all)for(const n of t.tabs){const t=n.input;t instanceof i.TabInputText?e.push(t.uri):t instanceof i.TabInputTextDiff&&e.push(t.modified)}return e}}!function(e){e[e.document=1]="document",e[e.workspace=2]="workspace"}(p||(p={}));class f{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){const r=e===p.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof i.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version];let c=r.get(o);return void 0===c&&(c={document:s,pulledVersion:a,resultId:void 0},r.set(o,c)),c}update(e,t,n,r){const o=e===p.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof i.Uri?[t.toString(),t,n,r]:[t.uri.toString(),t.uri,t.version,n];let l=o.get(s);void 0===l?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){const n=t instanceof i.Uri?t.toString():t.uri.toString();(e===p.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){const n=t instanceof i.Uri?t.toString():t.uri.toString();return(e===p.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){const n=t instanceof i.Uri?t.toString():t.uri.toString();return(e===p.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){const e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),void 0!==n.resultId&&e.push({uri:t,value:n.resultId});return e}}class g{constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new i.EventEmitter,this.provider=this.createProvider(),this.diagnostics=i.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new f,this.workspaceErrorCounter=0}knows(e,t){return this.documentStates.tracks(e,t)}pull(e,t){if(this.isDisposed)return;const n=e instanceof i.Uri?e:e.uri;this.pullAsync(e).then((()=>{t&&t()}),(e=>{this.client.error(`Document pull failed for text document ${n.toString()}`,e,!1)}))}async pullAsync(e,t){if(this.isDisposed)return;const n=e instanceof i.Uri,r=n?e:e.uri,s=r.toString();t=n?t:e.version;const c=this.openRequests.get(s),l=n?this.documentStates.track(p.document,e,t):this.documentStates.track(p.document,e);if(void 0===c){const n=new i.CancellationTokenSource;let c,h;this.openRequests.set(s,{state:d.active,document:e,version:t,tokenSource:n});try{c=await this.provider.provideDiagnostics(e,l.resultId,n.token)??{kind:u.DocumentDiagnosticReportKind.full,items:[]}}catch(t){if(t instanceof a.LSPCancellationError&&o.DiagnosticServerCancellationData.is(t.data)&&!1===t.data.retriggerRequest&&(h={state:d.outDated,document:e}),!(void 0===h&&t instanceof i.CancellationError))throw t;h={state:d.reschedule,document:e}}if(h=h??this.openRequests.get(s),void 0===h)return this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${s}`),void this.diagnostics.delete(r);if(this.openRequests.delete(s),!this.tabs.isVisible(e))return void this.documentStates.unTrack(p.document,e);if(h.state===d.outDated)return;void 0!==c&&(c.kind===u.DocumentDiagnosticReportKind.full&&this.diagnostics.set(r,c.items),l.pulledVersion=t,l.resultId=c.resultId),h.state===d.reschedule&&this.pull(e)}else c.state===d.active?(c.tokenSource.cancel(),this.openRequests.set(s,{state:d.reschedule,document:c.document})):c.state===d.outDated&&this.openRequests.set(s,{state:d.reschedule,document:c.document})}cleanupPull(e){const t=e instanceof i.Uri?e:e.uri,n=t.toString(),r=this.openRequests.get(n);this.options.workspaceDiagnostics||this.options.interFileDependencies?void 0!==r?this.openRequests.set(n,{state:d.reschedule,document:e}):this.pull(e):(void 0!==r&&(r.state===d.active&&r.tokenSource.cancel(),this.openRequests.set(n,{state:d.outDated,document:e})),this.diagnostics.delete(t))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then((()=>{this.workspaceTimeout=(0,o.RAL)().timer.setTimeout((()=>{this.pullWorkspace()}),2e3)}),(e=>{e instanceof a.LSPCancellationError||o.DiagnosticServerCancellationData.is(e.data)||(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,o.RAL)().timer.setTimeout((()=>{this.pullWorkspace()}),2e3))}))}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;void 0!==this.workspaceCancellation&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new i.CancellationTokenSource;const e=this.documentStates.getAllResultIds().map((e=>({uri:this.client.protocol2CodeConverter.asUri(e.uri),value:e.value})));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,(e=>{if(e&&!this.isDisposed)for(const t of e.items)t.kind===u.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(p.document,t.uri)||this.diagnostics.set(t.uri,t.items)),this.documentStates.update(p.workspace,t.uri,t.version??void 0,t.resultId)}))}createProvider(){const e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(e,t,n)=>{const r=(e,t,n)=>{const r={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(e instanceof i.Uri?e:e.uri)},previousResultId:t};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(o.DocumentDiagnosticRequest.type,r,n).then((async e=>null==e||this.isDisposed||n.isCancellationRequested?{kind:u.DocumentDiagnosticReportKind.full,items:[]}:e.kind===o.DocumentDiagnosticReportKind.Full?{kind:u.DocumentDiagnosticReportKind.full,resultId:e.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(e.items,n)}:{kind:u.DocumentDiagnosticReportKind.unChanged,resultId:e.resultId}),(e=>this.client.handleFailedRequest(o.DocumentDiagnosticRequest.type,n,e,{kind:u.DocumentDiagnosticReportKind.full,items:[]}))):{kind:u.DocumentDiagnosticReportKind.full,items:[]}},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(e,t,n,r):r(e,t,n)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(e,t,n)=>{const r=async e=>e.kind===o.DocumentDiagnosticReportKind.Full?{kind:u.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(e.uri),resultId:e.resultId,version:e.version,items:await this.client.protocol2CodeConverter.asDiagnostics(e.items,t)}:{kind:u.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(e.uri),resultId:e.resultId,version:e.version},i=e=>{const t=[];for(const n of e)t.push({uri:this.client.code2ProtocolConverter.asUri(n.uri),value:n.value});return t},a=(e,t)=>{const a=(0,s.generateUuid)(),c=this.client.onProgress(o.WorkspaceDiagnosticRequest.partialResult,a,(async e=>{if(null==e)return void n(null);const t={items:[]};for(const n of e.items)try{t.items.push(await r(n))}catch(e){this.client.error("Converting workspace diagnostics failed.",e)}n(t)})),u={identifier:this.options.identifier,previousResultIds:i(e),partialResultToken:a};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(o.WorkspaceDiagnosticRequest.type,u,t).then((async e=>{if(t.isCancellationRequested)return{items:[]};const i={items:[]};for(const t of e.items)i.items.push(await r(t));return c.dispose(),n(i),{items:[]}}),(e=>(c.dispose(),this.client.handleFailedRequest(o.DocumentDiagnosticRequest.type,t,e,{items:[]})))):{items:[]}},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(e,t,n,a):a(e,t)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(const[e,t]of this.openRequests)t.state===d.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:d.outDated,document:t.document})}}class m{constructor(e){this.diagnosticRequestor=e,this.documents=new o.LinkedMap,this.isDisposed=!1}add(e){if(!0===this.isDisposed)return;const t=e instanceof i.Uri?e.toString():e.uri.toString();this.documents.has(t)||(this.documents.set(t,e,o.Touch.Last),this.trigger())}remove(e){const t=e instanceof i.Uri?e.toString():e.uri.toString();this.documents.has(t)&&(this.documents.delete(t),this.diagnosticRequestor.pull(e)),0===this.documents.size?this.stop():e===this.endDocument&&(this.endDocument=this.documents.last)}trigger(){!0!==this.isDisposed&&(void 0===this.intervalHandle?(this.endDocument=this.documents.last,this.intervalHandle=(0,o.RAL)().timer.setInterval((()=>{const e=this.documents.first;if(void 0!==e){const t=e instanceof i.Uri?e.toString():e.uri.toString();this.diagnosticRequestor.pull(e),this.documents.set(t,e,o.Touch.Last),e===this.endDocument&&this.stop()}}),200)):this.endDocument=this.documents.last)}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}}class v{constructor(e,t,n){const s=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},a=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),c=[],u=e=>e instanceof i.Uri?(e=>{const t=n.documentSelector;if(void 0!==s.match)return s.match(t,e);for(const n of t)if(o.TextDocumentFilter.is(n)){if("string"==typeof n)return!1;if(void 0!==n.language&&"*"!==n.language)return!1;if(void 0!==n.scheme&&"*"!==n.scheme&&n.scheme!==e.scheme)return!1;if(void 0!==n.pattern){const t=new r.Minimatch(n.pattern,{noext:!0});if(!t.makeRe())return!1;if(!t.match(e.fsPath))return!1}}return!0})(e):i.languages.match(a,e)>0&&t.isVisible(e),d=e=>e instanceof i.Uri?this.activeTextDocument?.uri.toString()===e.toString():this.activeTextDocument===e;this.diagnosticRequestor=new g(e,t,n),this.backgroundScheduler=new m(this.diagnosticRequestor);const h=e=>{u(e)&&n.interFileDependencies&&!d(e)&&this.backgroundScheduler.add(e)};this.activeTextDocument=i.window.activeTextEditor?.document,i.window.onDidChangeActiveTextEditor((e=>{const t=this.activeTextDocument;this.activeTextDocument=e?.document,void 0!==t&&h(t),void 0!==this.activeTextDocument&&this.backgroundScheduler.remove(this.activeTextDocument)}));const f=e.getFeature(o.DidOpenTextDocumentNotification.method);c.push(f.onNotificationSent((e=>{const t=e.original;u(t)&&this.diagnosticRequestor.pull(t,(()=>{h(t)}))})));const v=new Set;for(const e of i.workspace.textDocuments)u(e)&&(this.diagnosticRequestor.pull(e,(()=>{h(e)})),v.add(e.uri.toString()));if(!0===s.onTabs)for(const e of t.getTabResources())!v.has(e.toString())&&u(e)&&this.diagnosticRequestor.pull(e,(()=>{h(e)}));if(!0===s.onChange){const t=e.getFeature(o.DidChangeTextDocumentNotification.method);c.push(t.onNotificationSent((async e=>{const t=e.original.document;(void 0===s.filter||!s.filter(t,l.onType))&&this.diagnosticRequestor.knows(p.document,t)&&e.original.contentChanges.length>0&&this.diagnosticRequestor.pull(t,(()=>{this.backgroundScheduler.trigger()}))})))}if(!0===s.onSave){const t=e.getFeature(o.DidSaveTextDocumentNotification.method);c.push(t.onNotificationSent((e=>{const t=e.original;void 0!==s.filter&&s.filter(t,l.onSave)||!this.diagnosticRequestor.knows(p.document,t)||this.diagnosticRequestor.pull(e.original,(()=>{this.backgroundScheduler.trigger()}))})))}const y=e.getFeature(o.DidCloseTextDocumentNotification.method);c.push(y.onNotificationSent((e=>{const t=e.original;this.diagnosticRequestor.cleanupPull(t),this.backgroundScheduler.remove(t)}))),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event((()=>{for(const e of i.workspace.textDocuments)u(e)&&this.diagnosticRequestor.pull(e)})),!0===n.workspaceDiagnostics&&"da348dc5-c30a-4515-9d98-31ff3be38d14"!==n.identifier&&this.diagnosticRequestor.pullWorkspace(),this.disposable=i.Disposable.from(...c,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}}class y extends a.TextDocumentLanguageFeature{constructor(e){super(e,o.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=c(c(e,"textDocument"),"diagnostic");t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,c(c(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(o.DiagnosticRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeDiagnosticsEmitter.fire()}));let[n,r]=this.getRegistration(t,e.diagnosticProvider);n&&r&&this.register({id:n,registerOptions:r})}dispose(){void 0!==this.tabs&&(this.tabs.dispose(),this.tabs=void 0),super.dispose()}registerLanguageProvider(e){void 0===this.tabs&&(this.tabs=new h);const t=new v(this._client,this.tabs,e);return[t.disposable,t]}}t.DiagnosticFeature=y},9959:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentHighlightFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(1980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentHighlights:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.DocumentHighlightRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDocumentHighlights(e,n)),(e=>r.handleFailedRequest(i.DocumentHighlightRequest.type,n,e,null))),s=r.middleware;return s.provideDocumentHighlights?s.provideDocumentHighlights(e,t,n,o):o(e,t,n)}};return[r.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentHighlightFeature=a},3471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentLinkFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(1980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentLinkRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentLinks:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.DocumentLinkRequest.type,n.code2ProtocolConverter.asDocumentLinkParams(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asDocumentLinks(e,t)),(e=>n.handleFailedRequest(i.DocumentLinkRequest.type,t,e,null))),o=n.middleware;return o.provideDocumentLinks?o.provideDocumentLinks(e,t,r):r(e,t)},resolveDocumentLink:e.resolveProvider?(e,t)=>{const n=this._client;let r=(e,t)=>n.sendRequest(i.DocumentLinkResolveRequest.type,n.code2ProtocolConverter.asDocumentLink(e),t).then((r=>t.isCancellationRequested?e:n.protocol2CodeConverter.asDocumentLink(r)),(r=>n.handleFailedRequest(i.DocumentLinkResolveRequest.type,t,r,e)));const o=n.middleware;return o.resolveDocumentLink?o.resolveDocumentLink(e,t,r):r(e,t)}:void 0};return[r.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentLinkFeature=a},2483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentSymbolFeature=t.SupportedSymbolTags=t.SupportedSymbolKinds=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(1980);t.SupportedSymbolKinds=[i.SymbolKind.File,i.SymbolKind.Module,i.SymbolKind.Namespace,i.SymbolKind.Package,i.SymbolKind.Class,i.SymbolKind.Method,i.SymbolKind.Property,i.SymbolKind.Field,i.SymbolKind.Constructor,i.SymbolKind.Enum,i.SymbolKind.Interface,i.SymbolKind.Function,i.SymbolKind.Variable,i.SymbolKind.Constant,i.SymbolKind.String,i.SymbolKind.Number,i.SymbolKind.Boolean,i.SymbolKind.Array,i.SymbolKind.Object,i.SymbolKind.Key,i.SymbolKind.Null,i.SymbolKind.EnumMember,i.SymbolKind.Struct,i.SymbolKind.Event,i.SymbolKind.Operator,i.SymbolKind.TypeParameter],t.SupportedSymbolTags=[i.SymbolTag.Deprecated];class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:t.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:t.SupportedSymbolTags},n.labelSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentSymbols:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.DocumentSymbolRequest.type,n.code2ProtocolConverter.asDocumentSymbolParams(e),t).then((async e=>{if(t.isCancellationRequested||null==e)return null;if(0===e.length)return[];{const r=e[0];return i.DocumentSymbol.is(r)?await n.protocol2CodeConverter.asDocumentSymbols(e,t):await n.protocol2CodeConverter.asSymbolInformations(e,t)}}),(e=>n.handleFailedRequest(i.DocumentSymbolRequest.type,t,e,null))),o=n.middleware;return o.provideDocumentSymbols?o.provideDocumentSymbols(e,t,r):r(e,t)}},o=void 0!==e.label?{label:e.label}:void 0;return[r.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,o),n]}}t.DocumentSymbolFeature=a},4849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecuteCommandFeature=void 0;const r=n(9496),i=n(273),o=n(1980),s=n(8909);t.ExecuteCommandFeature=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return i.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:o.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){const t=this._client,n=t.middleware,o=(e,n)=>{let r={command:e,arguments:n};return t.sendRequest(i.ExecuteCommandRequest.type,r).then(void 0,(e=>t.handleFailedRequest(i.ExecuteCommandRequest.type,void 0,e,void 0)))};if(e.registerOptions.commands){const t=[];for(const i of e.registerOptions.commands)t.push(r.commands.registerCommand(i,((...e)=>n.executeCommand?n.executeCommand(i,e,o):o(i,e))));this._commands.set(e.id,t)}}unregister(e){let t=this._commands.get(e);t&&t.forEach((e=>e.dispose()))}dispose(){this._commands.forEach((e=>{e.forEach((e=>e.dispose()))})),this._commands.clear()}}},8909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFeature=t.TextDocumentLanguageFeature=t.TextDocumentEventFeature=t.DynamicDocumentFeature=t.DynamicFeature=t.StaticFeature=t.ensure=t.LSPCancellationError=void 0;const r=n(9496),i=n(273),o=n(9763),s=n(1980);class a extends r.CancellationError{constructor(e){super(),this.data=e}}t.LSPCancellationError=a,t.ensure=function(e,t){return void 0===e[t]&&(e[t]={}),e[t]},(t.StaticFeature||(t.StaticFeature={})).is=function(e){const t=e;return null!=t&&o.func(t.fillClientCapabilities)&&o.func(t.initialize)&&o.func(t.getState)&&o.func(t.dispose)&&(void 0===t.fillInitializeParams||o.func(t.fillInitializeParams))},(t.DynamicFeature||(t.DynamicFeature={})).is=function(e){const t=e;return null!=t&&o.func(t.fillClientCapabilities)&&o.func(t.initialize)&&o.func(t.getState)&&o.func(t.dispose)&&(void 0===t.fillInitializeParams||o.func(t.fillInitializeParams))&&o.func(t.register)&&o.func(t.unregister)&&void 0!==t.registrationType};class c{constructor(e){this._client=e}getState(){const e=this.getDocumentSelectors();let t=0;for(const n of e){t++;for(const e of r.workspace.textDocuments)if(r.languages.match(n,e)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}const n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}}t.DynamicDocumentFeature=c,t.TextDocumentEventFeature=class extends c{constructor(e,t,n,i,o,s,a){super(e),this._event=t,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new r.EventEmitter}static textDocumentFilter(e,t){for(const n of e)if(r.languages.match(n,t)>0)return!0;return!1}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event((e=>{this.callback(e).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed.`,e)}))}))),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){const t=async e=>{const t=this._createParams(e);await this._client.sendNotification(this._type,t).catch(),this.notificationSent(e,this._type,t)};if(this.matches(e)){const n=this._middleware();return n?n(e,(e=>t(e))):t(e)}}matches(e){return!this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))&&(!this._selectorFilter||this._selectorFilter(this._selectors.values(),e))}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(const t of this._selectors.values())if(r.languages.match(t,e)>0)return{send:e=>this.callback(e)}}},t.TextDocumentLanguageFeature=class extends c{constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(const e of this._registrations.values()){const t=e.data.registerOptions.documentSelector;null!==t&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}dispose(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getRegistration(e,t){if(!t)return[void 0,void 0];if(i.TextDocumentRegistrationOptions.is(t)){const n=i.StaticRegistrationOptions.hasId(t)?t.id:s.generateUuid(),r=t.documentSelector||e;if(r)return[n,Object.assign({},t,{documentSelector:r})]}else if(o.boolean(t)&&!0===t||i.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=o.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[s.generateUuid(),n]}return[void 0,void 0]}getRegistrationOptions(e,t){if(e&&t)return o.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(const t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(null!==n&&r.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}},t.WorkspaceFeature=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){const e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){const t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}dispose(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}}},8406:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesFeature=t.WillRenameFilesFeature=t.WillCreateFilesFeature=t.DidDeleteFilesFeature=t.DidRenameFilesFeature=t.DidCreateFilesFeature=void 0;const r=n(9496),i=n(1171),o=n(273),s=n(1980);function a(e,t){return void 0===e[t]&&(e[t]={}),e[t]}function c(e,t,n){e[t]=n}class u{constructor(e,t,n,r,i){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=r,this._serverCapability=i,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){const t=a(a(e,"workspace"),"fileOperations");c(t,"dynamicRegistration",!0),c(t,this._clientCapability,!0)}initialize(e){const t=e.workspace?.fileOperations,n=void 0!==t?t[this._serverCapability]:void 0;if(void 0!==n?.filters)try{this.register({id:s.generateUuid(),registerOptions:{filters:n.filters}})}catch(e){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));const t=e.registerOptions.filters.map((e=>{const t=new i.Minimatch(e.pattern.glob,u.asMinimatchOptions(e.pattern.options));if(!t.makeRe())throw new Error(`Invalid pattern ${e.pattern.glob}!`);return{scheme:e.scheme,matcher:t,kind:e.pattern.matches}}));this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),0===this._filters.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return u.getFileType(e)}async filter(e,t){const n=await Promise.all(e.files.map((async e=>{const n=t(e),i=n.fsPath.replace(/\\/g,"/");for(const e of this._filters.values())for(const t of e)if(void 0===t.scheme||t.scheme===n.scheme)if(t.matcher.match(i)){if(void 0===t.kind)return!0;const e=await this.getFileType(n);if(void 0===e)return this._client.error(`Failed to determine file type for ${n.toString()}.`),!0;if(e===r.FileType.File&&t.kind===o.FileOperationPatternKind.file||e===r.FileType.Directory&&t.kind===o.FileOperationPatternKind.folder)return!0}else if(t.kind===o.FileOperationPatternKind.folder&&await u.getFileType(n)===r.FileType.Directory&&t.matcher.match(`${i}/`))return!0;return!1}))),i=e.files.filter(((e,t)=>n[t]));return{...e,files:i}}static async getFileType(e){try{return(await r.workspace.fs.stat(e)).type}catch(e){return}}static asMinimatchOptions(e){if(void 0!==e)return!0===e.ignoreCase?{nocase:!0}:void 0}}class l extends u{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i),this._notificationType=n,this._accessUri=o,this._createParams=s}async send(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=async e=>this._client.sendNotification(this._notificationType,this._createParams(e));return this.doSend(t,e)}}}class d extends l{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){const t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);const n=await u.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),0===this.filterSize()&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}dispose(){super.dispose(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}}t.DidCreateFilesFeature=class extends l{constructor(e){super(e,r.workspace.onDidCreateFiles,o.DidCreateFilesNotification.type,"didCreate","didCreate",(e=>e),e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}},t.DidRenameFilesFeature=class extends d{constructor(e){super(e,r.workspace.onDidRenameFiles,o.DidRenameFilesNotification.type,"didRename","didRename",(e=>e.oldUri),e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=r.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,(e=>e.oldUri)))}doSend(e,t){this.clearFileTypeCache();const n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}},t.DidDeleteFilesFeature=class extends d{constructor(e){super(e,r.workspace.onDidDeleteFiles,o.DidDeleteFilesNotification.type,"didDelete","didDelete",(e=>e),e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=r.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,(e=>e)))}doSend(e,t){this.clearFileTypeCache();const n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};class p extends u{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i),this._requestType=n,this._accessUri=o,this._createParams=s}async send(e){const t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=e=>this._client.sendRequest(this._requestType,this._createParams(e),e.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,e)}}}t.WillCreateFilesFeature=class extends p{constructor(e){super(e,r.workspace.onWillCreateFiles,o.WillCreateFilesRequest.type,"willCreate","willCreate",(e=>e),e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}},t.WillRenameFilesFeature=class extends p{constructor(e){super(e,r.workspace.onWillRenameFiles,o.WillRenameFilesRequest.type,"willRename","willRename",(e=>e.oldUri),e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}},t.WillDeleteFilesFeature=class extends p{constructor(e){super(e,r.workspace.onWillDeleteFiles,o.WillDeleteFilesRequest.type,"willDelete","willDelete",(e=>e),e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}}},5338:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemWatcherFeature=void 0;const r=n(9496),i=n(273),o=n(8909);t.FileSystemWatcherFeature=class{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return i.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,o.ensure)((0,o.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;const t=[];for(const n of e.registerOptions.watchers){const e=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(void 0===e)continue;let o=!0,s=!0,a=!0;void 0!==n.kind&&null!==n.kind&&(o=0!=(n.kind&i.WatchKind.Create),s=0!=(n.kind&i.WatchKind.Change),a=0!=(n.kind&i.WatchKind.Delete));const c=r.workspace.createFileSystemWatcher(e,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let e of t)this.hookListeners(e,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,r,o){t&&e.onDidCreate((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Created})),null,o),n&&e.onDidChange((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Changed})),null,o),r&&e.onDidDelete((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Deleted})),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let e of t)e.dispose()}dispose(){this._watchers.forEach((e=>{for(let t of e)t.dispose()})),this._watchers.clear()}}},6454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[i.FoldingRangeKind.Comment,i.FoldingRangeKind.Imports,i.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1}}initialize(e,t){let[n,r]=this.getRegistration(t,e.foldingRangeProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideFoldingRanges:(e,t,n)=>{const r=this._client,o=(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e)};return r.sendRequest(i.FoldingRangeRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asFoldingRanges(e,n)),(e=>r.handleFailedRequest(i.FoldingRangeRequest.type,n,e,null)))},s=r.middleware;return s.provideFoldingRanges?s.provideFoldingRanges(e,t,n,o):o(e,0,n)}};return[r.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.FoldingRangeFeature=s},6426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentOnTypeFormattingFeature=t.DocumentRangeFormattingFeature=t.DocumentFormattingFeature=void 0;const r=n(9496),i=n(273),o=n(1980),s=n(8909);var a;!function(e){e.fromConfiguration=function(e){const t=r.workspace.getConfiguration("files",e);return{trimTrailingWhitespace:t.get("trimTrailingWhitespace"),trimFinalNewlines:t.get("trimFinalNewlines"),insertFinalNewline:t.get("insertFinalNewline")}}}(a||(a={}));class c extends s.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentFormattingEdits:(e,t,n)=>{const r=this._client,o=(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),options:r.code2ProtocolConverter.asFormattingOptions(t,a.fromConfiguration(e))};return r.sendRequest(i.DocumentFormattingRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asTextEdits(e,n)),(e=>r.handleFailedRequest(i.DocumentFormattingRequest.type,n,e,null)))},s=r.middleware;return s.provideDocumentFormattingEdits?s.provideDocumentFormattingEdits(e,t,n,o):o(e,t,n)}};return[r.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentFormattingFeature=c;class u extends s.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(e,t,n,r)=>{const o=this._client,s=(e,t,n,r)=>{const s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),options:o.code2ProtocolConverter.asFormattingOptions(n,a.fromConfiguration(e))};return o.sendRequest(i.DocumentRangeFormattingRequest.type,s,r).then((e=>r.isCancellationRequested?null:o.protocol2CodeConverter.asTextEdits(e,r)),(e=>o.handleFailedRequest(i.DocumentRangeFormattingRequest.type,r,e,null)))},c=o.middleware;return c.provideDocumentRangeFormattingEdits?c.provideDocumentRangeFormattingEdits(e,t,n,r,s):s(e,t,n,r)}};return[r.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentRangeFormattingFeature=u;class l extends s.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideOnTypeFormattingEdits:(e,t,n,r,o)=>{const s=this._client,c=(e,t,n,r,o)=>{let c={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(e),position:s.code2ProtocolConverter.asPosition(t),ch:n,options:s.code2ProtocolConverter.asFormattingOptions(r,a.fromConfiguration(e))};return s.sendRequest(i.DocumentOnTypeFormattingRequest.type,c,o).then((e=>o.isCancellationRequested?null:s.protocol2CodeConverter.asTextEdits(e,o)),(e=>s.handleFailedRequest(i.DocumentOnTypeFormattingRequest.type,o,e,null)))},u=s.middleware;return u.provideOnTypeFormattingEdits?u.provideOnTypeFormattingEdits(e,t,n,r,o,c):c(e,t,n,r,o)}},o=e.moreTriggerCharacter||[];return[r.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...o),n]}}t.DocumentOnTypeFormattingFeature=l},6782:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HoverFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(1980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.HoverRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[i.MarkupKind.Markdown,i.MarkupKind.PlainText]}initialize(e,t){const n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideHover:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.HoverRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asHover(e)),(e=>r.handleFailedRequest(i.HoverRequest.type,n,e,null))),s=r.middleware;return s.provideHover?s.provideHover(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.HoverFeature=a},9889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.implementationProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideImplementation:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.ImplementationRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>r.handleFailedRequest(i.ImplementationRequest.type,n,e,null))),s=r.middleware;return s.provideImplementation?s.provideImplementation(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.ImplementationFeature=s},6190:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintsFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.InlayHintRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,o.ensure)((0,o.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.InlayHintRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeInlayHints.fire()}));const[n,r]=this.getRegistration(t,e.inlayHintProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n=new r.EventEmitter,o={onDidChangeInlayHints:n.event,provideInlayHints:(e,t,n)=>{const r=this._client,o=async(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),range:r.code2ProtocolConverter.asRange(t)};try{const e=await r.sendRequest(i.InlayHintRequest.type,o,n);return n.isCancellationRequested?null:r.protocol2CodeConverter.asInlayHints(e,n)}catch(e){return r.handleFailedRequest(i.InlayHintRequest.type,n,e,null)}},s=r.middleware;return s.provideInlayHints?s.provideInlayHints(e,t,n,o):o(e,t,n)}};return o.resolveInlayHint=!0===e.resolveProvider?(e,t)=>{const n=this._client,r=async(e,t)=>{try{const r=await n.sendRequest(i.InlayHintResolveRequest.type,n.code2ProtocolConverter.asInlayHint(e),t);if(t.isCancellationRequested)return null;const o=n.protocol2CodeConverter.asInlayHint(r,t);return t.isCancellationRequested?null:o}catch(e){return n.handleFailedRequest(i.InlayHintResolveRequest.type,t,e,null)}},o=n.middleware;return o.resolveInlayHint?o.resolveInlayHint(e,t,r):r(e,t)}:void 0,[this.registerProvider(t,o),{provider:o,onDidChangeInlayHints:n}]}registerProvider(e,t){return r.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.InlayHintsFeature=s},5098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.InlineValueRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,o.ensure)((0,o.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.InlineValueRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeInlineValues.fire()}));const[n,r]=this.getRegistration(t,e.inlineValueProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n=new r.EventEmitter,o={onDidChangeInlineValues:n.event,provideInlineValues:(e,t,n,r)=>{const o=this._client,s=(e,t,n,r)=>{const s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),context:o.code2ProtocolConverter.asInlineValueContext(n)};return o.sendRequest(i.InlineValueRequest.type,s,r).then((e=>r.isCancellationRequested?null:o.protocol2CodeConverter.asInlineValues(e,r)),(e=>o.handleFailedRequest(i.InlineValueRequest.type,r,e,null)))},a=o.middleware;return a.provideInlineValues?a.provideInlineValues(e,t,n,r,s):s(e,t,n,r)}};return[this.registerProvider(t,o),{provider:o,onDidChangeInlineValues:n}]}registerProvider(e,t){return r.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.InlineValueFeature=s},3483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"linkedEditingRange").dynamicRegistration=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.linkedEditingRangeProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideLinkedEditingRanges:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.LinkedEditingRangeRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asLinkedEditingRanges(e,n)),(e=>r.handleFailedRequest(i.LinkedEditingRangeRequest.type,n,e,null))),s=r.middleware;return s.provideLinkedEditingRange?s.provideLinkedEditingRange(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.LinkedEditingFeature=s},203:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookDocumentSyncFeature=void 0;const r=n(9496),i=n(1171),o=n(273),s=n(1980),a=n(9763);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var u,l,d,p,h;!function(e){let t;!function(t){function n(e,t){return e.map((e=>s(e,t)))}function i(e){return c(new Set,e)}function s(e,t){const n=o.NotebookCell.create(function(e){switch(e){case r.NotebookCellKind.Markup:return o.NotebookCellKind.Markup;case r.NotebookCellKind.Code:return o.NotebookCellKind.Code}}(e.kind),t.asUri(e.document.uri));return Object.keys(e.metadata).length>0&&(n.metadata=i(e.metadata)),void 0!==e.executionSummary&&a.number(e.executionSummary.executionOrder)&&a.boolean(e.executionSummary.success)&&(n.executionSummary={executionOrder:e.executionSummary.executionOrder,success:e.executionSummary.success}),n}function c(e,t){if(e.has(t))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(t)){const n=[];for(const r of t)if(null!==r&&"object"==typeof r||Array.isArray(r))n.push(c(e,r));else{if(r instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");n.push(r)}return n}{const n=Object.keys(t),r=Object.create(null);for(const i of n){const n=t[i];if(null!==n&&"object"==typeof n||Array.isArray(n))r[i]=c(e,n);else{if(n instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");r[i]=n}}return r}}t.asVersionedNotebookDocumentIdentifier=function(e,t){return{version:e.version,uri:t.asUri(e.uri)}},t.asNotebookDocument=function(e,t,r){const s=o.NotebookDocument.create(r.asUri(e.uri),e.notebookType,e.version,n(t,r));return Object.keys(e.metadata).length>0&&(s.metadata=i(e.metadata)),s},t.asNotebookCells=n,t.asMetadata=i,t.asNotebookCell=s,t.asTextContentChange=function(e,t){const n=t.asChangeTextDocumentParams(e);return{document:n.textDocument,changes:n.contentChanges}},t.asNotebookDocumentChangeEvent=function(t,n){const r=Object.create(null);if(t.metadata&&(r.metadata=e.c2p.asMetadata(t.metadata)),void 0!==t.cells){const i=Object.create(null),o=t.cells;o.structure&&(i.structure={array:{start:o.structure.array.start,deleteCount:o.structure.array.deleteCount,cells:void 0!==o.structure.array.cells?o.structure.array.cells.map((t=>e.c2p.asNotebookCell(t,n))):void 0},didOpen:void 0!==o.structure.didOpen?o.structure.didOpen.map((e=>n.asOpenTextDocumentParams(e.document).textDocument)):void 0,didClose:void 0!==o.structure.didClose?o.structure.didClose.map((e=>n.asCloseTextDocumentParams(e.document).textDocument)):void 0}),void 0!==o.data&&(i.data=o.data.map((t=>e.c2p.asNotebookCell(t,n)))),void 0!==o.textContent&&(i.textContent=o.textContent.map((t=>e.c2p.asTextContentChange(t,n)))),Object.keys(i).length>0&&(r.cells=i)}return r}}(t=e.c2p||(e.c2p={}))}(u||(u={})),function(e){function t(e,t,r=!0){return!(e.kind!==t.kind||e.document.uri.toString()!==t.document.uri.toString()||e.document.languageId!==t.document.languageId||!function(e,t){return e===t||void 0!==e&&void 0!==t&&e.executionOrder===t.executionOrder&&e.success===t.success&&function(e,t){return e===t||void 0!==e&&void 0!==t&&e.startTime===t.startTime&&e.endTime===t.endTime}(e.timing,t.timing)}(e.executionSummary,t.executionSummary))&&(!r||r&&n(e.metadata,t.metadata))}function n(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;const i=Array.isArray(e),o=Array.isArray(t);if(i!==o)return!1;if(i&&o){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}if(r(e)&&r(t)){const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(r.sort(),i.sort(),!n(r,i))return!1;for(let i=0;i<r.length;i++){const o=r[i];if(!n(e[o],t[o]))return!1}return!0}return!1}function r(e){return null!==e&&"object"==typeof e}e.computeDiff=function(e,n,r){const i=e.length,o=n.length;let s=0;for(;s<o&&s<i&&t(e[s],n[s],r);)s++;if(s<o&&s<i){let a=i-1,c=o-1;for(;a>=0&&c>=0&&t(e[a],n[c],r);)a--,c--;const u=a+1-s,l=s===c+1?void 0:n.slice(s,c+1);return void 0!==l?{start:s,deleteCount:u,cells:l}:{start:s,deleteCount:u}}return s<o?{start:s,deleteCount:0,cells:n.slice(s)}:s<i?{start:s,deleteCount:i-s}:void 0},e.isObjectLiteral=r}(l||(l={})),function(e){e.matchNotebook=function(e,t){if("string"==typeof e)return"*"===e||t.notebookType===e;if(void 0!==e.notebookType&&"*"!==e.notebookType&&t.notebookType!==e.notebookType)return!1;const n=t.uri;if(void 0!==e.scheme&&"*"!==e.scheme&&n.scheme!==e.scheme)return!1;if(void 0!==e.pattern){const t=new i.Minimatch(e.pattern,{noext:!0});if(!t.makeRe())return!1;if(!t.match(n.fsPath))return!1}return!0}}(d||(d={})),function(e){function t(e,t,n,r){return void 0===t&&void 0===n?{notebook:e,language:r}:{notebook:{notebookType:e,scheme:t,pattern:n},language:r}}e.asDocumentSelector=function(e){const n=e.notebookSelector,r=[];for(const e of n){const n=("string"==typeof e.notebook?e.notebook:e.notebook?.notebookType)??"*",i="string"==typeof e.notebook?void 0:e.notebook?.scheme,o="string"==typeof e.notebook?void 0:e.notebook?.pattern;if(void 0!==e.cells)for(const s of e.cells)r.push(t(n,i,o,s.language));else r.push(t(n,i,o,void 0))}return r}}(p||(p={})),function(e){e.create=function(e){return{cells:e,uris:new Set(e.map((e=>e.document.uri.toString())))}}}(h||(h={}));class f{constructor(e,t){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(p.asDocumentSelector(t)),r.workspace.onDidOpenNotebookDocument((e=>{this.notebookDidOpen.add(e.uri.toString()),this.didOpen(e)}),void 0,this.disposables);for(const e of r.workspace.notebookDocuments)this.notebookDidOpen.add(e.uri.toString()),this.didOpen(e);r.workspace.onDidChangeNotebookDocument((e=>this.didChangeNotebookDocument(e)),void 0,this.disposables),!0===this.options.save&&r.workspace.onDidSaveNotebookDocument((e=>this.didSave(e)),void 0,this.disposables),r.workspace.onDidCloseNotebookDocument((e=>{this.didClose(e),this.notebookDidOpen.delete(e.uri.toString())}),void 0,this.disposables)}getState(){for(const e of r.workspace.notebookDocuments)if(void 0!==this.getMatchingCells(e))return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return r.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,t){if(0===r.languages.match(this.selector,t.document))return;if(!this.notebookDidOpen.has(e.uri.toString()))return;const n=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,t);if(void 0!==n){const r=n.uris.has(t.document.uri.toString());if(i&&r||!i&&!r)return;if(i){const t=this.getMatchingCells(e);if(void 0!==t){const r=this.asNotebookDocumentChangeEvent(e,void 0,n,t);void 0!==r&&this.doSendChange(r,t).catch((()=>{}))}}}else i&&this.doSendOpen(e,[t]).catch((()=>{}))}didChangeNotebookCellTextDocument(e,t){0!==r.languages.match(this.selector,t.document)&&this.doSendChange({notebook:e,cells:{textContent:[t]}},void 0).catch((()=>{}))}didCloseNotebookCellTextDocument(e,t){const n=this.notebookSyncInfo.get(e.uri.toString());if(void 0===n)return;const r=t.document.uri,i=n.cells.findIndex((e=>e.document.uri.toString()===r.toString()));if(-1!==i)if(0===i&&1===n.cells.length)this.doSendClose(e,n.cells).catch((()=>{}));else{const t=n.cells.slice(),r=t.splice(i,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:i,deleteCount:1},didClose:r}}},t).catch((()=>{}))}}dispose(){for(const e of this.disposables)e.dispose()}didOpen(e,t=this.getMatchingCells(e),n=this.notebookSyncInfo.get(e.uri.toString())){if(void 0!==n)if(void 0!==t){const r=this.asNotebookDocumentChangeEvent(e,void 0,n,t);void 0!==r&&this.doSendChange(r,t).catch((()=>{}))}else this.doSendClose(e,[]).catch((()=>{}));else{if(void 0===t)return;this.doSendOpen(e,t).catch((()=>{}))}}didChangeNotebookDocument(e){const t=e.notebook,n=this.notebookSyncInfo.get(t.uri.toString());if(void 0===n){if(0===e.contentChanges.length)return;const r=this.getMatchingCells(t);if(void 0===r)return;this.didOpen(t,r,n)}else{const r=this.getMatchingCells(t);if(void 0===r)return void this.didClose(t,n);const i=this.asNotebookDocumentChangeEvent(e.notebook,e,n,r);void 0!==i&&this.doSendChange(i,r).catch((()=>{}))}}didSave(e){void 0!==this.notebookSyncInfo.get(e.uri.toString())&&this.doSendSave(e).catch((()=>{}))}didClose(e,t=this.notebookSyncInfo.get(e.uri.toString())){if(void 0===t)return;const n=e.getCells().filter((e=>t.uris.has(e.document.uri.toString())));this.doSendClose(e,n).catch((()=>{}))}async sendDidOpenNotebookDocument(e){const t=this.getMatchingCells(e);if(void 0!==t)return this.doSendOpen(e,t)}async doSendOpen(e,t){const n=async(e,t)=>{const n=u.c2p.asNotebookDocument(e,t,this.client.code2ProtocolConverter),r=t.map((e=>this.client.code2ProtocolConverter.asTextDocumentItem(e.document)));try{await this.client.sendNotification(o.DidOpenNotebookDocumentNotification.type,{notebookDocument:n,cellTextDocuments:r})}catch(e){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",e),e}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),h.create(t)),void 0!==r?.didOpen?r.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,t=this.getMatchingCells(e.notebook)){const n=async e=>{try{await this.client.sendNotification(o.DidChangeNotebookDocumentNotification.type,{notebookDocument:u.c2p.asVersionedNotebookDocumentIdentifier(e.notebook,this.client.code2ProtocolConverter),change:u.c2p.asNotebookDocumentChangeEvent(e,this.client.code2ProtocolConverter)})}catch(e){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",e),e}},r=this.client.middleware?.notebooks;return void 0!==e.cells?.structure&&this.notebookSyncInfo.set(e.notebook.uri.toString(),h.create(t??[])),void 0!==r?.didChange?r?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){const t=async e=>{try{await this.client.sendNotification(o.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(e.uri)}})}catch(e){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",e),e}},n=this.client.middleware?.notebooks;return void 0!==n?.didSave?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,t){const n=async(e,t)=>{try{await this.client.sendNotification(o.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(e.uri)},cellTextDocuments:t.map((e=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(e.document)))})}catch(e){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",e),e}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),void 0!==r?.didClose?r.didClose(e,t,n):n(e,t)}asNotebookDocumentChangeEvent(e,t,n,r){if(void 0!==t&&t.notebook!==e)throw new Error("Notebook must be identical");const i={notebook:e};let o;if(void 0!==t?.metadata&&(i.metadata=u.c2p.asMetadata(t.metadata)),void 0!==t?.cellChanges&&t.cellChanges.length>0){const e=[];o=new Set(r.map((e=>e.document.uri.toString())));for(const n of t.cellChanges)!o.has(n.cell.document.uri.toString())||void 0===n.executionSummary&&void 0===n.metadata||e.push(n.cell);e.length>0&&(i.cells=i.cells??{},i.cells.data=e)}if((void 0!==t?.contentChanges&&t.contentChanges.length>0||void 0===t)&&void 0!==n&&void 0!==r){const e=n.cells,t=r,o=l.computeDiff(e,t,!1);let s,a;if(void 0!==o){s=void 0===o.cells?new Map:new Map(o.cells.map((e=>[e.document.uri.toString(),e]))),a=0===o.deleteCount?new Map:new Map(e.slice(o.start,o.start+o.deleteCount).map((e=>[e.document.uri.toString(),e])));for(const e of Array.from(a.keys()))s.has(e)&&(a.delete(e),s.delete(e));i.cells=i.cells??{};const t=[],n=[];if(s.size>0||a.size>0){for(const e of s.values())t.push(e);for(const e of a.values())n.push(e)}i.cells.structure={array:o,didOpen:t,didClose:n}}}return Object.keys(i).length>1?i:void 0}getMatchingCells(e,t=e.getCells()){if(void 0!==this.options.notebookSelector)for(const n of this.options.notebookSelector){if(void 0===n.notebook){if(void 0===n.cells)return;const r=this.filterCells(e,t,n.cells);return 0===r.length?void 0:r}if(d.matchNotebook(n.notebook,e))return void 0===n.cells?t:this.filterCells(e,t,n.cells)}}cellMatches(e,t){const n=this.getMatchingCells(e,[t]);return void 0!==n&&n[0]===t}filterCells(e,t,n){const r=t.filter((e=>{const t=e.document.languageId;return n.some((e=>"*"===e.language||t===e.language))}));return"function"==typeof this.client.clientOptions.notebookDocumentOptions?.filterCells?this.client.clientOptions.notebookDocumentOptions.filterCells(e,t):r}}class g{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=o.NotebookDocumentSyncRegistrationType.type,r.workspace.onDidOpenTextDocument((e=>{if(e.uri.scheme!==g.CellScheme)return;const[t,n]=this.findNotebookDocumentAndCell(e);if(void 0!==t&&void 0!==n)for(const e of this.registrations.values())e instanceof f&&e.didOpenNotebookCellTextDocument(t,n)})),r.workspace.onDidChangeTextDocument((e=>{if(0===e.contentChanges.length)return;const t=e.document;if(t.uri.scheme!==g.CellScheme)return;const[n]=this.findNotebookDocumentAndCell(t);if(void 0!==n)for(const t of this.registrations.values())t instanceof f&&t.didChangeNotebookCellTextDocument(n,e)})),r.workspace.onDidCloseTextDocument((e=>{if(e.uri.scheme!==g.CellScheme)return;const[t,n]=this.findNotebookDocumentAndCell(e);if(void 0!==t&&void 0!==n)for(const e of this.registrations.values())e instanceof f&&e.didCloseNotebookCellTextDocument(t,n)}))}getState(){if(0===this.registrations.size)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(const e of this.registrations.values()){const t=e.getState();if("document"===t.kind&&!0===t.registrations&&!0===t.matches)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){const t=c(c(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){const t=e.notebookDocumentSync;void 0!==t&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(p.asDocumentSelector(t)))}initialize(e){const t=e.notebookDocumentSync;if(void 0===t)return;const n=t.id??s.generateUuid();this.register({id:n,registerOptions:t})}register(e){const t=new f(this.client,e.registerOptions);this.registrations.set(e.id,t)}unregister(e){const t=this.registrations.get(e);t&&t.dispose()}dispose(){for(const e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==g.CellScheme)return!1;if(void 0!==this.dedicatedChannel&&r.languages.match(this.dedicatedChannel,e)>0)return!0;for(const t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(const t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){const t=e.uri.toString();for(const e of r.workspace.notebookDocuments)for(const n of e.getCells())if(n.document.uri.toString()===t)return[e,n];return[void 0,void 0]}}t.NotebookDocumentSyncFeature=g,g.CellScheme="vscode-notebook-cell"},3603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressFeature=void 0;const r=n(273),i=n(8071);t.ProgressFeature=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:r.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){var t,n;(t=e,n="window",void 0===t[n]&&(t[n]=Object.create(null)),t[n]).workDoneProgress=!0}initialize(){const e=this._client,t=e=>{this.activeParts.delete(e)};e.onRequest(r.WorkDoneProgressCreateRequest.type,(e=>{this.activeParts.add(new i.ProgressPart(this._client,e.token,t))}))}dispose(){for(const e of this.activeParts)e.done();this.activeParts.clear()}}},8071:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressPart=void 0;const r=n(9496),i=n(273),o=n(9763);t.ProgressPart=class{constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(i.WorkDoneProgress.type,this._token,(e=>{switch(e.kind){case"begin":this.begin(e);break;case"report":this.report(e);break;case"end":this.done(),n&&n(this)}}))}begin(e){this._infinite=void 0===e.percentage,void 0!==this._lspProgressDisposable&&r.window.withProgress({location:r.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},(async(t,n)=>{if(void 0!==this._lspProgressDisposable)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested((()=>{this._client.sendNotification(i.WorkDoneProgressCancelNotification.type,{token:this._token})})),this.report(e),new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}))}report(e){if(this._infinite&&o.string(e.message))void 0!==this._progress&&this._progress.report({message:e.message});else if(o.number(e.percentage)){const t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,void 0!==this._progress&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),void 0!==this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),void 0!==this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){void 0!==this._lspProgressDisposable&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),void 0!==this._tokenDisposable&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}}},8714:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class i extends r.CallHierarchyItem{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i,o),void 0!==s&&(this.data=s)}}t.default=i},6434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class i extends r.CodeAction{constructor(e,t){super(e),this.data=t}}t.default=i},583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class i extends r.CodeLens{constructor(e){super(e)}}t.default=i},1807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class i extends r.CompletionItem{constructor(e){super(e)}}t.default=i},8785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const r=n(9496),i=n(273),o=n(9763),s=n(4904),a=n(1807),c=n(583),u=n(8705),l=n(6434),d=n(6640),p=n(8714),h=n(1365),f=n(3912),g=n(1065),m=n(273);var v;!function(e){e.is=function(e){let t=e;return t&&o.string(t.language)&&o.string(t.value)}}(v||(v={})),t.createConverter=function(e,t,n){const y=e||(e=>r.Uri.parse(e));function b(e){return y(e)}function S(e){let t=new d.ProtocolDiagnostic(w(e.range),e.message,T(e.severity),e.data);if(void 0!==e.code)if("string"==typeof e.code||"number"==typeof e.code)i.CodeDescription.is(e.codeDescription)?t.code={value:e.code,target:b(e.codeDescription.href)}:t.code=e.code;else if(d.DiagnosticCode.is(e.code)){t.hasDiagnosticCode=!0;const n=e.code;t.code={value:n.value,target:b(n.target)}}return e.source&&(t.source=e.source),e.relatedInformation&&(t.relatedInformation=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++){const i=e[n];t[n]=new r.DiagnosticRelatedInformation(L(i.location),i.message)}return t}(e.relatedInformation)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let n of e){let e=_(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),t}function _(e){switch(e){case i.DiagnosticTag.Unnecessary:return r.DiagnosticTag.Unnecessary;case i.DiagnosticTag.Deprecated:return r.DiagnosticTag.Deprecated;default:return}}function E(e){return e?new r.Position(e.line,e.character):void 0}function w(e){return e?new r.Range(e.start.line,e.start.character,e.end.line,e.end.character):void 0}async function P(e,t){return s.map(e,(e=>new r.Range(e.start.line,e.start.character,e.end.line,e.end.character)),t)}function T(e){if(null==e)return r.DiagnosticSeverity.Error;switch(e){case i.DiagnosticSeverity.Error:return r.DiagnosticSeverity.Error;case i.DiagnosticSeverity.Warning:return r.DiagnosticSeverity.Warning;case i.DiagnosticSeverity.Information:return r.DiagnosticSeverity.Information;case i.DiagnosticSeverity.Hint:return r.DiagnosticSeverity.Hint}return r.DiagnosticSeverity.Error}function C(e){if(o.string(e))return e;switch(e.kind){case i.MarkupKind.Markdown:return I(e.value);case i.MarkupKind.PlainText:return e.value;default:return`Unsupported Markup content received. Kind is: ${e.kind}`}}function I(e){let o;if(void 0===e||"string"==typeof e)o=new r.MarkdownString(e);else switch(e.kind){case i.MarkupKind.Markdown:o=new r.MarkdownString(e.value);break;case i.MarkupKind.PlainText:o=new r.MarkdownString,o.appendText(e.value);break;default:o=new r.MarkdownString,o.appendText(`Unsupported Markup content received. Kind is: ${e.kind}`)}return o.isTrusted=t,o.supportHtml=n,o}function R(e){if(e===i.CompletionItemTag.Deprecated)return r.CompletionItemTag.Deprecated}function D(e,t,n,s,c,u){const l=function(e){if(null==e)return[];const t=[];for(const n of e){const e=R(n);void 0!==e&&t.push(e)}return t}(e.tags),d=function(e){return i.CompletionItemLabelDetails.is(e.labelDetails)?{label:e.label,detail:e.labelDetails.detail,description:e.labelDetails.description}:e.label}(e),p=new a.default(d);e.detail&&(p.detail=e.detail),e.documentation&&(p.documentation=C(e.documentation),p.documentationFormat=o.string(e.documentation)?"$string":e.documentation.kind),e.filterText&&(p.filterText=e.filterText);const h=function(e,t,n){const o=e.insertTextFormat??n;if(void 0!==e.textEdit||void 0!==t){const[n,a]=void 0!==e.textEdit?(s=e.textEdit,i.InsertReplaceEdit.is(s)?[{inserting:w(s.insert),replacing:w(s.replace)},s.newText]:[w(s.range),s.newText]):[t,e.textEditText??e.label];return o===i.InsertTextFormat.Snippet?{text:new r.SnippetString(a),range:n,fromEdit:!0}:{text:a,range:n,fromEdit:!0}}return e.insertText?o===i.InsertTextFormat.Snippet?{text:new r.SnippetString(e.insertText),fromEdit:!1}:{text:e.insertText,fromEdit:!1}:void 0;var s}(e,n,c);if(h&&(p.insertText=h.text,p.range=h.range,p.fromEdit=h.fromEdit),o.number(e.kind)){let[t,n]=(f=e.kind,i.CompletionItemKind.Text<=f&&f<=i.CompletionItemKind.TypeParameter?[f-1,void 0]:[r.CompletionItemKind.Text,f]);p.kind=t,n&&(p.originalItemKind=n)}var f;e.sortText&&(p.sortText=e.sortText),e.additionalTextEdits&&(p.additionalTextEdits=x(e.additionalTextEdits));const g=void 0!==e.commitCharacters?o.stringArray(e.commitCharacters)?e.commitCharacters:void 0:t;g&&(p.commitCharacters=g.slice()),e.command&&(p.command=z(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(p.deprecated=e.deprecated,!0===e.deprecated&&l.push(r.CompletionItemTag.Deprecated)),!0!==e.preselect&&!1!==e.preselect||(p.preselect=e.preselect);const m=e.data??u;void 0!==m&&(p.data=m),l.length>0&&(p.tags=l);const v=e.insertTextMode??s;return void 0!==v&&(p.insertTextMode=v,v===i.InsertTextMode.asIs&&(p.keepWhitespace=!0)),p}function O(e){if(e)return new r.TextEdit(w(e.range),e.newText)}async function k(e,t){if(e)return s.map(e,O,t)}function x(e){if(!e)return;const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=O(e[n]);return t}async function N(e,t){return s.mapAsync(e,A,t)}async function A(e,t){let n=new r.SignatureInformation(e.label);return void 0!==e.documentation&&(n.documentation=C(e.documentation)),void 0!==e.parameters&&(n.parameters=await j(e.parameters,t)),void 0!==e.activeParameter&&(n.activeParameter=e.activeParameter),n}function j(e,t){return s.map(e,M,t)}function M(e){let t=new r.ParameterInformation(e.label);return e.documentation&&(t.documentation=C(e.documentation)),t}function L(e){return e?new r.Location(y(e.uri),w(e.range)):void 0}function F(e){if(!e)return;let t={targetUri:y(e.targetUri),targetRange:w(e.targetRange),originSelectionRange:w(e.originSelectionRange),targetSelectionRange:w(e.targetSelectionRange)};if(!t.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return t}async function q(e,t){if(e){if(o.array(e)){if(0===e.length)return[];if(i.LocationLink.is(e[0])){const n=e;return s.map(n,F,t)}{const n=e;return s.map(n,L,t)}}return i.LocationLink.is(e)?[F(e)]:L(e)}}function U(e){let t=new r.DocumentHighlight(w(e.range));return o.number(e.kind)&&(t.kind=W(e.kind)),t}function W(e){switch(e){case i.DocumentHighlightKind.Text:return r.DocumentHighlightKind.Text;case i.DocumentHighlightKind.Read:return r.DocumentHighlightKind.Read;case i.DocumentHighlightKind.Write:return r.DocumentHighlightKind.Write}return r.DocumentHighlightKind.Text}function V(e){return e<=i.SymbolKind.TypeParameter?e-1:r.SymbolKind.Property}function H(e){if(e===i.SymbolTag.Deprecated)return r.SymbolTag.Deprecated}function $(e){if(null==e)return;const t=[];for(const n of e){const e=H(n);void 0!==e&&t.push(e)}return 0===t.length?void 0:t}function B(e){const t=e.data,n=e.location,i=void 0===n.range||void 0!==t?new f.default(e.name,V(e.kind),e.containerName??"",void 0===n.range?y(n.uri):new r.Location(y(e.location.uri),w(n.range)),t):new r.SymbolInformation(e.name,V(e.kind),e.containerName??"",new r.Location(y(e.location.uri),w(n.range)));return K(i,e),i}function G(e){let t=new r.DocumentSymbol(e.name,e.detail||"",V(e.kind),w(e.range),w(e.selectionRange));if(K(t,e),void 0!==e.children&&e.children.length>0){let n=[];for(let t of e.children)n.push(G(t));t.children=n}return t}function K(e,t){e.tags=$(t.tags),t.deprecated&&(e.tags?e.tags.includes(r.SymbolTag.Deprecated)||(e.tags=e.tags.concat(r.SymbolTag.Deprecated)):e.tags=[r.SymbolTag.Deprecated])}function z(e){let t={title:e.title,command:e.command};return e.arguments&&(t.arguments=e.arguments),t}const Y=new Map;function J(e){if(null==e)return;let t=Y.get(e);if(t)return t;let n=e.split(".");t=r.CodeActionKind.Empty;for(let e of n)t=t.append(e);return t}async function X(e,t){if(null==e)return;let n=new l.default(e.title,e.data);return void 0!==e.kind&&(n.kind=J(e.kind)),void 0!==e.diagnostics&&(n.diagnostics=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=S(e[n]);return t}(e.diagnostics)),void 0!==e.edit&&(n.edit=await Z(e.edit,t)),void 0!==e.command&&(n.command=z(e.command)),void 0!==e.isPreferred&&(n.isPreferred=e.isPreferred),void 0!==e.disabled&&(n.disabled={reason:e.disabled.reason}),n}function Q(e){if(!e)return;let t=new c.default(w(e.range));return e.command&&(t.command=z(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}async function Z(e,t){if(!e)return;const n=new Map;if(void 0!==e.changeAnnotations){const r=e.changeAnnotations;await s.forEach(Object.keys(r),(e=>{const t=function(e){if(void 0!==e)return{label:e.label,needsConfirmation:!!e.needsConfirmation,description:e.description}}(r[e]);n.set(e,t)}),t)}const o=e=>void 0===e?void 0:n.get(e),a=new r.WorkspaceEdit;if(e.documentChanges){const n=e.documentChanges;await s.forEach(n,(e=>{if(i.CreateFile.is(e))a.createFile(y(e.uri),e.options,o(e.annotationId));else if(i.RenameFile.is(e))a.renameFile(y(e.oldUri),y(e.newUri),e.options,o(e.annotationId));else if(i.DeleteFile.is(e))a.deleteFile(y(e.uri),e.options,o(e.annotationId));else{if(!i.TextDocumentEdit.is(e))throw new Error(`Unknown workspace edit change received:\n${JSON.stringify(e,void 0,4)}`);{const t=y(e.textDocument.uri);for(const n of e.edits)i.AnnotatedTextEdit.is(n)?a.replace(t,w(n.range),n.newText,o(n.annotationId)):a.replace(t,w(n.range),n.newText)}}}),t)}else if(e.changes){const n=e.changes;await s.forEach(Object.keys(n),(e=>{a.set(y(e),x(n[e]))}),t)}return a}function ee(e){let t=w(e.range),n=e.target?b(e.target):void 0,r=new u.default(t,n);return void 0!==e.tooltip&&(r.tooltip=e.tooltip),void 0!==e.data&&null!==e.data&&(r.data=e.data),r}function te(e){return new r.Color(e.red,e.green,e.blue,e.alpha)}function ne(e){return new r.ColorInformation(w(e.range),te(e.color))}function re(e){let t=new r.ColorPresentation(e.label);return t.additionalTextEdits=x(e.additionalTextEdits),e.textEdit&&(t.textEdit=O(e.textEdit)),t}function ie(e){if(e)switch(e){case i.FoldingRangeKind.Comment:return r.FoldingRangeKind.Comment;case i.FoldingRangeKind.Imports:return r.FoldingRangeKind.Imports;case i.FoldingRangeKind.Region:return r.FoldingRangeKind.Region}}function oe(e){return new r.FoldingRange(e.startLine,e.endLine,ie(e.kind))}function se(e){return new r.SelectionRange(w(e.range),e.parent?se(e.parent):void 0)}function ae(e){return i.InlineValueText.is(e)?new r.InlineValueText(w(e.range),e.text):i.InlineValueVariableLookup.is(e)?new r.InlineValueVariableLookup(w(e.range),e.variableName,e.caseSensitiveLookup):new r.InlineValueEvaluatableExpression(w(e.range),e.expression)}async function ce(e,t){const n="string"==typeof e.label?e.label:await s.map(e.label,ue,t),r=new g.default(E(e.position),n);return void 0!==e.kind&&(r.kind=e.kind),void 0!==e.textEdits&&(r.textEdits=await k(e.textEdits,t)),void 0!==e.tooltip&&(r.tooltip=le(e.tooltip)),void 0!==e.paddingLeft&&(r.paddingLeft=e.paddingLeft),void 0!==e.paddingRight&&(r.paddingRight=e.paddingRight),void 0!==e.data&&(r.data=e.data),r}function ue(e){const t=new r.InlayHintLabelPart(e.value);return void 0!==e.location&&(t.location=L(e.location)),void 0!==e.tooltip&&(t.tooltip=le(e.tooltip)),void 0!==e.command&&(t.command=z(e.command)),t}function le(e){return"string"==typeof e?e:I(e)}function de(e){if(null===e)return;const t=new p.default(V(e.kind),e.name,e.detail||"",b(e.uri),w(e.range),w(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=$(e.tags)),t}async function pe(e,t){return new r.CallHierarchyIncomingCall(de(e.from),await P(e.fromRanges,t))}async function he(e,t){return new r.CallHierarchyOutgoingCall(de(e.to),await P(e.fromRanges,t))}function fe(e){return new r.SemanticTokensEdit(e.start,e.deleteCount,void 0!==e.data?new Uint32Array(e.data):void 0)}function ge(e){if(null===e)return;let t=new h.default(V(e.kind),e.name,e.detail||"",b(e.uri),w(e.range),w(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=$(e.tags)),t}return Y.set(i.CodeActionKind.Empty,r.CodeActionKind.Empty),Y.set(i.CodeActionKind.QuickFix,r.CodeActionKind.QuickFix),Y.set(i.CodeActionKind.Refactor,r.CodeActionKind.Refactor),Y.set(i.CodeActionKind.RefactorExtract,r.CodeActionKind.RefactorExtract),Y.set(i.CodeActionKind.RefactorInline,r.CodeActionKind.RefactorInline),Y.set(i.CodeActionKind.RefactorRewrite,r.CodeActionKind.RefactorRewrite),Y.set(i.CodeActionKind.Source,r.CodeActionKind.Source),Y.set(i.CodeActionKind.SourceOrganizeImports,r.CodeActionKind.SourceOrganizeImports),{asUri:b,asDocumentSelector:function(e){const t=[];for(const n of e)if("string"==typeof n)t.push(n);else if(m.NotebookCellTextDocumentFilter.is(n))if("string"==typeof n.notebook)t.push({notebookType:n.notebook,language:n.language});else{const e=n.notebook.notebookType??"*";t.push({notebookType:e,scheme:n.notebook.scheme,pattern:n.notebook.pattern,language:n.language})}else m.TextDocumentFilter.is(n)&&t.push({language:n.language,scheme:n.scheme,pattern:n.pattern});return t},asDiagnostics:async function(e,t){return s.map(e,S,t)},asDiagnostic:S,asRange:w,asRanges:P,asPosition:E,asDiagnosticSeverity:T,asDiagnosticTag:_,asHover:function(e){if(e)return new r.Hover(function(e){if(o.string(e))return I(e);if(v.is(e))return I().appendCodeblock(e.value,e.language);if(Array.isArray(e)){let t=[];for(let n of e){let e=I();v.is(n)?e.appendCodeblock(n.value,n.language):e.appendMarkdown(n),t.push(e)}return t}return I(e)}(e.contents),w(e.range))},asCompletionResult:async function(e,t,n){if(!e)return;if(Array.isArray(e))return s.map(e,(e=>D(e,t)),n);const o=e,{defaultRange:a,commitCharacters:c}=function(e,t){const n=e.itemDefaults?.editRange,r=e.itemDefaults?.commitCharacters??t;return i.Range.is(n)?{defaultRange:w(n),commitCharacters:r}:void 0!==n?{defaultRange:{inserting:w(n.insert),replacing:w(n.replace)},commitCharacters:r}:{defaultRange:void 0,commitCharacters:r}}(o,t),u=await s.map(o.items,(e=>D(e,c,a,o.itemDefaults?.insertTextMode,o.itemDefaults?.insertTextFormat,o.itemDefaults?.data)),n);return new r.CompletionList(u,o.isIncomplete)},asCompletionItem:D,asTextEdit:O,asTextEdits:k,asSignatureHelp:async function(e,t){if(!e)return;let n=new r.SignatureHelp;return o.number(e.activeSignature)?n.activeSignature=e.activeSignature:n.activeSignature=0,o.number(e.activeParameter)?n.activeParameter=e.activeParameter:n.activeParameter=0,e.signatures&&(n.signatures=await N(e.signatures,t)),n},asSignatureInformations:N,asSignatureInformation:A,asParameterInformations:j,asParameterInformation:M,asDeclarationResult:async function(e,t){if(e)return q(e,t)},asDefinitionResult:async function(e,t){if(e)return q(e,t)},asLocation:L,asReferences:async function(e,t){if(e)return s.map(e,L,t)},asDocumentHighlights:async function(e,t){if(e)return s.map(e,U,t)},asDocumentHighlight:U,asDocumentHighlightKind:W,asSymbolKind:V,asSymbolTag:H,asSymbolTags:$,asSymbolInformations:async function(e,t){if(e)return s.map(e,B,t)},asSymbolInformation:B,asDocumentSymbols:async function(e,t){if(null!=e)return s.map(e,G,t)},asDocumentSymbol:G,asCommand:z,asCommands:async function(e,t){if(e)return s.map(e,z,t)},asCodeAction:X,asCodeActionKind:J,asCodeActionKinds:function(e){if(null!=e)return e.map((e=>J(e)))},asCodeActionResult:function(e,t){return s.mapAsync(e,(async e=>i.Command.is(e)?z(e):X(e,t)),t)},asCodeLens:Q,asCodeLenses:async function(e,t){if(e)return s.map(e,Q,t)},asWorkspaceEdit:Z,asDocumentLink:ee,asDocumentLinks:async function(e,t){if(e)return s.map(e,ee,t)},asFoldingRangeKind:ie,asFoldingRange:oe,asFoldingRanges:async function(e,t){if(e)return s.map(e,oe,t)},asColor:te,asColorInformation:ne,asColorInformations:async function(e,t){if(e)return s.map(e,ne,t)},asColorPresentation:re,asColorPresentations:async function(e,t){if(e)return s.map(e,re,t)},asSelectionRange:se,asSelectionRanges:async function(e,t){return Array.isArray(e)?s.map(e,se,t):[]},asInlineValue:ae,asInlineValues:async function(e,t){return Array.isArray(e)?s.map(e,ae,t):[]},asInlayHint:ce,asInlayHints:async function(e,t){if(Array.isArray(e))return s.mapAsync(e,ce,t)},asSemanticTokensLegend:function(e){return e},asSemanticTokens:async function(e,t){if(null!=e)return new r.SemanticTokens(new Uint32Array(e.data),e.resultId)},asSemanticTokensEdit:fe,asSemanticTokensEdits:async function(e,t){if(null!=e)return new r.SemanticTokensEdits(e.edits.map(fe),e.resultId)},asCallHierarchyItem:de,asCallHierarchyItems:async function(e,t){if(null!==e)return s.map(e,de,t)},asCallHierarchyIncomingCall:pe,asCallHierarchyIncomingCalls:async function(e,t){if(null!==e)return s.mapAsync(e,pe,t)},asCallHierarchyOutgoingCall:he,asCallHierarchyOutgoingCalls:async function(e,t){if(null!==e)return s.mapAsync(e,he,t)},asLinkedEditingRanges:async function(e,t){if(null!=e)return new r.LinkedEditingRanges(await P(e.ranges,t),function(e){if(null!=e)return new RegExp(e)}(e.wordPattern))},asTypeHierarchyItem:ge,asTypeHierarchyItems:async function(e,t){if(null!==e)return s.map(e,ge,t)},asGlobPattern:function(e){if(o.string(e))return e;if(i.RelativePattern.is(e)){if(i.URI.is(e.baseUri))return new r.RelativePattern(b(e.baseUri),e.pattern);if(i.WorkspaceFolder.is(e.baseUri)){const t=r.workspace.getWorkspaceFolder(b(e.baseUri.uri));return void 0!==t?new r.RelativePattern(t,e.pattern):void 0}}}}}},6640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolDiagnostic=t.DiagnosticCode=void 0;const r=n(9496),i=n(9763);(t.DiagnosticCode||(t.DiagnosticCode={})).is=function(e){const t=e;return null!=t&&(i.number(t.value)||i.string(t.value))&&i.string(t.target)};class o extends r.Diagnostic{constructor(e,t,n,r){super(e,t,n),this.data=r,this.hasDiagnosticCode=!1}}t.ProtocolDiagnostic=o},8705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class i extends r.DocumentLink{constructor(e,t){super(e,t)}}t.default=i},1065:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class i extends r.InlayHint{constructor(e,t,n){super(e,t,n)}}t.default=i},1365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class i extends r.TypeHierarchyItem{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i,o),void 0!==s&&(this.data=s)}}t.default=i},3912:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class i extends r.SymbolInformation{constructor(e,t,n,i,o){const s=!(i instanceof r.Uri);super(e,t,n,s?i:new r.Location(i,new r.Range(0,0,0,0))),this.hasRange=s,void 0!==o&&(this.data=o)}}t.default=i},8480:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReferencesFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(1980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.ReferencesRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideReferences:(e,t,n,r)=>{const o=this._client,s=(e,t,n,r)=>o.sendRequest(i.ReferencesRequest.type,o.code2ProtocolConverter.asReferenceParams(e,t,n),r).then((e=>r.isCancellationRequested?null:o.protocol2CodeConverter.asReferences(e,r)),(e=>o.handleFailedRequest(i.ReferencesRequest.type,r,e,null))),a=o.middleware;return a.provideReferences?a.provideReferences(e,t,n,r,s):s(e,t,n,r)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.ReferencesFeature=a},6458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenameFeature=void 0;const r=n(9496),i=n(273),o=n(1980),s=n(9763),a=n(8909);class c extends a.TextDocumentLanguageFeature{constructor(e){super(e,i.RenameRequest.type)}fillClientCapabilities(e){let t=(0,a.ensure)((0,a.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=i.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.renameProvider);n&&(s.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:o.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){const t=e.documentSelector,n={provideRenameEdits:(e,t,n,r)=>{const o=this._client,s=(e,t,n,r)=>{let s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),position:o.code2ProtocolConverter.asPosition(t),newName:n};return o.sendRequest(i.RenameRequest.type,s,r).then((e=>r.isCancellationRequested?null:o.protocol2CodeConverter.asWorkspaceEdit(e,r)),(e=>o.handleFailedRequest(i.RenameRequest.type,r,e,null,!1)))},a=o.middleware;return a.provideRenameEdits?a.provideRenameEdits(e,t,n,r,s):s(e,t,n,r)},prepareRename:e.prepareProvider?(e,t,n)=>{const r=this._client,o=(e,t,n)=>{let o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),position:r.code2ProtocolConverter.asPosition(t)};return r.sendRequest(i.PrepareRenameRequest.type,o,n).then((e=>n.isCancellationRequested?null:i.Range.is(e)?r.protocol2CodeConverter.asRange(e):this.isDefaultBehavior(e)?!0===e.defaultBehavior?null:Promise.reject(new Error("The element can't be renamed.")):e&&i.Range.is(e.range)?{range:r.protocol2CodeConverter.asRange(e.range),placeholder:e.placeholder}:Promise.reject(new Error("The element can't be renamed."))),(e=>{throw"string"==typeof e.message?new Error(e.message):new Error("The element can't be renamed.")}))},s=r.middleware;return s.prepareRename?s.prepareRename(e,t,n,o):o(e,t,n)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){const t=e;return t&&s.boolean(t.defaultBehavior)}}t.RenameFeature=c},750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.SelectionRangeRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"selectionRange").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.selectionRangeProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideSelectionRanges:(e,t,n)=>{const r=this._client,o=async(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),positions:await r.code2ProtocolConverter.asPositions(t,n)};return r.sendRequest(i.SelectionRangeRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asSelectionRanges(e,n)),(e=>r.handleFailedRequest(i.SelectionRangeRequest.type,n,e,null)))},s=r.middleware;return s.provideSelectionRanges?s.provideSelectionRanges(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.SelectionRangeFeature=s},9957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(9763);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[i.SemanticTokenTypes.namespace,i.SemanticTokenTypes.type,i.SemanticTokenTypes.class,i.SemanticTokenTypes.enum,i.SemanticTokenTypes.interface,i.SemanticTokenTypes.struct,i.SemanticTokenTypes.typeParameter,i.SemanticTokenTypes.parameter,i.SemanticTokenTypes.variable,i.SemanticTokenTypes.property,i.SemanticTokenTypes.enumMember,i.SemanticTokenTypes.event,i.SemanticTokenTypes.function,i.SemanticTokenTypes.method,i.SemanticTokenTypes.macro,i.SemanticTokenTypes.keyword,i.SemanticTokenTypes.modifier,i.SemanticTokenTypes.comment,i.SemanticTokenTypes.string,i.SemanticTokenTypes.number,i.SemanticTokenTypes.regexp,i.SemanticTokenTypes.operator,i.SemanticTokenTypes.decorator],t.tokenModifiers=[i.SemanticTokenModifiers.declaration,i.SemanticTokenModifiers.definition,i.SemanticTokenModifiers.readonly,i.SemanticTokenModifiers.static,i.SemanticTokenModifiers.deprecated,i.SemanticTokenModifiers.abstract,i.SemanticTokenModifiers.async,i.SemanticTokenModifiers.modification,i.SemanticTokenModifiers.documentation,i.SemanticTokenModifiers.defaultLibrary],t.formats=[i.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,o.ensure)((0,o.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.SemanticTokensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeSemanticTokensEmitter.fire()}));const[n,r]=this.getRegistration(t,e.semanticTokensProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n=s.boolean(e.full)?e.full:void 0!==e.full,o=void 0!==e.full&&"boolean"!=typeof e.full&&!0===e.full.delta,a=new r.EventEmitter,c=n?{onDidChangeSemanticTokens:a.event,provideDocumentSemanticTokens:(e,t)=>{const n=this._client,r=n.middleware,o=(e,t)=>{const r={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(i.SemanticTokensRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSemanticTokens(e,t)),(e=>n.handleFailedRequest(i.SemanticTokensRequest.type,t,e,null)))};return r.provideDocumentSemanticTokens?r.provideDocumentSemanticTokens(e,t,o):o(e,t)},provideDocumentSemanticTokensEdits:o?(e,t,n)=>{const r=this._client,o=r.middleware,s=(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),previousResultId:t};return r.sendRequest(i.SemanticTokensDeltaRequest.type,o,n).then((async e=>n.isCancellationRequested?null:i.SemanticTokens.is(e)?await r.protocol2CodeConverter.asSemanticTokens(e,n):await r.protocol2CodeConverter.asSemanticTokensEdits(e,n)),(e=>r.handleFailedRequest(i.SemanticTokensDeltaRequest.type,n,e,null)))};return o.provideDocumentSemanticTokensEdits?o.provideDocumentSemanticTokensEdits(e,t,n,s):s(e,t,n)}:void 0}:void 0,u=!0===e.range?{provideDocumentRangeSemanticTokens:(e,t,n)=>{const r=this._client,o=r.middleware,s=(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),range:r.code2ProtocolConverter.asRange(t)};return r.sendRequest(i.SemanticTokensRangeRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asSemanticTokens(e,n)),(e=>r.handleFailedRequest(i.SemanticTokensRangeRequest.type,n,e,null)))};return o.provideDocumentRangeSemanticTokens?o.provideDocumentRangeSemanticTokens(e,t,n,s):s(e,t,n)}}:void 0,l=[],d=this._client,p=d.protocol2CodeConverter.asSemanticTokensLegend(e.legend),h=d.protocol2CodeConverter.asDocumentSelector(t);return void 0!==c&&l.push(r.languages.registerDocumentSemanticTokensProvider(h,c,p)),void 0!==u&&l.push(r.languages.registerDocumentRangeSemanticTokensProvider(h,u,p)),[new r.Disposable((()=>l.forEach((e=>e.dispose())))),{range:u,full:c,onDidChangeSemanticTokensEmitter:a}]}}t.SemanticTokensFeature=a},2908:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureHelpFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(1980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[i.MarkupKind.Markdown,i.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideSignatureHelp:(e,t,n,r)=>{const o=this._client,s=(e,t,n,r)=>o.sendRequest(i.SignatureHelpRequest.type,o.code2ProtocolConverter.asSignatureHelpParams(e,t,n),r).then((e=>r.isCancellationRequested?null:o.protocol2CodeConverter.asSignatureHelp(e,r)),(e=>o.handleFailedRequest(i.SignatureHelpRequest.type,r,e,null))),a=o.middleware;return a.provideSignatureHelp?a.provideSignatureHelp(e,t,r,n,s):s(e,t,r,n)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){const n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(void 0===e.retriggerCharacters){const i=e.triggerCharacters||[];return r.languages.registerSignatureHelpProvider(n,t,...i)}{const i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return r.languages.registerSignatureHelpProvider(n,t,i)}}}t.SignatureHelpFeature=a},743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidSaveTextDocumentFeature=t.WillSaveWaitUntilFeature=t.WillSaveFeature=t.DidChangeTextDocumentFeature=t.DidCloseTextDocumentFeature=t.DidOpenTextDocumentFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(4904),a=n(1980);class c extends o.TextDocumentEventFeature{constructor(e,t){super(e,r.workspace.onDidOpenTextDocument,i.DidOpenTextDocumentNotification.type,(()=>e.middleware.didOpen),(t=>e.code2ProtocolConverter.asOpenTextDocumentParams(t)),(e=>e),o.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return i.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;const t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);r.workspace.textDocuments.forEach((e=>{const n=e.uri.toString();if(!this._syncedDocuments.has(n)&&r.languages.match(t,e)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e)){const t=this._client.middleware,r=e=>this._client.sendNotification(this._type,this._createParams(e));(t.didOpen?t.didOpen(e,r):r(e)).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed`,e)})),this._syncedDocuments.set(n,e)}}))}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.set(e.uri.toString(),e)}}t.DidOpenTextDocumentFeature=c;class u extends o.TextDocumentEventFeature{constructor(e,t){super(e,r.workspace.onDidCloseTextDocument,i.DidCloseTextDocumentNotification.type,(()=>e.middleware.didClose),(t=>e.code2ProtocolConverter.asCloseTextDocumentParams(t)),(e=>e),o.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get registrationType(){return i.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.delete(e.uri.toString())}unregister(e){const t=this._selectors.get(e);super.unregister(e);const n=this._selectors.values();this._syncedDocuments.forEach((e=>{if(r.languages.match(t,e)>0&&!this._selectorFilter(n,e)&&!this._client.hasDedicatedTextSynchronizationFeature(e)){let t=this._client.middleware,n=e=>this._client.sendNotification(this._type,this._createParams(e));this._syncedDocuments.delete(e.uri.toString()),(t.didClose?t.didClose(e,n):n(e)).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed`,e)}))}}))}}t.DidCloseTextDocumentFeature=u;class l extends o.DynamicDocumentFeature{constructor(e){super(e),this._forcingDelivery=!1,this._changeData=new Map,this._onNotificationSent=new r.EventEmitter}get registrationType(){return i.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&void 0!==n.change&&n.change!==i.TextDocumentSyncKind.None&&this.register({id:a.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=r.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}))}*getDocumentSelectors(){for(const e of this._changeData.values())yield e.documentSelector}async callback(e){if(0===e.contentChanges.length)return;const t=[];for(const n of this._changeData.values())if(r.languages.match(n.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){const r=this._client.middleware;if(n.syncKind===i.TextDocumentSyncKind.Incremental){const n=async e=>{const t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);await this._client.sendNotification(i.DidChangeTextDocumentNotification.type,t),this.notificationSent(e,i.DidChangeTextDocumentNotification.type,t)};t.push(r.didChange?r.didChange(e,(e=>n(e))):n(e))}else if(n.syncKind===i.TextDocumentSyncKind.Full){const n=async e=>{const t=async e=>{const t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document);await this._client.sendNotification(i.DidChangeTextDocumentNotification.type,t),this.notificationSent(e,i.DidChangeTextDocumentNotification.type,t)};return this._changeDelayer?(this._changeDelayer.uri!==e.document.uri.toString()&&(await this.forceDelivery(),this._changeDelayer.uri=e.document.uri.toString()),this._changeDelayer.delayer.trigger((()=>t(e)))):(this._changeDelayer={uri:e.document.uri.toString(),delayer:new s.Delayer(200)},this._changeDelayer.delayer.trigger((()=>t(e)),-1))};t.push(r.didChange?r.didChange(e,(e=>n(e))):n(e))}}return Promise.all(t).then(void 0,(e=>{throw this._client.error(`Sending document notification ${i.DidChangeTextDocumentNotification.type.method} failed`,e),e}))}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._changeData.delete(e),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){void 0!==this._changeDelayer&&this._changeDelayer.delayer.cancel(),this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async forceDelivery(){if(!this._forcingDelivery&&this._changeDelayer)try{return this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(const t of this._changeData.values())if(r.languages.match(t.documentSelector,e)>0)return{send:e=>this.callback(e)}}}t.DidChangeTextDocumentFeature=l;class d extends o.TextDocumentEventFeature{constructor(e){super(e,r.workspace.onWillSaveTextDocument,i.WillSaveTextDocumentNotification.type,(()=>e.middleware.willSave),(t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t)),(e=>e.document),((e,t)=>o.TextDocumentEventFeature.textDocumentFilter(e,t.document)))}get registrationType(){return i.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}}t.WillSaveFeature=d;class p extends o.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return i.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=r.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(o.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=e=>this._client.sendRequest(i.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(e)).then((async e=>{let t=await this._client.protocol2CodeConverter.asTextEdits(e);return void 0===t?[]:t}));e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}t.WillSaveWaitUntilFeature=p;class h extends o.TextDocumentEventFeature{constructor(e){super(e,r.workspace.onDidSaveTextDocument,i.DidSaveTextDocumentNotification.type,(()=>e.middleware.didSave),(t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText)),(e=>e),o.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return i.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;if(t&&n&&n.save){const e="boolean"==typeof n.save?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:a.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}}t.DidSaveTextDocumentFeature=h},328:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.typeDefinitionProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideTypeDefinition:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.TypeDefinitionRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>r.handleFailedRequest(i.TypeDefinitionRequest.type,n,e,null))),s=r.middleware;return s.provideTypeDefinition?s.provideTypeDefinition(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.TypeDefinitionFeature=s},4175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchyFeature=void 0;const r=n(9496),i=n(273),o=n(8909);class s{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){const r=this.client,o=this.middleware,s=(e,t,n)=>{const o=r.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return r.sendRequest(i.TypeHierarchyPrepareRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(e,n)),(e=>r.handleFailedRequest(i.TypeHierarchyPrepareRequest.type,n,e,null)))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asTypeHierarchyItem(e)};return n.sendRequest(i.TypeHierarchySupertypesRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(e,t)),(e=>n.handleFailedRequest(i.TypeHierarchySupertypesRequest.type,t,e,null)))};return r.provideTypeHierarchySupertypes?r.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asTypeHierarchyItem(e)};return n.sendRequest(i.TypeHierarchySubtypesRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(e,t)),(e=>n.handleFailedRequest(i.TypeHierarchySubtypesRequest.type,t,e,null)))};return r.provideTypeHierarchySubtypes?r.provideTypeHierarchySubtypes(e,t,o):o(e,t)}}class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"typeHierarchy").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.typeHierarchyProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=this._client,n=new s(t);return[r.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}}t.TypeHierarchyFeature=a},4904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.mapAsync=t.map=t.Semaphore=t.Delayer=void 0;const r=n(273);t.Delayer=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((e=>{this.onSuccess=e})).then((()=>{this.completionPromise=void 0,this.onSuccess=void 0;var e=this.task();return this.task=void 0,e}))),(t>=0||void 0===this.timeout)&&(this.timeout=(0,r.RAL)().timer.setTimeout((()=>{this.timeout=void 0,this.onSuccess(void 0)}),t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(this.timeout.dispose(),this.timeout=void 0)}},t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,r.RAL)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};class i{constructor(e=15){this.yieldAfter=Math.max(e,15),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){const e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=2*this.total}}return!1}}t.map=async function(e,t,n,o){if(0===e.length)return[];const s=new Array(e.length),a=new i(o?.yieldAfter);function c(n){a.start();for(let r=n;r<e.length;r++)if(s[r]=t(e[r]),a.shouldYield())return o?.yieldCallback&&o.yieldCallback(),r+1;return-1}let u=c(0);for(;-1!==u&&(void 0===n||!n.isCancellationRequested);)u=await new Promise((e=>{(0,r.RAL)().timer.setImmediate((()=>{e(c(u))}))}));return s},t.mapAsync=async function(e,t,n,o){if(0===e.length)return[];const s=new Array(e.length),a=new i(o?.yieldAfter);async function c(r){a.start();for(let i=r;i<e.length;i++)if(s[i]=await t(e[i],n),a.shouldYield())return o?.yieldCallback&&o.yieldCallback(),i+1;return-1}let u=await c(0);for(;-1!==u&&(void 0===n||!n.isCancellationRequested);)u=await new Promise((e=>{(0,r.RAL)().timer.setImmediate((()=>{e(c(u))}))}));return s},t.forEach=async function(e,t,n,o){if(0===e.length)return;const s=new i(o?.yieldAfter);function a(n){s.start();for(let r=n;r<e.length;r++)if(t(e[r]),s.shouldYield())return o?.yieldCallback&&o.yieldCallback(),r+1;return-1}let c=a(0);for(;-1!==c&&(void 0===n||!n.isCancellationRequested);)c=await new Promise((e=>{(0,r.RAL)().timer.setImmediate((()=>{e(a(c))}))}))}},9763:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return"function"==typeof e}function i(e){return Array.isArray(e)}function o(e){return e&&r(e.then)}Object.defineProperty(t,"__esModule",{value:!0}),t.asPromise=t.thenable=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=r,t.array=i,t.stringArray=function(e){return i(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=o,t.asPromise=function(e){return e instanceof Promise?e:o(e)?new Promise(((t,n)=>{e.then((e=>t(e)),(e=>n(e)))})):Promise.resolve(e)}},1980:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=t.parse=t.isUUID=t.v4=t.empty=void 0;class n{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class r extends n{constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}}function i(){return new r}r._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],r._timeHighBits=["8","9","a","b"],t.empty=new n("00000000-0000-0000-0000-000000000000"),t.v4=i;const o=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function s(e){return o.test(e)}t.isUUID=s,t.parse=function(e){if(!s(e))throw new Error("invalid uuid");return new n(e)},t.generateUuid=function(){return i().asHex()}},5941:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFoldersFeature=t.arrayDiff=void 0;const r=n(1980),i=n(9496),o=n(273);function s(e,t){if(void 0!==e)return e[t]}function a(e,t){return e.filter((e=>t.indexOf(e)<0))}t.arrayDiff=a,t.WorkspaceFoldersFeature=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return o.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){const t=i.workspace.workspaceFolders;this.initializeWithFolders(t),e.workspaceFolders=void 0===t?null:t.map((e=>this.asProtocol(e)))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){const t=this._client;t.onRequest(o.WorkspaceFoldersRequest.type,(e=>{const n=()=>{const e=i.workspace.workspaceFolders;return void 0===e?null:e.map((e=>this.asProtocol(e)))},r=t.middleware.workspace;return r&&r.workspaceFolders?r.workspaceFolders(e,n):n()}));const n=s(s(s(e,"workspace"),"workspaceFolders"),"changeNotifications");let a;"string"==typeof n?a=n:!0===n&&(a=r.generateUuid()),a&&this.register({id:a,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){const n=a(this._initialFolders,e),r=a(e,this._initialFolders);(r.length>0||n.length>0)&&(t=this.doSendEvent(r,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));void 0!==t&&t.catch((e=>{this._client.error(`Sending notification ${o.DidChangeWorkspaceFoldersNotification.type.method} failed`,e)}))}doSendEvent(e,t){let n={event:{added:e.map((e=>this.asProtocol(e))),removed:t.map((e=>this.asProtocol(e)))}};return this._client.sendNotification(o.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,r=i.workspace.onDidChangeWorkspaceFolders((e=>{let t=e=>this.doSendEvent(e.added,e.removed),r=n.middleware.workspace;(r&&r.didChangeWorkspaceFolders?r.didChangeWorkspaceFolders(e,t):t(e)).catch((e=>{this._client.error(`Sending notification ${o.DidChangeWorkspaceFoldersNotification.type.method} failed`,e)}))}));this._listeners.set(t,r),this.sendInitialEvent(i.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);void 0!==t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return void 0===e?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}}},3051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolFeature=void 0;const r=n(9496),i=n(273),o=n(8909),s=n(2483),a=n(1980);class c extends o.WorkspaceFeature{constructor(e){super(e,i.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:s.SupportedSymbolKinds},t.tagSupport={valueSet:s.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:a.generateUuid(),registerOptions:!0===e.workspaceSymbolProvider?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){const t={provideWorkspaceSymbols:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.WorkspaceSymbolRequest.type,{query:e},t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSymbolInformations(e,t)),(e=>n.handleFailedRequest(i.WorkspaceSymbolRequest.type,t,e,null))),o=n.middleware;return o.provideWorkspaceSymbols?o.provideWorkspaceSymbols(e,t,r):r(e,t)},resolveWorkspaceSymbol:!0===e.resolveProvider?(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.WorkspaceSymbolResolveRequest.type,n.code2ProtocolConverter.asWorkspaceSymbol(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSymbolInformation(e)),(e=>n.handleFailedRequest(i.WorkspaceSymbolResolveRequest.type,t,e,null))),o=n.middleware;return o.resolveWorkspaceSymbol?o.resolveWorkspaceSymbol(e,t,r):r(e,t)}:void 0};return[r.languages.registerWorkspaceSymbolProvider(t),t]}}t.WorkspaceSymbolFeature=c},2850:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingMonitor=t.LanguageClient=t.TransportKind=void 0;const o=n(2081),s=n(7147),a=n(1017),c=n(1249),u=n(9496),l=n(9763),d=n(4384),p=n(794),h=n(6560);var f,g,m,v,y,b;i(n(6560),t),i(n(5734),t),function(e){e[e.stdio=0]="stdio",e[e.ipc=1]="ipc",e[e.pipe=2]="pipe",e[e.socket=3]="socket"}(f=t.TransportKind||(t.TransportKind={})),function(e){e.isSocket=function(e){const t=e;return t&&t.kind===f.socket&&l.number(t.port)}}(g||(g={})),function(e){e.is=function(e){return l.string(e.command)}}(m||(m={})),function(e){e.is=function(e){return l.string(e.module)}}(v||(v={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.writer&&void 0!==t.reader}}(y||(y={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.process&&"boolean"==typeof t.detached}}(b||(b={}));class S extends d.BaseLanguageClient{constructor(e,t,n,r,i){let o,s,a,c,u;l.string(t)?(o=e,s=t,a=n,c=r,u=!!i):(o=e.toLowerCase(),s=e,a=t,c=n,u=r),void 0===u&&(u=!1),super(o,s,c),this._serverOptions=a,this._forceDebug=u,this._isInDebugMode=u;try{this.checkVersion()}catch(e){throw l.string(e.message)&&this.outputChannel.appendLine(e.message),e}}checkVersion(){const e=c.parse(u.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${u.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!c.satisfies(e,"^1.67.0"))throw new Error(`The language client requires VS Code version ^1.67.0 but received version ${u.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise((e=>setTimeout(e,1e3))),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally((()=>{if(this._serverProcess){const e=this._serverProcess;this._serverProcess=void 0,void 0!==this._isDetached&&this._isDetached||this.checkProcessDied(e),this._isDetached=void 0}}))}checkProcessDied(e){e&&void 0!==e.pid&&setTimeout((()=>{try{void 0!==e.pid&&(process.kill(e.pid,0),(0,p.terminate)(e))}catch(e){}}),2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),null===e.processId&&(e.processId=process.pid)}createMessageTransports(e){function t(e,t){if(!e&&!t)return;const n=Object.create(null);return Object.keys(process.env).forEach((e=>n[e]=process.env[e])),t&&(n.ELECTRON_RUN_AS_NODE="1",n.ELECTRON_NO_ASAR="1"),e&&Object.keys(e).forEach((t=>n[t]=e[t])),n}const n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],r=["--debug","--debug-brk","--inspect","--inspect-brk"];function i(e){if(null===e.stdin||null===e.stdout||null===e.stderr)throw new Error("Process created without stdio streams")}const s=this._serverOptions;if(l.func(s))return s().then((t=>{if(d.MessageTransports.is(t))return this._isDetached=!!t.detached,t;if(y.is(t))return this._isDetached=!!t.detached,{reader:new h.StreamMessageReader(t.reader),writer:new h.StreamMessageWriter(t.writer)};{let n;return b.is(t)?(n=t.process,this._isDetached=t.detached):(n=t,this._isDetached=!1),n.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),{reader:new h.StreamMessageReader(n.stdout),writer:new h.StreamMessageWriter(n.stdin)}}}));let a,c=s;return c.run||c.debug?this._forceDebug||function(){let e=process.execArgv;return!!e&&e.some((e=>n.some((t=>e.startsWith(t)))||r.some((t=>e===t))))}()?(a=c.debug,this._isInDebugMode=!0):(a=c.run,this._isInDebugMode=!1):a=s,this._getServerWorkingDir(a.options).then((n=>{if(v.is(a)&&a.module){let r=a,s=r.transport||f.stdio;if(!r.runtime){let a;return new Promise(((c,u)=>{const d=(r.args&&r.args.slice())??[];s===f.ipc?d.push("--node-ipc"):s===f.stdio?d.push("--stdio"):s===f.pipe?(a=(0,h.generateRandomPipeName)(),d.push(`--pipe=${a}`)):g.isSocket(s)&&d.push(`--socket=${s.port}`),d.push(`--clientProcessId=${process.pid.toString()}`);const p=r.options??Object.create(null);if(p.env=t(p.env,!0),p.execArgv=p.execArgv||[],p.cwd=n,p.silent=!0,s===f.ipc||s===f.stdio){const t=o.fork(r.module,d||[],p);i(t),this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),s===f.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),c({reader:new h.IPCMessageReader(this._serverProcess),writer:new h.IPCMessageWriter(this._serverProcess)})):c({reader:new h.StreamMessageReader(t.stdout),writer:new h.StreamMessageWriter(t.stdin)})}else s===f.pipe?(0,h.createClientPipeTransport)(a).then((t=>{const n=o.fork(r.module,d||[],p);i(n),this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{c({reader:e[0],writer:e[1]})}),u)}),u):g.isSocket(s)&&(0,h.createClientSocketTransport)(s.port).then((t=>{const n=o.fork(r.module,d||[],p);i(n),this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{c({reader:e[0],writer:e[1]})}),u)}),u)}))}{const i=[],a=r.options??Object.create(null);a.execArgv&&a.execArgv.forEach((e=>i.push(e))),i.push(r.module),r.args&&r.args.forEach((e=>i.push(e)));const c=Object.create(null);c.cwd=n,c.env=t(a.env,!1);const u=this._getRuntimePath(r.runtime,n);let d;if(s===f.ipc?(c.stdio=[null,null,null,"ipc"],i.push("--node-ipc")):s===f.stdio?i.push("--stdio"):s===f.pipe?(d=(0,h.generateRandomPipeName)(),i.push(`--pipe=${d}`)):g.isSocket(s)&&i.push(`--socket=${s.port}`),i.push(`--clientProcessId=${process.pid.toString()}`),s===f.ipc||s===f.stdio){const t=o.spawn(u,i,c);return t&&t.pid?(this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),s===f.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),Promise.resolve({reader:new h.IPCMessageReader(t),writer:new h.IPCMessageWriter(t)})):Promise.resolve({reader:new h.StreamMessageReader(t.stdout),writer:new h.StreamMessageWriter(t.stdin)})):_(t,`Launching server using runtime ${u} failed.`)}if(s===f.pipe)return(0,h.createClientPipeTransport)(d).then((t=>{const n=o.spawn(u,i,c);return n&&n.pid?(this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),t.onConnected().then((e=>({reader:e[0],writer:e[1]})))):_(n,`Launching server using runtime ${u} failed.`)}));if(g.isSocket(s))return(0,h.createClientSocketTransport)(s.port).then((t=>{const n=o.spawn(u,i,c);return n&&n.pid?(this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),t.onConnected().then((e=>({reader:e[0],writer:e[1]})))):_(n,`Launching server using runtime ${u} failed.`)}))}}else if(m.is(a)&&a.command){const t=a,r=void 0!==a.args?a.args.slice(0):[];let i;const s=a.transport;if(s===f.stdio)r.push("--stdio");else if(s===f.pipe)i=(0,h.generateRandomPipeName)(),r.push(`--pipe=${i}`);else if(g.isSocket(s))r.push(`--socket=${s.port}`);else if(s===f.ipc)throw new Error("Transport kind ipc is not support for command executable");const c=Object.assign({},t.options);if(c.cwd=c.cwd||n,void 0===s||s===f.stdio){const n=o.spawn(t.command,r,c);return n&&n.pid?(n.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),this._serverProcess=n,this._isDetached=!!c.detached,Promise.resolve({reader:new h.StreamMessageReader(n.stdout),writer:new h.StreamMessageWriter(n.stdin)})):_(n,`Launching server using command ${t.command} failed.`)}if(s===f.pipe)return(0,h.createClientPipeTransport)(i).then((n=>{const i=o.spawn(t.command,r,c);return i&&i.pid?(this._serverProcess=i,this._isDetached=!!c.detached,i.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),i.stdout.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),n.onConnected().then((e=>({reader:e[0],writer:e[1]})))):_(i,`Launching server using command ${t.command} failed.`)}));if(g.isSocket(s))return(0,h.createClientSocketTransport)(s.port).then((n=>{const i=o.spawn(t.command,r,c);return i&&i.pid?(this._serverProcess=i,this._isDetached=!!c.detached,i.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),i.stdout.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),n.onConnected().then((e=>({reader:e[0],writer:e[1]})))):_(i,`Launching server using command ${t.command} failed.`)}))}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(s,null,4)))}))}_getRuntimePath(e,t){if(a.isAbsolute(e))return e;const n=this._mainGetRootPath();if(void 0!==n){const t=a.join(n,e);if(s.existsSync(t))return t}if(void 0!==t){const n=a.join(t,e);if(s.existsSync(n))return n}return e}_mainGetRootPath(){let e=u.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise((e=>{s.lstat(t,((n,r)=>{e(!n&&r.isDirectory()?t:void 0)}))})):Promise.resolve(void 0)}getLocale(){const e=process.env.VSCODE_NLS_CONFIG;if(void 0===e)return"en";let t;try{t=JSON.parse(e)}catch(e){}return void 0===t||"string"!=typeof t.locale?"en":t.locale}}function _(e,t){return null===e?Promise.reject(t):new Promise(((n,r)=>{e.on("error",(e=>{r(`${t} ${e}`)})),setImmediate((()=>r(t)))}))}t.LanguageClient=S,t.SettingMonitor=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return u.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new u.Disposable((()=>{this._client.needsStop()&&this._client.stop()}))}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,r=n?u.workspace.getConfiguration(t).get(n,!1):u.workspace.getConfiguration(t);r&&this._client.needsStart()?this._client.start().catch((e=>this._client.error("Start failed after configuration change",e,"force"))):!r&&this._client.needsStop()&&this._client.stop().catch((e=>this._client.error("Stop failed after configuration change",e,"force")))}}},794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.terminate=void 0;const r=n(2081),i=n(1017),o="win32"===process.platform,s="darwin"===process.platform,a="linux"===process.platform;t.terminate=function(e,t){if(o)try{let n={stdio:["pipe","pipe","ignore"]};return t&&(n.cwd=t),r.execFileSync("taskkill",["/T","/F","/PID",e.pid.toString()],n),!0}catch(e){return!1}else{if(!a&&!s)return e.kill("SIGKILL"),!0;try{var n=(0,i.join)(__dirname,"terminateProcess.sh");return!r.spawnSync(n,[e.pid.toString()]).error}catch(e){return!1}}}},2847:(e,t,n)=>{"use strict";e.exports=n(2850)},1661:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,i(n(4389),t),i(n(1674),t),i(n(6140),t),i(n(542),t);var o,s=n(3767);Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return s.createProtocolConnection}}),(o=t.LSPErrorCodes||(t.LSPErrorCodes={})).lspReservedErrorRangeStart=-32899,o.RequestFailed=-32803,o.ServerCancelled=-32802,o.ContentModified=-32801,o.RequestCancelled=-32800,o.lspReservedErrorRangeEnd=-32800},3767:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const r=n(4389);t.createProtocolConnection=function(e,t,n,i){return r.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,r.createMessageConnection)(e,t,n,i)}},6140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolNotificationType=t.ProtocolNotificationType0=t.ProtocolRequestType=t.ProtocolRequestType0=t.RegistrationType=void 0;const r=n(4389);t.RegistrationType=class{constructor(e){this.method=e}};class i extends r.RequestType0{constructor(e){super(e)}}t.ProtocolRequestType0=i;class o extends r.RequestType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolRequestType=o;class s extends r.NotificationType0{constructor(e){super(e)}}t.ProtocolNotificationType0=s;class a extends r.NotificationType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolNotificationType=a},2918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.CallHierarchyPrepareRequest=void 0;const r=n(6140);var i,o,s;(s=t.CallHierarchyPrepareRequest||(t.CallHierarchyPrepareRequest={})).method="textDocument/prepareCallHierarchy",s.type=new r.ProtocolRequestType(s.method),(o=t.CallHierarchyIncomingCallsRequest||(t.CallHierarchyIncomingCallsRequest={})).method="callHierarchy/incomingCalls",o.type=new r.ProtocolRequestType(o.method),(i=t.CallHierarchyOutgoingCallsRequest||(t.CallHierarchyOutgoingCallsRequest={})).method="callHierarchy/outgoingCalls",i.type=new r.ProtocolRequestType(i.method)},9891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPresentationRequest=t.DocumentColorRequest=void 0;const r=n(6140);var i;(i=t.DocumentColorRequest||(t.DocumentColorRequest={})).method="textDocument/documentColor",i.type=new r.ProtocolRequestType(i.method),(t.ColorPresentationRequest||(t.ColorPresentationRequest={})).type=new r.ProtocolRequestType("textDocument/colorPresentation")},5934:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationRequest=void 0;const r=n(6140);(t.ConfigurationRequest||(t.ConfigurationRequest={})).type=new r.ProtocolRequestType("workspace/configuration")},764:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationRequest=void 0;const r=n(6140);var i;(i=t.DeclarationRequest||(t.DeclarationRequest={})).method="textDocument/declaration",i.type=new r.ProtocolRequestType(i.method)},9824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=void 0;const r=n(4389),i=n(9533),o=n(6140);var s,a,c,u;(t.DiagnosticServerCancellationData||(t.DiagnosticServerCancellationData={})).is=function(e){const t=e;return t&&i.boolean(t.retriggerRequest)},(u=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={})).Full="full",u.Unchanged="unchanged",(c=t.DocumentDiagnosticRequest||(t.DocumentDiagnosticRequest={})).method="textDocument/diagnostic",c.type=new o.ProtocolRequestType(c.method),c.partialResult=new r.ProgressType,(a=t.WorkspaceDiagnosticRequest||(t.WorkspaceDiagnosticRequest={})).method="workspace/diagnostic",a.type=new o.ProtocolRequestType(a.method),a.partialResult=new r.ProgressType,(s=t.DiagnosticRefreshRequest||(t.DiagnosticRefreshRequest={})).method="workspace/diagnostic/refresh",s.type=new o.ProtocolRequestType0(s.method)},7846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.DidRenameFilesNotification=t.WillRenameFilesRequest=t.DidCreateFilesNotification=t.WillCreateFilesRequest=t.FileOperationPatternKind=void 0;const r=n(6140);var i,o,s,a,c,u,l;(l=t.FileOperationPatternKind||(t.FileOperationPatternKind={})).file="file",l.folder="folder",(u=t.WillCreateFilesRequest||(t.WillCreateFilesRequest={})).method="workspace/willCreateFiles",u.type=new r.ProtocolRequestType(u.method),(c=t.DidCreateFilesNotification||(t.DidCreateFilesNotification={})).method="workspace/didCreateFiles",c.type=new r.ProtocolNotificationType(c.method),(a=t.WillRenameFilesRequest||(t.WillRenameFilesRequest={})).method="workspace/willRenameFiles",a.type=new r.ProtocolRequestType(a.method),(s=t.DidRenameFilesNotification||(t.DidRenameFilesNotification={})).method="workspace/didRenameFiles",s.type=new r.ProtocolNotificationType(s.method),(o=t.DidDeleteFilesNotification||(t.DidDeleteFilesNotification={})).method="workspace/didDeleteFiles",o.type=new r.ProtocolNotificationType(o.method),(i=t.WillDeleteFilesRequest||(t.WillDeleteFilesRequest={})).method="workspace/willDeleteFiles",i.type=new r.ProtocolRequestType(i.method)},3394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeRequest=void 0;const r=n(6140);var i;(i=t.FoldingRangeRequest||(t.FoldingRangeRequest={})).method="textDocument/foldingRange",i.type=new r.ProtocolRequestType(i.method)},2122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationRequest=void 0;const r=n(6140);var i;(i=t.ImplementationRequest||(t.ImplementationRequest={})).method="textDocument/implementation",i.type=new r.ProtocolRequestType(i.method)},9999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=void 0;const r=n(6140);var i,o,s;(s=t.InlayHintRequest||(t.InlayHintRequest={})).method="textDocument/inlayHint",s.type=new r.ProtocolRequestType(s.method),(o=t.InlayHintResolveRequest||(t.InlayHintResolveRequest={})).method="inlayHint/resolve",o.type=new r.ProtocolRequestType(o.method),(i=t.InlayHintRefreshRequest||(t.InlayHintRefreshRequest={})).method="workspace/inlayHint/refresh",i.type=new r.ProtocolRequestType0(i.method)},5246:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueRefreshRequest=t.InlineValueRequest=void 0;const r=n(6140);var i,o;(o=t.InlineValueRequest||(t.InlineValueRequest={})).method="textDocument/inlineValue",o.type=new r.ProtocolRequestType(o.method),(i=t.InlineValueRefreshRequest||(t.InlineValueRefreshRequest={})).method="workspace/inlineValue/refresh",i.type=new r.ProtocolRequestType0(i.method)},542:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.RelativePattern=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeErrorCodes=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.PositionEncodingKind=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.NotebookCellTextDocumentFilter=t.NotebookDocumentFilter=t.TextDocumentFilter=void 0,t.TypeHierarchySubtypesRequest=t.TypeHierarchyPrepareRequest=t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolResolveRequest=void 0,t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=t.InlineValueRefreshRequest=t.InlineValueRequest=t.TypeHierarchySupertypesRequest=void 0;const r=n(6140),i=n(1674),o=n(9533),s=n(2122);Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return s.ImplementationRequest}});const a=n(1589);Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return a.TypeDefinitionRequest}});const c=n(8744);Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return c.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return c.DidChangeWorkspaceFoldersNotification}});const u=n(5934);Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return u.ConfigurationRequest}});const l=n(9891);Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return l.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return l.ColorPresentationRequest}});const d=n(3394);Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return d.FoldingRangeRequest}});const p=n(764);Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return p.DeclarationRequest}});const h=n(5206);Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return h.SelectionRangeRequest}});const f=n(1862);Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return f.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return f.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return f.WorkDoneProgressCancelNotification}});const g=n(2918);Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return g.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return g.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return g.CallHierarchyPrepareRequest}});const m=n(9434);Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return m.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return m.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return m.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return m.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return m.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return m.SemanticTokensRegistrationType}});const v=n(5726);Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return v.ShowDocumentRequest}});const y=n(6305);Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return y.LinkedEditingRangeRequest}});const b=n(7846);Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return b.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return b.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return b.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return b.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return b.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return b.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return b.WillDeleteFilesRequest}});const S=n(3443);Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return S.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return S.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return S.MonikerRequest}});const _=n(3693);Object.defineProperty(t,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return _.TypeHierarchyPrepareRequest}}),Object.defineProperty(t,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return _.TypeHierarchySubtypesRequest}}),Object.defineProperty(t,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return _.TypeHierarchySupertypesRequest}});const E=n(5246);Object.defineProperty(t,"InlineValueRequest",{enumerable:!0,get:function(){return E.InlineValueRequest}}),Object.defineProperty(t,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return E.InlineValueRefreshRequest}});const w=n(9999);Object.defineProperty(t,"InlayHintRequest",{enumerable:!0,get:function(){return w.InlayHintRequest}}),Object.defineProperty(t,"InlayHintResolveRequest",{enumerable:!0,get:function(){return w.InlayHintResolveRequest}}),Object.defineProperty(t,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return w.InlayHintRefreshRequest}});const P=n(9824);Object.defineProperty(t,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return P.DiagnosticServerCancellationData}}),Object.defineProperty(t,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return P.DocumentDiagnosticReportKind}}),Object.defineProperty(t,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return P.DocumentDiagnosticRequest}}),Object.defineProperty(t,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return P.WorkspaceDiagnosticRequest}}),Object.defineProperty(t,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return P.DiagnosticRefreshRequest}});const T=n(7169);var C,I,R,D,O,k,x,N,A,j,M,L,F,q,U,W,V,H,$,B,G,K,z,Y,J,X,Q,Z,ee,te,ne,re,ie,oe,se,ae,ce,ue,le,de,pe,he,fe,ge;Object.defineProperty(t,"NotebookCellKind",{enumerable:!0,get:function(){return T.NotebookCellKind}}),Object.defineProperty(t,"ExecutionSummary",{enumerable:!0,get:function(){return T.ExecutionSummary}}),Object.defineProperty(t,"NotebookCell",{enumerable:!0,get:function(){return T.NotebookCell}}),Object.defineProperty(t,"NotebookDocument",{enumerable:!0,get:function(){return T.NotebookDocument}}),Object.defineProperty(t,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return T.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(t,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return T.DidOpenNotebookDocumentNotification}}),Object.defineProperty(t,"NotebookCellArrayChange",{enumerable:!0,get:function(){return T.NotebookCellArrayChange}}),Object.defineProperty(t,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return T.DidChangeNotebookDocumentNotification}}),Object.defineProperty(t,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return T.DidSaveNotebookDocumentNotification}}),Object.defineProperty(t,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return T.DidCloseNotebookDocumentNotification}}),function(e){e.is=function(e){const t=e;return o.string(t.language)||o.string(t.scheme)||o.string(t.pattern)}}(C=t.TextDocumentFilter||(t.TextDocumentFilter={})),function(e){e.is=function(e){const t=e;return o.objectLiteral(t)&&(o.string(t.notebookType)||o.string(t.scheme)||o.string(t.pattern))}}(I=t.NotebookDocumentFilter||(t.NotebookDocumentFilter={})),function(e){e.is=function(e){const t=e;return o.objectLiteral(t)&&(o.string(t.notebook)||I.is(t.notebook))&&(void 0===t.language||o.string(t.language))}}(R=t.NotebookCellTextDocumentFilter||(t.NotebookCellTextDocumentFilter={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;for(let t of e)if(!o.string(t)&&!C.is(t)&&!R.is(t))return!1;return!0}}(D=t.DocumentSelector||(t.DocumentSelector={})),(t.RegistrationRequest||(t.RegistrationRequest={})).type=new r.ProtocolRequestType("client/registerCapability"),(t.UnregistrationRequest||(t.UnregistrationRequest={})).type=new r.ProtocolRequestType("client/unregisterCapability"),(ge=t.ResourceOperationKind||(t.ResourceOperationKind={})).Create="create",ge.Rename="rename",ge.Delete="delete",(fe=t.FailureHandlingKind||(t.FailureHandlingKind={})).Abort="abort",fe.Transactional="transactional",fe.TextOnlyTransactional="textOnlyTransactional",fe.Undo="undo",(he=t.PositionEncodingKind||(t.PositionEncodingKind={})).UTF8="utf-8",he.UTF16="utf-16",he.UTF32="utf-32",(t.StaticRegistrationOptions||(t.StaticRegistrationOptions={})).hasId=function(e){const t=e;return t&&o.string(t.id)&&t.id.length>0},(t.TextDocumentRegistrationOptions||(t.TextDocumentRegistrationOptions={})).is=function(e){const t=e;return t&&(null===t.documentSelector||D.is(t.documentSelector))},(pe=t.WorkDoneProgressOptions||(t.WorkDoneProgressOptions={})).is=function(e){const t=e;return o.objectLiteral(t)&&(void 0===t.workDoneProgress||o.boolean(t.workDoneProgress))},pe.hasWorkDoneProgress=function(e){const t=e;return t&&o.boolean(t.workDoneProgress)},(t.InitializeRequest||(t.InitializeRequest={})).type=new r.ProtocolRequestType("initialize"),(t.InitializeErrorCodes||(t.InitializeErrorCodes={})).unknownProtocolVersion=1,(t.InitializedNotification||(t.InitializedNotification={})).type=new r.ProtocolNotificationType("initialized"),(t.ShutdownRequest||(t.ShutdownRequest={})).type=new r.ProtocolRequestType0("shutdown"),(t.ExitNotification||(t.ExitNotification={})).type=new r.ProtocolNotificationType0("exit"),(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})).type=new r.ProtocolNotificationType("workspace/didChangeConfiguration"),(de=t.MessageType||(t.MessageType={})).Error=1,de.Warning=2,de.Info=3,de.Log=4,(t.ShowMessageNotification||(t.ShowMessageNotification={})).type=new r.ProtocolNotificationType("window/showMessage"),(t.ShowMessageRequest||(t.ShowMessageRequest={})).type=new r.ProtocolRequestType("window/showMessageRequest"),(t.LogMessageNotification||(t.LogMessageNotification={})).type=new r.ProtocolNotificationType("window/logMessage"),(t.TelemetryEventNotification||(t.TelemetryEventNotification={})).type=new r.ProtocolNotificationType("telemetry/event"),(le=t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})).None=0,le.Full=1,le.Incremental=2,(ue=t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})).method="textDocument/didOpen",ue.type=new r.ProtocolNotificationType(ue.method),(ce=t.TextDocumentContentChangeEvent||(t.TextDocumentContentChangeEvent={})).isIncremental=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},ce.isFull=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength},(ae=t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})).method="textDocument/didChange",ae.type=new r.ProtocolNotificationType(ae.method),(se=t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})).method="textDocument/didClose",se.type=new r.ProtocolNotificationType(se.method),(oe=t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})).method="textDocument/didSave",oe.type=new r.ProtocolNotificationType(oe.method),(ie=t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})).Manual=1,ie.AfterDelay=2,ie.FocusOut=3,(re=t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})).method="textDocument/willSave",re.type=new r.ProtocolNotificationType(re.method),(ne=t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})).method="textDocument/willSaveWaitUntil",ne.type=new r.ProtocolRequestType(ne.method),(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})).type=new r.ProtocolNotificationType("workspace/didChangeWatchedFiles"),(te=t.FileChangeType||(t.FileChangeType={})).Created=1,te.Changed=2,te.Deleted=3,(t.RelativePattern||(t.RelativePattern={})).is=function(e){const t=e;return o.objectLiteral(t)&&(i.URI.is(t.baseUri)||i.WorkspaceFolder.is(t.baseUri))&&o.string(t.pattern)},(ee=t.WatchKind||(t.WatchKind={})).Create=1,ee.Change=2,ee.Delete=4,(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})).type=new r.ProtocolNotificationType("textDocument/publishDiagnostics"),(Z=t.CompletionTriggerKind||(t.CompletionTriggerKind={})).Invoked=1,Z.TriggerCharacter=2,Z.TriggerForIncompleteCompletions=3,(Q=t.CompletionRequest||(t.CompletionRequest={})).method="textDocument/completion",Q.type=new r.ProtocolRequestType(Q.method),(X=t.CompletionResolveRequest||(t.CompletionResolveRequest={})).method="completionItem/resolve",X.type=new r.ProtocolRequestType(X.method),(J=t.HoverRequest||(t.HoverRequest={})).method="textDocument/hover",J.type=new r.ProtocolRequestType(J.method),(Y=t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={})).Invoked=1,Y.TriggerCharacter=2,Y.ContentChange=3,(z=t.SignatureHelpRequest||(t.SignatureHelpRequest={})).method="textDocument/signatureHelp",z.type=new r.ProtocolRequestType(z.method),(K=t.DefinitionRequest||(t.DefinitionRequest={})).method="textDocument/definition",K.type=new r.ProtocolRequestType(K.method),(G=t.ReferencesRequest||(t.ReferencesRequest={})).method="textDocument/references",G.type=new r.ProtocolRequestType(G.method),(B=t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})).method="textDocument/documentHighlight",B.type=new r.ProtocolRequestType(B.method),($=t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})).method="textDocument/documentSymbol",$.type=new r.ProtocolRequestType($.method),(H=t.CodeActionRequest||(t.CodeActionRequest={})).method="textDocument/codeAction",H.type=new r.ProtocolRequestType(H.method),(V=t.CodeActionResolveRequest||(t.CodeActionResolveRequest={})).method="codeAction/resolve",V.type=new r.ProtocolRequestType(V.method),(W=t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})).method="workspace/symbol",W.type=new r.ProtocolRequestType(W.method),(U=t.WorkspaceSymbolResolveRequest||(t.WorkspaceSymbolResolveRequest={})).method="workspaceSymbol/resolve",U.type=new r.ProtocolRequestType(U.method),(q=t.CodeLensRequest||(t.CodeLensRequest={})).method="textDocument/codeLens",q.type=new r.ProtocolRequestType(q.method),(F=t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})).method="codeLens/resolve",F.type=new r.ProtocolRequestType(F.method),(L=t.CodeLensRefreshRequest||(t.CodeLensRefreshRequest={})).method="workspace/codeLens/refresh",L.type=new r.ProtocolRequestType0(L.method),(M=t.DocumentLinkRequest||(t.DocumentLinkRequest={})).method="textDocument/documentLink",M.type=new r.ProtocolRequestType(M.method),(j=t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})).method="documentLink/resolve",j.type=new r.ProtocolRequestType(j.method),(A=t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})).method="textDocument/formatting",A.type=new r.ProtocolRequestType(A.method),(N=t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})).method="textDocument/rangeFormatting",N.type=new r.ProtocolRequestType(N.method),(x=t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})).method="textDocument/onTypeFormatting",x.type=new r.ProtocolRequestType(x.method),(t.PrepareSupportDefaultBehavior||(t.PrepareSupportDefaultBehavior={})).Identifier=1,(k=t.RenameRequest||(t.RenameRequest={})).method="textDocument/rename",k.type=new r.ProtocolRequestType(k.method),(O=t.PrepareRenameRequest||(t.PrepareRenameRequest={})).method="textDocument/prepareRename",O.type=new r.ProtocolRequestType(O.method),(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})).type=new r.ProtocolRequestType("workspace/executeCommand"),(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={})).type=new r.ProtocolRequestType("workspace/applyEdit")},6305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeRequest=void 0;const r=n(6140);var i;(i=t.LinkedEditingRangeRequest||(t.LinkedEditingRangeRequest={})).method="textDocument/linkedEditingRange",i.type=new r.ProtocolRequestType(i.method)},3443:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=void 0;const r=n(6140);var i,o,s;(s=t.UniquenessLevel||(t.UniquenessLevel={})).document="document",s.project="project",s.group="group",s.scheme="scheme",s.global="global",(o=t.MonikerKind||(t.MonikerKind={})).$import="import",o.$export="export",o.local="local",(i=t.MonikerRequest||(t.MonikerRequest={})).method="textDocument/moniker",i.type=new r.ProtocolRequestType(i.method)},7169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=void 0;const r=n(1674),i=n(9533),o=n(6140);var s,a,c,u,l,d,p,h,f,g;!function(e){e.Markup=1,e.Code=2,e.is=function(e){return 1===e||2===e}}(s=t.NotebookCellKind||(t.NotebookCellKind={})),function(e){e.create=function(e,t){const n={executionOrder:e};return!0!==t&&!1!==t||(n.success=t),n},e.is=function(e){const t=e;return i.objectLiteral(t)&&r.uinteger.is(t.executionOrder)&&(void 0===t.success||i.boolean(t.success))},e.equals=function(e,t){return e===t||null!=e&&null!=t&&e.executionOrder===t.executionOrder&&e.success===t.success}}(a=t.ExecutionSummary||(t.ExecutionSummary={})),function(e){function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(typeof e!=typeof n)return!1;if("object"!=typeof e)return!1;const r=Array.isArray(e),o=Array.isArray(n);if(r!==o)return!1;if(r&&o){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1}if(i.objectLiteral(e)&&i.objectLiteral(n)){const r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;if(r.sort(),i.sort(),!t(r,i))return!1;for(let i=0;i<r.length;i++){const o=r[i];if(!t(e[o],n[o]))return!1}}return!0}e.create=function(e,t){return{kind:e,document:t}},e.is=function(e){const t=e;return i.objectLiteral(t)&&s.is(t.kind)&&r.DocumentUri.is(t.document)&&(void 0===t.metadata||i.objectLiteral(t.metadata))},e.diff=function(e,n){const r=new Set;return e.document!==n.document&&r.add("document"),e.kind!==n.kind&&r.add("kind"),e.executionSummary!==n.executionSummary&&r.add("executionSummary"),void 0===e.metadata&&void 0===n.metadata||t(e.metadata,n.metadata)||r.add("metadata"),void 0===e.executionSummary&&void 0===n.executionSummary||a.equals(e.executionSummary,n.executionSummary)||r.add("executionSummary"),r}}(c=t.NotebookCell||(t.NotebookCell={})),(g=t.NotebookDocument||(t.NotebookDocument={})).create=function(e,t,n,r){return{uri:e,notebookType:t,version:n,cells:r}},g.is=function(e){const t=e;return i.objectLiteral(t)&&i.string(t.uri)&&r.integer.is(t.version)&&i.typedArray(t.cells,c.is)},(f=t.NotebookDocumentSyncRegistrationType||(t.NotebookDocumentSyncRegistrationType={})).method="notebookDocument/sync",f.type=new o.RegistrationType(f.method),(h=t.DidOpenNotebookDocumentNotification||(t.DidOpenNotebookDocumentNotification={})).method="notebookDocument/didOpen",h.type=new o.ProtocolNotificationType(h.method),(p=t.NotebookCellArrayChange||(t.NotebookCellArrayChange={})).is=function(e){const t=e;return i.objectLiteral(t)&&r.uinteger.is(t.start)&&r.uinteger.is(t.deleteCount)&&(void 0===t.cells||i.typedArray(t.cells,c.is))},p.create=function(e,t,n){const r={start:e,deleteCount:t};return void 0!==n&&(r.cells=n),r},(d=t.DidChangeNotebookDocumentNotification||(t.DidChangeNotebookDocumentNotification={})).method="notebookDocument/didChange",d.type=new o.ProtocolNotificationType(d.method),(l=t.DidSaveNotebookDocumentNotification||(t.DidSaveNotebookDocumentNotification={})).method="notebookDocument/didSave",l.type=new o.ProtocolNotificationType(l.method),(u=t.DidCloseNotebookDocumentNotification||(t.DidCloseNotebookDocumentNotification={})).method="notebookDocument/didClose",u.type=new o.ProtocolNotificationType(u.method)},1862:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=void 0;const r=n(4389),i=n(6140);var o,s,a;(a=t.WorkDoneProgress||(t.WorkDoneProgress={})).type=new r.ProgressType,a.is=function(e){return e===a.type},(s=t.WorkDoneProgressCreateRequest||(t.WorkDoneProgressCreateRequest={})).method="window/workDoneProgress/create",s.type=new i.ProtocolRequestType(s.method),(o=t.WorkDoneProgressCancelNotification||(t.WorkDoneProgressCancelNotification={})).method="window/workDoneProgress/cancel",o.type=new i.ProtocolNotificationType(o.method)},5206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeRequest=void 0;const r=n(6140);var i;(i=t.SelectionRangeRequest||(t.SelectionRangeRequest={})).method="textDocument/selectionRange",i.type=new r.ProtocolRequestType(i.method)},9434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.SemanticTokensRegistrationType=t.TokenFormat=void 0;const r=n(6140);var i,o,s,a,c;(t.TokenFormat||(t.TokenFormat={})).Relative="relative",(c=t.SemanticTokensRegistrationType||(t.SemanticTokensRegistrationType={})).method="textDocument/semanticTokens",c.type=new r.RegistrationType(c.method),(a=t.SemanticTokensRequest||(t.SemanticTokensRequest={})).method="textDocument/semanticTokens/full",a.type=new r.ProtocolRequestType(a.method),(s=t.SemanticTokensDeltaRequest||(t.SemanticTokensDeltaRequest={})).method="textDocument/semanticTokens/full/delta",s.type=new r.ProtocolRequestType(s.method),(o=t.SemanticTokensRangeRequest||(t.SemanticTokensRangeRequest={})).method="textDocument/semanticTokens/range",o.type=new r.ProtocolRequestType(o.method),(i=t.SemanticTokensRefreshRequest||(t.SemanticTokensRefreshRequest={})).method="workspace/semanticTokens/refresh",i.type=new r.ProtocolRequestType0(i.method)},5726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentRequest=void 0;const r=n(6140);var i;(i=t.ShowDocumentRequest||(t.ShowDocumentRequest={})).method="window/showDocument",i.type=new r.ProtocolRequestType(i.method)},1589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionRequest=void 0;const r=n(6140);var i;(i=t.TypeDefinitionRequest||(t.TypeDefinitionRequest={})).method="textDocument/typeDefinition",i.type=new r.ProtocolRequestType(i.method)},3693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchySubtypesRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchyPrepareRequest=void 0;const r=n(6140);var i,o,s;(s=t.TypeHierarchyPrepareRequest||(t.TypeHierarchyPrepareRequest={})).method="textDocument/prepareTypeHierarchy",s.type=new r.ProtocolRequestType(s.method),(o=t.TypeHierarchySupertypesRequest||(t.TypeHierarchySupertypesRequest={})).method="typeHierarchy/supertypes",o.type=new r.ProtocolRequestType(o.method),(i=t.TypeHierarchySubtypesRequest||(t.TypeHierarchySubtypesRequest={})).method="typeHierarchy/subtypes",i.type=new r.ProtocolRequestType(i.method)},8744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=void 0;const r=n(6140);(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})).type=new r.ProtocolRequestType0("workspace/workspaceFolders"),(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={})).type=new r.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")},9533:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.objectLiteral=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"==typeof e}},273:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const o=n(5028);i(n(5028),t),i(n(1661),t),t.createProtocolConnection=function(e,t,n,r){return(0,o.createMessageConnection)(e,t,n,r)}},6560:(e,t,n)=>{"use strict";e.exports=n(273)},1674:(e,t,n)=>{"use strict";var r,i,o,s,a,c,u,l,d,p,h,f,g,m,v,y,b,S,_,E,w,P,T,C,I,R,D,O;n.r(t),n.d(t,{AnnotatedTextEdit:()=>T,ChangeAnnotation:()=>w,ChangeAnnotationIdentifier:()=>P,CodeAction:()=>oe,CodeActionContext:()=>ie,CodeActionKind:()=>ne,CodeActionTriggerKind:()=>re,CodeDescription:()=>b,CodeLens:()=>se,Color:()=>d,ColorInformation:()=>p,ColorPresentation:()=>h,Command:()=>_,CompletionItem:()=>H,CompletionItemKind:()=>L,CompletionItemLabelDetails:()=>V,CompletionItemTag:()=>q,CompletionList:()=>$,CreateFile:()=>I,DeleteFile:()=>D,Diagnostic:()=>S,DiagnosticRelatedInformation:()=>m,DiagnosticSeverity:()=>v,DiagnosticTag:()=>y,DocumentHighlight:()=>J,DocumentHighlightKind:()=>Y,DocumentLink:()=>ce,DocumentSymbol:()=>te,DocumentUri:()=>r,EOL:()=>Te,FoldingRange:()=>g,FoldingRangeKind:()=>f,FormattingOptions:()=>ae,Hover:()=>G,InlayHint:()=>be,InlayHintKind:()=>ve,InlayHintLabelPart:()=>ye,InlineValueContext:()=>me,InlineValueEvaluatableExpression:()=>ge,InlineValueText:()=>he,InlineValueVariableLookup:()=>fe,InsertReplaceEdit:()=>U,InsertTextFormat:()=>F,InsertTextMode:()=>W,Location:()=>u,LocationLink:()=>l,MarkedString:()=>B,MarkupContent:()=>M,MarkupKind:()=>j,OptionalVersionedTextDocumentIdentifier:()=>N,ParameterInformation:()=>K,Position:()=>a,Range:()=>c,RenameFile:()=>R,SelectionRange:()=>ue,SemanticTokenModifiers:()=>de,SemanticTokenTypes:()=>le,SemanticTokens:()=>pe,SignatureInformation:()=>z,SymbolInformation:()=>Z,SymbolKind:()=>X,SymbolTag:()=>Q,TextDocument:()=>Pe,TextDocumentEdit:()=>C,TextDocumentIdentifier:()=>k,TextDocumentItem:()=>A,TextEdit:()=>E,URI:()=>i,VersionedTextDocumentIdentifier:()=>x,WorkspaceChange:()=>we,WorkspaceEdit:()=>O,WorkspaceFolder:()=>Se,WorkspaceSymbol:()=>ee,integer:()=>o,uinteger:()=>s}),function(e){e.is=function(e){return"string"==typeof e}}(r||(r={})),function(e){e.is=function(e){return"string"==typeof e}}(i||(i={})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(o||(o={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(s||(s={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=s.MAX_VALUE),t===Number.MAX_VALUE&&(t=s.MAX_VALUE),{line:e,character:t}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.uinteger(t.line)&&Ce.uinteger(t.character)}}(a||(a={})),function(e){e.create=function(e,t,n,r){if(Ce.uinteger(e)&&Ce.uinteger(t)&&Ce.uinteger(n)&&Ce.uinteger(r))return{start:a.create(e,t),end:a.create(n,r)};if(a.is(e)&&a.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments[".concat(e,", ").concat(t,", ").concat(n,", ").concat(r,"]"))},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&a.is(t.start)&&a.is(t.end)}}(c||(c={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return Ce.defined(t)&&c.is(t.range)&&(Ce.string(t.uri)||Ce.undefined(t.uri))}}(u||(u={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return Ce.defined(t)&&c.is(t.targetRange)&&Ce.string(t.targetUri)&&c.is(t.targetSelectionRange)&&(c.is(t.originSelectionRange)||Ce.undefined(t.originSelectionRange))}}(l||(l={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.numberRange(t.red,0,1)&&Ce.numberRange(t.green,0,1)&&Ce.numberRange(t.blue,0,1)&&Ce.numberRange(t.alpha,0,1)}}(d||(d={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&c.is(t.range)&&d.is(t.color)}}(p||(p={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.string(t.label)&&(Ce.undefined(t.textEdit)||E.is(t))&&(Ce.undefined(t.additionalTextEdits)||Ce.typedArray(t.additionalTextEdits,E.is))}}(h||(h={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(f||(f={})),function(e){e.create=function(e,t,n,r,i,o){var s={startLine:e,endLine:t};return Ce.defined(n)&&(s.startCharacter=n),Ce.defined(r)&&(s.endCharacter=r),Ce.defined(i)&&(s.kind=i),Ce.defined(o)&&(s.collapsedText=o),s},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.uinteger(t.startLine)&&Ce.uinteger(t.startLine)&&(Ce.undefined(t.startCharacter)||Ce.uinteger(t.startCharacter))&&(Ce.undefined(t.endCharacter)||Ce.uinteger(t.endCharacter))&&(Ce.undefined(t.kind)||Ce.string(t.kind))}}(g||(g={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return Ce.defined(t)&&u.is(t.location)&&Ce.string(t.message)}}(m||(m={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(v||(v={})),function(e){e.Unnecessary=1,e.Deprecated=2}(y||(y={})),function(e){e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.string(t.href)}}(b||(b={})),function(e){e.create=function(e,t,n,r,i,o){var s={range:e,message:t};return Ce.defined(n)&&(s.severity=n),Ce.defined(r)&&(s.code=r),Ce.defined(i)&&(s.source=i),Ce.defined(o)&&(s.relatedInformation=o),s},e.is=function(e){var t,n=e;return Ce.defined(n)&&c.is(n.range)&&Ce.string(n.message)&&(Ce.number(n.severity)||Ce.undefined(n.severity))&&(Ce.integer(n.code)||Ce.string(n.code)||Ce.undefined(n.code))&&(Ce.undefined(n.codeDescription)||Ce.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(Ce.string(n.source)||Ce.undefined(n.source))&&(Ce.undefined(n.relatedInformation)||Ce.typedArray(n.relatedInformation,m.is))}}(S||(S={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return Ce.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.string(t.title)&&Ce.string(t.command)}}(_||(_={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.string(t.newText)&&c.is(t.range)}}(E||(E={})),function(e){e.create=function(e,t,n){var r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.string(t.label)&&(Ce.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(Ce.string(t.description)||void 0===t.description)}}(w||(w={})),function(e){e.is=function(e){var t=e;return Ce.string(t)}}(P||(P={})),function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){var t=e;return E.is(t)&&(w.is(t.annotationId)||P.is(t.annotationId))}}(T||(T={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return Ce.defined(t)&&N.is(t.textDocument)&&Array.isArray(t.edits)}}(C||(C={})),function(e){e.create=function(e,t,n){var r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"create"===t.kind&&Ce.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||Ce.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Ce.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||P.is(t.annotationId))}}(I||(I={})),function(e){e.create=function(e,t,n,r){var i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),void 0!==r&&(i.annotationId=r),i},e.is=function(e){var t=e;return t&&"rename"===t.kind&&Ce.string(t.oldUri)&&Ce.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||Ce.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Ce.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||P.is(t.annotationId))}}(R||(R={})),function(e){e.create=function(e,t,n){var r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"delete"===t.kind&&Ce.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||Ce.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||Ce.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||P.is(t.annotationId))}}(D||(D={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return Ce.string(e.kind)?I.is(e)||R.is(e)||D.is(e):C.is(e)})))}}(O||(O={}));var k,x,N,A,j,M,L,F,q,U,W,V,H,$,B,G,K,z,Y,J,X,Q,Z,ee,te,ne,re,ie,oe,se,ae,ce,ue,le,de,pe,he,fe,ge,me,ve,ye,be,Se,_e=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,n){var r,i;if(void 0===n?r=E.insert(e,t):P.is(n)?(i=n,r=T.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=T.insert(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.replace=function(e,t,n){var r,i;if(void 0===n?r=E.replace(e,t):P.is(n)?(i=n,r=T.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=T.replace(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.delete=function(e,t){var n,r;if(void 0===t?n=E.del(e):P.is(t)?(r=t,n=T.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(t),n=T.del(e,r)),this.edits.push(n),void 0!==r)return r},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),Ee=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var n;if(P.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw new Error("Id ".concat(n," is already in use."));if(void 0===t)throw new Error("No annotation provided for id ".concat(n));return this._annotations[n]=t,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),we=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Ee(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(C.is(e)){var n=new _e(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}}))):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new _e(e.changes[n]);t._textEditChanges[n]=r}))):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(N.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new _e(i,this._changeAnnotations),this._textEditChanges[t.uri]=r}return r}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new _e(i),this._textEditChanges[e]=r}return r},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new Ee,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(w.is(t)||P.is(t)?r=t:n=t,void 0===r?i=I.create(e,n):(o=P.is(r)?r:this._changeAnnotations.manage(r),i=I.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e.prototype.renameFile=function(e,t,n,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,o,s;if(w.is(n)||P.is(n)?i=n:r=n,void 0===i?o=R.create(e,t,r):(s=P.is(i)?i:this._changeAnnotations.manage(i),o=R.create(e,t,r,s)),this._workspaceEdit.documentChanges.push(o),void 0!==s)return s},e.prototype.deleteFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(w.is(t)||P.is(t)?r=t:n=t,void 0===r?i=D.create(e,n):(o=P.is(r)?r:this._changeAnnotations.manage(r),i=D.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.string(t.uri)}}(k||(k={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.string(t.uri)&&Ce.integer(t.version)}}(x||(x={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.string(t.uri)&&(null===t.version||Ce.integer(t.version))}}(N||(N={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.string(t.uri)&&Ce.string(t.languageId)&&Ce.integer(t.version)&&Ce.string(t.text)}}(A||(A={})),function(e){e.PlainText="plaintext",e.Markdown="markdown",e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(j||(j={})),function(e){e.is=function(e){var t=e;return Ce.objectLiteral(e)&&j.is(t.kind)&&Ce.string(t.value)}}(M||(M={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(L||(L={})),function(e){e.PlainText=1,e.Snippet=2}(F||(F={})),function(e){e.Deprecated=1}(q||(q={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){var t=e;return t&&Ce.string(t.newText)&&c.is(t.insert)&&c.is(t.replace)}}(U||(U={})),function(e){e.asIs=1,e.adjustIndentation=2}(W||(W={})),function(e){e.is=function(e){var t=e;return t&&(Ce.string(t.detail)||void 0===t.detail)&&(Ce.string(t.description)||void 0===t.description)}}(V||(V={})),function(e){e.create=function(e){return{label:e}}}(H||(H={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}($||($={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return Ce.string(t)||Ce.objectLiteral(t)&&Ce.string(t.language)&&Ce.string(t.value)}}(B||(B={})),function(e){e.is=function(e){var t=e;return!!t&&Ce.objectLiteral(t)&&(M.is(t.contents)||B.is(t.contents)||Ce.typedArray(t.contents,B.is))&&(void 0===e.range||c.is(e.range))}}(G||(G={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(K||(K={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return Ce.defined(t)&&(i.documentation=t),Ce.defined(n)?i.parameters=n:i.parameters=[],i}}(z||(z={})),function(e){e.Text=1,e.Read=2,e.Write=3}(Y||(Y={})),function(e){e.create=function(e,t){var n={range:e};return Ce.number(t)&&(n.kind=t),n}}(J||(J={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(X||(X={})),function(e){e.Deprecated=1}(Q||(Q={})),function(e){e.create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(Z||(Z={})),function(e){e.create=function(e,t,n,r){return void 0!==r?{name:e,kind:t,location:{uri:n,range:r}}:{name:e,kind:t,location:{uri:n}}}}(ee||(ee={})),function(e){e.create=function(e,t,n,r,i,o){var s={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(s.children=o),s},e.is=function(e){var t=e;return t&&Ce.string(t.name)&&Ce.number(t.kind)&&c.is(t.range)&&c.is(t.selectionRange)&&(void 0===t.detail||Ce.string(t.detail))&&(void 0===t.deprecated||Ce.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(te||(te={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(ne||(ne={})),function(e){e.Invoked=1,e.Automatic=2}(re||(re={})),function(e){e.create=function(e,t,n){var r={diagnostics:e};return null!=t&&(r.only=t),null!=n&&(r.triggerKind=n),r},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.typedArray(t.diagnostics,S.is)&&(void 0===t.only||Ce.typedArray(t.only,Ce.string))&&(void 0===t.triggerKind||t.triggerKind===re.Invoked||t.triggerKind===re.Automatic)}}(ie||(ie={})),function(e){e.create=function(e,t,n){var r={title:e},i=!0;return"string"==typeof t?(i=!1,r.kind=t):_.is(t)?r.command=t:r.edit=t,i&&void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&Ce.string(t.title)&&(void 0===t.diagnostics||Ce.typedArray(t.diagnostics,S.is))&&(void 0===t.kind||Ce.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||_.is(t.command))&&(void 0===t.isPreferred||Ce.boolean(t.isPreferred))&&(void 0===t.edit||O.is(t.edit))}}(oe||(oe={})),function(e){e.create=function(e,t){var n={range:e};return Ce.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return Ce.defined(t)&&c.is(t.range)&&(Ce.undefined(t.command)||_.is(t.command))}}(se||(se={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.uinteger(t.tabSize)&&Ce.boolean(t.insertSpaces)}}(ae||(ae={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return Ce.defined(t)&&c.is(t.range)&&(Ce.undefined(t.target)||Ce.string(t.target))}}(ce||(ce={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return Ce.objectLiteral(n)&&c.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(ue||(ue={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(le||(le={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(de||(de={})),function(e){e.is=function(e){var t=e;return Ce.objectLiteral(t)&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(pe||(pe={})),function(e){e.create=function(e,t){return{range:e,text:t}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&Ce.string(t.text)}}(he||(he={})),function(e){e.create=function(e,t,n){return{range:e,variableName:t,caseSensitiveLookup:n}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&Ce.boolean(t.caseSensitiveLookup)&&(Ce.string(t.variableName)||void 0===t.variableName)}}(fe||(fe={})),function(e){e.create=function(e,t){return{range:e,expression:t}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&(Ce.string(t.expression)||void 0===t.expression)}}(ge||(ge={})),function(e){e.create=function(e,t){return{frameId:e,stoppedLocation:t}},e.is=function(e){var t=e;return Ce.defined(t)&&c.is(e.stoppedLocation)}}(me||(me={})),function(e){e.Type=1,e.Parameter=2,e.is=function(e){return 1===e||2===e}}(ve||(ve={})),function(e){e.create=function(e){return{value:e}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&(void 0===t.tooltip||Ce.string(t.tooltip)||M.is(t.tooltip))&&(void 0===t.location||u.is(t.location))&&(void 0===t.command||_.is(t.command))}}(ye||(ye={})),function(e){e.create=function(e,t,n){var r={position:e,label:t};return void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&a.is(t.position)&&(Ce.string(t.label)||Ce.typedArray(t.label,ye.is))&&(void 0===t.kind||ve.is(t.kind))&&void 0===t.textEdits||Ce.typedArray(t.textEdits,E.is)&&(void 0===t.tooltip||Ce.string(t.tooltip)||M.is(t.tooltip))&&(void 0===t.paddingLeft||Ce.boolean(t.paddingLeft))&&(void 0===t.paddingRight||Ce.boolean(t.paddingRight))}}(be||(be={})),function(e){e.is=function(e){var t=e;return Ce.objectLiteral(t)&&i.is(t.uri)&&Ce.string(t.name)}}(Se||(Se={}));var Pe,Te=["\n","\r\n","\r"];!function(e){function t(e,n){if(e.length<=1)return e;var r=e.length/2|0,i=e.slice(0,r),o=e.slice(r);t(i,n),t(o,n);for(var s=0,a=0,c=0;s<i.length&&a<o.length;){var u=n(i[s],o[a]);e[c++]=u<=0?i[s++]:o[a++]}for(;s<i.length;)e[c++]=i[s++];for(;a<o.length;)e[c++]=o[a++];return e}e.create=function(e,t,n,r){return new Ie(e,t,n,r)},e.is=function(e){var t=e;return!!(Ce.defined(t)&&Ce.string(t.uri)&&(Ce.undefined(t.languageId)||Ce.string(t.languageId))&&Ce.uinteger(t.lineCount)&&Ce.func(t.getText)&&Ce.func(t.positionAt)&&Ce.func(t.offsetAt))},e.applyEdits=function(e,n){for(var r=e.getText(),i=t(n,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),o=r.length,s=i.length-1;s>=0;s--){var a=i[s],c=e.offsetAt(a.range.start),u=e.offsetAt(a.range.end);if(!(u<=o))throw new Error("Overlapping edit");r=r.substring(0,c)+a.newText+r.substring(u,r.length),o=c}return r}}(Pe||(Pe={}));var Ce,Ie=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return a.create(0,e);for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var o=n-1;return a.create(o,e-t[o])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,r){return"[object Number]"===t.call(e)&&n<=e&&e<=r},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(Ce||(Ce={}))},9602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},4411:(e,t,n)=>{"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var r=t===e.head?new a(n,null,t,e):new a(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,n,r){if(!(this instanceof a))return new a(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=a,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,o=this.head;null!==o&&r<e;r++)o=o.next;var s=[];for(r=0;o&&r<t;r++)s.push(o.value),o=this.removeNode(o);for(null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev),r=0;r<n.length;r++)o=i(this,o,n[r]);return s},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(9602)(r)}catch(e){}},9496:e=>{"use strict";e.exports=n(66828)},2081:e=>{"use strict";e.exports=n(32081)},6113:e=>{"use strict";e.exports=n(6113)},7147:e=>{"use strict";e.exports=n(57147)},1808:e=>{"use strict";e.exports=n(41808)},2037:e=>{"use strict";e.exports=n(22037)},1017:e=>{"use strict";e.exports=n(71017)},3837:e=>{"use strict";e.exports=n(73837)}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}};return t[e].call(o.exports,o,o.exports,i),o.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{"use strict";i.r(o),i.d(o,{createHidingMiddleware:()=>g,createNotebookMiddleware:()=>m,createPylanceMiddleware:()=>v});const e="vscode-interactive-input",t="vscode-interactive";function n(e){return"function"==typeof(null==e?void 0:e.then)}function r(t){return t.scheme.includes("vscode-notebook-cell")||t.scheme.includes(e)}class s{constructor(){this.handleDiagnostics=this.handleDiagnostics.bind(this),this.didOpen=this.didOpen.bind(this),this.didSave=this.didSave.bind(this),this.didChange=this.didChange.bind(this),this.didClose=this.didClose.bind(this)}dispose(){}async didChange(e,t){if(!r(e.document.uri))return t(e)}async didOpen(e,t){if(!r(e.uri))return t(e)}async didClose(e,t){if(!r(e.uri))return t(e)}async didSave(e,t){if(!r(e.uri))return t(e)}provideCompletionItem(e,t,n,i,o){if(!r(e.uri))return o(e,t,n,i)}provideHover(e,t,n,i){if(!r(e.uri))return i(e,t,n)}resolveCompletionItem(e,t,n){return n(e,t)}provideSignatureHelp(e,t,n,i,o){if(!r(e.uri))return o(e,t,n,i)}provideDefinition(e,t,n,i){if(!r(e.uri))return i(e,t,n)}provideReferences(e,t,n,i,o){if(!r(e.uri))return o(e,t,n,i)}provideDocumentHighlights(e,t,n,i){if(!r(e.uri))return i(e,t,n)}provideDocumentSymbols(e,t,n){if(!r(e.uri))return n(e,t)}provideCodeActions(e,t,n,i,o){if(!r(e.uri))return o(e,t,n,i)}provideCodeLenses(e,t,n){if(!r(e.uri))return n(e,t)}provideDocumentFormattingEdits(e,t,n,i){if(!r(e.uri))return i(e,t,n)}provideDocumentRangeFormattingEdits(e,t,n,i,o){if(!r(e.uri))return o(e,t,n,i)}provideOnTypeFormattingEdits(e,t,n,i,o,s){if(!r(e.uri))return s(e,t,n,i,o)}provideRenameEdits(e,t,n,i,o){if(!r(e.uri))return o(e,t,n,i)}prepareRename(e,t,n,i){if(!r(e.uri))return i(e,t,n)}provideDocumentLinks(e,t,n){if(!r(e.uri))return n(e,t)}provideDeclaration(e,t,n,i){if(!r(e.uri))return i(e,t,n)}handleDiagnostics(e,t,n){r(e)?n(e,[]):n(e,t)}provideTypeDefinition(e,t,n,i){if(!r(e.uri))return i(e,t,n)}provideImplementation(e,t,n,i){if(!r(e.uri))return i(e,t,n)}provideDocumentColors(e,t,n){if(!r(e.uri))return n(e,t)}provideColorPresentations(e,t,n,i){if(!r(t.document.uri))return i(e,t,n)}provideFoldingRanges(e,t,n,i){if(!r(e.uri))return i(e,t,n)}provideSelectionRanges(e,t,n,i){if(!r(e.uri))return i(e,t,n)}prepareCallHierarchy(e,t,n,i){if(!r(e.uri))return i(e,t,n)}provideCallHierarchyIncomingCalls(e,t,n){if(!r(e.uri))return n(e,t)}provideCallHierarchyOutgoingCalls(e,t,n){if(!r(e.uri))return n(e,t)}provideDocumentSemanticTokens(e,t,n){if(!r(e.uri))return n(e,t)}provideDocumentSemanticTokensEdits(e,t,n,i){if(!r(e.uri))return i(e,t,n)}provideDocumentRangeSemanticTokens(e,t,n,i){if(!r(e.uri))return i(e,t,n)}provideLinkedEditingRange(e,t,n,i){if(!r(e.uri))return i(e,t,n)}}var a=i(9496),c=i(2850),u=i(2847),l=i(2037),d=i(2881);function p(e,t){return a.languages.match(t,e)}class h{constructor(e,t,r,i,o,s){this.getClient=e,this.traceInfo=t,this.cellSelector=r,this.pythonPath=i,this.isDocumentAllowed=o,this.disposables=[],this.workspace={configuration:async(e,t,r)=>{let i=r(e,t);if(n(i)&&(i=await i),i instanceof c.ResponseError)return i;for(const[t,n]of e.items.entries())"python"===n.section&&(i[t].pythonPath=this.pythonPath,i[t].analysis.indexing=!1);return i}},this.converter=d.createConverter(s,(()=>l.platform())),this.handleDiagnostics=this.handleDiagnostics.bind(this),this.didOpen=this.didOpen.bind(this),this.didSave=this.didSave.bind(this),this.didChange=this.didChange.bind(this),this.didClose=this.didClose.bind(this),this.willSave=this.willSave.bind(this),this.willSaveWaitUntil=this.willSaveWaitUntil.bind(this)}dispose(){this.disposables.forEach((e=>e.dispose())),this.disposables=[],this.converter.dispose()}refresh(e){const t=this.getClient();if(t&&e.cellCount>0){const n=this.asTextDocumentIdentifier(e.cellAt(0).document);if(this.converter.isOpen(n)){const n=this.converter.handleRefresh(function(e,t){return{cells:e.getCells().filter((e=>p(e.document,t)>0)).map((e=>({textDocument:{uri:e.document.uri.toString(),text:e.document.getText(),languageId:e.document.languageId,version:e.document.version}})))}}(e,this.cellSelector));n&&t.sendNotification(c.DidChangeTextDocumentNotification.type,n)}}}stopWatching(e){const t=this.getClient();if(t&&e.cellCount>0){const n=this.asTextDocumentIdentifier(e.cellAt(0).document),r={textDocument:this.converter.toConcatDocument(n)};t.sendNotification(c.DidCloseTextDocumentNotification.type,r),t.diagnostics&&e.getCells().forEach((e=>{var n;null===(n=t.diagnostics)||void 0===n||n.set(e.document.uri,[])})),e.getCells().forEach((e=>{this.converter.handleClose({textDocument:{uri:e.document.uri.toString()}})}))}}startWatching(e){const t=this.getClient();t&&e.cellCount>0&&e.getCells().forEach((e=>{this.didOpen(e.document,(async e=>{const n=t.code2ProtocolConverter.asOpenTextDocumentParams(e);await t.sendNotification(c.DidOpenTextDocumentNotification.type,n)}))}))}async didChange(e){const t=this.getClient();if(r(e.document.uri)&&t&&p(e.document,this.cellSelector)){const n=this.asTextDocumentIdentifier(e.document),r=this.converter.isOpen(n),i=this.converter.handleChange(t.code2ProtocolConverter.asChangeTextDocumentParams(e));if(r)i&&t.sendNotification(c.DidChangeTextDocumentNotification.type,i);else{const e={textDocument:this.converter.toConcatDocument(n)};t.sendNotification(c.DidOpenTextDocumentNotification.type,e)}}}async didOpen(e,t){const n=this.getClient();if(r(e.uri)&&this.isDocumentAllowed(e.uri)&&n&&p(e,this.cellSelector)){const t=this.asTextDocumentIdentifier(e),r=this.asTextDocumentItem(e),i=this.converter.isOpen(t),o=this.converter.handleOpen({textDocument:r});if(i)o&&n.sendNotification(c.DidChangeTextDocumentNotification.type,o);else{const e=this.converter.toConcatDocument(t);n.sendNotification(c.DidOpenTextDocumentNotification.type,{textDocument:e})}}}async didClose(e,t){const n=this.getClient();if(r(e.uri)&&n&&p(e,this.cellSelector)){const t=this.asTextDocumentItem(e),r=this.converter.isOpen(t),i=this.converter.handleClose({textDocument:t}),o=!this.converter.isOpen(t);if(o&&r){const e=this.converter.toConcatDocument(t);n.sendNotification(c.DidCloseTextDocumentNotification.type,{textDocument:e})}else!o&&i&&n.sendNotification(c.DidChangeTextDocumentNotification.type,i)}}didSave(e,t){return t(e)}willSave(e,t){return t(e)}willSaveWaitUntil(e,t){return t(e)}async provideCompletionItem(e,t,n,r,i){const o=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&o){const i=this.asTextDocumentIdentifier(e),s={textDocument:this.converter.toConcatDocument(i),position:this.converter.toConcatPosition(i,t),context:o.code2ProtocolConverter.asCompletionParams(e,t,n).context},a=await o.sendRequest(u.CompletionRequest.type,s,r),c=this.converter.toNotebookCompletions(i,a);return o.protocol2CodeConverter.asCompletionResult(c)}}async provideHover(e,t,n,r){const i=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&i){const r=this.asTextDocumentIdentifier(e),o={textDocument:this.converter.toConcatDocument(r),position:this.converter.toConcatPosition(r,t)},s=await i.sendRequest(u.HoverRequest.type,o,n),a=this.converter.toNotebookHover(r,s);return i.protocol2CodeConverter.asHover(a)}}resolveCompletionItem(e,t,n){return n(e,t)}async provideSignatureHelp(e,t,n,r,i){const o=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&o){const i=this.asTextDocumentIdentifier(e),s={textDocument:this.converter.toConcatDocument(i),position:this.converter.toConcatPosition(i,t),context:o.code2ProtocolConverter.asSignatureHelpParams(e,t,n).context},a=await o.sendRequest(u.SignatureHelpRequest.type,s,r);return o.protocol2CodeConverter.asSignatureHelp(a)}}async provideDefinition(e,t,n,r){const i=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&i){const r=this.asTextDocumentIdentifier(e),o={textDocument:this.converter.toConcatDocument(r),position:this.converter.toConcatPosition(r,t)},s=await i.sendRequest(u.DefinitionRequest.type,o,n),a=this.converter.toNotebookLocations(s);return i.protocol2CodeConverter.asDefinitionResult(a)}}async provideReferences(e,t,n,r,i){const o=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&o){const i=this.asTextDocumentIdentifier(e),s={textDocument:this.converter.toConcatDocument(i),position:this.converter.toConcatPosition(i,t),context:{includeDeclaration:n.includeDeclaration}},a=await o.sendRequest(u.ReferencesRequest.type,s,r),c=this.converter.toNotebookLocations(a);return o.protocol2CodeConverter.asReferences(c)}}async provideDocumentHighlights(e,t,n,r){const i=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&i){const r=this.asTextDocumentIdentifier(e),o={textDocument:this.converter.toConcatDocument(r),position:this.converter.toConcatPosition(r,t)},s=await i.sendRequest(u.DocumentHighlightRequest.type,o,n),a=this.converter.toNotebookHighlight(r,s);return i.protocol2CodeConverter.asDocumentHighlights(a)}}async provideDocumentSymbols(e,t,n){const r=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&r){const n=this.asTextDocumentIdentifier(e),i={textDocument:this.converter.toConcatDocument(n)},o=await r.sendRequest(u.DocumentSymbolRequest.type,i,t),s=this.converter.toNotebookSymbols(n,o),a=s?s[0]:void 0;if(c.DocumentSymbol.is(a))return r.protocol2CodeConverter.asDocumentSymbols(s);if(a)return r.protocol2CodeConverter.asSymbolInformations(s)}}async provideWorkspaceSymbols(e,t,n){const r=this.getClient();if(r){const n={query:e},i=await r.sendRequest(u.WorkspaceSymbolRequest.type,n,t),o=this.converter.toNotebookWorkspaceSymbols(i);return r.protocol2CodeConverter.asSymbolInformations(o)}}provideCodeActions(e,t,n,r,i){this.shouldProvideIntellisense(e.uri)&&this.traceInfo("provideCodeActions not currently supported for notebooks")}provideCodeLenses(e,t,n){this.shouldProvideIntellisense(e.uri)&&this.traceInfo("provideCodeLenses not currently supported for notebooks")}resolveCodeLens(e,t,n){return n(e,t)}provideDocumentFormattingEdits(e,t,n,r){this.shouldProvideIntellisense(e.uri)&&this.traceInfo("provideDocumentFormattingEdits not currently supported for notebooks")}provideDocumentRangeFormattingEdits(e,t,n,r,i){this.shouldProvideIntellisense(e.uri)&&this.traceInfo("provideDocumentRangeFormattingEdits not currently supported for notebooks")}provideOnTypeFormattingEdits(e,t,n,r,i,o){this.shouldProvideIntellisense(e.uri)&&this.traceInfo("provideOnTypeFormattingEdits not currently supported for notebooks")}provideRenameEdits(e,t,n,r,i){this.shouldProvideIntellisense(e.uri)&&this.traceInfo("provideRenameEdits not currently supported for notebooks")}prepareRename(e,t,n,r){this.shouldProvideIntellisense(e.uri)&&this.traceInfo("prepareRename not currently supported for notebooks")}provideDocumentLinks(e,t,n){this.shouldProvideIntellisense(e.uri)&&this.traceInfo("provideDocumentLinks not currently supported for notebooks")}resolveDocumentLink(e,t,n){return n(e,t)}handleDiagnostics(n,r,i){try{const s=this.converter.toNotebookUri(n.toString()),c=s?a.Uri.parse(s):void 0,u=this.getClient();u&&c&&s!=n.toString()&&this.shouldProvideIntellisense(c)&&!((o=c).fragment.includes(t)||o.scheme.includes(e)||o.scheme.includes(t))?u.code2ProtocolConverter.asDiagnostics(r).then((e=>{const t=this.converter.toNotebookDiagnosticsMap(n.toString(),e);[...t.keys()].map((async e=>i(a.Uri.parse(e),await u.protocol2CodeConverter.asDiagnostics(t.get(e)))))})):i(n,[])}catch(e){this.traceInfo(`Error during handling diagnostics: ${e}`),i(n,[])}var o}async provideTypeDefinition(e,t,n,r){const i=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&i){const r=this.asTextDocumentIdentifier(e),o={textDocument:this.converter.toConcatDocument(r),position:this.converter.toConcatPosition(r,t)},s=await i.sendRequest(u.TypeDefinitionRequest.type,o,n),a=this.converter.toNotebookLocations(s);return i.protocol2CodeConverter.asDefinitionResult(a)}}async provideImplementation(e,t,n,r){const i=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&i){const r=this.asTextDocumentIdentifier(e),o={textDocument:this.converter.toConcatDocument(r),position:this.converter.toConcatPosition(r,t)},s=await i.sendRequest(u.ImplementationRequest.type,o,n),a=this.converter.toNotebookLocations(s);return i.protocol2CodeConverter.asDefinitionResult(a)}}async provideDocumentColors(e,t,n){const r=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&r){const n=this.asTextDocumentIdentifier(e),i={textDocument:this.converter.toConcatDocument(n)},o=await r.sendRequest(u.DocumentColorRequest.type,i,t),s=this.converter.toNotebookColorInformations(n,o);return r.protocol2CodeConverter.asColorInformations(s)}}async provideColorPresentations(e,t,n,r){const i=this.getClient();if(this.shouldProvideIntellisense(t.document.uri)&&i){const r=this.asTextDocumentIdentifier(t.document),o={textDocument:this.converter.toConcatDocument(r),range:this.converter.toRealRange(r,t.range),color:e},s=await i.sendRequest(u.ColorPresentationRequest.type,o,n),a=this.converter.toNotebookColorPresentations(r,s);return i.protocol2CodeConverter.asColorPresentations(a)}}async provideFoldingRanges(e,t,n,r){const i=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&i){const t=this.asTextDocumentIdentifier(e),r={textDocument:this.converter.toConcatDocument(t)},o=await i.sendRequest(u.FoldingRangeRequest.type,r,n),s=this.converter.toNotebookFoldingRanges(t,o);return i.protocol2CodeConverter.asFoldingRanges(s)}}async provideDeclaration(e,t,n,r){const i=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&i){const r=this.asTextDocumentIdentifier(e),o={textDocument:this.converter.toConcatDocument(r),position:this.converter.toConcatPosition(r,t)},s=await i.sendRequest(u.DeclarationRequest.type,o,n),a=this.converter.toNotebookLocations(s);return i.protocol2CodeConverter.asDeclarationResult(a)}}async provideSelectionRanges(e,t,n,r){const i=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&i){const r=this.asTextDocumentIdentifier(e),o={textDocument:this.converter.toConcatDocument(r),positions:this.converter.toConcatPositions(r,t)},s=await i.sendRequest(u.SelectionRangeRequest.type,o,n),a=this.converter.toNotebookSelectionRanges(r,s);return i.protocol2CodeConverter.asSelectionRanges(a)}}async prepareCallHierarchy(e,t,n,r){const i=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&i){const r=this.asTextDocumentIdentifier(e),o={textDocument:this.converter.toConcatDocument(r),position:this.converter.toConcatPosition(r,t)},s=await i.sendRequest(u.CallHierarchyPrepareRequest.type,o,n),a=this.converter.toNotebookCallHierarchyItems(r,s);return i.protocol2CodeConverter.asCallHierarchyItems(a)}}async provideCallHierarchyIncomingCalls(e,t,n){const r=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&r){const n=this.asTextDocumentIdentifier(e.uri),i=this.converter.toConcatDocument(n),o=this.converter.toRealRange(n,e.range),s=this.converter.toRealRange(n,e.selectionRange),a={item:{...r.code2ProtocolConverter.asCallHierarchyItem(e),uri:i.uri,range:o,selectionRange:s}},c=await r.sendRequest(u.CallHierarchyIncomingCallsRequest.type,a,t),l=this.converter.toNotebookCallHierarchyIncomingCallItems(n,c);return r.protocol2CodeConverter.asCallHierarchyIncomingCalls(l)}}async provideCallHierarchyOutgoingCalls(e,t,n){const r=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&r){const n=this.asTextDocumentIdentifier(e.uri),i=this.converter.toConcatDocument(n),o=this.converter.toRealRange(n,e.range),s=this.converter.toRealRange(n,e.selectionRange),a={item:{...r.code2ProtocolConverter.asCallHierarchyItem(e),uri:i.uri,range:o,selectionRange:s}},c=await r.sendRequest(u.CallHierarchyOutgoingCallsRequest.type,a,t),l=this.converter.toNotebookCallHierarchyOutgoingCallItems(n,c);return r.protocol2CodeConverter.asCallHierarchyOutgoingCalls(l)}}async provideDocumentSemanticTokens(e,t,n){const r=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&r){const n=this.asTextDocumentIdentifier(e),i={textDocument:this.converter.toConcatDocument(n),range:this.converter.toRealRange(n,void 0)},o=await r.sendRequest(c.SemanticTokensRangeRequest.type,i,t),s=this.converter.toNotebookSemanticTokens(n,o);return r.protocol2CodeConverter.asSemanticTokens(s)}}async provideDocumentSemanticTokensEdits(e,t,n,r){const i=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&i){const t=this.asTextDocumentIdentifier(e),r={textDocument:this.converter.toConcatDocument(t),range:this.converter.toRealRange(t,void 0)},o=await i.sendRequest(c.SemanticTokensRangeRequest.type,r,n),s=this.converter.toNotebookSemanticTokens(t,o);return i.protocol2CodeConverter.asSemanticTokens(s)}}async provideDocumentRangeSemanticTokens(e,t,n,r){const i=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&i){const r=this.asTextDocumentIdentifier(e),o={textDocument:this.converter.toConcatDocument(r),range:this.converter.toRealRange(r,t)},s=await i.sendRequest(c.SemanticTokensRangeRequest.type,o,n),a=this.converter.toNotebookSemanticTokens(r,s);return i.protocol2CodeConverter.asSemanticTokens(a)}}async provideLinkedEditingRange(e,t,n,r){const i=this.getClient();if(this.shouldProvideIntellisense(e.uri)&&i){const r=this.asTextDocumentIdentifier(e),o={textDocument:this.converter.toConcatDocument(r),position:this.converter.toConcatPosition(r,t)},s=await i.sendRequest(c.LinkedEditingRangeRequest.type,o,n),a=this.converter.toNotebookLinkedEditingRanges(r,s);return i.protocol2CodeConverter.asLinkedEditingRanges(a)}}shouldProvideIntellisense(e){return this.isDocumentAllowed(e)}asTextDocumentIdentifier(e){return{uri:"uri"in e?e.uri.toString():e.toString()}}asTextDocumentItem(e){return{uri:e.uri.toString(),text:e.getText(),languageId:e.languageId,version:e.version}}}class f{constructor(e,t,r,i,o){this.getClient=e,this.selector=t,this.pythonPath=r,this.isDocumentAllowed=i,this.getNotebookHeader=o,this.workspace={configuration:async(e,t,r)=>{let i=r(e,t);if(n(i)&&(i=await i),i instanceof u.ResponseError)return i;for(const[t,n]of e.items.entries())"python"===n.section&&(i[t].pythonPath=this.pythonPath,i[t].analysis.indexing=!1,i[t].notebookHeader=this.getNotebookHeader(n.scopeUri?a.Uri.parse(n.scopeUri):a.Uri.parse("")));return i}},this.handleDiagnostics=this.handleDiagnostics.bind(this),this.didOpen=this.didOpen.bind(this),this.didClose=this.didClose.bind(this)}dispose(){}stopWatching(e){const t=this.getClient();t&&e.cellCount>0&&(e.getCells().forEach((e=>{const n=t.code2ProtocolConverter.asCloseTextDocumentParams(e.document);t.sendNotification(u.DidCloseTextDocumentNotification.type,n)})),t.diagnostics&&e.getCells().forEach((e=>{var n;null===(n=t.diagnostics)||void 0===n||n.set(e.document.uri,[])})))}startWatching(e){const t=this.getClient();t&&e.cellCount>0&&e.getCells().forEach((e=>{this.didOpen(e.document,(e=>{const n=t.code2ProtocolConverter.asOpenTextDocumentParams(e);t.sendNotification(u.DidOpenTextDocumentNotification.type,n)}))}))}async didOpen(e,t){this.shouldProvideIntellisense(e.uri)&&await t(e)}async didClose(e,t){this.shouldProvideIntellisense(e.uri)&&await t(e)}refresh(e){const t=this.getClient();if(t){const n={cells:e.getCells().filter((e=>p(e.document,this.selector))).map((e=>({textDocument:{uri:e.document.uri.toString(),version:e.document.version,languageId:e.document.languageId,text:e.document.getText()}})))};t.sendNotification("notebook/refresh",n)}}provideCompletionItem(e,t,n,r,i){if(this.shouldProvideIntellisense(e.uri))return i(e,t,n,r)}provideHover(e,t,n,r){if(this.shouldProvideIntellisense(e.uri))return r(e,t,n)}resolveCompletionItem(e,t,n){return n(e,t)}provideSignatureHelp(e,t,n,r,i){if(this.shouldProvideIntellisense(e.uri))return i(e,t,n,r)}provideDefinition(e,t,n,r){if(this.shouldProvideIntellisense(e.uri))return r(e,t,n)}provideReferences(e,t,n,r,i){if(this.shouldProvideIntellisense(e.uri))return i(e,t,n,r)}provideDocumentHighlights(e,t,n,r){if(this.shouldProvideIntellisense(e.uri))return r(e,t,n)}provideDocumentSymbols(e,t,n){if(this.shouldProvideIntellisense(e.uri))return n(e,t)}provideWorkspaceSymbols(e,t,n){return n(e,t)}provideCodeActions(e,t,n,r,i){if(this.shouldProvideIntellisense(e.uri))return i(e,t,n,r)}provideCodeLenses(e,t,n){if(this.shouldProvideIntellisense(e.uri))return n(e,t)}resolveCodeLens(e,t,n){return n(e,t)}provideDocumentFormattingEdits(e,t,n,r){if(this.shouldProvideIntellisense(e.uri))return r(e,t,n)}provideDocumentRangeFormattingEdits(e,t,n,r,i){if(this.shouldProvideIntellisense(e.uri))return i(e,t,n,r)}provideOnTypeFormattingEdits(e,t,n,r,i,o){if(this.shouldProvideIntellisense(e.uri))return o(e,t,n,r,i)}provideRenameEdits(e,t,n,r,i){if(this.shouldProvideIntellisense(e.uri))return i(e,t,n,r)}prepareRename(e,t,n,r){if(this.shouldProvideIntellisense(e.uri))return r(e,t,n)}provideDocumentLinks(e,t,n){if(this.shouldProvideIntellisense(e.uri))return n(e,t)}resolveDocumentLink(e,t,n){return n(e,t)}handleDiagnostics(e,t,n){if(this.shouldProvideIntellisense(e))return n(e,t);n(e,[])}provideTypeDefinition(e,t,n,r){if(this.shouldProvideIntellisense(e.uri))return r(e,t,n)}provideImplementation(e,t,n,r){if(this.shouldProvideIntellisense(e.uri))return r(e,t,n)}provideDocumentColors(e,t,n){if(this.shouldProvideIntellisense(e.uri))return n(e,t)}provideColorPresentations(e,t,n,r){if(this.shouldProvideIntellisense(t.document.uri))return r(e,t,n)}provideFoldingRanges(e,t,n,r){if(this.shouldProvideIntellisense(e.uri))return r(e,t,n)}provideDeclaration(e,t,n,r){if(this.shouldProvideIntellisense(e.uri))return r(e,t,n)}provideSelectionRanges(e,t,n,r){if(this.shouldProvideIntellisense(e.uri))return r(e,t,n)}prepareCallHierarchy(e,t,n,r){if(this.shouldProvideIntellisense(e.uri))return r(e,t,n)}provideCallHierarchyIncomingCalls(e,t,n){if(this.shouldProvideIntellisense(e.uri))return n(e,t)}provideCallHierarchyOutgoingCalls(e,t,n){if(this.shouldProvideIntellisense(e.uri))return n(e,t)}provideDocumentSemanticTokens(e,t,n){if(this.shouldProvideIntellisense(e.uri))return n(e,t)}provideDocumentSemanticTokensEdits(e,t,n,r){if(this.shouldProvideIntellisense(e.uri))return r(e,t,n)}provideDocumentRangeSemanticTokens(e,t,n,r){if(this.shouldProvideIntellisense(e.uri))return r(e,t,n)}provideLinkedEditingRange(e,t,n,r){if(this.shouldProvideIntellisense(e.uri))return r(e,t,n)}shouldProvideIntellisense(e){return this.isDocumentAllowed(e)}}function g(){return new s}function m(e,t,n,r,i,o){return new h(e,t,n,r,i,o)}function v(e,t,n,r,i){return new f(e,t,n,r,i)}})(),e.exports=o})()},3901:(e,t,n)=>{var r=n(32081),i=n(57147),o=n(71017);e.exports=function(){if("x64"===process.arch)return"x64";if("darwin"===process.platform)return"x64";if("win32"===process.platform){var e=!1;try{e=!(!process.env.SYSTEMROOT||!i.statSync(process.env.SYSTEMROOT))}catch(e){}var t=e?process.env.SYSTEMROOT:"C:\\Windows",n=!1;try{n=!!i.statSync(o.join(t,"sysnative"))}catch(e){}return n?"x64":"x86"}return"linux"===process.platform&&"64\n"===r.execSync("getconf LONG_BIT",{encoding:"utf8"})?"x64":"x86"}},9669:(e,t,n)=>{e.exports=n(51609)},47970:(e,t,n)=>{"use strict";var r=n(64867),i=n(36026),o=n(94097),s=n(15327),a=n(13685),c=n(95687),u=n(30938).http,l=n(30938).https,d=n(57310),p=n(59796),h=n(97288).version,f=n(85061),g=n(80481),m=n(77874),v=n(65263),y=/https:?/;function b(e,t,n){if(e.hostname=t.host,e.host=t.host,e.port=t.port,e.path=n,t.auth){var r=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+r}e.beforeRedirect=function(e){e.headers.host=e.host,b(e,t,e.href)}}e.exports=function(e){return new Promise((function(t,n){var S;function _(){e.cancelToken&&e.cancelToken.unsubscribe(S),e.signal&&e.signal.removeEventListener("abort",S)}var E=function(e){_(),t(e)},w=!1,P=function(e){_(),w=!0,n(e)},T=e.data,C=e.headers,I={};if(Object.keys(C).forEach((function(e){I[e.toLowerCase()]=e})),"user-agent"in I?C[I["user-agent"]]||delete C[I["user-agent"]]:C["User-Agent"]="axios/"+h,T&&!r.isStream(T)){if(Buffer.isBuffer(T));else if(r.isArrayBuffer(T))T=Buffer.from(new Uint8Array(T));else{if(!r.isString(T))return P(f("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));T=Buffer.from(T,"utf-8")}if(e.maxBodyLength>-1&&T.length>e.maxBodyLength)return P(f("Request body larger than maxBodyLength limit",e));I["content-length"]||(C["Content-Length"]=T.length)}var R=void 0;e.auth&&(R=(e.auth.username||"")+":"+(e.auth.password||""));var D=o(e.baseURL,e.url),O=d.parse(D),k=O.protocol||"http:";if(!R&&O.auth){var x=O.auth.split(":");R=(x[0]||"")+":"+(x[1]||"")}R&&I.authorization&&delete C[I.authorization];var N=y.test(k),A=N?e.httpsAgent:e.httpAgent;try{s(O.path,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(t){var j=new Error(t.message);j.config=e,j.url=e.url,j.exists=!0,P(j)}var M={path:s(O.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:C,agent:A,agents:{http:e.httpAgent,https:e.httpsAgent},auth:R};e.socketPath?M.socketPath=e.socketPath:(M.hostname=O.hostname,M.port=O.port);var L,F=e.proxy;if(!F&&!1!==F){var q=k.slice(0,-1)+"_proxy",U=process.env[q]||process.env[q.toUpperCase()];if(U){var W=d.parse(U),V=process.env.no_proxy||process.env.NO_PROXY,H=!0;if(V&&(H=!V.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||"."===e[0]&&O.hostname.substr(O.hostname.length-e.length)===e||O.hostname===e)}))),H&&(F={host:W.hostname,port:W.port,protocol:W.protocol},W.auth)){var $=W.auth.split(":");F.auth={username:$[0],password:$[1]}}}}F&&(M.headers.host=O.hostname+(O.port?":"+O.port:""),b(M,F,k+"//"+O.hostname+(O.port?":"+O.port:"")+M.path));var B=N&&(!F||y.test(F.protocol));e.transport?L=e.transport:0===e.maxRedirects?L=B?c:a:(e.maxRedirects&&(M.maxRedirects=e.maxRedirects),L=B?l:u),e.maxBodyLength>-1&&(M.maxBodyLength=e.maxBodyLength),e.insecureHTTPParser&&(M.insecureHTTPParser=e.insecureHTTPParser);var G=L.request(M,(function(t){if(!G.aborted){var n=t,o=t.req||G;if(204!==t.statusCode&&"HEAD"!==o.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":n=n.pipe(p.createUnzip()),delete t.headers["content-encoding"]}var s={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:o};if("stream"===e.responseType)s.data=n,i(E,P,s);else{var a=[],c=0;n.on("data",(function(t){a.push(t),c+=t.length,e.maxContentLength>-1&&c>e.maxContentLength&&(w=!0,n.destroy(),P(f("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,o)))})),n.on("aborted",(function(){w||(n.destroy(),P(f("error request aborted",e,"ERR_REQUEST_ABORTED",o)))})),n.on("error",(function(t){G.aborted||P(g(t,e,null,o))})),n.on("end",(function(){try{var t=1===a.length?a[0]:Buffer.concat(a);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=r.stripBOM(t))),s.data=t}catch(t){P(g(t,e,t.code,s.request,s))}i(E,P,s)}))}}}));if(G.on("error",(function(t){G.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||P(g(t,e,null,G))})),G.on("socket",(function(e){e.setKeepAlive(!0,6e4)})),e.timeout){var K=parseInt(e.timeout,10);if(isNaN(K))return void P(f("error trying to parse `config.timeout` to int",e,"ERR_PARSE_TIMEOUT",G));G.setTimeout(K,(function(){G.abort();var t;t=e.timeoutErrorMessage?e.timeoutErrorMessage:"timeout of "+e.timeout+"ms exceeded";var n=e.transitional||m;P(f(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",G))}))}(e.cancelToken||e.signal)&&(S=function(e){G.aborted||(G.abort(),P(!e||e&&e.type?new v("canceled"):e))},e.cancelToken&&e.cancelToken.subscribe(S),e.signal&&(e.signal.aborted?S():e.signal.addEventListener("abort",S))),r.isStream(T)?T.on("error",(function(t){P(g(t,e,null,G))})).pipe(G):G.end(T)}))}},55448:(e,t,n)=>{"use strict";var r=n(64867),i=n(36026),o=n(4372),s=n(15327),a=n(94097),c=n(84109),u=n(67985),l=n(85061),d=n(77874),p=n(65263);e.exports=function(e){return new Promise((function(t,n){var h,f=e.data,g=e.headers,m=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(f)&&delete g["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",S=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(b+":"+S)}var _=a(e.baseURL,e.url);function E(){if(y){var r="getAllResponseHeaders"in y?c(y.getAllResponseHeaders()):null,o={data:m&&"text"!==m&&"json"!==m?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y};i((function(e){t(e),v()}),(function(e){n(e),v()}),o),y=null}}if(y.open(e.method.toUpperCase(),s(_,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(E)},y.onabort=function(){y&&(n(l("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(l("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||d;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var w=(e.withCredentials||u(_))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;w&&(g[e.xsrfHeaderName]=w)}"setRequestHeader"in y&&r.forEach(g,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete g[t]:y.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),m&&"json"!==m&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){y&&(n(!e||e&&e.type?new p("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),f||(f=null),y.send(f)}))}},51609:(e,t,n)=>{"use strict";var r=n(64867),i=n(91849),o=n(30321),s=n(47185),a=function e(t){var n=new o(t),a=i(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(45546));a.Axios=o,a.Cancel=n(65263),a.CancelToken=n(14972),a.isCancel=n(26502),a.VERSION=n(97288).version,a.all=function(e){return Promise.all(e)},a.spread=n(8713),a.isAxiosError=n(16268),e.exports=a,e.exports.default=a},65263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},14972:(e,t,n)=>{"use strict";var r=n(65263);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},26502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},30321:(e,t,n)=>{"use strict";var r=n(64867),i=n(15327),o=n(80782),s=n(13572),a=n(47185),c=n(54875),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var d=[s,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(l),o=Promise.resolve(t);d.length;)o=o.then(d.shift(),d.shift());return o}for(var p=t;r.length;){var h=r.shift(),f=r.shift();try{p=h(p)}catch(e){f(e);break}}try{o=s(p)}catch(e){return Promise.reject(e)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=l},80782:(e,t,n)=>{"use strict";var r=n(64867);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},94097:(e,t,n)=>{"use strict";var r=n(91793),i=n(7303);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},85061:(e,t,n)=>{"use strict";var r=n(80481);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},13572:(e,t,n)=>{"use strict";var r=n(64867),i=n(18527),o=n(26502),s=n(45546),a=n(65263);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},80481:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},47185:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function c(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||o,i=t(e);r.isUndefined(i)&&t!==c||(n[e]=i)})),n}},36026:(e,t,n)=>{"use strict";var r=n(85061);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},18527:(e,t,n)=>{"use strict";var r=n(64867),i=n(45546);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},45546:(e,t,n)=>{"use strict";var r=n(64867),i=n(16016),o=n(80481),s=n(77874),a={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,l={transitional:s,adapter:("undefined"!=typeof XMLHttpRequest?u=n(55448):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(u=n(47970)),u),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(a)})),e.exports=l},77874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},97288:e=>{e.exports={version:"0.26.1"}},91849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},15327:(e,t,n)=>{"use strict";var r=n(64867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},91793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},16268:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},67985:(e,t,n)=>{"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16016:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},84109:(e,t,n)=>{"use strict";var r=n(64867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},54875:(e,t,n)=>{"use strict";var r=n(97288).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],c=void 0===a||s(a,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},64867:(e,t,n)=>{"use strict";var r=n(91849),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function s(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===i.call(e)}function c(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:u,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return c(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},5623:e=>{"use strict";function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var o=r(e,t,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+e.length,o[1]),post:i.slice(o[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,o,s,a,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){for(r=[],o=n.length;l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(e,l+1)):1==r.length?a=[r.pop(),u]:((i=r.pop())<o&&(o=i,s=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;r.length&&(a=[o,s])}return a}e.exports=t,t.range=r},3644:(e,t,n)=>{var r=n(11048),i=n(5623);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),v(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(d)):[]};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function p(e){if(!e)return[""];var t=[],n=i("{","}",e);if(!n)return e.split(",");var r=n.pre,o=n.body,s=n.post,a=r.split(",");a[a.length-1]+="{"+o+"}";var c=p(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function h(e){return"{"+e+"}"}function f(e){return/^-?0\d/.test(e)}function g(e,t){return e<=t}function m(e,t){return e>=t}function v(e,t){var n=[],o=i("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var s,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),d=c||u,y=o.body.indexOf(",")>=0;if(!d&&!y)return o.post.match(/,.*\}/)?v(e=o.pre+"{"+o.body+a+o.post):[e];if(d)s=o.body.split(/\.\./);else if(1===(s=p(o.body)).length&&1===(s=v(s[0],!1).map(h)).length)return(_=o.post.length?v(o.post,!1):[""]).map((function(e){return o.pre+s[0]+e}));var b,S=o.pre,_=o.post.length?v(o.post,!1):[""];if(d){var E=l(s[0]),w=l(s[1]),P=Math.max(s[0].length,s[1].length),T=3==s.length?Math.abs(l(s[2])):1,C=g;w<E&&(T*=-1,C=m);var I=s.some(f);b=[];for(var R=E;C(R,w);R+=T){var D;if(u)"\\"===(D=String.fromCharCode(R))&&(D="");else if(D=String(R),I){var O=P-D.length;if(O>0){var k=new Array(O+1).join("0");D=R<0?"-"+k+D.slice(1):k+D}}b.push(D)}}else b=r(s,(function(e){return v(e,!1)}));for(var x=0;x<b.length;x++)for(var N=0;N<_.length;N++){var A=S+b[x]+_[N];(!t||d||A)&&n.push(A)}return n}},40487:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},11048:e=>{e.exports=function(e,n){for(var r=[],i=0;i<e.length;i++){var o=n(e[i],i);t(o)?r.push.apply(r,o):r.push(o)}return r};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},51582:e=>{var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?n.push(t.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}},e.exports=n},59435:e=>{var t=1e3,n=60*t,r=60*n,i=24*r;function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var a,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===c&&!1===isNaN(e))return s.long?o(a=e,i,"day")||o(a,r,"hour")||o(a,n,"minute")||o(a,t,"second")||a+" ms":function(e){return e>=i?Math.round(e/i)+"d":e>=r?Math.round(e/r)+"h":e>=n?Math.round(e/n)+"m":e>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},11227:(e,t,n)=>{function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(11658)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},11658:(e,t,n)=>{var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,o=i-(r||i);e.diff=o,e.prev=r,e.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"==typeof i){var o=s[c];n=i.call(e,o),s.splice(c,1),c--}return n})),t.formatArgs.call(e,s);var u=n.log||t.log||console.log.bind(console);u.apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(59435),t.names=[],t.skips=[],t.formatters={}},15158:(e,t,n)=>{"undefined"!=typeof process&&"renderer"===process.type?e.exports=n(11227):e.exports=n(39)},39:(e,t,n)=>{var r=n(76224),i=n(73837);(t=e.exports=n(11658)).init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return s.write(i.format.apply(i,arguments)+"\n")},t.formatArgs=function(e){var n=this.namespace;if(this.useColors){var r=this.color,i="  [3"+r+";1m"+n+" [0m";e[0]=i+e[0].split("\n").join("\n"+i),e.push("[3"+r+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+n+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=a,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(o)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{});var o=parseInt(process.env.DEBUG_FD,10)||2;1!==o&&2!==o&&i.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var s=1===o?process.stdout:2===o?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new r.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":(t=new(n(57147).SyncWriteStream)(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":(t=new(n(41808).Socket)({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(o);function a(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)},t.enable(a())},22261:(e,t,n)=>{var r;e.exports=function(){if(!r){try{r=n(15158)("follow-redirects")}catch(e){}"function"!=typeof r&&(r=function(){})}r.apply(null,arguments)}},30938:(e,t,n)=>{var r=n(57310),i=r.URL,o=n(13685),s=n(95687),a=n(12781).Writable,c=n(39491),u=n(22261),l=["abort","aborted","connect","error","socket","timeout"],d=Object.create(null);l.forEach((function(e){d[e]=function(t,n,r){this._redirectable.emit(e,t,n,r)}}));var p=_("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),h=_("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),f=_("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),g=_("ERR_STREAM_WRITE_AFTER_END","write after end");function m(e,t){a.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var n=this;this._onNativeResponse=function(e){n._processResponse(e)},this._performRequest()}function v(e){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(e).forEach((function(o){var s=o+":",a=n[s]=e[o],l=t[o]=Object.create(a);Object.defineProperties(l,{request:{value:function(e,o,a){if("string"==typeof e){var l=e;try{e=b(new i(l))}catch(t){e=r.parse(l)}}else i&&e instanceof i?e=b(e):(a=o,o=e,e={protocol:s});return"function"==typeof o&&(a=o,o=null),(o=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,o)).nativeProtocols=n,c.equal(o.protocol,s,"protocol mismatch"),u("options",o),new m(o,a)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,n){var r=l.request(e,t,n);return r.end(),r},configurable:!0,enumerable:!0,writable:!0}})})),t}function y(){}function b(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function S(e,t){var n;for(var r in t)e.test(r)&&(n=t[r],delete t[r]);return null==n?void 0:String(n).trim()}function _(e,t){function n(e){Error.captureStackTrace(this,this.constructor),e?(this.message=t+": "+e.message,this.cause=e):this.message=t}return n.prototype=new Error,n.prototype.constructor=n,n.prototype.name="Error ["+e+"]",n.prototype.code=e,n}function E(e){for(var t of l)e.removeListener(t,d[t]);e.on("error",y),e.abort()}m.prototype=Object.create(a.prototype),m.prototype.abort=function(){E(this._currentRequest),this.emit("abort")},m.prototype.write=function(e,t,n){if(this._ending)throw new g;if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(n=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,n)):(this.emit("error",new f),this.abort()):n&&n()},m.prototype.end=function(e,t,n){if("function"==typeof e?(n=e,e=t=null):"function"==typeof t&&(n=t,t=null),e){var r=this,i=this._currentRequest;this.write(e,t,(function(){r._ended=!0,i.end(null,null,n)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,n)},m.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},m.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},m.prototype.setTimeout=function(e,t){var n=this;function r(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function i(t){n._timeout&&clearTimeout(n._timeout),n._timeout=setTimeout((function(){n.emit("timeout"),o()}),e),r(t)}function o(){n._timeout&&(clearTimeout(n._timeout),n._timeout=null),n.removeListener("abort",o),n.removeListener("error",o),n.removeListener("response",o),t&&n.removeListener("timeout",t),n.socket||n._currentRequest.removeListener("socket",i)}return t&&this.on("timeout",t),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",r),this.on("abort",o),this.on("error",o),this.on("response",o),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){m.prototype[e]=function(t,n){return this._currentRequest[e](t,n)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(m.prototype,e,{get:function(){return this._currentRequest[e]}})})),m.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},m.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var n=e.slice(0,-1);this._options.agent=this._options.agents[n]}var i=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var o of(i._redirectable=this,l))i.on(o,d[o]);if(this._currentUrl=/^\//.test(this._options.path)?r.format(this._options):this._currentUrl=this._options.path,this._isRedirect){var s=0,a=this,c=this._requestBodyBuffers;!function e(t){if(i===a._currentRequest)if(t)a.emit("error",t);else if(s<c.length){var n=c[s++];i.finished||i.write(n.data,n.encoding,e)}else a._ended&&i.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},m.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var n=e.headers.location;if(!n||!1===this._options.followRedirects||t<300||t>=400)return e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),void(this._requestBodyBuffers=[]);if(E(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)this.emit("error",new h);else{var i,o=this._options.beforeRedirect;o&&(i=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var s=this._options.method;((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],S(/^content-/i,this._options.headers));var a,c=S(/^host$/i,this._options.headers),l=r.parse(this._currentUrl),d=c||l.host,f=/^\w+:/.test(n)?this._currentUrl:r.format(Object.assign(l,{host:d}));try{a=r.resolve(f,n)}catch(e){return void this.emit("error",new p(e))}u("redirecting to",a),this._isRedirect=!0;var g=r.parse(a);if(Object.assign(this._options,g),(g.protocol!==l.protocol&&"https:"!==g.protocol||g.host!==d&&!function(e,t){const n=e.length-t.length-1;return n>0&&"."===e[n]&&e.endsWith(t)}(g.host,d))&&S(/^(?:authorization|cookie)$/i,this._options.headers),"function"==typeof o){var m={headers:e.headers,statusCode:t},v={url:f,method:s,headers:i};try{o(this._options,m,v)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){this.emit("error",new p(e))}}},e.exports=v({http:o,https:s}),e.exports.wrap=v},83873:(e,t,n)=>{"use strict";const r=n(20077),i=n(71017),o=n(11381).mkdirsSync,s=n(80318).utimesMillisSync,a=n(42733);function c(e,t,n,o){const s=(o.dereference?r.statSync:r.lstatSync)(t);if(s.isDirectory())return function(e,t,n,i,o){return t?d(n,i,o):function(e,t,n,i){return r.mkdirSync(n),d(t,n,i),l(n,e)}(e.mode,n,i,o)}(s,e,t,n,o);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(e,t,n,i,o){return t?function(e,t,n,i){if(i.overwrite)return r.unlinkSync(n),u(e,t,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}(e,n,i,o):u(e,n,i,o)}(s,e,t,n,o);if(s.isSymbolicLink())return function(e,t,n,o){let s=r.readlinkSync(t);if(o.dereference&&(s=i.resolve(process.cwd(),s)),e){let e;try{e=r.readlinkSync(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return r.symlinkSync(s,n);throw e}if(o.dereference&&(e=i.resolve(process.cwd(),e)),a.isSrcSubdir(s,e))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${e}'.`);if(r.statSync(n).isDirectory()&&a.isSrcSubdir(e,s))throw new Error(`Cannot overwrite '${e}' with '${s}'.`);return function(e,t){return r.unlinkSync(t),r.symlinkSync(e,t)}(s,n)}return r.symlinkSync(s,n)}(e,t,n,o);if(s.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(s.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function u(e,t,n,i){return r.copyFileSync(t,n),i.preserveTimestamps&&function(e,t,n){(function(e){return 0==(128&e)})(e)&&function(e,t){l(e,128|t)}(n,e),function(e,t){const n=r.statSync(e);s(t,n.atime,n.mtime)}(t,n)}(e.mode,t,n),l(n,e.mode)}function l(e,t){return r.chmodSync(e,t)}function d(e,t,n){r.readdirSync(e).forEach((r=>function(e,t,n,r){const o=i.join(t,e),s=i.join(n,e),{destStat:u}=a.checkPathsSync(o,s,"copy",r);return function(e,t,n,r){if(!r.filter||r.filter(t,n))return c(e,t,n,r)}(u,o,s,r)}(r,e,t,n)))}e.exports=function(e,t,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:s,destStat:u}=a.checkPathsSync(e,t,"copy",n);return a.checkParentPathsSync(e,s,t,"copy"),function(e,t,n,s){if(s.filter&&!s.filter(t,n))return;const a=i.dirname(n);return r.existsSync(a)||o(a),c(e,t,n,s)}(u,e,t,n)}},67189:(e,t,n)=>{"use strict";const r=n(20077),i=n(71017),o=n(11381).mkdirs,s=n(99257).pathExists,a=n(80318).utimesMillis,c=n(42733);function u(e,t,n,r,a){const c=i.dirname(n);s(c,((i,s)=>i?a(i):s?d(e,t,n,r,a):void o(c,(i=>i?a(i):d(e,t,n,r,a)))))}function l(e,t,n,r,i,o){Promise.resolve(i.filter(n,r)).then((s=>s?e(t,n,r,i,o):o()),(e=>o(e)))}function d(e,t,n,o,s){(o.dereference?r.stat:r.lstat)(t,((a,u)=>a?s(a):u.isDirectory()?function(e,t,n,i,o,s){return t?g(n,i,o,s):function(e,t,n,i,o){r.mkdir(n,(r=>{if(r)return o(r);g(t,n,i,(t=>t?o(t):f(n,e,o)))}))}(e.mode,n,i,o,s)}(u,e,t,n,o,s):u.isFile()||u.isCharacterDevice()||u.isBlockDevice()?function(e,t,n,i,o,s){return t?function(e,t,n,i,o){if(!i.overwrite)return i.errorOnExist?o(new Error(`'${n}' already exists`)):o();r.unlink(n,(r=>r?o(r):p(e,t,n,i,o)))}(e,n,i,o,s):p(e,n,i,o,s)}(u,e,t,n,o,s):u.isSymbolicLink()?function(e,t,n,o,s){r.readlink(t,((t,a)=>t?s(t):(o.dereference&&(a=i.resolve(process.cwd(),a)),e?void r.readlink(n,((t,u)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?r.symlink(a,n,s):s(t):(o.dereference&&(u=i.resolve(process.cwd(),u)),c.isSrcSubdir(a,u)?s(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${u}'.`)):e.isDirectory()&&c.isSrcSubdir(u,a)?s(new Error(`Cannot overwrite '${u}' with '${a}'.`)):function(e,t,n){r.unlink(t,(i=>i?n(i):r.symlink(e,t,n)))}(a,n,s)))):r.symlink(a,n,s))))}(e,t,n,o,s):u.isSocket()?s(new Error(`Cannot copy a socket file: ${t}`)):u.isFIFO()?s(new Error(`Cannot copy a FIFO pipe: ${t}`)):s(new Error(`Unknown file: ${t}`))))}function p(e,t,n,i,o){r.copyFile(t,n,(r=>r?o(r):i.preserveTimestamps?function(e,t,n,r){return function(e){return 0==(128&e)}(e)?function(e,t,n){return f(e,128|t,n)}(n,e,(i=>i?r(i):h(e,t,n,r))):h(e,t,n,r)}(e.mode,t,n,o):f(n,e.mode,o)))}function h(e,t,n,i){!function(e,t,n){r.stat(e,((e,r)=>e?n(e):a(t,r.atime,r.mtime,n)))}(t,n,(t=>t?i(t):f(n,e,i)))}function f(e,t,n){return r.chmod(e,t,n)}function g(e,t,n,i){r.readdir(e,((r,o)=>r?i(r):m(o,e,t,n,i)))}function m(e,t,n,r,o){const s=e.pop();return s?function(e,t,n,r,o,s){const a=i.join(n,t),u=i.join(r,t);c.checkPaths(a,u,"copy",o,((t,i)=>{if(t)return s(t);const{destStat:c}=i;!function(e,t,n,r,i){r.filter?l(d,e,t,n,r,i):d(e,t,n,r,i)}(c,a,u,o,(t=>t?s(t):m(e,n,r,o,s)))}))}(e,s,t,n,r,o):o()}e.exports=function(e,t,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),c.checkPaths(e,t,"copy",n,((i,o)=>{if(i)return r(i);const{srcStat:s,destStat:a}=o;c.checkParentPaths(e,s,t,"copy",(i=>i?r(i):n.filter?l(u,a,e,t,n,r):u(a,e,t,n,r)))}))}},66464:(e,t,n)=>{"use strict";const r=n(93451).fromCallback;e.exports={copy:r(n(67189)),copySync:n(83873)}},15590:(e,t,n)=>{"use strict";const r=n(93451).fromPromise,i=n(67749),o=n(71017),s=n(11381),a=n(54542),c=r((async function(e){let t;try{t=await i.readdir(e)}catch{return s.mkdirs(e)}return Promise.all(t.map((t=>a.remove(o.join(e,t)))))}));function u(e){let t;try{t=i.readdirSync(e)}catch{return s.mkdirsSync(e)}t.forEach((t=>{t=o.join(e,t),a.removeSync(t)}))}e.exports={emptyDirSync:u,emptydirSync:u,emptyDir:c,emptydir:c}},36530:(e,t,n)=>{"use strict";const r=n(93451).fromCallback,i=n(71017),o=n(20077),s=n(11381);e.exports={createFile:r((function(e,t){function n(){o.writeFile(e,"",(e=>{if(e)return t(e);t()}))}o.stat(e,((r,a)=>{if(!r&&a.isFile())return t();const c=i.dirname(e);o.stat(c,((e,r)=>{if(e)return"ENOENT"===e.code?s.mkdirs(c,(e=>{if(e)return t(e);n()})):t(e);r.isDirectory()?n():o.readdir(c,(e=>{if(e)return t(e)}))}))}))})),createFileSync:function(e){let t;try{t=o.statSync(e)}catch{}if(t&&t.isFile())return;const n=i.dirname(e);try{o.statSync(n).isDirectory()||o.readdirSync(n)}catch(e){if(!e||"ENOENT"!==e.code)throw e;s.mkdirsSync(n)}o.writeFileSync(e,"")}}},21720:(e,t,n)=>{"use strict";const{createFile:r,createFileSync:i}=n(36530),{createLink:o,createLinkSync:s}=n(54147),{createSymlink:a,createSymlinkSync:c}=n(83635);e.exports={createFile:r,createFileSync:i,ensureFile:r,ensureFileSync:i,createLink:o,createLinkSync:s,ensureLink:o,ensureLinkSync:s,createSymlink:a,createSymlinkSync:c,ensureSymlink:a,ensureSymlinkSync:c}},54147:(e,t,n)=>{"use strict";const r=n(93451).fromCallback,i=n(71017),o=n(20077),s=n(11381),a=n(99257).pathExists,{areIdentical:c}=n(42733);e.exports={createLink:r((function(e,t,n){function r(e,t){o.link(e,t,(e=>{if(e)return n(e);n(null)}))}o.lstat(t,((u,l)=>{o.lstat(e,((o,u)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);if(l&&c(u,l))return n(null);const d=i.dirname(t);a(d,((i,o)=>i?n(i):o?r(e,t):void s.mkdirs(d,(i=>{if(i)return n(i);r(e,t)}))))}))}))})),createLinkSync:function(e,t){let n;try{n=o.lstatSync(t)}catch{}try{const t=o.lstatSync(e);if(n&&c(t,n))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const r=i.dirname(t);return o.existsSync(r)||s.mkdirsSync(r),o.linkSync(e,t)}}},6072:(e,t,n)=>{"use strict";const r=n(71017),i=n(20077),o=n(99257).pathExists;e.exports={symlinkPaths:function(e,t,n){if(r.isAbsolute(e))return i.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e})));{const s=r.dirname(t),a=r.join(s,e);return o(a,((t,o)=>t?n(t):o?n(null,{toCwd:a,toDst:e}):i.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:r.relative(s,e)})))))}},symlinkPathsSync:function(e,t){let n;if(r.isAbsolute(e)){if(n=i.existsSync(e),!n)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const o=r.dirname(t),s=r.join(o,e);if(n=i.existsSync(s),n)return{toCwd:s,toDst:e};if(n=i.existsSync(e),!n)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:r.relative(o,e)}}}}},89259:(e,t,n)=>{"use strict";const r=n(20077);e.exports={symlinkType:function(e,t,n){if(n="function"==typeof t?t:n,t="function"!=typeof t&&t)return n(null,t);r.lstat(e,((e,r)=>{if(e)return n(null,"file");t=r&&r.isDirectory()?"dir":"file",n(null,t)}))},symlinkTypeSync:function(e,t){let n;if(t)return t;try{n=r.lstatSync(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}}},83635:(e,t,n)=>{"use strict";const r=n(93451).fromCallback,i=n(71017),o=n(67749),s=n(11381),a=s.mkdirs,c=s.mkdirsSync,u=n(6072),l=u.symlinkPaths,d=u.symlinkPathsSync,p=n(89259),h=p.symlinkType,f=p.symlinkTypeSync,g=n(99257).pathExists,{areIdentical:m}=n(42733);function v(e,t,n,r){l(e,t,((s,c)=>{if(s)return r(s);e=c.toDst,h(c.toCwd,n,((n,s)=>{if(n)return r(n);const c=i.dirname(t);g(c,((n,i)=>n?r(n):i?o.symlink(e,t,s,r):void a(c,(n=>{if(n)return r(n);o.symlink(e,t,s,r)}))))}))}))}e.exports={createSymlink:r((function(e,t,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,o.lstat(t,((i,s)=>{!i&&s.isSymbolicLink()?Promise.all([o.stat(e),o.stat(t)]).then((([i,o])=>{if(m(i,o))return r(null);v(e,t,n,r)})):v(e,t,n,r)}))})),createSymlinkSync:function(e,t,n){let r;try{r=o.lstatSync(t)}catch{}if(r&&r.isSymbolicLink()){const n=o.statSync(e),r=o.statSync(t);if(m(n,r))return}const s=d(e,t);e=s.toDst,n=f(s.toCwd,n);const a=i.dirname(t);return o.existsSync(a)||c(a),o.symlinkSync(e,t,n)}}},67749:(e,t,n)=>{"use strict";const r=n(93451).fromCallback,i=n(20077),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>"function"==typeof i[e]));Object.assign(t,i),o.forEach((e=>{t[e]=r(i[e])})),t.realpath.native=r(i.realpath.native),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise((t=>i.exists(e,t)))},t.read=function(e,t,n,r,o,s){return"function"==typeof s?i.read(e,t,n,r,o,s):new Promise(((s,a)=>{i.read(e,t,n,r,o,((e,t,n)=>{if(e)return a(e);s({bytesRead:t,buffer:n})}))}))},t.write=function(e,t,...n){return"function"==typeof n[n.length-1]?i.write(e,t,...n):new Promise(((r,o)=>{i.write(e,t,...n,((e,t,n)=>{if(e)return o(e);r({bytesWritten:t,buffer:n})}))}))},"function"==typeof i.writev&&(t.writev=function(e,t,...n){return"function"==typeof n[n.length-1]?i.writev(e,t,...n):new Promise(((r,o)=>{i.writev(e,t,...n,((e,t,n)=>{if(e)return o(e);r({bytesWritten:t,buffers:n})}))}))})},55674:(e,t,n)=>{"use strict";e.exports={...n(67749),...n(66464),...n(15590),...n(21720),...n(46573),...n(11381),...n(80530),...n(54670),...n(99257),...n(54542)}},46573:(e,t,n)=>{"use strict";const r=n(93451).fromPromise,i=n(7183);i.outputJson=r(n(43508)),i.outputJsonSync=n(39578),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},7183:(e,t,n)=>{"use strict";const r=n(80771);e.exports={readJson:r.readFile,readJsonSync:r.readFileSync,writeJson:r.writeFile,writeJsonSync:r.writeFileSync}},39578:(e,t,n)=>{"use strict";const{stringify:r}=n(4611),{outputFileSync:i}=n(54670);e.exports=function(e,t,n){const o=r(t,n);i(e,o,n)}},43508:(e,t,n)=>{"use strict";const{stringify:r}=n(4611),{outputFile:i}=n(54670);e.exports=async function(e,t,n={}){const o=r(t,n);await i(e,o,n)}},11381:(e,t,n)=>{"use strict";const r=n(93451).fromPromise,{makeDir:i,makeDirSync:o}=n(18233),s=r(i);e.exports={mkdirs:s,mkdirsSync:o,mkdirp:s,mkdirpSync:o,ensureDir:s,ensureDirSync:o}},18233:(e,t,n)=>{"use strict";const r=n(67749),{checkPath:i}=n(33468),o=e=>"number"==typeof e?e:{mode:511,...e}.mode;e.exports.makeDir=async(e,t)=>(i(e),r.mkdir(e,{mode:o(t),recursive:!0})),e.exports.makeDirSync=(e,t)=>(i(e),r.mkdirSync(e,{mode:o(t),recursive:!0}))},33468:(e,t,n)=>{"use strict";const r=n(71017);e.exports.checkPath=function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(r.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}},80530:(e,t,n)=>{"use strict";const r=n(93451).fromCallback;e.exports={move:r(n(436)),moveSync:n(43736)}},43736:(e,t,n)=>{"use strict";const r=n(20077),i=n(71017),o=n(66464).copySync,s=n(54542).removeSync,a=n(11381).mkdirpSync,c=n(42733);function u(e,t,n){try{r.renameSync(e,t)}catch(r){if("EXDEV"!==r.code)throw r;return function(e,t,n){return o(e,t,{overwrite:n,errorOnExist:!0}),s(e)}(e,t,n)}}e.exports=function(e,t,n){const o=(n=n||{}).overwrite||n.clobber||!1,{srcStat:l,isChangingCase:d=!1}=c.checkPathsSync(e,t,"move",n);return c.checkParentPathsSync(e,l,t,"move"),function(e){const t=i.dirname(e);return i.parse(t).root===t}(t)||a(i.dirname(t)),function(e,t,n,i){if(i)return u(e,t,n);if(n)return s(t),u(e,t,n);if(r.existsSync(t))throw new Error("dest already exists.");return u(e,t,n)}(e,t,o,d)}},436:(e,t,n)=>{"use strict";const r=n(20077),i=n(71017),o=n(66464).copy,s=n(54542).remove,a=n(11381).mkdirp,c=n(99257).pathExists,u=n(42733);function l(e,t,n,r,i){return r?d(e,t,n,i):n?s(t,(r=>r?i(r):d(e,t,n,i))):void c(t,((r,o)=>r?i(r):o?i(new Error("dest already exists.")):d(e,t,n,i)))}function d(e,t,n,i){r.rename(e,t,(r=>r?"EXDEV"!==r.code?i(r):function(e,t,n,r){o(e,t,{overwrite:n,errorOnExist:!0},(t=>t?r(t):s(e,r)))}(e,t,n,i):i()))}e.exports=function(e,t,n,r){"function"==typeof n&&(r=n,n={});const o=n.overwrite||n.clobber||!1;u.checkPaths(e,t,"move",n,((n,s)=>{if(n)return r(n);const{srcStat:c,isChangingCase:d=!1}=s;u.checkParentPaths(e,c,t,"move",(n=>n?r(n):function(e){const t=i.dirname(e);return i.parse(t).root===t}(t)?l(e,t,o,d,r):void a(i.dirname(t),(n=>n?r(n):l(e,t,o,d,r)))))}))}},54670:(e,t,n)=>{"use strict";const r=n(93451).fromCallback,i=n(20077),o=n(71017),s=n(11381),a=n(99257).pathExists;e.exports={outputFile:r((function(e,t,n,r){"function"==typeof n&&(r=n,n="utf8");const c=o.dirname(e);a(c,((o,a)=>o?r(o):a?i.writeFile(e,t,n,r):void s.mkdirs(c,(o=>{if(o)return r(o);i.writeFile(e,t,n,r)}))))})),outputFileSync:function(e,...t){const n=o.dirname(e);if(i.existsSync(n))return i.writeFileSync(e,...t);s.mkdirsSync(n),i.writeFileSync(e,...t)}}},99257:(e,t,n)=>{"use strict";const r=n(93451).fromPromise,i=n(67749);e.exports={pathExists:r((function(e){return i.access(e).then((()=>!0)).catch((()=>!1))})),pathExistsSync:i.existsSync}},54542:(e,t,n)=>{"use strict";const r=n(20077),i=n(93451).fromCallback,o=n(33456);e.exports={remove:i((function(e,t){if(r.rm)return r.rm(e,{recursive:!0,force:!0},t);o(e,t)})),removeSync:function(e){if(r.rmSync)return r.rmSync(e,{recursive:!0,force:!0});o.sync(e)}}},33456:(e,t,n)=>{"use strict";const r=n(20077),i=n(71017),o=n(39491),s="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((t=>{e[t]=e[t]||r[t],e[t+="Sync"]=e[t]||r[t]})),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,n){let r=0;"function"==typeof t&&(n=t,t={}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o.strictEqual(typeof n,"function","rimraf: callback function required"),o(t,"rimraf: invalid options argument provided"),o.strictEqual(typeof t,"object","rimraf: options should be object"),a(t),u(e,t,(function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<t.maxBusyTries)return r++,setTimeout((()=>u(e,t,i)),100*r);"ENOENT"===o.code&&(o=null)}n(o)}))}function u(e,t,n){o(e),o(t),o("function"==typeof n),t.lstat(e,((r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&s?l(e,t,r,n):i&&i.isDirectory()?p(e,t,r,n):void t.unlink(e,(r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return s?l(e,t,r,n):p(e,t,r,n);if("EISDIR"===r.code)return p(e,t,r,n)}return n(r)}))))}function l(e,t,n,r){o(e),o(t),o("function"==typeof r),t.chmod(e,438,(i=>{i?r("ENOENT"===i.code?null:n):t.stat(e,((i,o)=>{i?r("ENOENT"===i.code?null:n):o.isDirectory()?p(e,t,n,r):t.unlink(e,r)}))}))}function d(e,t,n){let r;o(e),o(t);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw n}try{r=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}r.isDirectory()?f(e,t,n):t.unlinkSync(e)}function p(e,t,n,r){o(e),o(t),o("function"==typeof r),t.rmdir(e,(s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?r(n):r(s):function(e,t,n){o(e),o(t),o("function"==typeof n),t.readdir(e,((r,o)=>{if(r)return n(r);let s,a=o.length;if(0===a)return t.rmdir(e,n);o.forEach((r=>{c(i.join(e,r),t,(r=>{if(!s)return r?n(s=r):void(0==--a&&t.rmdir(e,n))}))}))}))}(e,t,r)}))}function h(e,t){let n;a(t=t||{}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o(t,"rimraf: missing options"),o.strictEqual(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&s&&d(e,t,n)}try{n&&n.isDirectory()?f(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return s?d(e,t,n):f(e,t,n);if("EISDIR"!==n.code)throw n;f(e,t,n)}}function f(e,t,n){o(e),o(t);try{t.rmdirSync(e)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(e,t){if(o(e),o(t),t.readdirSync(e).forEach((n=>h(i.join(e,n),t))),!s)return t.rmdirSync(e,t);{const n=Date.now();do{try{return t.rmdirSync(e,t)}catch{}}while(Date.now()-n<500)}}(e,t);else if("ENOENT"!==r.code)throw r}}e.exports=c,c.sync=h},42733:(e,t,n)=>{"use strict";const r=n(67749),i=n(71017),o=n(73837);function s(e,t,n){const i=n.dereference?e=>r.stat(e,{bigint:!0}):e=>r.lstat(e,{bigint:!0});return Promise.all([i(e),i(t).catch((e=>{if("ENOENT"===e.code)return null;throw e}))]).then((([e,t])=>({srcStat:e,destStat:t})))}function a(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function c(e,t){const n=i.resolve(e).split(i.sep).filter((e=>e)),r=i.resolve(t).split(i.sep).filter((e=>e));return n.reduce(((e,t,n)=>e&&r[n]===t),!0)}function u(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:function(e,t,n,r,l){o.callbackify(s)(e,t,r,((r,o)=>{if(r)return l(r);const{srcStat:s,destStat:d}=o;if(d){if(a(s,d)){const r=i.basename(e),o=i.basename(t);return"move"===n&&r!==o&&r.toLowerCase()===o.toLowerCase()?l(null,{srcStat:s,destStat:d,isChangingCase:!0}):l(new Error("Source and destination must not be the same."))}if(s.isDirectory()&&!d.isDirectory())return l(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!s.isDirectory()&&d.isDirectory())return l(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return s.isDirectory()&&c(e,t)?l(new Error(u(e,t,n))):l(null,{srcStat:s,destStat:d})}))},checkPathsSync:function(e,t,n,o){const{srcStat:s,destStat:l}=function(e,t,n){let i;const o=n.dereference?e=>r.statSync(e,{bigint:!0}):e=>r.lstatSync(e,{bigint:!0}),s=o(e);try{i=o(t)}catch(e){if("ENOENT"===e.code)return{srcStat:s,destStat:null};throw e}return{srcStat:s,destStat:i}}(e,t,o);if(l){if(a(s,l)){const r=i.basename(e),o=i.basename(t);if("move"===n&&r!==o&&r.toLowerCase()===o.toLowerCase())return{srcStat:s,destStat:l,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!l.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!s.isDirectory()&&l.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(s.isDirectory()&&c(e,t))throw new Error(u(e,t,n));return{srcStat:s,destStat:l}},checkParentPaths:function e(t,n,o,s,c){const l=i.resolve(i.dirname(t)),d=i.resolve(i.dirname(o));if(d===l||d===i.parse(d).root)return c();r.stat(d,{bigint:!0},((r,i)=>r?"ENOENT"===r.code?c():c(r):a(n,i)?c(new Error(u(t,o,s))):e(t,n,d,s,c)))},checkParentPathsSync:function e(t,n,o,s){const c=i.resolve(i.dirname(t)),l=i.resolve(i.dirname(o));if(l===c||l===i.parse(l).root)return;let d;try{d=r.statSync(l,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(a(n,d))throw new Error(u(t,o,s));return e(t,n,l,s)},isSrcSubdir:c,areIdentical:a}},80318:(e,t,n)=>{"use strict";const r=n(20077);e.exports={utimesMillis:function(e,t,n,i){r.open(e,"r+",((e,o)=>{if(e)return i(e);r.futimes(o,t,n,(e=>{r.close(o,(t=>{i&&i(e||t)}))}))}))},utimesMillisSync:function(e,t,n){const i=r.openSync(e,"r+");return r.futimesSync(i,t,n),r.closeSync(i)}}},80771:(e,t,n)=>{let r;try{r=n(20077)}catch(e){r=n(57147)}const i=n(93451),{stringify:o,stripBom:s}=n(4611),a={readFile:i.fromPromise((async function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||r,o=!("throws"in t)||t.throws;let a,c=await i.fromCallback(n.readFile)(e,t);c=s(c);try{a=JSON.parse(c,t?t.reviver:null)}catch(t){if(o)throw t.message=`${e}: ${t.message}`,t;return null}return a})),readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||r,i=!("throws"in t)||t.throws;try{let r=n.readFileSync(e,t);return r=s(r),JSON.parse(r,t.reviver)}catch(t){if(i)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:i.fromPromise((async function(e,t,n={}){const s=n.fs||r,a=o(t,n);await i.fromCallback(s.writeFile)(e,a,n)})),writeFileSync:function(e,t,n={}){const i=n.fs||r,s=o(t,n);return i.writeFileSync(e,s,n)}};e.exports=a},4611:e=>{e.exports={stringify:function(e,{EOL:t="\n",finalEOL:n=!0,replacer:r=null,spaces:i}={}){const o=n?t:"";return JSON.stringify(e,r,i).replace(/\n/g,t)+o},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}}},93451:(e,t)=>{"use strict";t.fromCallback=function(e){return Object.defineProperty((function(...t){if("function"!=typeof t[t.length-1])return new Promise(((n,r)=>{e.call(this,...t,((e,t)=>null!=e?r(e):n(t)))}));e.apply(this,t)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(...t){const n=t[t.length-1];if("function"!=typeof n)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then((e=>n(null,e)),n)}),"name",{value:e.name})}},37334:(e,t,n)=>{e.exports=l,l.realpath=l,l.sync=d,l.realpathSync=d,l.monkeypatch=function(){r.realpath=l,r.realpathSync=d},l.unmonkeypatch=function(){r.realpath=i,r.realpathSync=o};var r=n(57147),i=r.realpath,o=r.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=n(47059);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function l(e,t,n){if(a)return i(e,t,n);"function"==typeof t&&(n=t,t=null),i(e,t,(function(r,i){u(r)?c.realpath(e,t,n):n(r,i)}))}function d(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},47059:(e,t,n)=>{var r=n(71017),i="win32"===process.platform,o=n(57147),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);if(r.normalize,i)var a=/(.*?)(?:[\/\\]+|$)/g;else a=/(.*?)(?:[\/]+|$)/g;if(i)var c=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else c=/^[\/]*/;t.realpathSync=function(e,t){if(e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n,s,u,l,d=e,p={},h={};function f(){var t=c.exec(e);n=t[0].length,s=t[0],u=t[0],l="",i&&!h[u]&&(o.lstatSync(u),h[u]=!0)}for(f();n<e.length;){a.lastIndex=n;var g=a.exec(e);if(l=s,s+=g[0],u=l+g[1],n=a.lastIndex,!(h[u]||t&&t[u]===u)){var m;if(t&&Object.prototype.hasOwnProperty.call(t,u))m=t[u];else{var v=o.lstatSync(u);if(!v.isSymbolicLink()){h[u]=!0,t&&(t[u]=u);continue}var y=null;if(!i){var b=v.dev.toString(32)+":"+v.ino.toString(32);p.hasOwnProperty(b)&&(y=p[b])}null===y&&(o.statSync(u),y=o.readlinkSync(u)),m=r.resolve(l,y),t&&(t[u]=m),i||(p[b]=y)}e=r.resolve(m,e.slice(n)),f()}}return t&&(t[d]=e),e},t.realpath=function(e,t,n){if("function"!=typeof n&&(n=function(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,n(e=t))}}else e=n;return e;function n(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}(t),t=null),e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var u,l,d,p,h=e,f={},g={};function m(){var t=c.exec(e);u=t[0].length,l=t[0],d=t[0],p="",i&&!g[d]?o.lstat(d,(function(e){if(e)return n(e);g[d]=!0,v()})):process.nextTick(v)}function v(){if(u>=e.length)return t&&(t[h]=e),n(null,e);a.lastIndex=u;var r=a.exec(e);return p=l,l+=r[0],d=p+r[1],u=a.lastIndex,g[d]||t&&t[d]===d?process.nextTick(v):t&&Object.prototype.hasOwnProperty.call(t,d)?S(t[d]):o.lstat(d,y)}function y(e,r){if(e)return n(e);if(!r.isSymbolicLink())return g[d]=!0,t&&(t[d]=d),process.nextTick(v);if(!i){var s=r.dev.toString(32)+":"+r.ino.toString(32);if(f.hasOwnProperty(s))return b(null,f[s],d)}o.stat(d,(function(e){if(e)return n(e);o.readlink(d,(function(e,t){i||(f[s]=t),b(e,t)}))}))}function b(e,i,o){if(e)return n(e);var s=r.resolve(p,i);t&&(t[o]=s),S(s)}function S(t){e=r.resolve(t,e.slice(u)),m()}m()}},66772:(e,t,n)=>{function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.setopts=function(e,t,n){if(n||(n={}),n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0),e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.fs=n.fs||i,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var s=process.cwd();r(n,"cwd")?(e.cwd=o.resolve(n.cwd),e.changedCwd=e.cwd!==s):e.cwd=s,e.root=n.root||o.resolve(e.cwd,"/"),e.root=o.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=a(e.cwd)?e.cwd:d(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new c(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=d,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,i=e.matches.length;r<i;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);t?n.push.apply(n,s):s.forEach((function(e){n[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}if(t||(n=Object.keys(n)),e.nosort||(n=n.sort(u)),e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter((function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[d(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n})))}e.ignore.length&&(n=n.filter((function(t){return!p(e,t)}))),e.found=n},t.mark=function(e,t){var n=d(e,t),r=e.cache[n],i=t;if(r){var o="DIR"===r||Array.isArray(r),s="/"===t.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=d(e,i);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return i},t.isIgnored=p,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var i=n(57147),o=n(71017),s=n(6522),a=n(64095),c=s.Minimatch;function u(e,t){return e.localeCompare(t,"en")}function l(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new c(n,{dot:!0})}return{matcher:new c(e,{dot:!0}),gmatcher:t}}function d(e,t){var n=t;return n="/"===t.charAt(0)?o.join(e.root,t):a(t)||""===t?t:e.changedCwd?o.resolve(e.cwd,t):o.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function p(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},12884:(e,t,n)=>{e.exports=y;var r=n(37334),i=n(6522),o=(i.Minimatch,n(94378)),s=n(82361).EventEmitter,a=n(71017),c=n(39491),u=n(64095),l=n(14751),d=n(66772),p=d.setopts,h=d.ownProp,f=n(67844),g=(n(73837),d.childrenIgnored),m=d.isIgnored,v=n(30778);function y(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return l(e,t)}return new S(e,t,n)}y.sync=l;var b=y.GlobSync=l.GlobSync;function S(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new b(e,t)}if(!(this instanceof S))return new S(e,t,n);p(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=v(n),this.on("error",n),this.on("end",(function(e){n(null,e)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return s();for(var o=0;o<r;o++)this._process(this.minimatch.set[o],o,!1,s);function s(){--i._processing,i._processing<=0&&i._finish()}}y.glob=y,y.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new S(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},y.Glob=S,o(S,s),S.prototype._finish=function(){if(c(this instanceof S),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();d.finish(this),this.emit("end",this.found)}},S.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},S.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var i=Object.keys(n),o=this,s=i.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);i.forEach((function(n,i){n=o._makeAbs(n),r.realpath(n,o.realpathCache,(function(r,i){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[i]=!0,0==--s&&(o.matches[e]=a,t())}))}))},S.prototype._mark=function(e){return d.mark(this,e)},S.prototype._makeAbs=function(e){return d.makeAbs(this,e)},S.prototype.abort=function(){this.aborted=!0,this.emit("abort")},S.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},S.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);for(this._processQueue.length=0,t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},S.prototype._process=function(e,t,n,r){if(c(this instanceof S),c("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var o,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:o=null;break;default:o=e.slice(0,s).join("/")}var a,l=e.slice(s);null===o?a=".":u(o)||u(e.join("/"))?(o&&u(o)||(o="/"+o),a=o):a=o;var d=this._makeAbs(a);if(g(this,a))return r();l[0]===i.GLOBSTAR?this._processGlobStar(o,a,d,l,t,n,r):this._processReaddir(o,a,d,l,t,n,r)}},S.prototype._processReaddir=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,u){return a._processReaddir2(e,t,n,r,i,o,u,s)}))},S.prototype._processReaddir2=function(e,t,n,r,i,o,s,c){if(!s)return c();for(var u=r[0],l=!!this.minimatch.negate,d=u._glob,p=this.dot||"."===d.charAt(0),h=[],f=0;f<s.length;f++)("."!==(m=s[f]).charAt(0)||p)&&(l&&!e?!m.match(u):m.match(u))&&h.push(m);var g=h.length;if(0===g)return c();if(1===r.length&&!this.mark&&!this.stat){for(this.matches[i]||(this.matches[i]=Object.create(null)),f=0;f<g;f++){var m=h[f];e&&(m="/"!==e?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=a.join(this.root,m)),this._emitMatch(i,m)}return c()}for(r.shift(),f=0;f<g;f++)m=h[f],e&&(m="/"!==e?e+"/"+m:e+m),this._process([m].concat(r),i,o,c);c()},S.prototype._emitMatch=function(e,t){if(!this.aborted&&!m(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=u(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}}},S.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,r=f("lstat\0"+e,(function(r,i){if(r&&"ENOENT"===r.code)return t();var o=i&&i.isSymbolicLink();n.symlinks[e]=o,o||!i||i.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())}));r&&n.fs.lstat(e,r)}},S.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=f("readdir\0"+e+"\0"+t,n))){if(t&&!h(this.symlinks,e))return this._readdirInGlobStar(e,n);if(h(this.cache,e)){var r=this.cache[e];if(!r||"FILE"===r)return n();if(Array.isArray(r))return n(null,r)}this.fs.readdir(e,function(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}(this,e,n))}},S.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}},S.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},S.prototype._processGlobStar=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,u){a._processGlobStar2(e,t,n,r,i,o,u,s)}))},S.prototype._processGlobStar2=function(e,t,n,r,i,o,s,a){if(!s)return a();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,i,!1,a);var d=this.symlinks[n],p=s.length;if(d&&o)return a();for(var h=0;h<p;h++)if("."!==s[h].charAt(0)||this.dot){var f=u.concat(s[h],c);this._process(f,i,!0,a);var g=u.concat(s[h],r);this._process(g,i,!0,a)}a()},S.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,(function(i,o){r._processSimple2(e,t,i,o,n)}))},S.prototype._processSimple2=function(e,t,n,r,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return i();if(e&&u(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=a.join(this.root,e):(e=a.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},S.prototype._stat=function(e,t){var n=this._makeAbs(e),r="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&h(this.cache,n)){var i=this.cache[n];if(Array.isArray(i)&&(i="DIR"),!r||"DIR"===i)return t(null,i);if(r&&"FILE"===i)return t()}var o=this.statCache[n];if(void 0!==o){if(!1===o)return t(null,o);var s=o.isDirectory()?"DIR":"FILE";return r&&"FILE"===s?t():t(null,s,o)}var a=this,c=f("stat\0"+n,(function(r,i){if(i&&i.isSymbolicLink())return a.fs.stat(n,(function(r,o){r?a._stat2(e,n,null,i,t):a._stat2(e,n,r,o,t)}));a._stat2(e,n,r,i,t)}));c&&a.fs.lstat(n,c)},S.prototype._stat2=function(e,t,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var s=!0;return r&&(s=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&"FILE"===s?i():i(null,s,r)}},6522:(e,t,n)=>{e.exports=p,p.Minimatch=h;var r=function(){try{return n(71017)}catch(e){}}()||{sep:"/"};p.sep=r.sep;var i=p.GLOBSTAR=h.GLOBSTAR={},o=n(3644),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c="[^/]*?",u="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),l=/\/+/;function d(e,t){t=t||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function p(e,t,n){return g(t),n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&new h(t,n).match(e)}function h(e,t){if(!(this instanceof h))return new h(e,t);g(e),t||(t={}),e=e.trim(),t.allowWindowsEscape||"/"===r.sep||(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function f(e,t){return t||(t=this instanceof h?this.options:{}),e=void 0===e?this.pattern:e,g(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:o(e)}p.filter=function(e,t){return t=t||{},function(n,r,i){return p(n,e,t)}},p.defaults=function(e){if(!e||"object"!=typeof e||!Object.keys(e).length)return p;var t=p,n=function(n,r,i){return t(n,r,d(e,i))};return(n.Minimatch=function(n,r){return new t.Minimatch(n,d(e,r))}).defaults=function(n){return t.defaults(d(e,n)).Minimatch},n.filter=function(n,r){return t.filter(n,d(e,r))},n.defaults=function(n){return t.defaults(d(e,n))},n.makeRe=function(n,r){return t.makeRe(n,d(e,r))},n.braceExpand=function(n,r){return t.braceExpand(n,d(e,r))},n.match=function(n,r,i){return t.match(n,r,d(e,i))},n},h.defaults=function(e){return p.defaults(e).Minimatch},h.prototype.debug=function(){},h.prototype.make=function(){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(l)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n}else this.empty=!0;else this.comment=!0},h.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=0;if(!this.options.nonegate){for(var r=0,i=e.length;r<i&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}},p.braceExpand=function(e,t){return f(e,t)},h.prototype.braceExpand=f;var g=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};h.prototype.parse=function(e,t){g(e);var n=this.options;if("**"===e){if(!n.noglobstar)return i;e="*"}if(""===e)return"";var r,o="",l=!!n.nocase,d=!1,p=[],h=[],f=!1,v=-1,y=-1,b="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",S=this;function _(){if(r){switch(r){case"*":o+=c,l=!0;break;case"?":o+=a,l=!0;break;default:o+="\\"+r}S.debug("clearStateChar %j %j",r,o),r=!1}}for(var E,w=0,P=e.length;w<P&&(E=e.charAt(w));w++)if(this.debug("%s\t%s %s %j",e,w,o,E),d&&u[E])o+="\\"+E,d=!1;else switch(E){case"/":return!1;case"\\":_(),d=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,w,o,E),f){this.debug("  in class"),"!"===E&&w===y+1&&(E="^"),o+=E;continue}S.debug("call clearStateChar %j",r),_(),r=E,n.noext&&_();continue;case"(":if(f){o+="(";continue}if(!r){o+="\\(";continue}p.push({type:r,start:w-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(f||!p.length){o+="\\)";continue}_(),l=!0;var T=p.pop();o+=T.close,"!"===T.type&&h.push(T),T.reEnd=o.length;continue;case"|":if(f||!p.length||d){o+="\\|",d=!1;continue}_(),o+="|";continue;case"[":if(_(),f){o+="\\"+E;continue}f=!0,y=w,v=o.length,o+=E;continue;case"]":if(w===y+1||!f){o+="\\"+E,d=!1;continue}var C=e.substring(y+1,w);try{RegExp("["+C+"]")}catch(e){var I=this.parse(C,m);o=o.substr(0,v)+"\\["+I[0]+"\\]",l=l||I[1],f=!1;continue}l=!0,f=!1,o+=E;continue;default:_(),d?d=!1:!u[E]||"^"===E&&f||(o+="\\"),o+=E}for(f&&(C=e.substr(y+1),I=this.parse(C,m),o=o.substr(0,v)+"\\["+I[0],l=l||I[1]),T=p.pop();T;T=p.pop()){var R=o.slice(T.reStart+T.open.length);this.debug("setting tail",o,T),R=R.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",R,R,T,o);var D="*"===T.type?c:"?"===T.type?a:"\\"+T.type;l=!0,o=o.slice(0,T.reStart)+D+"\\("+R}_(),d&&(o+="\\\\");var O=!1;switch(o.charAt(0)){case"[":case".":case"(":O=!0}for(var k=h.length-1;k>-1;k--){var x=h[k],N=o.slice(0,x.reStart),A=o.slice(x.reStart,x.reEnd-8),j=o.slice(x.reEnd-8,x.reEnd),M=o.slice(x.reEnd);j+=M;var L=N.split("(").length-1,F=M;for(w=0;w<L;w++)F=F.replace(/\)[+*?]?/,"");var q="";""===(M=F)&&t!==m&&(q="$"),o=N+A+M+q+j}if(""!==o&&l&&(o="(?=.)"+o),O&&(o=b+o),t===m)return[o,l];if(!l)return e.replace(/\\(.)/g,"$1");var U=n.nocase?"i":"";try{var W=new RegExp("^"+o+"$",U)}catch(e){return new RegExp("$.")}return W._glob=e,W._src=o,W};var m={};p.makeRe=function(e,t){return new h(e,t||{}).makeRe()},h.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===i?n:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},p.match=function(e,t,n){var r=new h(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},h.prototype.match=function(e,t){if(void 0===t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/")),e=e.split(l),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],c=e;if(n.matchBase&&1===a.length&&(c=[i]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},h.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var u,l=t[s],d=e[o];if(this.debug(t,l,d),!1===l)return!1;if(l===i){this.debug("GLOBSTAR",[t,l,d]);var p=o,h=s+1;if(h===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug("\nglobstar while",e,p,t,h,f),this.matchOne(e.slice(p),t.slice(h),n))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,t,h);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",e,p,t,h),p!==a))}if("string"==typeof l?(u=d===l,this.debug("string match",l,d,u)):(u=d.match(l),this.debug("pattern match",l,d,u)),!u)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},14751:(e,t,n)=>{e.exports=h,h.GlobSync=f;var r=n(37334),i=n(6522),o=(i.Minimatch,n(12884).Glob,n(73837),n(71017)),s=n(39491),a=n(64095),c=n(66772),u=c.setopts,l=c.ownProp,d=c.childrenIgnored,p=c.isIgnored;function h(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new f(e,t).found}function f(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof f))return new f(e,t);if(u(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}f.prototype._finish=function(){if(s(this instanceof f),this.realpath){var e=this;this.matches.forEach((function(t,n){var i=e.matches[n]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),i[r.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;i[e._makeAbs(o)]=!0}}))}c.finish(this)},f.prototype._process=function(e,t,n){s(this instanceof f);for(var r,o=0;"string"==typeof e[o];)o++;switch(o){case e.length:return void this._processSimple(e.join("/"),t);case 0:r=null;break;default:r=e.slice(0,o).join("/")}var c,u=e.slice(o);null===r?c=".":a(r)||a(e.join("/"))?(r&&a(r)||(r="/"+r),c=r):c=r;var l=this._makeAbs(c);d(this,c)||(u[0]===i.GLOBSTAR?this._processGlobStar(r,c,l,u,t,n):this._processReaddir(r,c,l,u,t,n))},f.prototype._processReaddir=function(e,t,n,r,i,s){var a=this._readdir(n,s);if(a){for(var c=r[0],u=!!this.minimatch.negate,l=c._glob,d=this.dot||"."===l.charAt(0),p=[],h=0;h<a.length;h++)("."!==(m=a[h]).charAt(0)||d)&&(u&&!e?!m.match(c):m.match(c))&&p.push(m);var f=p.length;if(0!==f)if(1!==r.length||this.mark||this.stat)for(r.shift(),h=0;h<f;h++){var g;m=p[h],g=e?[e,m]:[m],this._process(g.concat(r),i,s)}else{this.matches[i]||(this.matches[i]=Object.create(null));for(h=0;h<f;h++){var m=p[h];e&&(m="/"!==e.slice(-1)?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=o.join(this.root,m)),this._emitMatch(i,m)}}}},f.prototype._emitMatch=function(e,t){if(!p(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},f.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=this.fs.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var r=n&&n.isSymbolicLink();return this.symlinks[e]=r,r||!n||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},f.prototype._readdir=function(e,t){if(t&&!l(this.symlinks,e))return this._readdirInGlobStar(e);if(l(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},f.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t},f.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},f.prototype._processGlobStar=function(e,t,n,r,i,o){var s=this._readdir(n,o);if(s){var a=r.slice(1),c=e?[e]:[],u=c.concat(a);this._process(u,i,!1);var l=s.length;if(!this.symlinks[n]||!o)for(var d=0;d<l;d++)if("."!==s[d].charAt(0)||this.dot){var p=c.concat(s[d],a);this._process(p,i,!0);var h=c.concat(s[d],r);this._process(h,i,!0)}}},f.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),n){if(e&&a(e)&&!this.nomount){var r=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=o.join(this.root,e):(e=o.resolve(this.root,e),r&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},f.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&l(this.cache,t)){var r=this.cache[t];if(Array.isArray(r)&&(r="DIR"),!n||"DIR"===r)return r;if(n&&"FILE"===r)return!1}var i=this.statCache[t];if(!i){var o;try{o=this.fs.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(t)}catch(e){i=o}else i=o}return this.statCache[t]=i,r=!0,i&&(r=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||r,(!n||"FILE"!==r)&&r},f.prototype._mark=function(e){return c.mark(this,e)},f.prototype._makeAbs=function(e){return c.makeAbs(this,e)}},66458:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var n={__proto__:t(e)};else n=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})),n};var t=Object.getPrototypeOf||function(e){return e.__proto__}},20077:(e,t,n)=>{var r,i,o=n(57147),s=n(72161),a=n(78520),c=n(66458),u=n(73837);function l(e,t){Object.defineProperty(e,r,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",i="___graceful-fs.previous");var d,p=function(){};if(u.debuglog?p=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(p=function(){var e=u.format.apply(u,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!o[r]){var h=global[r]||[];l(o,h),o.close=function(e){function t(t,n){return e.call(o,t,(function(e){e||m(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(t,i,{value:e}),t}(o.close),o.closeSync=function(e){function t(t){e.apply(o,arguments),m()}return Object.defineProperty(t,i,{value:e}),t}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){p(o[r]),n(39491).equal(o[r].length,0)}))}function f(e){s(e),e.gracefulify=f,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var t=e.readFile;e.readFile=function(e,n,r){return"function"==typeof n&&(r=n,n=null),function e(n,r,i,o){return t(n,r,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof i&&i.apply(this,arguments):g([e,[n,r,i],t,o||Date.now(),Date.now()])}))}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,i){return"function"==typeof r&&(i=r,r=null),function e(t,r,i,o,s){return n(t,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof o&&o.apply(this,arguments):g([e,[t,r,i,o],n,s||Date.now(),Date.now()])}))}(e,t,r,i)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,o,s){return r(t,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof o&&o.apply(this,arguments):g([e,[t,n,i,o],r,s||Date.now(),Date.now()])}))}(e,t,n,i)});var i=e.copyFile;i&&(e.copyFile=function(e,t,n,r){return"function"==typeof n&&(r=n,n=0),function e(t,n,r,o,s){return i(t,n,r,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof o&&o.apply(this,arguments):g([e,[t,n,r,o],i,s||Date.now(),Date.now()])}))}(e,t,n,r)});var o=e.readdir;if(e.readdir=function(e,t,n){return"function"==typeof t&&(n=t,t=null),function e(t,n,r,i){return o(t,n,(function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?(s&&s.sort&&s.sort(),"function"==typeof r&&r.call(this,o,s)):g([e,[t,n,r],o,i||Date.now(),Date.now()])}))}(e,t,n)},"v0.8"===process.version.substr(0,4)){var c=a(e);h=c.ReadStream,m=c.WriteStream}var u=e.ReadStream;u&&(h.prototype=Object.create(u.prototype),h.prototype.open=function(){var e=this;y(e.path,e.flags,e.mode,(function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())}))});var l=e.WriteStream;l&&(m.prototype=Object.create(l.prototype),m.prototype.open=function(){var e=this;y(e.path,e.flags,e.mode,(function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0});var d=h;Object.defineProperty(e,"FileReadStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0});var p=m;function h(e,t){return this instanceof h?(u.apply(this,arguments),this):h.apply(Object.create(h.prototype),arguments)}function m(e,t){return this instanceof m?(l.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0});var v=e.open;function y(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i,o){return v(t,n,r,(function(s,a){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?"function"==typeof i&&i.apply(this,arguments):g([e,[t,n,r,i],s,o||Date.now(),Date.now()])}))}(e,t,n,r)}return e.open=y,e}function g(e){p("ENQUEUE",e[0].name,e[1]),o[r].push(e),v()}function m(){for(var e=Date.now(),t=0;t<o[r].length;++t)o[r][t].length>2&&(o[r][t][3]=e,o[r][t][4]=e);v()}function v(){if(clearTimeout(d),d=void 0,0!==o[r].length){var e=o[r].shift(),t=e[0],n=e[1],i=e[2],s=e[3],a=e[4];if(void 0===s)p("RETRY",t.name,n),t.apply(null,n);else if(Date.now()-s>=6e4){p("TIMEOUT",t.name,n);var c=n.pop();"function"==typeof c&&c.call(null,i)}else{var u=Date.now()-a,l=Math.max(a-s,1);u>=Math.min(1.2*l,100)?(p("RETRY",t.name,n),t.apply(null,n.concat([s]))):o[r].push(e)}void 0===d&&(d=setTimeout(v,0))}}global[r]||l(global,o[r]),e.exports=f(c(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(e.exports=f(o),o.__patched=!0)},78520:(e,t,n)=>{var r=n(12781).Stream;e.exports=function(e){return{ReadStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=i[u]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()})):process.nextTick((function(){o._read()}))},WriteStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},72161:(e,t,n)=>{var r=n(22057),i=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(e){o=null,a.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}e.exports=function(e){var t,n;function i(t){return t?function(n,r,i){return t.call(e,n,r,(function(e){d(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function o(t){return t?function(n,r){try{return t.call(e,n,r)}catch(e){if(!d(e))throw e}}:t}function a(t){return t?function(n,r,i,o){return t.call(e,n,r,i,(function(e){d(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function c(t){return t?function(n,r,i){try{return t.call(e,n,r,i)}catch(e){if(!d(e))throw e}}:t}function u(t){return t?function(n,r,i){function o(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?t.call(e,n,r,o):t.call(e,n,o)}:t}function l(t){return t?function(n,r){var i=r?t.call(e,n,r):t.call(e,n);return i&&(i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296)),i}:t}function d(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,i){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,(function(t,r){t?i&&i(t):e.fchmod(r,n,(function(t){e.close(r,(function(e){i&&i(t||e)}))}))}))},e.lchmodSync=function(t,n){var i,o=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n),s=!0;try{i=e.fchmodSync(o,n),s=!1}finally{if(s)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return i}}(e),e.lutimes||function(e){r.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,i,o){e.open(t,r.O_SYMLINK,(function(t,r){t?o&&o(t):e.futimes(r,n,i,(function(t){e.close(r,(function(e){o&&o(t||e)}))}))}))},e.lutimesSync=function(t,n,i){var o,s=e.openSync(t,r.O_SYMLINK),a=!0;try{o=e.futimesSync(s,n,i),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return o}):(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e),e.chown=a(e.chown),e.fchown=a(e.fchown),e.lchown=a(e.lchown),e.chmod=i(e.chmod),e.fchmod=i(e.fchmod),e.lchmod=i(e.lchmod),e.chownSync=c(e.chownSync),e.fchownSync=c(e.fchownSync),e.lchownSync=c(e.lchownSync),e.chmodSync=o(e.chmodSync),e.fchmodSync=o(e.fchmodSync),e.lchmodSync=o(e.lchmodSync),e.stat=u(e.stat),e.fstat=u(e.fstat),e.lstat=u(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){}),"win32"===s&&(e.rename=(t=e.rename,function(n,r,i){var o=Date.now(),s=0;t(n,r,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-o<6e4)return setTimeout((function(){e.stat(r,(function(e,o){e&&"ENOENT"===e.code?t(n,r,a):i(c)}))}),s),void(s<100&&(s+=10));i&&i(c)}))})),e.read=function(t){function n(n,r,i,o,s,a){var c;if(a&&"function"==typeof a){var u=0;c=function(l,d,p){if(l&&"EAGAIN"===l.code&&u<10)return u++,t.call(e,n,r,i,o,s,c);a.apply(this,arguments)}}return t.call(e,n,r,i,o,s,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.read),e.readSync=(n=e.readSync,function(t,r,i,o,s){for(var a=0;;)try{return n.call(e,t,r,i,o,s)}catch(e){if("EAGAIN"===e.code&&a<10){a++;continue}throw e}})}},33715:(e,t,n)=>{var r=t;r.utils=n(26436),r.common=n(95772),r.sha=n(89041),r.ripemd=n(12949),r.hmac=n(52344),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},95772:(e,t,n)=>{"use strict";var r=n(26436),i=n(79746);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},52344:(e,t,n)=>{"use strict";var r=n(26436),i=n(79746);function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},12949:(e,t,n)=>{"use strict";var r=n(26436),i=n(95772),o=r.rotl32,s=r.sum32,a=r.sum32_3,c=r.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function p(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(l,u),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],u=this.h[3],l=this.h[4],y=n,b=r,S=i,_=u,E=l,w=0;w<80;w++){var P=s(o(c(n,d(w,r,i,u),e[f[w]+t],p(w)),m[w]),l);n=l,l=u,u=o(i,10),i=r,r=P,P=s(o(c(y,d(79-w,b,S,_),e[g[w]+t],h(w)),v[w]),E),y=E,E=_,_=o(S,10),S=b,b=P}P=a(this.h[1],i,_),this.h[1]=a(this.h[2],u,E),this.h[2]=a(this.h[3],l,y),this.h[3]=a(this.h[4],n,b),this.h[4]=a(this.h[0],r,S),this.h[0]=P},l.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},89041:(e,t,n)=>{"use strict";t.sha1=n(84761),t.sha224=n(10799),t.sha256=n(89344),t.sha384=n(80772),t.sha512=n(45900)},84761:(e,t,n)=>{"use strict";var r=n(26436),i=n(95772),o=n(37038),s=r.rotl32,a=r.sum32,c=r.sum32_5,u=o.ft_1,l=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function p(){if(!(this instanceof p))return new p;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(p,l),e.exports=p,p.blockSize=512,p.outSize=160,p.hmacStrength=80,p.padLength=64,p.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=s(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],p=this.h[3],h=this.h[4];for(r=0;r<n.length;r++){var f=~~(r/20),g=c(s(i,5),u(f,o,l,p),h,n[r],d[f]);h=p,p=l,l=s(o,30),o=i,i=g}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],l),this.h[3]=a(this.h[3],p),this.h[4]=a(this.h[4],h)},p.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},10799:(e,t,n)=>{"use strict";var r=n(26436),i=n(89344);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},89344:(e,t,n)=>{"use strict";var r=n(26436),i=n(95772),o=n(37038),s=n(79746),a=r.sum32,c=r.sum32_4,u=r.sum32_5,l=o.ch32,d=o.maj32,p=o.s0_256,h=o.s1_256,f=o.g0_256,g=o.g1_256,m=i.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}r.inherits(y,m),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=c(g(n[r-2]),n[r-7],f(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],m=this.h[2],v=this.h[3],y=this.h[4],b=this.h[5],S=this.h[6],_=this.h[7];for(s(this.k.length===n.length),r=0;r<n.length;r++){var E=u(_,h(y),l(y,b,S),this.k[r],n[r]),w=a(p(i),d(i,o,m));_=S,S=b,b=y,y=a(v,E),v=m,m=o,o=i,i=a(E,w)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],m),this.h[3]=a(this.h[3],v),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],S),this.h[7]=a(this.h[7],_)},y.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},80772:(e,t,n)=>{"use strict";var r=n(26436),i=n(45900);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},45900:(e,t,n)=>{"use strict";var r=n(26436),i=n(95772),o=n(79746),s=r.rotr64_hi,a=r.rotr64_lo,c=r.shr64_hi,u=r.shr64_lo,l=r.sum64,d=r.sum64_hi,p=r.sum64_lo,h=r.sum64_4_hi,f=r.sum64_4_lo,g=r.sum64_5_hi,m=r.sum64_5_lo,v=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function S(e,t,n,r,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function _(e,t,n,r,i,o){var s=t&r^~t&o;return s<0&&(s+=4294967296),s}function E(e,t,n,r,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function w(e,t,n,r,i,o){var s=t&r^t&o^r&o;return s<0&&(s+=4294967296),s}function P(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function T(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function C(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function I(e,t){var n=s(e,t,1)^s(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function R(e,t){var n=a(e,t,1)^a(e,t,8)^u(e,t,7);return n<0&&(n+=4294967296),n}function D(e,t){var n=a(e,t,19)^a(t,e,29)^u(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(b,v),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=(m=n[r-4],v=n[r-3],y=void 0,(y=s(m,v,19)^s(v,m,29)^c(m,v,6))<0&&(y+=4294967296),y),o=D(n[r-4],n[r-3]),a=n[r-14],u=n[r-13],l=I(n[r-30],n[r-29]),d=R(n[r-30],n[r-29]),p=n[r-32],g=n[r-31];n[r]=h(i,o,a,u,l,d,p,g),n[r+1]=f(i,o,a,u,l,d,p,g)}var m,v,y},b.prototype._update=function(e,t){this._prepareBlock(e,t);var n,r,i,a=this.W,c=this.h[0],u=this.h[1],h=this.h[2],f=this.h[3],v=this.h[4],y=this.h[5],b=this.h[6],I=this.h[7],R=this.h[8],D=this.h[9],O=this.h[10],k=this.h[11],x=this.h[12],N=this.h[13],A=this.h[14],j=this.h[15];o(this.k.length===a.length);for(var M=0;M<a.length;M+=2){var L=A,F=j,q=(i=void 0,(i=s(n=R,r=D,14)^s(n,r,18)^s(r,n,9))<0&&(i+=4294967296),i),U=C(R,D),W=S(R,0,O,0,x),V=_(0,D,0,k,0,N),H=this.k[M],$=this.k[M+1],B=a[M],G=a[M+1],K=g(L,F,q,U,W,V,H,$,B,G),z=m(L,F,q,U,W,V,H,$,B,G);L=P(c,u),F=T(c,u),q=E(c,0,h,0,v),U=w(0,u,0,f,0,y);var Y=d(L,F,q,U),J=p(L,F,q,U);A=x,j=N,x=O,N=k,O=R,k=D,R=d(b,I,K,z),D=p(I,I,K,z),b=v,I=y,v=h,y=f,h=c,f=u,c=d(K,z,Y,J),u=p(K,z,Y,J)}l(this.h,0,c,u),l(this.h,2,h,f),l(this.h,4,v,y),l(this.h,6,b,I),l(this.h,8,R,D),l(this.h,10,O,k),l(this.h,12,x,N),l(this.h,14,A,j)},b.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},37038:(e,t,n)=>{"use strict";var r=n(26436).rotr32;function i(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function s(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?s(t,n,r):2===e?o(t,n,r):void 0},t.ch32=i,t.maj32=o,t.p32=s,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},26436:(e,t,n)=>{"use strict";var r=n(79746),i=n(94378);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=63&s|128):o(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=63&s|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=63&s|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=a(e[n].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=s(i)),n+=c(i.toString(16))}return n},t.zero2=a,t.zero8=c,t.join32=function(e,t,n,i){var o=n-t;r(o%4==0);for(var s=new Array(o/4),a=0,c=t;a<s.length;a++,c+=4){var u;u="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],s[a]=u>>>0}return s},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var o=e[r];"big"===t?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],o=r+e[t+1]>>>0,s=(o<r?1:0)+n+i;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,o,s,a){var c=0,u=t;return c+=(u=u+r>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+n+i+s+(c+=(u=u+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,o,s,a){return t+r+o+a>>>0},t.sum64_5_hi=function(e,t,n,r,i,o,s,a,c,u){var l=0,d=t;return l+=(d=d+r>>>0)<t?1:0,l+=(d=d+o>>>0)<o?1:0,l+=(d=d+a>>>0)<a?1:0,e+n+i+s+c+(l+=(d=d+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,o,s,a,c,u){return t+r+o+a+u>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},60688:(e,t,n)=>{"use strict";var r=n(2399).Buffer;t._dbcs=u;for(var i=-1,o=-10,s=-1e3,a=new Array(256),c=0;c<256;c++)a[c]=i;function u(e,t){if(this.encodingName=e.encodingName,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var n=e.table();this.decodeTables=[],this.decodeTables[0]=a.slice(0),this.decodeTableSeq=[];for(var r=0;r<n.length;r++)this._addDecodeChunk(n[r]);if("function"==typeof e.gb18030){this.gb18030=e.gb18030();var o=this.decodeTables.length;this.decodeTables.push(a.slice(0));var c=this.decodeTables.length;this.decodeTables.push(a.slice(0));var u=this.decodeTables[0];for(r=129;r<=254;r++)for(var l=this.decodeTables[s-u[r]],d=48;d<=57;d++){if(l[d]===i)l[d]=s-o;else if(l[d]>s)throw new Error("gb18030 decode tables conflict at byte 2");for(var p=this.decodeTables[s-l[d]],h=129;h<=254;h++){if(p[h]===i)p[h]=s-c;else{if(p[h]===s-c)continue;if(p[h]>s)throw new Error("gb18030 decode tables conflict at byte 3")}for(var f=this.decodeTables[s-p[h]],g=48;g<=57;g++)f[g]===i&&(f[g]=-2)}}}this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var m={};if(e.encodeSkipVals)for(r=0;r<e.encodeSkipVals.length;r++){var v=e.encodeSkipVals[r];if("number"==typeof v)m[v]=!0;else for(d=v.from;d<=v.to;d++)m[d]=!0}if(this._fillEncodeTable(0,0,m),e.encodeAdd)for(var y in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,y)&&this._setEncodeChar(y.charCodeAt(0),e.encodeAdd[y]);this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===i&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===i&&(this.defCharSB="?".charCodeAt(0))}function l(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function d(e,t){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function p(e,t){if(e[0]>t)return-1;for(var n=0,r=e.length;n<r-1;){var i=n+(r-n+1>>1);e[i]<=t?n=i:r=i}return n}u.prototype.encoder=l,u.prototype.decoder=d,u.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>>=8)t.push(255&e);0==t.length&&t.push(0);for(var n=this.decodeTables[0],r=t.length-1;r>0;r--){var o=n[t[r]];if(o==i)n[t[r]]=s-this.decodeTables.length,this.decodeTables.push(n=a.slice(0));else{if(!(o<=s))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16));n=this.decodeTables[s-o]}}return n},u.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),n=this._getDecodeTrieNode(t);t&=255;for(var r=1;r<e.length;r++){var i=e[r];if("string"==typeof i)for(var s=0;s<i.length;){var a=i.charCodeAt(s++);if(55296<=a&&a<56320){var c=i.charCodeAt(s++);if(!(56320<=c&&c<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0]);n[t++]=65536+1024*(a-55296)+(c-56320)}else if(4080<a&&a<=4095){for(var u=4095-a+2,l=[],d=0;d<u;d++)l.push(i.charCodeAt(s++));n[t++]=o-this.decodeTableSeq.length,this.decodeTableSeq.push(l)}else n[t++]=a}else{if("number"!=typeof i)throw new Error("Incorrect type '"+typeof i+"' given in "+this.encodingName+" at chunk "+e[0]);var p=n[t-1]+1;for(s=0;s<i;s++)n[t++]=p++}}if(t>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},u.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=a.slice(0)),this.encodeTable[t]},u.prototype._setEncodeChar=function(e,t){var n=this._getEncodeBucket(e),r=255&e;n[r]<=o?this.encodeTableSeq[o-n[r]][-1]=t:n[r]==i&&(n[r]=t)},u.prototype._setEncodeSequence=function(e,t){var n,r=e[0],s=this._getEncodeBucket(r),a=255&r;s[a]<=o?n=this.encodeTableSeq[o-s[a]]:(n={},s[a]!==i&&(n[-1]=s[a]),s[a]=o-this.encodeTableSeq.length,this.encodeTableSeq.push(n));for(var c=1;c<e.length-1;c++){var u=n[r];"object"==typeof u?n=u:(n=n[r]={},void 0!==u&&(n[-1]=u))}n[r=e[e.length-1]]=t},u.prototype._fillEncodeTable=function(e,t,n){for(var r=this.decodeTables[e],i=!1,a={},c=0;c<256;c++){var u=r[c],l=t+c;if(!n[l])if(u>=0)this._setEncodeChar(u,l),i=!0;else if(u<=s){var d=s-u;if(!a[d]){var p=l<<8>>>0;this._fillEncodeTable(d,p,n)?i=!0:a[d]=!0}}else u<=o&&(this._setEncodeSequence(this.decodeTableSeq[o-u],l),i=!0)}return i},l.prototype.write=function(e){for(var t=r.alloc(e.length*(this.gb18030?4:3)),n=this.leadSurrogate,s=this.seqObj,a=-1,c=0,u=0;;){if(-1===a){if(c==e.length)break;var l=e.charCodeAt(c++)}else l=a,a=-1;if(55296<=l&&l<57344)if(l<56320){if(-1===n){n=l;continue}n=l,l=i}else-1!==n?(l=65536+1024*(n-55296)+(l-56320),n=-1):l=i;else-1!==n&&(a=l,l=i,n=-1);var d=i;if(void 0!==s&&l!=i){var h=s[l];if("object"==typeof h){s=h;continue}"number"==typeof h?d=h:null==h&&void 0!==(h=s[-1])&&(d=h,a=l),s=void 0}else if(l>=0){var f=this.encodeTable[l>>8];if(void 0!==f&&(d=f[255&l]),d<=o){s=this.encodeTableSeq[o-d];continue}if(d==i&&this.gb18030){var g=p(this.gb18030.uChars,l);if(-1!=g){d=this.gb18030.gbChars[g]+(l-this.gb18030.uChars[g]),t[u++]=129+Math.floor(d/12600),d%=12600,t[u++]=48+Math.floor(d/1260),d%=1260,t[u++]=129+Math.floor(d/10),d%=10,t[u++]=48+d;continue}}}d===i&&(d=this.defaultCharSingleByte),d<256?t[u++]=d:d<65536?(t[u++]=d>>8,t[u++]=255&d):d<16777216?(t[u++]=d>>16,t[u++]=d>>8&255,t[u++]=255&d):(t[u++]=d>>>24,t[u++]=d>>>16&255,t[u++]=d>>>8&255,t[u++]=255&d)}return this.seqObj=s,this.leadSurrogate=n,t.slice(0,u)},l.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=r.alloc(10),t=0;if(this.seqObj){var n=this.seqObj[-1];void 0!==n&&(n<256?e[t++]=n:(e[t++]=n>>8,e[t++]=255&n)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},l.prototype.findIdx=p,d.prototype.write=function(e){for(var t=r.alloc(2*e.length),n=this.nodeIdx,a=this.prevBytes,c=this.prevBytes.length,u=-this.prevBytes.length,l=0,d=0;l<e.length;l++){var h,f=l>=0?e[l]:a[l+c];if((h=this.decodeTables[n][f])>=0);else if(h===i)h=this.defaultCharUnicode.charCodeAt(0),l=u;else if(-2===h){if(l>=3)var g=12600*(e[l-3]-129)+1260*(e[l-2]-48)+10*(e[l-1]-129)+(f-48);else g=12600*(a[l-3+c]-129)+1260*((l-2>=0?e[l-2]:a[l-2+c])-48)+10*((l-1>=0?e[l-1]:a[l-1+c])-129)+(f-48);var m=p(this.gb18030.gbChars,g);h=this.gb18030.uChars[m]+g-this.gb18030.gbChars[m]}else{if(h<=s){n=s-h;continue}if(!(h<=o))throw new Error("iconv-lite internal error: invalid decoding table value "+h+" at "+n+"/"+f);for(var v=this.decodeTableSeq[o-h],y=0;y<v.length-1;y++)h=v[y],t[d++]=255&h,t[d++]=h>>8;h=v[v.length-1]}if(h>=65536){var b=55296|(h-=65536)>>10;t[d++]=255&b,t[d++]=b>>8,h=56320|1023&h}t[d++]=255&h,t[d++]=h>>8,n=0,u=l+1}return this.nodeIdx=n,this.prevBytes=u>=0?Array.prototype.slice.call(e,u):a.slice(u+c).concat(Array.prototype.slice.call(e)),t.slice(0,d).toString("ucs2")},d.prototype.end=function(){for(var e="";this.prevBytes.length>0;){e+=this.defaultCharUnicode;var t=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.prevBytes=[],this.nodeIdx=0,e}},55990:(e,t,n)=>{"use strict";e.exports={shiftjis:{type:"_dbcs",table:function(){return n(27014)},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return n(31532)},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return n(13336)}},gbk:{type:"_dbcs",table:function(){return n(13336).concat(n(44346))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return n(13336).concat(n(44346))},gb18030:function(){return n(36258)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return n(77348)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return n(74284)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return n(74284).concat(n(63480))},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},46934:(e,t,n)=>{"use strict";for(var r=[n(1025),n(17688),n(91279),n(20758),n(59068),n(20288),n(67018),n(60688),n(55990)],i=0;i<r.length;i++){var o=r[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}},1025:(e,t,n)=>{"use strict";var r=n(2399).Buffer;function i(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=c:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=u,""!==r.from("eda0bdedb2a9","hex").toString()&&(this.decoder=l,this.defaultCharUnicode=t.defaultCharUnicode))}e.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:i},i.prototype.encoder=a,i.prototype.decoder=s;var o=n(71576).StringDecoder;function s(e,t){this.decoder=new o(t.enc)}function a(e,t){this.enc=t.enc}function c(e,t){this.prevStr=""}function u(e,t){}function l(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}o.prototype.end||(o.prototype.end=function(){}),s.prototype.write=function(e){return r.isBuffer(e)||(e=r.from(e)),this.decoder.write(e)},s.prototype.end=function(){return this.decoder.end()},a.prototype.write=function(e){return r.from(e,this.enc)},a.prototype.end=function(){},c.prototype.write=function(e){var t=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),r.from(e,"base64")},c.prototype.end=function(){return r.from(this.prevStr,"base64")},u.prototype.write=function(e){for(var t=r.alloc(3*e.length),n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=192+(o>>>6),t[n++]=128+(63&o)):(t[n++]=224+(o>>>12),t[n++]=128+(o>>>6&63),t[n++]=128+(63&o))}return t.slice(0,n)},u.prototype.end=function(){},l.prototype.write=function(e){for(var t=this.acc,n=this.contBytes,r=this.accBytes,i="",o=0;o<e.length;o++){var s=e[o];128!=(192&s)?(n>0&&(i+=this.defaultCharUnicode,n=0),s<128?i+=String.fromCharCode(s):s<224?(t=31&s,n=1,r=1):s<240?(t=15&s,n=2,r=1):i+=this.defaultCharUnicode):n>0?(t=t<<6|63&s,r++,0==--n&&(i+=2===r&&t<128&&t>0||3===r&&t<2048?this.defaultCharUnicode:String.fromCharCode(t))):i+=this.defaultCharUnicode}return this.acc=t,this.contBytes=n,this.accBytes=r,i},l.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e}},59068:(e,t,n)=>{"use strict";var r=n(2399).Buffer;function i(e,t){if(!e)throw new Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var n="",i=0;i<128;i++)n+=String.fromCharCode(i);e.chars=n+e.chars}this.decodeBuf=r.from(e.chars,"ucs2");var o=r.alloc(65536,t.defaultCharSingleByte.charCodeAt(0));for(i=0;i<e.chars.length;i++)o[e.chars.charCodeAt(i)]=i;this.encodeBuf=o}function o(e,t){this.encodeBuf=t.encodeBuf}function s(e,t){this.decodeBuf=t.decodeBuf}t._sbcs=i,i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){for(var t=r.alloc(e.length),n=0;n<e.length;n++)t[n]=this.encodeBuf[e.charCodeAt(n)];return t},o.prototype.end=function(){},s.prototype.write=function(e){for(var t=this.decodeBuf,n=r.alloc(2*e.length),i=0,o=0,s=0;s<e.length;s++)i=2*e[s],n[o=2*s]=t[i],n[o+1]=t[i+1];return n.toString("ucs2")},s.prototype.end=function(){}},67018:e=>{"use strict";e.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},20288:e=>{"use strict";e.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},cp720:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},91279:(e,t,n)=>{"use strict";var r=n(2399).Buffer;function i(){}function o(){}function s(){this.overflowByte=-1}function a(e,t){this.iconv=t}function c(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function u(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function l(e,t){var n=[],r=0,i=0,o=0;e:for(var s=0;s<e.length;s++)for(var a=e[s],c=0;c<a.length;c++)if(n.push(a[c]),2===n.length){if(0===r){if(255===n[0]&&254===n[1])return"utf-16le";if(254===n[0]&&255===n[1])return"utf-16be"}if(0===n[0]&&0!==n[1]&&o++,0!==n[0]&&0===n[1]&&i++,n.length=0,++r>=100)break e}return o>i?"utf-16be":o<i?"utf-16le":t||"utf-16le"}t.utf16be=i,i.prototype.encoder=o,i.prototype.decoder=s,i.prototype.bomAware=!0,o.prototype.write=function(e){for(var t=r.from(e,"ucs2"),n=0;n<t.length;n+=2){var i=t[n];t[n]=t[n+1],t[n+1]=i}return t},o.prototype.end=function(){},s.prototype.write=function(e){if(0==e.length)return"";var t=r.alloc(e.length+1),n=0,i=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,n=1,i=2);n<e.length-1;n+=2,i+=2)t[i]=e[n+1],t[i+1]=e[n];return this.overflowByte=n==e.length-1?e[e.length-1]:-1,t.slice(0,i).toString("ucs2")},s.prototype.end=function(){this.overflowByte=-1},t.utf16=a,a.prototype.encoder=c,a.prototype.decoder=u,c.prototype.write=function(e){return this.encoder.write(e)},c.prototype.end=function(){return this.encoder.end()},u.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<16)return"";var t=l(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var n="",r=0;r<this.initialBufs.length;r++)n+=this.decoder.write(this.initialBufs[r]);return this.initialBufs.length=this.initialBufsLen=0,n}return this.decoder.write(e)},u.prototype.end=function(){if(!this.decoder){var e=l(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",n=0;n<this.initialBufs.length;n++)t+=this.decoder.write(this.initialBufs[n]);var r=this.decoder.end();return r&&(t+=r),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},17688:(e,t,n)=>{"use strict";var r=n(2399).Buffer;function i(e,t){this.iconv=t,this.bomAware=!0,this.isLE=e.isLE}function o(e,t){this.isLE=t.isLE,this.highSurrogate=0}function s(e,t){this.isLE=t.isLE,this.badChar=t.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}function a(e,t,n,r){if((n<0||n>1114111)&&(n=r),n>=65536){var i=55296|(n-=65536)>>10;e[t++]=255&i,e[t++]=i>>8,n=56320|1023&n}return e[t++]=255&n,e[t++]=n>>8,t}function c(e,t){this.iconv=t}function u(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder(e.defaultEncoding||"utf-32le",e)}function l(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function d(e,t){var n=[],r=0,i=0,o=0,s=0,a=0;e:for(var c=0;c<e.length;c++)for(var u=e[c],l=0;l<u.length;l++)if(n.push(u[l]),4===n.length){if(0===r){if(255===n[0]&&254===n[1]&&0===n[2]&&0===n[3])return"utf-32le";if(0===n[0]&&0===n[1]&&254===n[2]&&255===n[3])return"utf-32be"}if((0!==n[0]||n[1]>16)&&o++,(0!==n[3]||n[2]>16)&&i++,0!==n[0]||0!==n[1]||0===n[2]&&0===n[3]||a++,0===n[0]&&0===n[1]||0!==n[2]||0!==n[3]||s++,n.length=0,++r>=100)break e}return a-o>s-i?"utf-32be":a-o<s-i?"utf-32le":t||"utf-32le"}t._utf32=i,t.utf32le={type:"_utf32",isLE:!0},t.utf32be={type:"_utf32",isLE:!1},t.ucs4le="utf32le",t.ucs4be="utf32be",i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){for(var t=r.from(e,"ucs2"),n=r.alloc(2*t.length),i=this.isLE?n.writeUInt32LE:n.writeUInt32BE,o=0,s=0;s<t.length;s+=2){var a=t.readUInt16LE(s),c=55296<=a&&a<56320,u=56320<=a&&a<57344;if(this.highSurrogate){if(!c&&u){var l=65536+(this.highSurrogate-55296<<10|a-56320);i.call(n,l,o),o+=4,this.highSurrogate=0;continue}i.call(n,this.highSurrogate,o),o+=4}c?this.highSurrogate=a:(i.call(n,a,o),o+=4,this.highSurrogate=0)}return o<n.length&&(n=n.slice(0,o)),n},o.prototype.end=function(){if(this.highSurrogate){var e=r.alloc(4);return this.isLE?e.writeUInt32LE(this.highSurrogate,0):e.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,e}},s.prototype.write=function(e){if(0===e.length)return"";var t=0,n=0,i=r.alloc(e.length+4),o=0,s=this.isLE,c=this.overflow,u=this.badChar;if(c.length>0){for(;t<e.length&&c.length<4;t++)c.push(e[t]);4===c.length&&(n=s?c[t]|c[t+1]<<8|c[t+2]<<16|c[t+3]<<24:c[t+3]|c[t+2]<<8|c[t+1]<<16|c[t]<<24,c.length=0,o=a(i,o,n,u))}for(;t<e.length-3;t+=4)o=a(i,o,n=s?e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24:e[t+3]|e[t+2]<<8|e[t+1]<<16|e[t]<<24,u);for(;t<e.length;t++)c.push(e[t]);return i.slice(0,o).toString("ucs2")},s.prototype.end=function(){this.overflow.length=0},t.utf32=c,t.ucs4="utf32",c.prototype.encoder=u,c.prototype.decoder=l,u.prototype.write=function(e){return this.encoder.write(e)},u.prototype.end=function(){return this.encoder.end()},l.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<32)return"";var t=d(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var n="",r=0;r<this.initialBufs.length;r++)n+=this.decoder.write(this.initialBufs[r]);return this.initialBufs.length=this.initialBufsLen=0,n}return this.decoder.write(e)},l.prototype.end=function(){if(!this.decoder){var e=d(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",n=0;n<this.initialBufs.length;n++)t+=this.decoder.write(this.initialBufs[n]);var r=this.decoder.end();return r&&(t+=r),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},20758:(e,t,n)=>{"use strict";var r=n(2399).Buffer;function i(e,t){this.iconv=t}t.utf7=i,t.unicode11utf7="utf7",i.prototype.encoder=s,i.prototype.decoder=a,i.prototype.bomAware=!0;var o=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function s(e,t){this.iconv=t.iconv}function a(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}s.prototype.write=function(e){return r.from(e.replace(o,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},s.prototype.end=function(){};for(var c=/[A-Za-z0-9\/+]/,u=[],l=0;l<256;l++)u[l]=c.test(String.fromCharCode(l));var d="+".charCodeAt(0),p="-".charCodeAt(0),h="&".charCodeAt(0);function f(e,t){this.iconv=t}function g(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=r.alloc(6),this.base64AccumIdx=0}function m(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}a.prototype.write=function(e){for(var t="",n=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!u[e[s]]){if(s==n&&e[s]==p)t+="+";else{var a=o+this.iconv.decode(e.slice(n,s),"ascii");t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}e[s]!=p&&s--,n=s+1,i=!1,o=""}}else e[s]==d&&(t+=this.iconv.decode(e.slice(n,s),"ascii"),n=s+1,i=!0);if(i){var c=(a=o+this.iconv.decode(e.slice(n),"ascii")).length-a.length%8;o=a.slice(c),a=a.slice(0,c),t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(n),"ascii");return this.inBase64=i,this.base64Accum=o,t},a.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e},t.utf7imap=f,f.prototype.encoder=g,f.prototype.decoder=m,f.prototype.bomAware=!0,g.prototype.write=function(e){for(var t=this.inBase64,n=this.base64Accum,i=this.base64AccumIdx,o=r.alloc(5*e.length+10),s=0,a=0;a<e.length;a++){var c=e.charCodeAt(a);32<=c&&c<=126?(t&&(i>0&&(s+=o.write(n.slice(0,i).toString("base64").replace(/\//g,",").replace(/=+$/,""),s),i=0),o[s++]=p,t=!1),t||(o[s++]=c,c===h&&(o[s++]=p))):(t||(o[s++]=h,t=!0),t&&(n[i++]=c>>8,n[i++]=255&c,i==n.length&&(s+=o.write(n.toString("base64").replace(/\//g,","),s),i=0)))}return this.inBase64=t,this.base64AccumIdx=i,o.slice(0,s)},g.prototype.end=function(){var e=r.alloc(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=p,this.inBase64=!1),e.slice(0,t)};var v=u.slice();v[",".charCodeAt(0)]=!0,m.prototype.write=function(e){for(var t="",n=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!v[e[s]]){if(s==n&&e[s]==p)t+="&";else{var a=o+this.iconv.decode(e.slice(n,s),"ascii").replace(/,/g,"/");t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}e[s]!=p&&s--,n=s+1,i=!1,o=""}}else e[s]==h&&(t+=this.iconv.decode(e.slice(n,s),"ascii"),n=s+1,i=!0);if(i){var c=(a=o+this.iconv.decode(e.slice(n),"ascii").replace(/,/g,"/")).length-a.length%8;o=a.slice(c),a=a.slice(0,c),t+=this.iconv.decode(r.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(n),"ascii");return this.inBase64=i,this.base64Accum=o,t},m.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(r.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e}},65395:(e,t)=>{"use strict";function n(e,t){this.encoder=e,this.addBOM=!0}function r(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}t.PrependBOM=n,n.prototype.write=function(e){return this.addBOM&&(e="\ufeff"+e,this.addBOM=!1),this.encoder.write(e)},n.prototype.end=function(){return this.encoder.end()},t.StripBOM=r,r.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t||("\ufeff"===t[0]&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0),t},r.prototype.end=function(){return this.decoder.end()}},4914:(e,t,n)=>{"use strict";var r,i=n(2399).Buffer,o=n(65395),s=e.exports;s.encodings=null,s.defaultCharUnicode="",s.defaultCharSingleByte="?",s.encode=function(e,t,n){e=""+(e||"");var r=s.getEncoder(t,n),o=r.write(e),a=r.end();return a&&a.length>0?i.concat([o,a]):o},s.decode=function(e,t,n){"string"==typeof e&&(s.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),s.skipDecodeWarning=!0),e=i.from(""+(e||""),"binary"));var r=s.getDecoder(t,n),o=r.write(e),a=r.end();return a?o+a:o},s.encodingExists=function(e){try{return s.getCodec(e),!0}catch(e){return!1}},s.toEncoding=s.encode,s.fromEncoding=s.decode,s._codecDataCache={},s.getCodec=function(e){s.encodings||(s.encodings=n(46934));for(var t=s._canonicalizeEncoding(e),r={};;){var i=s._codecDataCache[t];if(i)return i;var o=s.encodings[t];switch(typeof o){case"string":t=o;break;case"object":for(var a in o)r[a]=o[a];r.encodingName||(r.encodingName=t),t=o.type;break;case"function":return r.encodingName||(r.encodingName=t),i=new o(r,s),s._codecDataCache[r.encodingName]=i,i;default:throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},s._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},s.getEncoder=function(e,t){var n=s.getCodec(e),r=new n.encoder(t,n);return n.bomAware&&t&&t.addBOM&&(r=new o.PrependBOM(r,t)),r},s.getDecoder=function(e,t){var n=s.getCodec(e),r=new n.decoder(t,n);return!n.bomAware||t&&!1===t.stripBOM||(r=new o.StripBOM(r,t)),r},s.enableStreamingAPI=function(e){if(!s.supportsStreams){var t=n(38044)(e);s.IconvLiteEncoderStream=t.IconvLiteEncoderStream,s.IconvLiteDecoderStream=t.IconvLiteDecoderStream,s.encodeStream=function(e,t){return new s.IconvLiteEncoderStream(s.getEncoder(e,t),t)},s.decodeStream=function(e,t){return new s.IconvLiteDecoderStream(s.getDecoder(e,t),t)},s.supportsStreams=!0}};try{r=n(12781)}catch(e){}r&&r.Transform?s.enableStreamingAPI(r):s.encodeStream=s.decodeStream=function(){throw new Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}},38044:(e,t,n)=>{"use strict";var r=n(2399).Buffer;e.exports=function(e){var t=e.Transform;function n(e,n){this.conv=e,(n=n||{}).decodeStrings=!1,t.call(this,n)}function i(e,n){this.conv=e,(n=n||{}).encoding=this.encoding="utf8",t.call(this,n)}return n.prototype=Object.create(t.prototype,{constructor:{value:n}}),n.prototype._transform=function(e,t,n){if("string"!=typeof e)return n(new Error("Iconv encoding stream needs strings as its input."));try{var r=this.conv.write(e);r&&r.length&&this.push(r),n()}catch(e){n(e)}},n.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(t){e(t)}},n.prototype.collect=function(e){var t=[];return this.on("error",e),this.on("data",(function(e){t.push(e)})),this.on("end",(function(){e(null,r.concat(t))})),this},i.prototype=Object.create(t.prototype,{constructor:{value:i}}),i.prototype._transform=function(e,t,n){if(!(r.isBuffer(e)||e instanceof Uint8Array))return n(new Error("Iconv decoding stream needs buffers as its input."));try{var i=this.conv.write(e);i&&i.length&&this.push(i,this.encoding),n()}catch(e){n(e)}},i.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(t){e(t)}},i.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",(function(e){t+=e})),this.on("end",(function(){e(null,t)})),this},{IconvLiteEncoderStream:n,IconvLiteDecoderStream:i}}},67844:(e,t,n)=>{var r=n(52479),i=Object.create(null),o=n(30778);function s(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}e.exports=r((function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return o((function t(){var n=i[e],r=n.length,o=s(arguments);try{for(var a=0;a<r;a++)n[a].apply(null,o)}finally{n.length>r?(n.splice(0,r),process.nextTick((function(){t.apply(null,o)}))):delete i[e]}}))}(e))}))},94378:(e,t,n)=>{try{var r=n(73837);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(35717)}},35717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},99934:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagProperty=t.tagParameter=t.decorate=void 0;var r=n(16674),i=n(6867);function o(e,t,n,i,o){var s={},a="number"==typeof o,c=void 0!==o&&a?o.toString():n;if(a&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(e,t)&&(s=Reflect.getMetadata(e,t));var u=s[c];if(Array.isArray(u))for(var l=0,d=u;l<d.length;l++){var p=d[l];if(p.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+p.key.toString())}else u=[];u.push(i),s[c]=u,Reflect.defineMetadata(e,s,t)}function s(e,t){Reflect.decorate(e,t)}function a(e,t){return function(n,r){t(n,r,e)}}t.tagParameter=function(e,t,n,r){o(i.TAGGED,e,t,r,n)},t.tagProperty=function(e,t,n){o(i.TAGGED_PROP,e.constructor,t,n)},t.decorate=function(e,t,n){"number"==typeof n?s([a(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):s([e],t)}},5744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=t.LazyServiceIdentifer=void 0;var r=n(16674),i=n(6867),o=n(47738),s=n(99934),a=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();t.LazyServiceIdentifer=a,t.inject=function(e){return function(t,n,a){if(void 0===e)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(t.name));var c=new o.Metadata(i.INJECT_TAG,e);"number"==typeof a?s.tagParameter(t,n,a,c):s.tagProperty(t,n,c)}}},64315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(16674),i=n(6867);t.injectable=function(){return function(e){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,e))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(i.PARAM_TYPES,t,e),e}}},71693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiInject=void 0;var r=n(6867),i=n(47738),o=n(99934);t.multiInject=function(e){return function(t,n,s){var a=new i.Metadata(r.MULTI_INJECT_TAG,e);"number"==typeof s?o.tagParameter(t,n,s,a):o.tagProperty(t,n,a)}}},38085:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.named=void 0;var r=n(6867),i=n(47738),o=n(99934);t.named=function(e){return function(t,n,s){var a=new i.Metadata(r.NAMED_TAG,e);"number"==typeof s?o.tagParameter(t,n,s,a):o.tagProperty(t,n,a)}}},6515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.optional=void 0;var r=n(6867),i=n(47738),o=n(99934);t.optional=function(){return function(e,t,n){var s=new i.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?o.tagParameter(e,t,n,s):o.tagProperty(e,t,s)}}},7014:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(16674),i=n(6867),o=n(47738);t.postConstruct=function(){return function(e,t,n){var s=new o.Metadata(i.POST_CONSTRUCT,t);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,e.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,s,e.constructor)}}},32052:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tagged=void 0;var r=n(47738),i=n(99934);t.tagged=function(e,t){return function(n,o,s){var a=new r.Metadata(e,t);"number"==typeof s?i.tagParameter(n,o,s,a):i.tagProperty(n,o,a)}}},55638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.targetName=void 0;var r=n(6867),i=n(47738),o=n(99934);t.targetName=function(e){return function(t,n,s){var a=new i.Metadata(r.NAME_TAG,e);o.tagParameter(t,n,s,a)}}},86757:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unmanaged=void 0;var r=n(6867),i=n(47738),o=n(99934);t.unmanaged=function(){return function(e,t,n){var s=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(e,t,n,s)}}},44290:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Binding=void 0;var r=n(28421),i=n(37791),o=function(){function e(e,t){this.id=i.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();t.Binding=o},23184:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingCount=void 0,t.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},16674:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STACK_OVERFLOW=t.CIRCULAR_DEPENDENCY_IN_FACTORY=t.POST_CONSTRUCT_ERROR=t.MULTIPLE_POST_CONSTRUCT_METHODS=t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=t.ARGUMENTS_LENGTH_MISMATCH=t.INVALID_DECORATOR_OPERATION=t.INVALID_TO_SELF_VALUE=t.INVALID_FUNCTION_BINDING=t.INVALID_MIDDLEWARE_RETURN=t.NO_MORE_SNAPSHOTS_AVAILABLE=t.INVALID_BINDING_TYPE=t.NOT_IMPLEMENTED=t.CIRCULAR_DEPENDENCY=t.UNDEFINED_INJECT_ANNOTATION=t.MISSING_INJECT_ANNOTATION=t.MISSING_INJECTABLE_ANNOTATION=t.NOT_REGISTERED=t.CANNOT_UNBIND=t.AMBIGUOUS_MATCH=t.KEY_NOT_FOUND=t.NULL_ARGUMENT=t.DUPLICATED_METADATA=t.DUPLICATED_INJECTABLE_DECORATOR=void 0,t.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",t.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",t.NULL_ARGUMENT="NULL argument",t.KEY_NOT_FOUND="Key Not Found",t.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",t.CANNOT_UNBIND="Could not unbind serviceIdentifier:",t.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",t.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",t.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",t.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},t.CIRCULAR_DEPENDENCY="Circular dependency found:",t.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",t.INVALID_BINDING_TYPE="Invalid binding type:",t.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",t.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",t.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",t.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",t.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",t.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},t.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",t.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",t.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",t.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",t.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",t.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]},t.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},t.STACK_OVERFLOW="Maximum call stack size exceeded"},28421:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TargetTypeEnum=t.BindingTypeEnum=t.BindingScopeEnum=void 0,t.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"},t.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},t.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},6867:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POST_CONSTRUCT=t.DESIGN_PARAM_TYPES=t.PARAM_TYPES=t.TAGGED_PROP=t.TAGGED=t.MULTI_INJECT_TAG=t.INJECT_TAG=t.OPTIONAL_TAG=t.UNMANAGED_TAG=t.NAME_TAG=t.NAMED_TAG=void 0,t.NAMED_TAG="named",t.NAME_TAG="name",t.UNMANAGED_TAG="unmanaged",t.OPTIONAL_TAG="optional",t.INJECT_TAG="inject",t.MULTI_INJECT_TAG="multi_inject",t.TAGGED="inversify:tagged",t.TAGGED_PROP="inversify:tagged_props",t.PARAM_TYPES="inversify:paramtypes",t.DESIGN_PARAM_TYPES="design:paramtypes",t.POST_CONSTRUCT="post_construct"},51389:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var o=n(44290),s=n(16674),a=n(28421),c=n(6867),u=n(51377),l=n(86311),d=n(31927),p=n(51860),h=n(37791),f=n(55800),g=n(85700),m=n(80175),v=function(){function e(e){var t=e||{};if("object"!=typeof t)throw new Error(""+s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=a.BindingScopeEnum.Transient;else if(t.defaultScope!==a.BindingScopeEnum.Singleton&&t.defaultScope!==a.BindingScopeEnum.Transient&&t.defaultScope!==a.BindingScopeEnum.Request)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=h.id(),this._bindingDictionary=new m.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new u.MetadataReader}return e.merge=function(t,n){var r=new e,i=l.getBindingDictionary(r),o=l.getBindingDictionary(t),s=l.getBindingDictionary(n);function a(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return a(o,i),a(s,i),r},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],s=n(o.id);o.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(this,void 0,void 0,(function(){var t,n,r,o,s;return i(this,(function(i){switch(i.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,i.label=1;case 1:return n<r.length?(o=r[n],s=t(o.id),[4,o.registry(s.bindFunction,s.unbindFunction,s.isboundFunction,s.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||a.BindingScopeEnum.Transient,n=new o.Binding(e,t);return this._bindingDictionary.add(e,n),new p.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(s.CANNOT_UNBIND+" "+f.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new m.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,c.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=l.createMockRequest(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(g.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,a.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,a.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,c.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,a.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,a.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,c.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind.bind(e)(r);return t(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=e.bind.bind(e)(n);return t(r,i),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,n,r,i,o){var a=null,c={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(null==(a=this._middleware(c)))throw new Error(s.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(c);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=l.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),d.resolve(n)}},e}();t.Container=v},33244:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncContainerModule=t.ContainerModule=void 0;var r=n(37791);t.ContainerModule=function(e){this.id=r.id(),this.registry=e};t.AsyncContainerModule=function(e){this.id=r.id(),this.registry=e}},85700:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContainerSnapshot=void 0;var n=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();t.ContainerSnapshot=n},80175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Lookup=void 0;var r=n(16674),i=function(){function e(){this._map=new Map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(r.NULL_ARGUMENT);if(null==t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(r.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(r.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var i=n.filter((function(t){return!e(t)}));i.length>0?t._map.set(r,i):t._map.delete(r)}))},e.prototype.hasKey=function(e){if(null==e)throw new Error(r.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();t.Lookup=i},86700:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.METADATA_KEY=void 0;var r=n(6867);t.METADATA_KEY=r;var i=n(51389);Object.defineProperty(t,"Container",{enumerable:!0,get:function(){return i.Container}});var o=n(28421);Object.defineProperty(t,"BindingScopeEnum",{enumerable:!0,get:function(){return o.BindingScopeEnum}}),Object.defineProperty(t,"BindingTypeEnum",{enumerable:!0,get:function(){return o.BindingTypeEnum}}),Object.defineProperty(t,"TargetTypeEnum",{enumerable:!0,get:function(){return o.TargetTypeEnum}});var s=n(33244);Object.defineProperty(t,"AsyncContainerModule",{enumerable:!0,get:function(){return s.AsyncContainerModule}}),Object.defineProperty(t,"ContainerModule",{enumerable:!0,get:function(){return s.ContainerModule}});var a=n(64315);Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return a.injectable}});var c=n(32052);Object.defineProperty(t,"tagged",{enumerable:!0,get:function(){return c.tagged}});var u=n(38085);Object.defineProperty(t,"named",{enumerable:!0,get:function(){return u.named}});var l=n(5744);Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return l.inject}}),Object.defineProperty(t,"LazyServiceIdentifer",{enumerable:!0,get:function(){return l.LazyServiceIdentifer}});var d=n(6515);Object.defineProperty(t,"optional",{enumerable:!0,get:function(){return d.optional}});var p=n(86757);Object.defineProperty(t,"unmanaged",{enumerable:!0,get:function(){return p.unmanaged}});var h=n(71693);Object.defineProperty(t,"multiInject",{enumerable:!0,get:function(){return h.multiInject}});var f=n(55638);Object.defineProperty(t,"targetName",{enumerable:!0,get:function(){return f.targetName}});var g=n(7014);Object.defineProperty(t,"postConstruct",{enumerable:!0,get:function(){return g.postConstruct}});var m=n(51377);Object.defineProperty(t,"MetadataReader",{enumerable:!0,get:function(){return m.MetadataReader}});var v=n(37791);Object.defineProperty(t,"id",{enumerable:!0,get:function(){return v.id}});var y=n(99934);Object.defineProperty(t,"decorate",{enumerable:!0,get:function(){return y.decorate}});var b=n(80758);Object.defineProperty(t,"traverseAncerstors",{enumerable:!0,get:function(){return b.traverseAncerstors}}),Object.defineProperty(t,"taggedConstraint",{enumerable:!0,get:function(){return b.taggedConstraint}}),Object.defineProperty(t,"namedConstraint",{enumerable:!0,get:function(){return b.namedConstraint}}),Object.defineProperty(t,"typeConstraint",{enumerable:!0,get:function(){return b.typeConstraint}});var S=n(55800);Object.defineProperty(t,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return S.getServiceIdentifierAsString}});var _=n(70600);Object.defineProperty(t,"multiBindToService",{enumerable:!0,get:function(){return _.multiBindToService}})},95228:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r=n(37791),i=function(){function e(e){this.id=r.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();t.Context=i},47738:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(6867),i=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();t.Metadata=i},51377:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataReader=void 0;var r=n(6867),i=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(r.TAGGED_PROP,e)||[]},e}();t.MetadataReader=i},55314:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plan=void 0;t.Plan=function(e,t){this.parentContext=e,this.rootRequest=t}},86311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingDictionary=t.createMockRequest=t.plan=void 0;var r=n(23184),i=n(16674),o=n(28421),s=n(6867),a=n(85265),c=n(55800),u=n(95228),l=n(47738),d=n(55314),p=n(6e3),h=n(6748),f=n(18924);function g(e){return e._bindingDictionary}function m(e,t,n,o,s){var a,u=y(n.container,s.serviceIdentifier);return u.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof s.serviceIdentifier&&e.getConstructorMetadata(s.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(s.serviceIdentifier).toSelf(),u=y(n.container,s.serviceIdentifier)),a=t?u:u.filter((function(e){var t=new h.Request(e.serviceIdentifier,n,o,e,s);return e.constraint(t)})),function(e,t,n,o){switch(t.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var s=c.getServiceIdentifierAsString(e),a=i.NOT_REGISTERED;throw a+=c.listMetadataForTarget(s,n),a+=c.listRegisteredBindingsForServiceIdentifier(o,s,y),new Error(a);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;throw s=c.getServiceIdentifierAsString(e),a=i.AMBIGUOUS_MATCH+" "+s,a+=c.listRegisteredBindingsForServiceIdentifier(o,s,y),new Error(a)}}(s.serviceIdentifier,a,s,n.container),a}function v(e,t,n,r,s,a){var c,u;if(null===s){c=m(e,t,r,null,a),u=new h.Request(n,r,null,c,a);var l=new d.Plan(r,u);r.addPlan(l)}else c=m(e,t,r,s,a),u=s.addChildRequest(a.serviceIdentifier,c,a);c.forEach((function(t){var n=null;if(a.isArray())n=u.addChildRequest(t.serviceIdentifier,t,a);else{if(t.cache)return;n=u}if(t.type===o.BindingTypeEnum.Instance&&null!==t.implementationType){var s=p.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var c=p.getBaseClassDependencyCount(e,t.implementationType);if(s.length<c){var l=i.ARGUMENTS_LENGTH_MISMATCH(p.getFunctionName(t.implementationType));throw new Error(l)}}s.forEach((function(t){v(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function y(e,t){var n=[],r=g(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=y(e.parent,t)),n}t.getBindingDictionary=g,t.plan=function(e,t,n,r,i,o,d,p){void 0===p&&(p=!1);var h=new u.Context(t),g=function(e,t,n,r,i,o){var a=e?s.MULTI_INJECT_TAG:s.INJECT_TAG,c=new l.Metadata(a,n),u=new f.Target(t,"",n,c);if(void 0!==i){var d=new l.Metadata(i,o);u.metadata.push(d)}return u}(n,r,i,0,o,d);try{return v(e,p,i,h,null,g),h}catch(e){throw a.isStackOverflowExeption(e)&&h.plan&&c.circularDependencyToException(h.plan.rootRequest),e}},t.createMockRequest=function(e,t,n,r){var i=new f.Target(o.TargetTypeEnum.Variable,"",t,new l.Metadata(n,r)),s=new u.Context(e);return new h.Request(t,s,null,[],i)}},88460:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryableString=void 0;var n=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();t.QueryableString=n},6e3:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=t.getBaseClassDependencyCount=t.getDependencies=void 0;var i=n(5744),o=n(16674),s=n(28421),a=n(6867),c=n(55800);Object.defineProperty(t,"getFunctionName",{enumerable:!0,get:function(){return c.getFunctionName}});var u=n(18924);function l(e,t,n,i){var s=e.getConstructorMetadata(n),a=s.compilerGeneratedMetadata;if(void 0===a){var c=o.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(c)}var u=s.userGeneratedMetadata,l=Object.keys(u),h=function(e,t,n,r,i){for(var o=[],s=0;s<i;s++){var a=d(s,e,t,n,r);null!==a&&o.push(a)}return o}(i,t,a,u,0===n.length&&l.length>0?l.length:n.length),f=p(e,n);return r(h,f)}function d(e,t,n,r,a){var c=a[e.toString()]||[],l=h(c),d=!0!==l.unmanaged,p=r[e];if((p=l.inject||l.multiInject||p)instanceof i.LazyServiceIdentifer&&(p=p.unwrap()),d){if(!t&&(p===Object||p===Function||void 0===p)){var f=o.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+n+".";throw new Error(f)}var g=new u.Target(s.TargetTypeEnum.ConstructorArgument,l.targetName,p);return g.metadata=c,g}return null}function p(e,t){for(var n=e.getPropertiesMetadata(t),i=[],o=0,a=Object.keys(n);o<a.length;o++){var c=a[o],l=n[c],d=h(n[c]),f=d.targetName||c,g=d.inject||d.multiInject,m=new u.Target(s.TargetTypeEnum.ClassProperty,f,g);m.metadata=l,i.push(m)}var v=Object.getPrototypeOf(t.prototype).constructor;if(v!==Object){var y=p(e,v);i=r(i,y)}return i}function h(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[a.INJECT_TAG],multiInject:t[a.MULTI_INJECT_TAG],targetName:t[a.NAME_TAG],unmanaged:t[a.UNMANAGED_TAG]}}t.getDependencies=function(e,t){return l(e,c.getFunctionName(t),t,!1)},t.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=l(t,c.getFunctionName(r),r,!0),o=i.map((function(e){return e.metadata.filter((function(e){return e.key===a.UNMANAGED_TAG}))})),s=[].concat.apply([],o).length,u=i.length-s;return u>0?u:e(t,r)}return 0}},6748:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;var r=n(37791),i=function(){function e(e,t,n,i,o){this.id=r.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===n?new Map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();t.Request=i},18924:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Target=void 0;var r=n(6867),i=n(37791),o=n(47738),s=n(88460),a=function(){function e(e,t,n,a){this.id=i.id(),this.type=e,this.serviceIdentifier=n,this.name=new s.QueryableString(t||""),this.metadata=new Array;var c=null;"string"==typeof a?c=new o.Metadata(r.NAMED_TAG,a):a instanceof o.Metadata&&(c=a),null!==c&&this.metadata.push(c)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++)if(n[t].key===e)return!0;return!1},e.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(r.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return e.key!==r.INJECT_TAG&&e.key!==r.MULTI_INJECT_TAG&&e.key!==r.NAME_TAG&&e.key!==r.UNMANAGED_TAG&&e.key!==r.NAMED_TAG}))},e.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===r.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return e.key!==r.INJECT_TAG&&e.key!==r.MULTI_INJECT_TAG&&e.key!==r.NAME_TAG&&e.key!==r.UNMANAGED_TAG&&e.key!==r.NAMED_TAG})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(r.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();t.Target=a},52279:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveInstance=void 0;var i=n(16674),o=n(28421),s=n(6867);t.resolveInstance=function(e,t,n){var a,c,u=null;t.length>0?(c=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ConstructorArgument})).map(n),u=function(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(t,n){var r;r=t.target.name.value();var o=i[n];e[r]=o})),e}(u=new((a=e).bind.apply(a,r([void 0],c))),t,n)):u=new e;return function(e,t){if(Reflect.hasMetadata(s.POST_CONSTRUCT,e)){var n=Reflect.getMetadata(s.POST_CONSTRUCT,e);try{t[n.value]()}catch(t){throw new Error(i.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(e,u),u}},31927:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=void 0;var r=n(16674),i=n(28421),o=n(85265),s=n(55800),a=n(52279),c=function(e,t,n){try{return n()}catch(n){throw o.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):n}},u=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,o=t.childRequests,l=t.target&&t.target.isArray(),d=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(l&&d)return o.map((function(t){return u(e)(t)}));var p=null;if(!t.target.isOptional()||0!==n.length){var h=n[0],f=h.scope===i.BindingScopeEnum.Singleton,g=h.scope===i.BindingScopeEnum.Request;if(f&&h.activated)return h.cache;if(g&&null!==e&&e.has(h.id))return e.get(h.id);if(h.type===i.BindingTypeEnum.ConstantValue)p=h.cache;else if(h.type===i.BindingTypeEnum.Function)p=h.cache;else if(h.type===i.BindingTypeEnum.Constructor)p=h.implementationType;else if(h.type===i.BindingTypeEnum.DynamicValue&&null!==h.dynamicValue)p=c("toDynamicValue",h.serviceIdentifier,(function(){return h.dynamicValue(t.parentContext)}));else if(h.type===i.BindingTypeEnum.Factory&&null!==h.factory)p=c("toFactory",h.serviceIdentifier,(function(){return h.factory(t.parentContext)}));else if(h.type===i.BindingTypeEnum.Provider&&null!==h.provider)p=c("toProvider",h.serviceIdentifier,(function(){return h.provider(t.parentContext)}));else{if(h.type!==i.BindingTypeEnum.Instance||null===h.implementationType){var m=s.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+m)}p=a.resolveInstance(h.implementationType,o,u(e))}return"function"==typeof h.onActivation&&(p=h.onActivation(t.parentContext,p)),f&&(h.cache=p,h.activated=!0),g&&null!==e&&!e.has(h.id)&&e.set(h.id,p),p}}};t.resolve=function(e){return u(e.plan.rootRequest.requestScope)(e.plan.rootRequest)}},83366:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInSyntax=void 0;var r=n(28421),i=n(71325),o=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},e}();t.BindingInSyntax=o},99812:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingInWhenOnSyntax=void 0;var r=n(83366),i=n(51811),o=n(98370),s=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingInWhenOnSyntax=s},51811:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingOnSyntax=void 0;var r=n(98370),i=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new r.BindingWhenSyntax(this._binding)},e}();t.BindingOnSyntax=i},51860:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingToSyntax=void 0;var r=n(16674),i=n(28421),o=n(99812),s=n(71325),a=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=e,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=e,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=e,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(r.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=i.BindingTypeEnum.Function,t},e.prototype.toAutoFactory=function(e){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},new s.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=e,new s.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();t.BindingToSyntax=a},71325:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenOnSyntax=void 0;var r=n(51811),i=n(98370),o=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();t.BindingWhenOnSyntax=o},98370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingWhenSyntax=void 0;var r=n(51811),i=n(80758),o=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=i.namedConstraint(e),new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new r.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=i.taggedConstraint(e)(t),new r.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return i.typeConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return i.namedConstraint(e)(t.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return i.taggedConstraint(e)(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.typeConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,i.namedConstraint(e))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.taggedConstraint(e)(t))},new r.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!i.traverseAncerstors(t,e)},new r.BindingOnSyntax(this._binding)},e}();t.BindingWhenSyntax=o},80758:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConstraint=t.namedConstraint=t.taggedConstraint=t.traverseAncerstors=void 0;var r=n(6867),i=n(47738),o=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||o(n,t))};t.traverseAncerstors=o;var s=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new i.Metadata(e,t),n}};t.taggedConstraint=s;var a=s(r.NAMED_TAG);t.namedConstraint=a,t.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}}},70600:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiBindToService=void 0,t.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}}},85265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStackOverflowExeption=void 0;var r=n(16674);t.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===r.STACK_OVERFLOW}},37791:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id=void 0;var n=0;t.id=function(){return n++}},55800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.circularDependencyToException=t.listMetadataForTarget=t.listRegisteredBindingsForServiceIdentifier=t.getServiceIdentifierAsString=t.getFunctionName=void 0;var r=n(16674);function i(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function o(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||o(e.parentRequest,t))}function s(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}t.getServiceIdentifierAsString=i,t.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=s(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r},t.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(o(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var r=i(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(r.CIRCULAR_DEPENDENCY+" "+n)}e(t)}))},t.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},t.getFunctionName=s},48738:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},31959:(e,t,n)=>{var r;function i(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(n,r){i(e,t||{},(function(e,t){e?r(e):n(t)}))}))}r(e,t||{},(function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),n(e,r)}))}n(57147),r="win32"===process.platform||global.TESTING_WINDOWS?n(61429):n(44601),e.exports=i,i.sync=function(e,t){try{return r.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},44601:(e,t,n)=>{e.exports=i,i.sync=function(e,t){return o(r.statSync(e),t)};var r=n(57147);function i(e,t,n){r.stat(e,(function(e,r){n(e,!e&&o(r,t))}))}function o(e,t){return e.isFile()&&function(e,t){var n=e.mode,r=e.uid,i=e.gid,o=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),s=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8);return n&parseInt("001",8)||n&c&&i===s||n&a&&r===o||n&(a|c)&&0===o}(e,t)}},61429:(e,t,n)=>{e.exports=o,o.sync=function(e,t){return i(r.statSync(e),e,t)};var r=n(57147);function i(e,t,n){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var n=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!n)return!0;if(-1!==(n=n.split(";")).indexOf(""))return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}(t,n)}function o(e,t,n){r.stat(e,(function(r,o){n(r,!r&&i(o,e,t))}))}},60516:(e,t,n)=>{"use strict";function r(e,t){void 0===t&&(t=!1);var n=e.length,r=0,a="",c=0,u=16,l=0,d=0,p=0,h=0,f=0;function g(t,n){for(var i=0,o=0;i<t||!n;){var s=e.charCodeAt(r);if(s>=48&&s<=57)o=16*o+s-48;else if(s>=65&&s<=70)o=16*o+s-65+10;else{if(!(s>=97&&s<=102))break;o=16*o+s-97+10}r++,i++}return i<t&&(o=-1),o}function m(){if(a="",f=0,c=r,d=l,h=p,r>=n)return c=n,u=17;var t=e.charCodeAt(r);if(i(t)){do{r++,a+=String.fromCharCode(t),t=e.charCodeAt(r)}while(i(t));return u=15}if(o(t))return r++,a+=String.fromCharCode(t),13===t&&10===e.charCodeAt(r)&&(r++,a+="\n"),l++,p=r,u=14;switch(t){case 123:return r++,u=1;case 125:return r++,u=2;case 91:return r++,u=3;case 93:return r++,u=4;case 58:return r++,u=6;case 44:return r++,u=5;case 34:return r++,a=function(){for(var t="",i=r;;){if(r>=n){t+=e.substring(i,r),f=2;break}var s=e.charCodeAt(r);if(34===s){t+=e.substring(i,r),r++;break}if(92!==s){if(s>=0&&s<=31){if(o(s)){t+=e.substring(i,r),f=2;break}f=6}r++}else{if(t+=e.substring(i,r),++r>=n){f=2;break}switch(e.charCodeAt(r++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var a=g(4,!0);a>=0?t+=String.fromCharCode(a):f=4;break;default:f=5}i=r}}return t}(),u=10;case 47:var m=r-1;if(47===e.charCodeAt(r+1)){for(r+=2;r<n&&!o(e.charCodeAt(r));)r++;return a=e.substring(m,r),u=12}if(42===e.charCodeAt(r+1)){r+=2;for(var y=n-1,b=!1;r<y;){var S=e.charCodeAt(r);if(42===S&&47===e.charCodeAt(r+1)){r+=2,b=!0;break}r++,o(S)&&(13===S&&10===e.charCodeAt(r)&&r++,l++,p=r)}return b||(r++,f=1),a=e.substring(m,r),u=13}return a+=String.fromCharCode(t),r++,u=16;case 45:if(a+=String.fromCharCode(t),++r===n||!s(e.charCodeAt(r)))return u=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return a+=function(){var t=r;if(48===e.charCodeAt(r))r++;else for(r++;r<e.length&&s(e.charCodeAt(r));)r++;if(r<e.length&&46===e.charCodeAt(r)){if(!(++r<e.length&&s(e.charCodeAt(r))))return f=3,e.substring(t,r);for(r++;r<e.length&&s(e.charCodeAt(r));)r++}var n=r;if(r<e.length&&(69===e.charCodeAt(r)||101===e.charCodeAt(r)))if((++r<e.length&&43===e.charCodeAt(r)||45===e.charCodeAt(r))&&r++,r<e.length&&s(e.charCodeAt(r))){for(r++;r<e.length&&s(e.charCodeAt(r));)r++;n=r}else f=3;return e.substring(t,n)}(),u=11;default:for(;r<n&&v(t);)r++,t=e.charCodeAt(r);if(c!==r){switch(a=e.substring(c,r)){case"true":return u=8;case"false":return u=9;case"null":return u=7}return u=16}return a+=String.fromCharCode(t),r++,u=16}}function v(e){if(i(e)||o(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(e){r=e,a="",c=0,u=16,f=0},getPosition:function(){return r},scan:t?function(){var e;do{e=m()}while(e>=12&&e<=15);return e}:m,getToken:function(){return u},getTokenValue:function(){return a},getTokenOffset:function(){return c},getTokenLength:function(){return r-c},getTokenStartLine:function(){return d},getTokenStartCharacter:function(){return c-h},getTokenError:function(){return f}}}function i(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function o(e){return 10===e||13===e||8232===e||8233===e}function s(e){return e>=48&&e<=57}function a(e,t,n){var i,o,s,a,l;if(t){for(a=t.offset,l=a+t.length,s=a;s>0&&!u(e,s-1);)s--;for(var d=l;d<e.length&&!u(e,d);)d++;o=e.substring(s,d),i=function(e,t){for(var n=0,r=0,i=t.tabSize||4;n<e.length;){var o=e.charAt(n);if(" "===o)r++;else{if("\t"!==o)break;r+=i}n++}return Math.floor(r/i)}(o,n)}else o=e,i=0,s=0,a=0,l=e.length;var p,h=function(e,t){for(var n=0;n<t.length;n++){var r=t.charAt(n);if("\r"===r)return n+1<t.length&&"\n"===t.charAt(n+1)?"\r\n":"\r";if("\n"===r)return"\n"}return e&&e.eol||"\n"}(n,e),f=!1,g=0;p=n.insertSpaces?c(" ",n.tabSize||4):"\t";var m=r(o,!1),v=!1;function y(){return h+c(p,i+g)}function b(){var e=m.scan();for(f=!1;15===e||14===e;)f=f||14===e,e=m.scan();return v=16===e||0!==m.getTokenError(),e}var S=[];function _(n,r,i){v||t&&!(r<l&&i>a)||e.substring(r,i)===n||S.push({offset:r,length:i-r,content:n})}var E=b();if(17!==E){var w=m.getTokenOffset()+s;_(c(p,i),s,w)}for(;17!==E;){for(var P=m.getTokenOffset()+m.getTokenLength()+s,T=b(),C="",I=!1;!f&&(12===T||13===T);)_(" ",P,m.getTokenOffset()+s),P=m.getTokenOffset()+m.getTokenLength()+s,C=(I=12===T)?y():"",T=b();if(2===T)1!==E&&(g--,C=y());else if(4===T)3!==E&&(g--,C=y());else{switch(E){case 3:case 1:g++,C=y();break;case 5:case 12:C=y();break;case 13:f?C=y():I||(C=" ");break;case 6:I||(C=" ");break;case 10:if(6===T){I||(C="");break}case 7:case 8:case 9:case 11:case 2:case 4:12===T||13===T?I||(C=" "):5!==T&&17!==T&&(v=!0);break;case 16:v=!0}!f||12!==T&&13!==T||(C=y())}17===T&&(C=n.insertFinalNewline?h:""),_(C,P,m.getTokenOffset()+s),E=T}return S}function c(e,t){for(var n="",r=0;r<t;r++)n+=e;return n}function u(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}var l;function d(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=l.DEFAULT);var r={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(e){"property"===r.type&&(r.length=e-r.offset,r=r.parent)}function o(e){return r.children.push(e),e}h(e,{onObjectBegin:function(e){r=o({type:"object",offset:e,length:-1,parent:r,children:[]})},onObjectProperty:function(e,t,n){(r=o({type:"property",offset:t,length:-1,parent:r,children:[]})).children.push({type:"string",value:e,offset:t,length:n,parent:r})},onObjectEnd:function(e,t){i(e+t),r.length=e+t-r.offset,r=r.parent,i(e+t)},onArrayBegin:function(e,t){r=o({type:"array",offset:e,length:-1,parent:r,children:[]})},onArrayEnd:function(e,t){r.length=e+t-r.offset,r=r.parent,i(e+t)},onLiteralValue:function(e,t,n){o({type:f(e),offset:t,length:n,parent:r,value:e}),i(t+n)},onSeparator:function(e,t,n){"property"===r.type&&(":"===e?r.colonOffset=t:","===e&&i(t))},onError:function(e,n,r){t.push({error:e,offset:n,length:r})}},n);var s=r.children[0];return s&&delete s.parent,s}function p(e,t){if(e){for(var n=e,r=0,i=t;r<i.length;r++){var o=i[r];if("string"==typeof o){if("object"!==n.type||!Array.isArray(n.children))return;for(var s=!1,a=0,c=n.children;a<c.length;a++){var u=c[a];if(Array.isArray(u.children)&&u.children[0].value===o){n=u.children[1],s=!0;break}}if(!s)return}else{var l=o;if("array"!==n.type||l<0||!Array.isArray(n.children)||l>=n.children.length)return;n=n.children[l]}}return n}}function h(e,t,n){void 0===n&&(n=l.DEFAULT);var i=r(e,!1);function o(e){return e?function(){return e(i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter())}:function(){return!0}}function s(e){return e?function(t){return e(t,i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter())}:function(){return!0}}var a=o(t.onObjectBegin),c=s(t.onObjectProperty),u=o(t.onObjectEnd),d=o(t.onArrayBegin),p=o(t.onArrayEnd),h=s(t.onLiteralValue),f=s(t.onSeparator),g=o(t.onComment),m=s(t.onError),v=n&&n.disallowComments,y=n&&n.allowTrailingComma;function b(){for(;;){var e=i.scan();switch(i.getTokenError()){case 4:S(14);break;case 5:S(15);break;case 3:S(13);break;case 1:v||S(11);break;case 2:S(12);break;case 6:S(16)}switch(e){case 12:case 13:v?S(10):g();break;case 16:S(1);break;case 15:case 14:break;default:return e}}}function S(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),m(e),t.length+n.length>0)for(var r=i.getToken();17!==r;){if(-1!==t.indexOf(r)){b();break}if(-1!==n.indexOf(r))break;r=b()}}function _(e){var t=i.getTokenValue();return e?h(t):c(t),b(),!0}return b(),17===i.getToken()?!!n.allowEmptyContent||(S(4,[],[]),!1):function e(){switch(i.getToken()){case 3:return function(){d(),b();for(var t=!1;4!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){if(t||S(4,[],[]),f(","),b(),4===i.getToken()&&y)break}else t&&S(6,[],[]);e()||S(4,[],[4,5]),t=!0}return p(),4!==i.getToken()?S(8,[4],[]):b(),!0}();case 1:return function(){a(),b();for(var t=!1;2!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){if(t||S(4,[],[]),f(","),b(),2===i.getToken()&&y)break}else t&&S(6,[],[]);(10!==i.getToken()?(S(3,[],[2,5]),0):(_(!1),6===i.getToken()?(f(":"),b(),e()||S(4,[],[2,5])):S(5,[],[2,5]),1))||S(4,[],[2,5]),t=!0}return u(),2!==i.getToken()?S(7,[2],[]):b(),!0}();case 10:return _(!0);default:return function(){switch(i.getToken()){case 11:var e=i.getTokenValue(),t=Number(e);isNaN(t)&&(S(2),t=0),h(t);break;case 7:h(null);break;case 8:h(!0);break;case 9:h(!1);break;default:return!1}return b(),!0}()}}()?(17!==i.getToken()&&S(9,[],[]),!0):(S(4,[],[]),!1)}function f(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":return e?Array.isArray(e)?"array":"object":"null";default:return"null"}}function g(e,t,n){if(!n.formattingOptions)return[t];var r=m(e,t),i=t.offset,o=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;i>0&&!u(r,i-1);)i--;for(;o<r.length&&!u(r,o);)o++}for(var s=a(r,{offset:i,length:o-i},n.formattingOptions),c=s.length-1;c>=0;c--){var l=s[c];r=m(r,l),i=Math.min(i,l.offset),o=Math.max(o,l.offset+l.length),o+=l.content.length-l.length}return[{offset:i,length:e.length-(r.length-o)-i,content:r.substring(i,o)}]}function m(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}n.r(t),n.d(t,{applyEdits:()=>O,createScanner:()=>v,findNodeAtLocation:()=>_,findNodeAtOffset:()=>E,format:()=>R,getLocation:()=>y,getNodePath:()=>w,getNodeValue:()=>P,modify:()=>D,parse:()=>b,parseTree:()=>S,printParseErrorCode:()=>I,stripComments:()=>C,visit:()=>T}),function(e){e.DEFAULT={allowTrailingComma:!1}}(l||(l={}));var v=r,y=function(e,t){var n=[],r=new Object,i=void 0,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(e,t,n,r){o.value=e,o.offset=t,o.length=n,o.type=r,o.colonOffset=void 0,i=o}try{h(e,{onObjectBegin:function(e,o){if(t<=e)throw r;i=void 0,s=t>e,n.push("")},onObjectProperty:function(e,i,o){if(t<i)throw r;if(a(e,i,o,"property"),n[n.length-1]=e,t<=i+o)throw r},onObjectEnd:function(e,o){if(t<=e)throw r;i=void 0,n.pop()},onArrayBegin:function(e,o){if(t<=e)throw r;i=void 0,n.push(0)},onArrayEnd:function(e,o){if(t<=e)throw r;i=void 0,n.pop()},onLiteralValue:function(e,n,i){if(t<n)throw r;if(a(e,n,i,f(e)),t<=n+i)throw r},onSeparator:function(e,o,a){if(t<=o)throw r;if(":"===e&&i&&"property"===i.type)i.colonOffset=o,s=!1,i=void 0;else if(","===e){var c=n[n.length-1];"number"==typeof c?n[n.length-1]=c+1:(s=!0,n[n.length-1]=""),i=void 0}}})}catch(e){if(e!==r)throw e}return{path:n,previousNode:i,isAtPropertyKey:s,matches:function(e){for(var t=0,r=0;t<e.length&&r<n.length;r++)if(e[t]===n[r]||"*"===e[t])t++;else if("**"!==e[t])return!1;return t===e.length}}},b=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=l.DEFAULT);var r=null,i=[],o=[];function s(e){Array.isArray(i)?i.push(e):null!==r&&(i[r]=e)}return h(e,{onObjectBegin:function(){var e={};s(e),o.push(i),i=e,r=null},onObjectProperty:function(e){r=e},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var e=[];s(e),o.push(i),i=e,r=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(e,n,r){t.push({error:e,offset:n,length:r})}},n),i[0]},S=d,_=p,E=function e(t,n,r){if(void 0===r&&(r=!1),function(e,t,n){return void 0===n&&(n=!1),t>=e.offset&&t<e.offset+e.length||n&&t===e.offset+e.length}(t,n,r)){var i=t.children;if(Array.isArray(i))for(var o=0;o<i.length&&i[o].offset<=n;o++){var s=e(i[o],n,r);if(s)return s}return t}},w=function e(t){if(!t.parent||!t.parent.children)return[];var n=e(t.parent);if("property"===t.parent.type){var r=t.parent.children[0].value;n.push(r)}else if("array"===t.parent.type){var i=t.parent.children.indexOf(t);-1!==i&&n.push(i)}return n},P=function e(t){switch(t.type){case"array":return t.children.map(e);case"object":for(var n=Object.create(null),r=0,i=t.children;r<i.length;r++){var o=i[r],s=o.children[1];s&&(n[o.children[0].value]=e(s))}return n;case"null":case"string":case"number":case"boolean":return t.value;default:return}},T=h,C=function(e,t){var n,i,o=r(e),s=[],a=0;do{switch(i=o.getPosition(),n=o.scan()){case 12:case 13:case 17:a!==i&&s.push(e.substring(a,i)),void 0!==t&&s.push(o.getTokenValue().replace(/[^\r\n]/g,t)),a=o.getPosition()}}while(17!==n);return s.join("")};function I(e){switch(e){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function R(e,t,n){return a(e,t,n)}function D(e,t,n,r){return function(e,t,n,r){for(var i,o=t.slice(),s=d(e,[]),a=void 0,c=void 0;o.length>0&&(c=o.pop(),void 0===(a=p(s,o))&&void 0!==n);)"string"==typeof c?((i={})[c]=n,n=i):n=[n];if(a){if("object"===a.type&&"string"==typeof c&&Array.isArray(a.children)){var u=p(a,[c]);if(void 0!==u){if(void 0===n){if(!u.parent)throw new Error("Malformed AST");var l=a.children.indexOf(u.parent),h=void 0,f=u.parent.offset+u.parent.length;return l>0?h=(w=a.children[l-1]).offset+w.length:(h=a.offset+1,a.children.length>1&&(f=a.children[1].offset)),g(e,{offset:h,length:f-h,content:""},r)}return g(e,{offset:u.offset,length:u.length,content:JSON.stringify(n)},r)}if(void 0===n)return[];var m=JSON.stringify(c)+": "+JSON.stringify(n),v=void 0;return g(e,v=(P=r.getInsertionIndex?r.getInsertionIndex(a.children.map((function(e){return e.children[0].value}))):a.children.length)>0?{offset:(w=a.children[P-1]).offset+w.length,length:0,content:","+m}:0===a.children.length?{offset:a.offset+1,length:0,content:m}:{offset:a.offset+1,length:0,content:m+","},r)}if("array"===a.type&&"number"==typeof c&&Array.isArray(a.children)){var y=c;if(-1===y)return m=""+JSON.stringify(n),v=void 0,g(e,v=0===a.children.length?{offset:a.offset+1,length:0,content:m}:{offset:(w=a.children[a.children.length-1]).offset+w.length,length:0,content:","+m},r);if(void 0===n&&a.children.length>=0){var b=c,S=a.children[b];if(v=void 0,1===a.children.length)v={offset:a.offset+1,length:a.length-2,content:""};else if(a.children.length-1===b){var _=(w=a.children[b-1]).offset+w.length;v={offset:_,length:a.offset+a.length-2-_,content:""}}else v={offset:S.offset,length:a.children[b+1].offset-S.offset,content:""};return g(e,v,r)}if(void 0!==n){if(v=void 0,m=""+JSON.stringify(n),!r.isArrayInsertion&&a.children.length>c){var E=a.children[c];v={offset:E.offset,length:E.length,content:m}}else if(0===a.children.length||0===c)v={offset:a.offset+1,length:0,content:0===a.children.length?m:m+","};else{var w,P=c>a.children.length?a.children.length:c;v={offset:(w=a.children[P-1]).offset+w.length,length:0,content:","+m}}return g(e,v,r)}throw new Error("Can not "+(void 0===n?"remove":r.isArrayInsertion?"insert":"modify")+" Array index "+y+" as length is not sufficient")}throw new Error("Can not add "+("number"!=typeof c?"index":"property")+" to parent of type "+a.type)}if(void 0===n)throw new Error("Can not delete in empty document");return g(e,{offset:s?s.offset:0,length:s?s.length:0,content:JSON.stringify(n)},r)}(e,t,n,r)}function O(e,t){for(var n=t.length-1;n>=0;n--)e=m(e,t[n]);return e}},62705:(e,t,n)=>{var r=n(55639).Symbol;e.exports=r},44239:(e,t,n)=>{var r=n(62705),i=n(89607),o=n(2333),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},27561:(e,t,n)=>{var r=n(67990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},31957:e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},89607:(e,t,n)=>{var r=n(62705),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},55639:(e,t,n)=>{var r=n(31957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},67990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:(e,t,n)=>{var r=n(13218),i=n(7771),o=n(14841),s=Math.max,a=Math.min;e.exports=function(e,t,n){var c,u,l,d,p,h,f=0,g=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=c,r=u;return c=u=void 0,f=t,d=e.apply(r,n)}function b(e){return f=e,p=setTimeout(_,t),g?y(e):d}function S(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-f>=l}function _(){var e=i();if(S(e))return E(e);p=setTimeout(_,function(e){var n=t-(e-h);return m?a(n,l-(e-f)):n}(e))}function E(e){return p=void 0,v&&c?y(e):(c=u=void 0,d)}function w(){var e=i(),n=S(e);if(c=arguments,u=this,h=e,n){if(void 0===p)return b(h);if(m)return clearTimeout(p),p=setTimeout(_,t),y(h)}return void 0===p&&(p=setTimeout(_,t)),d}return t=o(t)||0,r(n)&&(g=!!n.leading,l=(m="maxWait"in n)?s(o(n.maxWait)||0,t):l,v="trailing"in n?!!n.trailing:v),w.cancel=function(){void 0!==p&&clearTimeout(p),f=0,c=h=u=p=void 0},w.flush=function(){return void 0===p?d:E(i())},w}},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},33448:(e,t,n)=>{var r=n(44239),i=n(37005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},96486:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,u=128,l=1/0,d=9007199254740991,p=NaN,h=4294967295,f=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],g="[object Arguments]",m="[object Array]",v="[object Boolean]",y="[object Date]",b="[object Error]",S="[object Function]",_="[object GeneratorFunction]",E="[object Map]",w="[object Number]",P="[object Object]",T="[object Promise]",C="[object RegExp]",I="[object Set]",R="[object String]",D="[object Symbol]",O="[object WeakMap]",k="[object ArrayBuffer]",x="[object DataView]",N="[object Float32Array]",A="[object Float64Array]",j="[object Int8Array]",M="[object Int16Array]",L="[object Int32Array]",F="[object Uint8Array]",q="[object Uint8ClampedArray]",U="[object Uint16Array]",W="[object Uint32Array]",V=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,$=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,K=RegExp(B.source),z=RegExp(G.source),Y=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,ie=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,fe=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,me=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",we="A-Z\\xc0-\\xd6\\xd8-\\xde",Pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="["+Pe+"]",Ce="["+_e+"]",Ie="\\d+",Re="["+Ee+"]",De="[^\\ud800-\\udfff"+Pe+Ie+"\\u2700-\\u27bf"+Ee+we+"]",Oe="\\ud83c[\\udffb-\\udfff]",ke="[^\\ud800-\\udfff]",xe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ne="[\\ud800-\\udbff][\\udc00-\\udfff]",Ae="["+we+"]",je="(?:"+Re+"|"+De+")",Me="(?:"+Ae+"|"+De+")",Le="(?:['](?:d|ll|m|re|s|t|ve))?",Fe="(?:['](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+Ce+"|"+Oe+")?",Ue="[\\ufe0e\\ufe0f]?",We=Ue+qe+"(?:\\u200d(?:"+[ke,xe,Ne].join("|")+")"+Ue+qe+")*",Ve="(?:"+["[\\u2700-\\u27bf]",xe,Ne].join("|")+")"+We,He="(?:"+[ke+Ce+"?",Ce,xe,Ne,"[\\ud800-\\udfff]"].join("|")+")",$e=RegExp("[']","g"),Be=RegExp(Ce,"g"),Ge=RegExp(Oe+"(?="+Oe+")|"+He+We,"g"),Ke=RegExp([Ae+"?"+Re+"+"+Le+"(?="+[Te,Ae,"$"].join("|")+")",Me+"+"+Fe+"(?="+[Te,Ae+je,"$"].join("|")+")",Ae+"?"+je+"+"+Le,Ae+"+"+Fe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ie,Ve].join("|"),"g"),ze=RegExp("[\\u200d\\ud800-\\udfff"+_e+"\\ufe0e\\ufe0f]"),Ye=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Je=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xe=-1,Qe={};Qe[N]=Qe[A]=Qe[j]=Qe[M]=Qe[L]=Qe[F]=Qe[q]=Qe[U]=Qe[W]=!0,Qe[g]=Qe[m]=Qe[k]=Qe[v]=Qe[x]=Qe[y]=Qe[b]=Qe[S]=Qe[E]=Qe[w]=Qe[P]=Qe[C]=Qe[I]=Qe[R]=Qe[O]=!1;var Ze={};Ze[g]=Ze[m]=Ze[k]=Ze[x]=Ze[v]=Ze[y]=Ze[N]=Ze[A]=Ze[j]=Ze[M]=Ze[L]=Ze[E]=Ze[w]=Ze[P]=Ze[C]=Ze[I]=Ze[R]=Ze[D]=Ze[F]=Ze[q]=Ze[U]=Ze[W]=!0,Ze[b]=Ze[S]=Ze[O]=!1;var et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=parseFloat,nt=parseInt,rt="object"==typeof global&&global&&global.Object===Object&&global,it="object"==typeof self&&self&&self.Object===Object&&self,ot=rt||it||Function("return this")(),st=t&&!t.nodeType&&t,at=st&&e&&!e.nodeType&&e,ct=at&&at.exports===st,ut=ct&&rt.process,lt=function(){try{return at&&at.require&&at.require("util").types||ut&&ut.binding&&ut.binding("util")}catch(e){}}(),dt=lt&&lt.isArrayBuffer,pt=lt&&lt.isDate,ht=lt&&lt.isMap,ft=lt&&lt.isRegExp,gt=lt&&lt.isSet,mt=lt&&lt.isTypedArray;function vt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function yt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function bt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function St(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function _t(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Et(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function wt(e,t){return!(null==e||!e.length)&&Nt(e,t,0)>-1}function Pt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Tt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Ct(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function It(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Rt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ot=Lt("length");function kt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function xt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Nt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):xt(e,jt,n)}function At(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function jt(e){return e!=e}function Mt(e,t){var n=null==e?0:e.length;return n?Ut(e,t)/n:p}function Lt(e){return function(t){return null==t?i:t[e]}}function Ft(e){return function(t){return null==e?i:e[t]}}function qt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Ut(e,t){for(var n,r=-1,o=e.length;++r<o;){var s=t(e[r]);s!==i&&(n=n===i?s:n+s)}return n}function Wt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Vt(e){return e?e.slice(0,an(e)+1).replace(re,""):e}function Ht(e){return function(t){return e(t)}}function $t(e,t){return Tt(t,(function(t){return e[t]}))}function Bt(e,t){return e.has(t)}function Gt(e,t){for(var n=-1,r=e.length;++n<r&&Nt(t,e[n],0)>-1;);return n}function Kt(e,t){for(var n=e.length;n--&&Nt(t,e[n],0)>-1;);return n}function zt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Yt=Ft({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Jt=Ft({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Xt(e){return"\\"+et[e]}function Qt(e){return ze.test(e)}function Zt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function en(e,t){return function(n){return e(t(n))}}function tn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,o[i++]=n)}return o}function nn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function rn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function on(e){return Qt(e)?function(e){for(var t=Ge.lastIndex=0;Ge.test(e);)++t;return t}(e):Ot(e)}function sn(e){return Qt(e)?function(e){return e.match(Ge)||[]}(e):function(e){return e.split("")}(e)}function an(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var cn=Ft({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),un=function e(t){var n,r=(t=null==t?ot:un.defaults(ot.Object(),t,un.pick(ot,Je))).Array,ie=t.Date,_e=t.Error,Ee=t.Function,we=t.Math,Pe=t.Object,Te=t.RegExp,Ce=t.String,Ie=t.TypeError,Re=r.prototype,De=Ee.prototype,Oe=Pe.prototype,ke=t["__core-js_shared__"],xe=De.toString,Ne=Oe.hasOwnProperty,Ae=0,je=(n=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Me=Oe.toString,Le=xe.call(Pe),Fe=ot._,qe=Te("^"+xe.call(Ne).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=ct?t.Buffer:i,We=t.Symbol,Ve=t.Uint8Array,He=Ue?Ue.allocUnsafe:i,Ge=en(Pe.getPrototypeOf,Pe),ze=Pe.create,et=Oe.propertyIsEnumerable,rt=Re.splice,it=We?We.isConcatSpreadable:i,st=We?We.iterator:i,at=We?We.toStringTag:i,ut=function(){try{var e=uo(Pe,"defineProperty");return e({},"",{}),e}catch(e){}}(),lt=t.clearTimeout!==ot.clearTimeout&&t.clearTimeout,Ot=ie&&ie.now!==ot.Date.now&&ie.now,Ft=t.setTimeout!==ot.setTimeout&&t.setTimeout,ln=we.ceil,dn=we.floor,pn=Pe.getOwnPropertySymbols,hn=Ue?Ue.isBuffer:i,fn=t.isFinite,gn=Re.join,mn=en(Pe.keys,Pe),vn=we.max,yn=we.min,bn=ie.now,Sn=t.parseInt,_n=we.random,En=Re.reverse,wn=uo(t,"DataView"),Pn=uo(t,"Map"),Tn=uo(t,"Promise"),Cn=uo(t,"Set"),In=uo(t,"WeakMap"),Rn=uo(Pe,"create"),Dn=In&&new In,On={},kn=qo(wn),xn=qo(Pn),Nn=qo(Tn),An=qo(Cn),jn=qo(In),Mn=We?We.prototype:i,Ln=Mn?Mn.valueOf:i,Fn=Mn?Mn.toString:i;function qn(e){if(na(e)&&!Bs(e)&&!(e instanceof Hn)){if(e instanceof Vn)return e;if(Ne.call(e,"__wrapped__"))return Uo(e)}return new Vn(e)}var Un=function(){function e(){}return function(t){if(!ta(t))return{};if(ze)return ze(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Wn(){}function Vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Bn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function zn(e){var t=this.__data__=new Bn(e);this.size=t.size}function Yn(e,t){var n=Bs(e),r=!n&&$s(e),i=!n&&!r&&Ys(e),o=!n&&!r&&!i&&la(e),s=n||r||i||o,a=s?Wt(e.length,Ce):[],c=a.length;for(var u in e)!t&&!Ne.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||vo(u,c))||a.push(u);return a}function Jn(e){var t=e.length;return t?e[Gr(0,t-1)]:i}function Xn(e,t){return Ao(Ii(e),sr(t,0,e.length))}function Qn(e){return Ao(Ii(e))}function Zn(e,t,n){(n!==i&&!Ws(e[t],n)||n===i&&!(t in e))&&ir(e,t,n)}function er(e,t,n){var r=e[t];Ne.call(e,t)&&Ws(r,n)&&(n!==i||t in e)||ir(e,t,n)}function tr(e,t){for(var n=e.length;n--;)if(Ws(e[n][0],t))return n;return-1}function nr(e,t,n,r){return dr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function rr(e,t){return e&&Ri(t,xa(t),e)}function ir(e,t,n){"__proto__"==t&&ut?ut(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var n=-1,o=t.length,s=r(o),a=null==e;++n<o;)s[n]=a?i:Ia(e,t[n]);return s}function sr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function ar(e,t,n,r,o,s){var a,c=1&t,u=2&t,l=4&t;if(n&&(a=o?n(e,r,o,s):n(e)),a!==i)return a;if(!ta(e))return e;var d=Bs(e);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return Ii(e,a)}else{var p=ho(e),h=p==S||p==_;if(Ys(e))return _i(e,c);if(p==P||p==g||h&&!o){if(a=u||h?{}:go(e),!c)return u?function(e,t){return Ri(e,po(e),t)}(e,function(e,t){return e&&Ri(t,Na(t),e)}(a,e)):function(e,t){return Ri(e,lo(e),t)}(e,rr(a,e))}else{if(!Ze[p])return o?e:{};a=function(e,t,n){var r,i=e.constructor;switch(t){case k:return Ei(e);case v:case y:return new i(+e);case x:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case N:case A:case j:case M:case L:case F:case q:case U:case W:return wi(e,n);case E:return new i;case w:case R:return new i(e);case C:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new i;case D:return r=e,Ln?Pe(Ln.call(r)):{}}}(e,p,c)}}s||(s=new zn);var f=s.get(e);if(f)return f;s.set(e,a),aa(e)?e.forEach((function(r){a.add(ar(r,t,n,r,e,s))})):ra(e)&&e.forEach((function(r,i){a.set(i,ar(r,t,n,i,e,s))}));var m=d?i:(l?u?no:to:u?Na:xa)(e);return bt(m||e,(function(r,i){m&&(r=e[i=r]),er(a,i,ar(r,t,n,i,e,s))})),a}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Pe(e);r--;){var o=n[r],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function ur(e,t,n){if("function"!=typeof e)throw new Ie(o);return Oo((function(){e.apply(i,n)}),t)}function lr(e,t,n,r){var i=-1,o=wt,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;n&&(t=Tt(t,Ht(n))),r?(o=Pt,s=!1):t.length>=200&&(o=Bt,s=!1,t=new Kn(t));e:for(;++i<a;){var l=e[i],d=null==n?l:n(l);if(l=r||0!==l?l:0,s&&d==d){for(var p=u;p--;)if(t[p]===d)continue e;c.push(l)}else o(t,d,r)||c.push(l)}return c}qn.templateSettings={escape:Y,evaluate:J,interpolate:X,variable:"",imports:{_:qn}},qn.prototype=Wn.prototype,qn.prototype.constructor=qn,Vn.prototype=Un(Wn.prototype),Vn.prototype.constructor=Vn,Hn.prototype=Un(Wn.prototype),Hn.prototype.constructor=Hn,$n.prototype.clear=function(){this.__data__=Rn?Rn(null):{},this.size=0},$n.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$n.prototype.get=function(e){var t=this.__data__;if(Rn){var n=t[e];return n===s?i:n}return Ne.call(t,e)?t[e]:i},$n.prototype.has=function(e){var t=this.__data__;return Rn?t[e]!==i:Ne.call(t,e)},$n.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Rn&&t===i?s:t,this},Bn.prototype.clear=function(){this.__data__=[],this.size=0},Bn.prototype.delete=function(e){var t=this.__data__,n=tr(t,e);return!(n<0||(n==t.length-1?t.pop():rt.call(t,n,1),--this.size,0))},Bn.prototype.get=function(e){var t=this.__data__,n=tr(t,e);return n<0?i:t[n][1]},Bn.prototype.has=function(e){return tr(this.__data__,e)>-1},Bn.prototype.set=function(e,t){var n=this.__data__,r=tr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new $n,map:new(Pn||Bn),string:new $n}},Gn.prototype.delete=function(e){var t=ao(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return ao(this,e).get(e)},Gn.prototype.has=function(e){return ao(this,e).has(e)},Gn.prototype.set=function(e,t){var n=ao(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,s),this},Kn.prototype.has=function(e){return this.__data__.has(e)},zn.prototype.clear=function(){this.__data__=new Bn,this.size=0},zn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},zn.prototype.get=function(e){return this.__data__.get(e)},zn.prototype.has=function(e){return this.__data__.has(e)},zn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Bn){var r=n.__data__;if(!Pn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var dr=ki(br),pr=ki(Sr,!0);function hr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function fr(e,t,n){for(var r=-1,o=e.length;++r<o;){var s=e[r],a=t(s);if(null!=a&&(c===i?a==a&&!ua(a):n(a,c)))var c=a,u=s}return u}function gr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function mr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=mo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?mr(a,t-1,n,r,i):Ct(i,a):r||(i[i.length]=a)}return i}var vr=xi(),yr=xi(!0);function br(e,t){return e&&vr(e,t,xa)}function Sr(e,t){return e&&yr(e,t,xa)}function _r(e,t){return Et(t,(function(t){return Qs(e[t])}))}function Er(e,t){for(var n=0,r=(t=vi(t,e)).length;null!=e&&n<r;)e=e[Fo(t[n++])];return n&&n==r?e:i}function wr(e,t,n){var r=t(e);return Bs(e)?r:Ct(r,n(e))}function Pr(e){return null==e?e===i?"[object Undefined]":"[object Null]":at&&at in Pe(e)?function(e){var t=Ne.call(e,at),n=e[at];try{e[at]=i;var r=!0}catch(e){}var o=Me.call(e);return r&&(t?e[at]=n:delete e[at]),o}(e):function(e){return Me.call(e)}(e)}function Tr(e,t){return e>t}function Cr(e,t){return null!=e&&Ne.call(e,t)}function Ir(e,t){return null!=e&&t in Pe(e)}function Rr(e,t,n){for(var o=n?Pt:wt,s=e[0].length,a=e.length,c=a,u=r(a),l=1/0,d=[];c--;){var p=e[c];c&&t&&(p=Tt(p,Ht(t))),l=yn(p.length,l),u[c]=!n&&(t||s>=120&&p.length>=120)?new Kn(c&&p):i}p=e[0];var h=-1,f=u[0];e:for(;++h<s&&d.length<l;){var g=p[h],m=t?t(g):g;if(g=n||0!==g?g:0,!(f?Bt(f,m):o(d,m,n))){for(c=a;--c;){var v=u[c];if(!(v?Bt(v,m):o(e[c],m,n)))continue e}f&&f.push(m),d.push(g)}}return d}function Dr(e,t,n){var r=null==(e=Co(e,t=vi(t,e)))?e:e[Fo(Xo(t))];return null==r?i:vt(r,e,n)}function Or(e){return na(e)&&Pr(e)==g}function kr(e,t,n,r,o){return e===t||(null==e||null==t||!na(e)&&!na(t)?e!=e&&t!=t:function(e,t,n,r,o,s){var a=Bs(e),c=Bs(t),u=a?m:ho(e),l=c?m:ho(t),d=(u=u==g?P:u)==P,p=(l=l==g?P:l)==P,h=u==l;if(h&&Ys(e)){if(!Ys(t))return!1;a=!0,d=!1}if(h&&!d)return s||(s=new zn),a||la(e)?Zi(e,t,n,r,o,s):function(e,t,n,r,i,o,s){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case v:case y:case w:return Ws(+e,+t);case b:return e.name==t.name&&e.message==t.message;case C:case R:return e==t+"";case E:var a=Zt;case I:var c=1&r;if(a||(a=nn),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=2,s.set(e,t);var l=Zi(a(e),a(t),r,i,o,s);return s.delete(e),l;case D:if(Ln)return Ln.call(e)==Ln.call(t)}return!1}(e,t,u,n,r,o,s);if(!(1&n)){var f=d&&Ne.call(e,"__wrapped__"),S=p&&Ne.call(t,"__wrapped__");if(f||S){var _=f?e.value():e,T=S?t.value():t;return s||(s=new zn),o(_,T,n,r,s)}}return!!h&&(s||(s=new zn),function(e,t,n,r,o,s){var a=1&n,c=to(e),u=c.length;if(u!=to(t).length&&!a)return!1;for(var l=u;l--;){var d=c[l];if(!(a?d in t:Ne.call(t,d)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var f=!0;s.set(e,t),s.set(t,e);for(var g=a;++l<u;){var m=e[d=c[l]],v=t[d];if(r)var y=a?r(v,m,d,t,e,s):r(m,v,d,e,t,s);if(!(y===i?m===v||o(m,v,n,r,s):y)){f=!1;break}g||(g="constructor"==d)}if(f&&!g){var b=e.constructor,S=t.constructor;b==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof S&&S instanceof S||(f=!1)}return s.delete(e),s.delete(t),f}(e,t,n,r,o,s))}(e,t,n,r,kr,o))}function xr(e,t,n,r){var o=n.length,s=o,a=!r;if(null==e)return!s;for(e=Pe(e);o--;){var c=n[o];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=n[o])[0],l=e[u],d=c[1];if(a&&c[2]){if(l===i&&!(u in e))return!1}else{var p=new zn;if(r)var h=r(l,d,u,e,t,p);if(!(h===i?kr(d,l,3,r,p):h))return!1}}return!0}function Nr(e){return!(!ta(e)||(t=e,je&&je in t))&&(Qs(e)?qe:ge).test(qo(e));var t}function Ar(e){return"function"==typeof e?e:null==e?ic:"object"==typeof e?Bs(e)?qr(e[0],e[1]):Fr(e):hc(e)}function jr(e){if(!Eo(e))return mn(e);var t=[];for(var n in Pe(e))Ne.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Mr(e,t){return e<t}function Lr(e,t){var n=-1,i=Ks(e)?r(e.length):[];return dr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Fr(e){var t=co(e);return 1==t.length&&t[0][2]?Po(t[0][0],t[0][1]):function(n){return n===e||xr(n,e,t)}}function qr(e,t){return bo(e)&&wo(t)?Po(Fo(e),t):function(n){var r=Ia(n,e);return r===i&&r===t?Ra(n,e):kr(t,r,3)}}function Ur(e,t,n,r,o){e!==t&&vr(t,(function(s,a){if(o||(o=new zn),ta(s))!function(e,t,n,r,o,s,a){var c=Ro(e,n),u=Ro(t,n),l=a.get(u);if(l)Zn(e,n,l);else{var d=s?s(c,u,n+"",e,t,a):i,p=d===i;if(p){var h=Bs(u),f=!h&&Ys(u),g=!h&&!f&&la(u);d=u,h||f||g?Bs(c)?d=c:zs(c)?d=Ii(c):f?(p=!1,d=_i(u,!0)):g?(p=!1,d=wi(u,!0)):d=[]:oa(u)||$s(u)?(d=c,$s(c)?d=ya(c):ta(c)&&!Qs(c)||(d=go(u))):p=!1}p&&(a.set(u,d),o(d,u,r,s,a),a.delete(u)),Zn(e,n,d)}}(e,t,a,n,Ur,r,o);else{var c=r?r(Ro(e,a),s,a+"",e,t,o):i;c===i&&(c=s),Zn(e,a,c)}}),Na)}function Wr(e,t){var n=e.length;if(n)return vo(t+=t<0?n:0,n)?e[t]:i}function Vr(e,t,n){t=t.length?Tt(t,(function(e){return Bs(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[ic];var r=-1;t=Tt(t,Ht(so()));var i=Lr(e,(function(e,n,i){var o=Tt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var c=Pi(i[r],o[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(i)}function Hr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=Er(e,s);n(a,s)&&Xr(o,vi(s,e),a)}return o}function $r(e,t,n,r){var i=r?At:Nt,o=-1,s=t.length,a=e;for(e===t&&(t=Ii(t)),n&&(a=Tt(e,Ht(n)));++o<s;)for(var c=0,u=t[o],l=n?n(u):u;(c=i(a,l,c,r))>-1;)a!==e&&rt.call(a,c,1),rt.call(e,c,1);return e}function Br(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;vo(i)?rt.call(e,i,1):ui(e,i)}}return e}function Gr(e,t){return e+dn(_n()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>d)return n;do{t%2&&(n+=e),(t=dn(t/2))&&(e+=e)}while(t);return n}function zr(e,t){return ko(To(e,t,ic),e+"")}function Yr(e){return Jn(Wa(e))}function Jr(e,t){var n=Wa(e);return Ao(n,sr(t,0,n.length))}function Xr(e,t,n,r){if(!ta(e))return e;for(var o=-1,s=(t=vi(t,e)).length,a=s-1,c=e;null!=c&&++o<s;){var u=Fo(t[o]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=a){var d=c[u];(l=r?r(d,u,c):i)===i&&(l=ta(d)?d:vo(t[o+1])?[]:{})}er(c,u,l),c=c[u]}return e}var Qr=Dn?function(e,t){return Dn.set(e,t),e}:ic,Zr=ut?function(e,t){return ut(e,"toString",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:ic;function ei(e){return Ao(Wa(e))}function ti(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function ni(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ri(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!ua(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return ii(e,t,ic,n)}function ii(e,t,n,r){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,c=null===t,u=ua(t),l=t===i;o<s;){var d=dn((o+s)/2),p=n(e[d]),h=p!==i,f=null===p,g=p==p,m=ua(p);if(a)var v=r||g;else v=l?g&&(r||h):c?g&&h&&(r||!f):u?g&&h&&!f&&(r||!m):!f&&!m&&(r?p<=t:p<t);v?o=d+1:s=d}return yn(s,4294967294)}function oi(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Ws(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function si(e){return"number"==typeof e?e:ua(e)?p:+e}function ai(e){if("string"==typeof e)return e;if(Bs(e))return Tt(e,ai)+"";if(ua(e))return Fn?Fn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ci(e,t,n){var r=-1,i=wt,o=e.length,s=!0,a=[],c=a;if(n)s=!1,i=Pt;else if(o>=200){var u=t?null:Ki(e);if(u)return nn(u);s=!1,i=Bt,c=new Kn}else c=t?[]:a;e:for(;++r<o;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,s&&d==d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),a.push(l)}else i(c,d,n)||(c!==a&&c.push(d),a.push(l))}return a}function ui(e,t){return null==(e=Co(e,t=vi(t,e)))||delete e[Fo(Xo(t))]}function li(e,t,n,r){return Xr(e,t,n(Er(e,t)),r)}function di(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ti(e,r?0:o,r?o+1:i):ti(e,r?o+1:0,r?i:o)}function pi(e,t){var n=e;return n instanceof Hn&&(n=n.value()),It(t,(function(e,t){return t.func.apply(t.thisArg,Ct([e],t.args))}),n)}function hi(e,t,n){var i=e.length;if(i<2)return i?ci(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],c=-1;++c<i;)c!=o&&(s[o]=lr(s[o]||a,e[c],t,n));return ci(mr(s,1),t,n)}function fi(e,t,n){for(var r=-1,o=e.length,s=t.length,a={};++r<o;){var c=r<s?t[r]:i;n(a,e[r],c)}return a}function gi(e){return zs(e)?e:[]}function mi(e){return"function"==typeof e?e:ic}function vi(e,t){return Bs(e)?e:bo(e,t)?[e]:Lo(ba(e))}var yi=zr;function bi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ti(e,t,n)}var Si=lt||function(e){return ot.clearTimeout(e)};function _i(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function wi(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Pi(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,s=ua(e),a=t!==i,c=null===t,u=t==t,l=ua(t);if(!c&&!l&&!s&&e>t||s&&a&&u&&!c&&!l||r&&a&&u||!n&&u||!o)return 1;if(!r&&!s&&!l&&e<t||l&&n&&o&&!r&&!s||c&&n&&o||!a&&o||!u)return-1}return 0}function Ti(e,t,n,i){for(var o=-1,s=e.length,a=n.length,c=-1,u=t.length,l=vn(s-a,0),d=r(u+l),p=!i;++c<u;)d[c]=t[c];for(;++o<a;)(p||o<s)&&(d[n[o]]=e[o]);for(;l--;)d[c++]=e[o++];return d}function Ci(e,t,n,i){for(var o=-1,s=e.length,a=-1,c=n.length,u=-1,l=t.length,d=vn(s-c,0),p=r(d+l),h=!i;++o<d;)p[o]=e[o];for(var f=o;++u<l;)p[f+u]=t[u];for(;++a<c;)(h||o<s)&&(p[f+n[a]]=e[o++]);return p}function Ii(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Ri(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var c=t[s],u=r?r(n[c],e[c],c,n,e):i;u===i&&(u=e[c]),o?ir(n,c,u):er(n,c,u)}return n}function Di(e,t){return function(n,r){var i=Bs(n)?yt:nr,o=t?t():{};return i(n,e,so(r,2),o)}}function Oi(e){return zr((function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&yo(n[0],n[1],a)&&(s=o<3?i:s,o=1),t=Pe(t);++r<o;){var c=n[r];c&&e(t,c,r,s)}return t}))}function ki(e,t){return function(n,r){if(null==n)return n;if(!Ks(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Pe(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function xi(e){return function(t,n,r){for(var i=-1,o=Pe(t),s=r(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===n(o[c],c,o))break}return t}}function Ni(e){return function(t){var n=Qt(t=ba(t))?sn(t):i,r=n?n[0]:t.charAt(0),o=n?bi(n,1).join(""):t.slice(1);return r[e]()+o}}function Ai(e){return function(t){return It(Qa($a(t).replace($e,"")),e,"")}}function ji(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),r=e.apply(n,t);return ta(r)?r:n}}function Mi(e){return function(t,n,r){var o=Pe(t);if(!Ks(t)){var s=so(n,3);t=xa(t),n=function(e){return s(o[e],e,o)}}var a=e(t,n,r);return a>-1?o[s?t[a]:a]:i}}function Li(e){return eo((function(t){var n=t.length,r=n,s=Vn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ie(o);if(s&&!c&&"wrapper"==io(a))var c=new Vn([],!0)}for(r=c?r:n;++r<n;){var u=io(a=t[r]),l="wrapper"==u?ro(a):i;c=l&&So(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[io(l[0])].apply(c,l[3]):1==a.length&&So(a)?c[u]():c.thru(a)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Bs(r))return c.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Fi(e,t,n,o,s,a,c,l,d,p){var h=t&u,f=1&t,g=2&t,m=24&t,v=512&t,y=g?i:ji(e);return function i(){for(var u=arguments.length,b=r(u),S=u;S--;)b[S]=arguments[S];if(m)var _=oo(i),E=zt(b,_);if(o&&(b=Ti(b,o,s,m)),a&&(b=Ci(b,a,c,m)),u-=E,m&&u<p){var w=tn(b,_);return Bi(e,t,Fi,i.placeholder,n,b,w,l,d,p-u)}var P=f?n:this,T=g?P[e]:e;return u=b.length,l?b=Io(b,l):v&&u>1&&b.reverse(),h&&d<u&&(b.length=d),this&&this!==ot&&this instanceof i&&(T=y||ji(T)),T.apply(P,b)}}function qi(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Ui(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ai(n),r=ai(r)):(n=si(n),r=si(r)),o=e(n,r)}return o}}function Wi(e){return eo((function(t){return t=Tt(t,Ht(so())),zr((function(n){var r=this;return e(t,(function(e){return vt(e,r,n)}))}))}))}function Vi(e,t){var n=(t=t===i?" ":ai(t)).length;if(n<2)return n?Kr(t,e):t;var r=Kr(t,ln(e/on(t)));return Qt(t)?bi(sn(r),0,e).join(""):r.slice(0,e)}function Hi(e){return function(t,n,o){return o&&"number"!=typeof o&&yo(t,n,o)&&(n=o=i),t=fa(t),n===i?(n=t,t=0):n=fa(n),function(e,t,n,i){for(var o=-1,s=vn(ln((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,o=o===i?t<n?1:-1:fa(o),e)}}function $i(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=va(t),n=va(n)),e(t,n)}}function Bi(e,t,n,r,o,s,a,u,l,d){var p=8&t;t|=p?c:64,4&(t&=~(p?64:c))||(t&=-4);var h=[e,t,o,p?s:i,p?a:i,p?i:s,p?i:a,u,l,d],f=n.apply(i,h);return So(e)&&Do(f,h),f.placeholder=r,xo(f,e,t)}function Gi(e){var t=we[e];return function(e,n){if(e=va(e),(n=null==n?0:yn(ga(n),292))&&fn(e)){var r=(ba(e)+"e").split("e");return+((r=(ba(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ki=Cn&&1/nn(new Cn([,-0]))[1]==l?function(e){return new Cn(e)}:uc;function zi(e){return function(t){var n=ho(t);return n==E?Zt(t):n==I?rn(t):function(e,t){return Tt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Yi(e,t,n,s,l,d,p,h){var f=2&t;if(!f&&"function"!=typeof e)throw new Ie(o);var g=s?s.length:0;if(g||(t&=-97,s=l=i),p=p===i?p:vn(ga(p),0),h=h===i?h:ga(h),g-=l?l.length:0,64&t){var m=s,v=l;s=l=i}var y=f?i:ro(e),b=[e,t,n,s,l,m,v,d,p,h];if(y&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,s=r==u&&8==n||r==u&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?Ti(l,c,t[4]):c,e[4]=l?tn(e[3],a):t[4]}(c=t[5])&&(l=e[5],e[5]=l?Ci(l,c,t[6]):c,e[6]=l?tn(e[5],a):t[6]),(c=t[7])&&(e[7]=c),r&u&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(b,y),e=b[0],t=b[1],n=b[2],s=b[3],l=b[4],!(h=b[9]=b[9]===i?f?0:e.length:vn(b[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||16==t?function(e,t,n){var o=ji(e);return function s(){for(var a=arguments.length,c=r(a),u=a,l=oo(s);u--;)c[u]=arguments[u];var d=a<3&&c[0]!==l&&c[a-1]!==l?[]:tn(c,l);return(a-=d.length)<n?Bi(e,t,Fi,s.placeholder,i,c,d,i,i,n-a):vt(this&&this!==ot&&this instanceof s?o:e,this,c)}}(e,t,h):t!=c&&33!=t||l.length?Fi.apply(i,b):function(e,t,n,i){var o=1&t,s=ji(e);return function t(){for(var a=-1,c=arguments.length,u=-1,l=i.length,d=r(l+c),p=this&&this!==ot&&this instanceof t?s:e;++u<l;)d[u]=i[u];for(;c--;)d[u++]=arguments[++a];return vt(p,o?n:this,d)}}(e,t,n,s);else var S=function(e,t,n){var r=1&t,i=ji(e);return function t(){return(this&&this!==ot&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return xo((y?Qr:Do)(S,b),e,t)}function Ji(e,t,n,r){return e===i||Ws(e,Oe[n])&&!Ne.call(r,n)?t:e}function Xi(e,t,n,r,o,s){return ta(e)&&ta(t)&&(s.set(t,e),Ur(e,t,i,Xi,s),s.delete(t)),e}function Qi(e){return oa(e)?i:e}function Zi(e,t,n,r,o,s){var a=1&n,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var l=s.get(e),d=s.get(t);if(l&&d)return l==t&&d==e;var p=-1,h=!0,f=2&n?new Kn:i;for(s.set(e,t),s.set(t,e);++p<c;){var g=e[p],m=t[p];if(r)var v=a?r(m,g,p,t,e,s):r(g,m,p,e,t,s);if(v!==i){if(v)continue;h=!1;break}if(f){if(!Dt(t,(function(e,t){if(!Bt(f,t)&&(g===e||o(g,e,n,r,s)))return f.push(t)}))){h=!1;break}}else if(g!==m&&!o(g,m,n,r,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function eo(e){return ko(To(e,i,Go),e+"")}function to(e){return wr(e,xa,lo)}function no(e){return wr(e,Na,po)}var ro=Dn?function(e){return Dn.get(e)}:uc;function io(e){for(var t=e.name+"",n=On[t],r=Ne.call(On,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function oo(e){return(Ne.call(qn,"placeholder")?qn:e).placeholder}function so(){var e=qn.iteratee||oc;return e=e===oc?Ar:e,arguments.length?e(arguments[0],arguments[1]):e}function ao(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function co(e){for(var t=xa(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,wo(i)]}return t}function uo(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Nr(n)?n:i}var lo=pn?function(e){return null==e?[]:(e=Pe(e),Et(pn(e),(function(t){return et.call(e,t)})))}:mc,po=pn?function(e){for(var t=[];e;)Ct(t,lo(e)),e=Ge(e);return t}:mc,ho=Pr;function fo(e,t,n){for(var r=-1,i=(t=vi(t,e)).length,o=!1;++r<i;){var s=Fo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ea(i)&&vo(s,i)&&(Bs(e)||$s(e))}function go(e){return"function"!=typeof e.constructor||Eo(e)?{}:Un(Ge(e))}function mo(e){return Bs(e)||$s(e)||!!(it&&e&&e[it])}function vo(e,t){var n=typeof e;return!!(t=null==t?d:t)&&("number"==n||"symbol"!=n&&ve.test(e))&&e>-1&&e%1==0&&e<t}function yo(e,t,n){if(!ta(n))return!1;var r=typeof t;return!!("number"==r?Ks(n)&&vo(t,n.length):"string"==r&&t in n)&&Ws(n[t],e)}function bo(e,t){if(Bs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ua(e))||Z.test(e)||!Q.test(e)||null!=t&&e in Pe(t)}function So(e){var t=io(e),n=qn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=ro(n);return!!r&&e===r[0]}(wn&&ho(new wn(new ArrayBuffer(1)))!=x||Pn&&ho(new Pn)!=E||Tn&&ho(Tn.resolve())!=T||Cn&&ho(new Cn)!=I||In&&ho(new In)!=O)&&(ho=function(e){var t=Pr(e),n=t==P?e.constructor:i,r=n?qo(n):"";if(r)switch(r){case kn:return x;case xn:return E;case Nn:return T;case An:return I;case jn:return O}return t});var _o=ke?Qs:vc;function Eo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function wo(e){return e==e&&!ta(e)}function Po(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Pe(n))}}function To(e,t,n){return t=vn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=vn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var c=r(t+1);++o<t;)c[o]=i[o];return c[t]=n(a),vt(e,this,c)}}function Co(e,t){return t.length<2?e:Er(e,ti(t,0,-1))}function Io(e,t){for(var n=e.length,r=yn(t.length,n),o=Ii(e);r--;){var s=t[r];e[r]=vo(s,n)?o[s]:i}return e}function Ro(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Do=No(Qr),Oo=Ft||function(e,t){return ot.setTimeout(e,t)},ko=No(Zr);function xo(e,t,n){var r=t+"";return ko(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return bt(f,(function(n){var r="_."+n[0];t&n[1]&&!wt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(r),n)))}function No(e){var t=0,n=0;return function(){var r=bn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ao(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var s=Gr(n,o),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var jo,Mo,Lo=(jo=js((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,i){t.push(r?i.replace(le,"$1"):n||e)})),t}),(function(e){return 500===Mo.size&&Mo.clear(),e})),Mo=jo.cache,jo);function Fo(e){if("string"==typeof e||ua(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function qo(e){if(null!=e){try{return xe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Uo(e){if(e instanceof Hn)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=Ii(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Wo=zr((function(e,t){return zs(e)?lr(e,mr(t,1,zs,!0)):[]})),Vo=zr((function(e,t){var n=Xo(t);return zs(n)&&(n=i),zs(e)?lr(e,mr(t,1,zs,!0),so(n,2)):[]})),Ho=zr((function(e,t){var n=Xo(t);return zs(n)&&(n=i),zs(e)?lr(e,mr(t,1,zs,!0),i,n):[]}));function $o(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ga(n);return i<0&&(i=vn(r+i,0)),xt(e,so(t,3),i)}function Bo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ga(n),o=n<0?vn(r+o,0):yn(o,r-1)),xt(e,so(t,3),o,!0)}function Go(e){return null!=e&&e.length?mr(e,1):[]}function Ko(e){return e&&e.length?e[0]:i}var zo=zr((function(e){var t=Tt(e,gi);return t.length&&t[0]===e[0]?Rr(t):[]})),Yo=zr((function(e){var t=Xo(e),n=Tt(e,gi);return t===Xo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Rr(n,so(t,2)):[]})),Jo=zr((function(e){var t=Xo(e),n=Tt(e,gi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Rr(n,i,t):[]}));function Xo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Qo=zr(Zo);function Zo(e,t){return e&&e.length&&t&&t.length?$r(e,t):e}var es=eo((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Br(e,Tt(t,(function(e){return vo(e,n)?+e:e})).sort(Pi)),r}));function ts(e){return null==e?e:En.call(e)}var ns=zr((function(e){return ci(mr(e,1,zs,!0))})),rs=zr((function(e){var t=Xo(e);return zs(t)&&(t=i),ci(mr(e,1,zs,!0),so(t,2))})),is=zr((function(e){var t=Xo(e);return t="function"==typeof t?t:i,ci(mr(e,1,zs,!0),i,t)}));function os(e){if(!e||!e.length)return[];var t=0;return e=Et(e,(function(e){if(zs(e))return t=vn(e.length,t),!0})),Wt(t,(function(t){return Tt(e,Lt(t))}))}function ss(e,t){if(!e||!e.length)return[];var n=os(e);return null==t?n:Tt(n,(function(e){return vt(t,i,e)}))}var as=zr((function(e,t){return zs(e)?lr(e,t):[]})),cs=zr((function(e){return hi(Et(e,zs))})),us=zr((function(e){var t=Xo(e);return zs(t)&&(t=i),hi(Et(e,zs),so(t,2))})),ls=zr((function(e){var t=Xo(e);return t="function"==typeof t?t:i,hi(Et(e,zs),i,t)})),ds=zr(os),ps=zr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,ss(e,n)}));function hs(e){var t=qn(e);return t.__chain__=!0,t}function fs(e,t){return t(e)}var gs=eo((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Hn&&vo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fs,args:[o],thisArg:i}),new Vn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),ms=Di((function(e,t,n){Ne.call(e,n)?++e[n]:ir(e,n,1)})),vs=Mi($o),ys=Mi(Bo);function bs(e,t){return(Bs(e)?bt:dr)(e,so(t,3))}function Ss(e,t){return(Bs(e)?St:pr)(e,so(t,3))}var _s=Di((function(e,t,n){Ne.call(e,n)?e[n].push(t):ir(e,n,[t])})),Es=zr((function(e,t,n){var i=-1,o="function"==typeof t,s=Ks(e)?r(e.length):[];return dr(e,(function(e){s[++i]=o?vt(t,e,n):Dr(e,t,n)})),s})),ws=Di((function(e,t,n){ir(e,n,t)}));function Ps(e,t){return(Bs(e)?Tt:Lr)(e,so(t,3))}var Ts=Di((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Cs=zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&yo(e,t[0],t[1])?t=[]:n>2&&yo(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,mr(t,1),[])})),Is=Ot||function(){return ot.Date.now()};function Rs(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Yi(e,u,i,i,i,i,t)}function Ds(e,t){var n;if("function"!=typeof t)throw new Ie(o);return e=ga(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Os=zr((function(e,t,n){var r=1;if(n.length){var i=tn(n,oo(Os));r|=c}return Yi(e,r,t,n,i)})),ks=zr((function(e,t,n){var r=3;if(n.length){var i=tn(n,oo(ks));r|=c}return Yi(t,r,e,n,i)}));function xs(e,t,n){var r,s,a,c,u,l,d=0,p=!1,h=!1,f=!0;if("function"!=typeof e)throw new Ie(o);function g(t){var n=r,o=s;return r=s=i,d=t,c=e.apply(o,n)}function m(e){return d=e,u=Oo(y,t),p?g(e):c}function v(e){var n=e-l;return l===i||n>=t||n<0||h&&e-d>=a}function y(){var e=Is();if(v(e))return b(e);u=Oo(y,function(e){var n=t-(e-l);return h?yn(n,a-(e-d)):n}(e))}function b(e){return u=i,f&&r?g(e):(r=s=i,c)}function S(){var e=Is(),n=v(e);if(r=arguments,s=this,l=e,n){if(u===i)return m(l);if(h)return Si(u),u=Oo(y,t),g(l)}return u===i&&(u=Oo(y,t)),c}return t=va(t)||0,ta(n)&&(p=!!n.leading,a=(h="maxWait"in n)?vn(va(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),S.cancel=function(){u!==i&&Si(u),d=0,r=l=s=u=i},S.flush=function(){return u===i?c:b(Is())},S}var Ns=zr((function(e,t){return ur(e,1,t)})),As=zr((function(e,t,n){return ur(e,va(t)||0,n)}));function js(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(js.Cache||Gn),n}function Ms(e){if("function"!=typeof e)throw new Ie(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}js.Cache=Gn;var Ls=yi((function(e,t){var n=(t=1==t.length&&Bs(t[0])?Tt(t[0],Ht(so())):Tt(mr(t,1),Ht(so()))).length;return zr((function(r){for(var i=-1,o=yn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return vt(e,this,r)}))})),Fs=zr((function(e,t){var n=tn(t,oo(Fs));return Yi(e,c,i,t,n)})),qs=zr((function(e,t){var n=tn(t,oo(qs));return Yi(e,64,i,t,n)})),Us=eo((function(e,t){return Yi(e,256,i,i,i,t)}));function Ws(e,t){return e===t||e!=e&&t!=t}var Vs=$i(Tr),Hs=$i((function(e,t){return e>=t})),$s=Or(function(){return arguments}())?Or:function(e){return na(e)&&Ne.call(e,"callee")&&!et.call(e,"callee")},Bs=r.isArray,Gs=dt?Ht(dt):function(e){return na(e)&&Pr(e)==k};function Ks(e){return null!=e&&ea(e.length)&&!Qs(e)}function zs(e){return na(e)&&Ks(e)}var Ys=hn||vc,Js=pt?Ht(pt):function(e){return na(e)&&Pr(e)==y};function Xs(e){if(!na(e))return!1;var t=Pr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!oa(e)}function Qs(e){if(!ta(e))return!1;var t=Pr(e);return t==S||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Zs(e){return"number"==typeof e&&e==ga(e)}function ea(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function ta(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function na(e){return null!=e&&"object"==typeof e}var ra=ht?Ht(ht):function(e){return na(e)&&ho(e)==E};function ia(e){return"number"==typeof e||na(e)&&Pr(e)==w}function oa(e){if(!na(e)||Pr(e)!=P)return!1;var t=Ge(e);if(null===t)return!0;var n=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&xe.call(n)==Le}var sa=ft?Ht(ft):function(e){return na(e)&&Pr(e)==C},aa=gt?Ht(gt):function(e){return na(e)&&ho(e)==I};function ca(e){return"string"==typeof e||!Bs(e)&&na(e)&&Pr(e)==R}function ua(e){return"symbol"==typeof e||na(e)&&Pr(e)==D}var la=mt?Ht(mt):function(e){return na(e)&&ea(e.length)&&!!Qe[Pr(e)]},da=$i(Mr),pa=$i((function(e,t){return e<=t}));function ha(e){if(!e)return[];if(Ks(e))return ca(e)?sn(e):Ii(e);if(st&&e[st])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[st]());var t=ho(e);return(t==E?Zt:t==I?nn:Wa)(e)}function fa(e){return e?(e=va(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ga(e){var t=fa(e),n=t%1;return t==t?n?t-n:t:0}function ma(e){return e?sr(ga(e),0,h):0}function va(e){if("number"==typeof e)return e;if(ua(e))return p;if(ta(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ta(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Vt(e);var n=fe.test(e);return n||me.test(e)?nt(e.slice(2),n?2:8):he.test(e)?p:+e}function ya(e){return Ri(e,Na(e))}function ba(e){return null==e?"":ai(e)}var Sa=Oi((function(e,t){if(Eo(t)||Ks(t))Ri(t,xa(t),e);else for(var n in t)Ne.call(t,n)&&er(e,n,t[n])})),_a=Oi((function(e,t){Ri(t,Na(t),e)})),Ea=Oi((function(e,t,n,r){Ri(t,Na(t),e,r)})),wa=Oi((function(e,t,n,r){Ri(t,xa(t),e,r)})),Pa=eo(or),Ta=zr((function(e,t){e=Pe(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&yo(t[0],t[1],o)&&(r=1);++n<r;)for(var s=t[n],a=Na(s),c=-1,u=a.length;++c<u;){var l=a[c],d=e[l];(d===i||Ws(d,Oe[l])&&!Ne.call(e,l))&&(e[l]=s[l])}return e})),Ca=zr((function(e){return e.push(i,Xi),vt(ja,i,e)}));function Ia(e,t,n){var r=null==e?i:Er(e,t);return r===i?n:r}function Ra(e,t){return null!=e&&fo(e,t,Ir)}var Da=qi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n}),tc(ic)),Oa=qi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),Ne.call(e,t)?e[t].push(n):e[t]=[n]}),so),ka=zr(Dr);function xa(e){return Ks(e)?Yn(e):jr(e)}function Na(e){return Ks(e)?Yn(e,!0):function(e){if(!ta(e))return function(e){var t=[];if(null!=e)for(var n in Pe(e))t.push(n);return t}(e);var t=Eo(e),n=[];for(var r in e)("constructor"!=r||!t&&Ne.call(e,r))&&n.push(r);return n}(e)}var Aa=Oi((function(e,t,n){Ur(e,t,n)})),ja=Oi((function(e,t,n,r){Ur(e,t,n,r)})),Ma=eo((function(e,t){var n={};if(null==e)return n;var r=!1;t=Tt(t,(function(t){return t=vi(t,e),r||(r=t.length>1),t})),Ri(e,no(e),n),r&&(n=ar(n,7,Qi));for(var i=t.length;i--;)ui(n,t[i]);return n})),La=eo((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Ra(e,n)}))}(e,t)}));function Fa(e,t){if(null==e)return{};var n=Tt(no(e),(function(e){return[e]}));return t=so(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var qa=zi(xa),Ua=zi(Na);function Wa(e){return null==e?[]:$t(e,xa(e))}var Va=Ai((function(e,t,n){return t=t.toLowerCase(),e+(n?Ha(t):t)}));function Ha(e){return Xa(ba(e).toLowerCase())}function $a(e){return(e=ba(e))&&e.replace(ye,Yt).replace(Be,"")}var Ba=Ai((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ga=Ai((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ka=Ni("toLowerCase"),za=Ai((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ya=Ai((function(e,t,n){return e+(n?" ":"")+Xa(t)})),Ja=Ai((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xa=Ni("toUpperCase");function Qa(e,t,n){return e=ba(e),(t=n?i:t)===i?function(e){return Ye.test(e)}(e)?function(e){return e.match(Ke)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Za=zr((function(e,t){try{return vt(e,i,t)}catch(e){return Xs(e)?e:new _e(e)}})),ec=eo((function(e,t){return bt(t,(function(t){t=Fo(t),ir(e,t,Os(e[t],e))})),e}));function tc(e){return function(){return e}}var nc=Li(),rc=Li(!0);function ic(e){return e}function oc(e){return Ar("function"==typeof e?e:ar(e,1))}var sc=zr((function(e,t){return function(n){return Dr(n,e,t)}})),ac=zr((function(e,t){return function(n){return Dr(e,n,t)}}));function cc(e,t,n){var r=xa(t),i=_r(t,r);null!=n||ta(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=_r(t,xa(t)));var o=!(ta(n)&&"chain"in n&&!n.chain),s=Qs(e);return bt(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Ii(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Ct([this.value()],arguments))})})),e}function uc(){}var lc=Wi(Tt),dc=Wi(_t),pc=Wi(Dt);function hc(e){return bo(e)?Lt(Fo(e)):function(e){return function(t){return Er(t,e)}}(e)}var fc=Hi(),gc=Hi(!0);function mc(){return[]}function vc(){return!1}var yc,bc=Ui((function(e,t){return e+t}),0),Sc=Gi("ceil"),_c=Ui((function(e,t){return e/t}),1),Ec=Gi("floor"),wc=Ui((function(e,t){return e*t}),1),Pc=Gi("round"),Tc=Ui((function(e,t){return e-t}),0);return qn.after=function(e,t){if("function"!=typeof t)throw new Ie(o);return e=ga(e),function(){if(--e<1)return t.apply(this,arguments)}},qn.ary=Rs,qn.assign=Sa,qn.assignIn=_a,qn.assignInWith=Ea,qn.assignWith=wa,qn.at=Pa,qn.before=Ds,qn.bind=Os,qn.bindAll=ec,qn.bindKey=ks,qn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Bs(e)?e:[e]},qn.chain=hs,qn.chunk=function(e,t,n){t=(n?yo(e,t,n):t===i)?1:vn(ga(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,c=r(ln(o/t));s<o;)c[a++]=ti(e,s,s+=t);return c},qn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},qn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Ct(Bs(n)?Ii(n):[n],mr(t,1))},qn.cond=function(e){var t=null==e?0:e.length,n=so();return e=t?Tt(e,(function(e){if("function"!=typeof e[1])throw new Ie(o);return[n(e[0]),e[1]]})):[],zr((function(n){for(var r=-1;++r<t;){var i=e[r];if(vt(i[0],this,n))return vt(i[1],this,n)}}))},qn.conforms=function(e){return function(e){var t=xa(e);return function(n){return cr(n,e,t)}}(ar(e,1))},qn.constant=tc,qn.countBy=ms,qn.create=function(e,t){var n=Un(e);return null==t?n:rr(n,t)},qn.curry=function e(t,n,r){var o=Yi(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},qn.curryRight=function e(t,n,r){var o=Yi(t,16,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},qn.debounce=xs,qn.defaults=Ta,qn.defaultsDeep=Ca,qn.defer=Ns,qn.delay=As,qn.difference=Wo,qn.differenceBy=Vo,qn.differenceWith=Ho,qn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ti(e,(t=n||t===i?1:ga(t))<0?0:t,r):[]},qn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ti(e,0,(t=r-(t=n||t===i?1:ga(t)))<0?0:t):[]},qn.dropRightWhile=function(e,t){return e&&e.length?di(e,so(t,3),!0,!0):[]},qn.dropWhile=function(e,t){return e&&e.length?di(e,so(t,3),!0):[]},qn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&yo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ga(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ga(r))<0&&(r+=o),r=n>r?0:ma(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},qn.filter=function(e,t){return(Bs(e)?Et:gr)(e,so(t,3))},qn.flatMap=function(e,t){return mr(Ps(e,t),1)},qn.flatMapDeep=function(e,t){return mr(Ps(e,t),l)},qn.flatMapDepth=function(e,t,n){return n=n===i?1:ga(n),mr(Ps(e,t),n)},qn.flatten=Go,qn.flattenDeep=function(e){return null!=e&&e.length?mr(e,l):[]},qn.flattenDepth=function(e,t){return null!=e&&e.length?mr(e,t=t===i?1:ga(t)):[]},qn.flip=function(e){return Yi(e,512)},qn.flow=nc,qn.flowRight=rc,qn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},qn.functions=function(e){return null==e?[]:_r(e,xa(e))},qn.functionsIn=function(e){return null==e?[]:_r(e,Na(e))},qn.groupBy=_s,qn.initial=function(e){return null!=e&&e.length?ti(e,0,-1):[]},qn.intersection=zo,qn.intersectionBy=Yo,qn.intersectionWith=Jo,qn.invert=Da,qn.invertBy=Oa,qn.invokeMap=Es,qn.iteratee=oc,qn.keyBy=ws,qn.keys=xa,qn.keysIn=Na,qn.map=Ps,qn.mapKeys=function(e,t){var n={};return t=so(t,3),br(e,(function(e,r,i){ir(n,t(e,r,i),e)})),n},qn.mapValues=function(e,t){var n={};return t=so(t,3),br(e,(function(e,r,i){ir(n,r,t(e,r,i))})),n},qn.matches=function(e){return Fr(ar(e,1))},qn.matchesProperty=function(e,t){return qr(e,ar(t,1))},qn.memoize=js,qn.merge=Aa,qn.mergeWith=ja,qn.method=sc,qn.methodOf=ac,qn.mixin=cc,qn.negate=Ms,qn.nthArg=function(e){return e=ga(e),zr((function(t){return Wr(t,e)}))},qn.omit=Ma,qn.omitBy=function(e,t){return Fa(e,Ms(so(t)))},qn.once=function(e){return Ds(2,e)},qn.orderBy=function(e,t,n,r){return null==e?[]:(Bs(t)||(t=null==t?[]:[t]),Bs(n=r?i:n)||(n=null==n?[]:[n]),Vr(e,t,n))},qn.over=lc,qn.overArgs=Ls,qn.overEvery=dc,qn.overSome=pc,qn.partial=Fs,qn.partialRight=qs,qn.partition=Ts,qn.pick=La,qn.pickBy=Fa,qn.property=hc,qn.propertyOf=function(e){return function(t){return null==e?i:Er(e,t)}},qn.pull=Qo,qn.pullAll=Zo,qn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,so(n,2)):e},qn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,i,n):e},qn.pullAt=es,qn.range=fc,qn.rangeRight=gc,qn.rearg=Us,qn.reject=function(e,t){return(Bs(e)?Et:gr)(e,Ms(so(t,3)))},qn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=so(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return Br(e,i),n},qn.rest=function(e,t){if("function"!=typeof e)throw new Ie(o);return zr(e,t=t===i?t:ga(t))},qn.reverse=ts,qn.sampleSize=function(e,t,n){return t=(n?yo(e,t,n):t===i)?1:ga(t),(Bs(e)?Xn:Jr)(e,t)},qn.set=function(e,t,n){return null==e?e:Xr(e,t,n)},qn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Xr(e,t,n,r)},qn.shuffle=function(e){return(Bs(e)?Qn:ei)(e)},qn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&yo(e,t,n)?(t=0,n=r):(t=null==t?0:ga(t),n=n===i?r:ga(n)),ti(e,t,n)):[]},qn.sortBy=Cs,qn.sortedUniq=function(e){return e&&e.length?oi(e):[]},qn.sortedUniqBy=function(e,t){return e&&e.length?oi(e,so(t,2)):[]},qn.split=function(e,t,n){return n&&"number"!=typeof n&&yo(e,t,n)&&(t=n=i),(n=n===i?h:n>>>0)?(e=ba(e))&&("string"==typeof t||null!=t&&!sa(t))&&!(t=ai(t))&&Qt(e)?bi(sn(e),0,n):e.split(t,n):[]},qn.spread=function(e,t){if("function"!=typeof e)throw new Ie(o);return t=null==t?0:vn(ga(t),0),zr((function(n){var r=n[t],i=bi(n,0,t);return r&&Ct(i,r),vt(e,this,i)}))},qn.tail=function(e){var t=null==e?0:e.length;return t?ti(e,1,t):[]},qn.take=function(e,t,n){return e&&e.length?ti(e,0,(t=n||t===i?1:ga(t))<0?0:t):[]},qn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ti(e,(t=r-(t=n||t===i?1:ga(t)))<0?0:t,r):[]},qn.takeRightWhile=function(e,t){return e&&e.length?di(e,so(t,3),!1,!0):[]},qn.takeWhile=function(e,t){return e&&e.length?di(e,so(t,3)):[]},qn.tap=function(e,t){return t(e),e},qn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ie(o);return ta(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),xs(e,t,{leading:r,maxWait:t,trailing:i})},qn.thru=fs,qn.toArray=ha,qn.toPairs=qa,qn.toPairsIn=Ua,qn.toPath=function(e){return Bs(e)?Tt(e,Fo):ua(e)?[e]:Ii(Lo(ba(e)))},qn.toPlainObject=ya,qn.transform=function(e,t,n){var r=Bs(e),i=r||Ys(e)||la(e);if(t=so(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ta(e)&&Qs(o)?Un(Ge(e)):{}}return(i?bt:br)(e,(function(e,r,i){return t(n,e,r,i)})),n},qn.unary=function(e){return Rs(e,1)},qn.union=ns,qn.unionBy=rs,qn.unionWith=is,qn.uniq=function(e){return e&&e.length?ci(e):[]},qn.uniqBy=function(e,t){return e&&e.length?ci(e,so(t,2)):[]},qn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ci(e,i,t):[]},qn.unset=function(e,t){return null==e||ui(e,t)},qn.unzip=os,qn.unzipWith=ss,qn.update=function(e,t,n){return null==e?e:li(e,t,mi(n))},qn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:li(e,t,mi(n),r)},qn.values=Wa,qn.valuesIn=function(e){return null==e?[]:$t(e,Na(e))},qn.without=as,qn.words=Qa,qn.wrap=function(e,t){return Fs(mi(t),e)},qn.xor=cs,qn.xorBy=us,qn.xorWith=ls,qn.zip=ds,qn.zipObject=function(e,t){return fi(e||[],t||[],er)},qn.zipObjectDeep=function(e,t){return fi(e||[],t||[],Xr)},qn.zipWith=ps,qn.entries=qa,qn.entriesIn=Ua,qn.extend=_a,qn.extendWith=Ea,cc(qn,qn),qn.add=bc,qn.attempt=Za,qn.camelCase=Va,qn.capitalize=Ha,qn.ceil=Sc,qn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=va(n))==n?n:0),t!==i&&(t=(t=va(t))==t?t:0),sr(va(e),t,n)},qn.clone=function(e){return ar(e,4)},qn.cloneDeep=function(e){return ar(e,5)},qn.cloneDeepWith=function(e,t){return ar(e,5,t="function"==typeof t?t:i)},qn.cloneWith=function(e,t){return ar(e,4,t="function"==typeof t?t:i)},qn.conformsTo=function(e,t){return null==t||cr(e,t,xa(t))},qn.deburr=$a,qn.defaultTo=function(e,t){return null==e||e!=e?t:e},qn.divide=_c,qn.endsWith=function(e,t,n){e=ba(e),t=ai(t);var r=e.length,o=n=n===i?r:sr(ga(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},qn.eq=Ws,qn.escape=function(e){return(e=ba(e))&&z.test(e)?e.replace(G,Jt):e},qn.escapeRegExp=function(e){return(e=ba(e))&&ne.test(e)?e.replace(te,"\\$&"):e},qn.every=function(e,t,n){var r=Bs(e)?_t:hr;return n&&yo(e,t,n)&&(t=i),r(e,so(t,3))},qn.find=vs,qn.findIndex=$o,qn.findKey=function(e,t){return kt(e,so(t,3),br)},qn.findLast=ys,qn.findLastIndex=Bo,qn.findLastKey=function(e,t){return kt(e,so(t,3),Sr)},qn.floor=Ec,qn.forEach=bs,qn.forEachRight=Ss,qn.forIn=function(e,t){return null==e?e:vr(e,so(t,3),Na)},qn.forInRight=function(e,t){return null==e?e:yr(e,so(t,3),Na)},qn.forOwn=function(e,t){return e&&br(e,so(t,3))},qn.forOwnRight=function(e,t){return e&&Sr(e,so(t,3))},qn.get=Ia,qn.gt=Vs,qn.gte=Hs,qn.has=function(e,t){return null!=e&&fo(e,t,Cr)},qn.hasIn=Ra,qn.head=Ko,qn.identity=ic,qn.includes=function(e,t,n,r){e=Ks(e)?e:Wa(e),n=n&&!r?ga(n):0;var i=e.length;return n<0&&(n=vn(i+n,0)),ca(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Nt(e,t,n)>-1},qn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ga(n);return i<0&&(i=vn(r+i,0)),Nt(e,t,i)},qn.inRange=function(e,t,n){return t=fa(t),n===i?(n=t,t=0):n=fa(n),function(e,t,n){return e>=yn(t,n)&&e<vn(t,n)}(e=va(e),t,n)},qn.invoke=ka,qn.isArguments=$s,qn.isArray=Bs,qn.isArrayBuffer=Gs,qn.isArrayLike=Ks,qn.isArrayLikeObject=zs,qn.isBoolean=function(e){return!0===e||!1===e||na(e)&&Pr(e)==v},qn.isBuffer=Ys,qn.isDate=Js,qn.isElement=function(e){return na(e)&&1===e.nodeType&&!oa(e)},qn.isEmpty=function(e){if(null==e)return!0;if(Ks(e)&&(Bs(e)||"string"==typeof e||"function"==typeof e.splice||Ys(e)||la(e)||$s(e)))return!e.length;var t=ho(e);if(t==E||t==I)return!e.size;if(Eo(e))return!jr(e).length;for(var n in e)if(Ne.call(e,n))return!1;return!0},qn.isEqual=function(e,t){return kr(e,t)},qn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?kr(e,t,i,n):!!r},qn.isError=Xs,qn.isFinite=function(e){return"number"==typeof e&&fn(e)},qn.isFunction=Qs,qn.isInteger=Zs,qn.isLength=ea,qn.isMap=ra,qn.isMatch=function(e,t){return e===t||xr(e,t,co(t))},qn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,xr(e,t,co(t),n)},qn.isNaN=function(e){return ia(e)&&e!=+e},qn.isNative=function(e){if(_o(e))throw new _e("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nr(e)},qn.isNil=function(e){return null==e},qn.isNull=function(e){return null===e},qn.isNumber=ia,qn.isObject=ta,qn.isObjectLike=na,qn.isPlainObject=oa,qn.isRegExp=sa,qn.isSafeInteger=function(e){return Zs(e)&&e>=-9007199254740991&&e<=d},qn.isSet=aa,qn.isString=ca,qn.isSymbol=ua,qn.isTypedArray=la,qn.isUndefined=function(e){return e===i},qn.isWeakMap=function(e){return na(e)&&ho(e)==O},qn.isWeakSet=function(e){return na(e)&&"[object WeakSet]"==Pr(e)},qn.join=function(e,t){return null==e?"":gn.call(e,t)},qn.kebabCase=Ba,qn.last=Xo,qn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ga(n))<0?vn(r+o,0):yn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):xt(e,jt,o,!0)},qn.lowerCase=Ga,qn.lowerFirst=Ka,qn.lt=da,qn.lte=pa,qn.max=function(e){return e&&e.length?fr(e,ic,Tr):i},qn.maxBy=function(e,t){return e&&e.length?fr(e,so(t,2),Tr):i},qn.mean=function(e){return Mt(e,ic)},qn.meanBy=function(e,t){return Mt(e,so(t,2))},qn.min=function(e){return e&&e.length?fr(e,ic,Mr):i},qn.minBy=function(e,t){return e&&e.length?fr(e,so(t,2),Mr):i},qn.stubArray=mc,qn.stubFalse=vc,qn.stubObject=function(){return{}},qn.stubString=function(){return""},qn.stubTrue=function(){return!0},qn.multiply=wc,qn.nth=function(e,t){return e&&e.length?Wr(e,ga(t)):i},qn.noConflict=function(){return ot._===this&&(ot._=Fe),this},qn.noop=uc,qn.now=Is,qn.pad=function(e,t,n){e=ba(e);var r=(t=ga(t))?on(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Vi(dn(i),n)+e+Vi(ln(i),n)},qn.padEnd=function(e,t,n){e=ba(e);var r=(t=ga(t))?on(e):0;return t&&r<t?e+Vi(t-r,n):e},qn.padStart=function(e,t,n){e=ba(e);var r=(t=ga(t))?on(e):0;return t&&r<t?Vi(t-r,n)+e:e},qn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Sn(ba(e).replace(re,""),t||0)},qn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&yo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=fa(e),t===i?(t=e,e=0):t=fa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=_n();return yn(e+o*(t-e+tt("1e-"+((o+"").length-1))),t)}return Gr(e,t)},qn.reduce=function(e,t,n){var r=Bs(e)?It:qt,i=arguments.length<3;return r(e,so(t,4),n,i,dr)},qn.reduceRight=function(e,t,n){var r=Bs(e)?Rt:qt,i=arguments.length<3;return r(e,so(t,4),n,i,pr)},qn.repeat=function(e,t,n){return t=(n?yo(e,t,n):t===i)?1:ga(t),Kr(ba(e),t)},qn.replace=function(){var e=arguments,t=ba(e[0]);return e.length<3?t:t.replace(e[1],e[2])},qn.result=function(e,t,n){var r=-1,o=(t=vi(t,e)).length;for(o||(o=1,e=i);++r<o;){var s=null==e?i:e[Fo(t[r])];s===i&&(r=o,s=n),e=Qs(s)?s.call(e):s}return e},qn.round=Pc,qn.runInContext=e,qn.sample=function(e){return(Bs(e)?Jn:Yr)(e)},qn.size=function(e){if(null==e)return 0;if(Ks(e))return ca(e)?on(e):e.length;var t=ho(e);return t==E||t==I?e.size:jr(e).length},qn.snakeCase=za,qn.some=function(e,t,n){var r=Bs(e)?Dt:ni;return n&&yo(e,t,n)&&(t=i),r(e,so(t,3))},qn.sortedIndex=function(e,t){return ri(e,t)},qn.sortedIndexBy=function(e,t,n){return ii(e,t,so(n,2))},qn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ri(e,t);if(r<n&&Ws(e[r],t))return r}return-1},qn.sortedLastIndex=function(e,t){return ri(e,t,!0)},qn.sortedLastIndexBy=function(e,t,n){return ii(e,t,so(n,2),!0)},qn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ri(e,t,!0)-1;if(Ws(e[n],t))return n}return-1},qn.startCase=Ya,qn.startsWith=function(e,t,n){return e=ba(e),n=null==n?0:sr(ga(n),0,e.length),t=ai(t),e.slice(n,n+t.length)==t},qn.subtract=Tc,qn.sum=function(e){return e&&e.length?Ut(e,ic):0},qn.sumBy=function(e,t){return e&&e.length?Ut(e,so(t,2)):0},qn.template=function(e,t,n){var r=qn.templateSettings;n&&yo(e,t,n)&&(t=i),e=ba(e),t=Ea({},t,r,Ji);var o,s,a=Ea({},t.imports,r.imports,Ji),c=xa(a),u=$t(a,c),l=0,d=t.interpolate||be,p="__p += '",h=Te((t.escape||be).source+"|"+d.source+"|"+(d===X?de:be).source+"|"+(t.evaluate||be).source+"|$","g"),f="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xe+"]")+"\n";e.replace(h,(function(t,n,r,i,a,c){return r||(r=i),p+=e.slice(l,c).replace(Se,Xt),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),p+="';\n";var g=Ne.call(t,"variable")&&t.variable;if(g){if(ue.test(g))throw new _e("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(s?p.replace(V,""):p).replace(H,"$1").replace($,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Za((function(){return Ee(c,f+"return "+p).apply(i,u)}));if(m.source=p,Xs(m))throw m;return m},qn.times=function(e,t){if((e=ga(e))<1||e>d)return[];var n=h,r=yn(e,h);t=so(t),e-=h;for(var i=Wt(r,t);++n<e;)t(n);return i},qn.toFinite=fa,qn.toInteger=ga,qn.toLength=ma,qn.toLower=function(e){return ba(e).toLowerCase()},qn.toNumber=va,qn.toSafeInteger=function(e){return e?sr(ga(e),-9007199254740991,d):0===e?e:0},qn.toString=ba,qn.toUpper=function(e){return ba(e).toUpperCase()},qn.trim=function(e,t,n){if((e=ba(e))&&(n||t===i))return Vt(e);if(!e||!(t=ai(t)))return e;var r=sn(e),o=sn(t);return bi(r,Gt(r,o),Kt(r,o)+1).join("")},qn.trimEnd=function(e,t,n){if((e=ba(e))&&(n||t===i))return e.slice(0,an(e)+1);if(!e||!(t=ai(t)))return e;var r=sn(e);return bi(r,0,Kt(r,sn(t))+1).join("")},qn.trimStart=function(e,t,n){if((e=ba(e))&&(n||t===i))return e.replace(re,"");if(!e||!(t=ai(t)))return e;var r=sn(e);return bi(r,Gt(r,sn(t))).join("")},qn.truncate=function(e,t){var n=30,r="...";if(ta(t)){var o="separator"in t?t.separator:o;n="length"in t?ga(t.length):n,r="omission"in t?ai(t.omission):r}var s=(e=ba(e)).length;if(Qt(e)){var a=sn(e);s=a.length}if(n>=s)return e;var c=n-on(r);if(c<1)return r;var u=a?bi(a,0,c).join(""):e.slice(0,c);if(o===i)return u+r;if(a&&(c+=u.length-c),sa(o)){if(e.slice(c).search(o)){var l,d=u;for(o.global||(o=Te(o.source,ba(pe.exec(o))+"g")),o.lastIndex=0;l=o.exec(d);)var p=l.index;u=u.slice(0,p===i?c:p)}}else if(e.indexOf(ai(o),c)!=c){var h=u.lastIndexOf(o);h>-1&&(u=u.slice(0,h))}return u+r},qn.unescape=function(e){return(e=ba(e))&&K.test(e)?e.replace(B,cn):e},qn.uniqueId=function(e){var t=++Ae;return ba(e)+t},qn.upperCase=Ja,qn.upperFirst=Xa,qn.each=bs,qn.eachRight=Ss,qn.first=Ko,cc(qn,(yc={},br(qn,(function(e,t){Ne.call(qn.prototype,t)||(yc[t]=e)})),yc),{chain:!1}),qn.VERSION="4.17.21",bt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){qn[e].placeholder=qn})),bt(["drop","take"],(function(e,t){Hn.prototype[e]=function(n){n=n===i?1:vn(ga(n),0);var r=this.__filtered__&&!t?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,h),type:e+(r.__dir__<0?"Right":"")}),r},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),bt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:so(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),bt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),bt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(ic)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=zr((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Dr(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(Ms(so(e)))},Hn.prototype.slice=function(e,t){e=ga(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ga(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(h)},br(Hn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=qn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);o&&(qn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,c=t instanceof Hn,u=a[0],l=c||Bs(t),d=function(e){var t=o.apply(qn,Ct([e],a));return r&&p?t[0]:t};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var p=this.__chain__,h=!!this.__actions__.length,f=s&&!p,g=c&&!h;if(!s&&l){t=g?t:new Hn(this);var m=e.apply(t,a);return m.__actions__.push({func:fs,args:[d],thisArg:i}),new Vn(m,p)}return f&&g?e.apply(this,a):(m=this.thru(d),f?r?m.value()[0]:m.value():m)})})),bt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Re[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);qn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Bs(i)?i:[],e)}return this[n]((function(n){return t.apply(Bs(n)?n:[],e)}))}})),br(Hn.prototype,(function(e,t){var n=qn[t];if(n){var r=n.name+"";Ne.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}})),On[Fi(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Ii(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ii(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ii(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Bs(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=yn(t,e+s);break;case"takeRight":e=vn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=r?a:s-1,l=this.__iteratees__,d=l.length,p=0,h=yn(c,this.__takeCount__);if(!n||!r&&i==c&&h==c)return pi(e,this.__actions__);var f=[];e:for(;c--&&p<h;){for(var g=-1,m=e[u+=t];++g<d;){var v=l[g],y=v.iteratee,b=v.type,S=y(m);if(2==b)m=S;else if(!S){if(1==b)continue e;break e}}f[p++]=m}return f},qn.prototype.at=gs,qn.prototype.chain=function(){return hs(this)},qn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},qn.prototype.next=function(){this.__values__===i&&(this.__values__=ha(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},qn.prototype.plant=function(e){for(var t,n=this;n instanceof Wn;){var r=Uo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},qn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:fs,args:[ts],thisArg:i}),new Vn(t,this.__chain__)}return this.thru(ts)},qn.prototype.toJSON=qn.prototype.valueOf=qn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},qn.prototype.first=qn.prototype.head,st&&(qn.prototype[st]=function(){return this}),qn}();ot._=un,(r=function(){return un}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},7771:(e,t,n)=>{var r=n(55639);e.exports=function(){return r.Date.now()}},14841:(e,t,n)=>{var r=n(27561),i=n(13218),o=n(33448),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):s.test(e)?NaN:+e}},39593:(e,t,n)=>{"use strict";const r=n(34411),i=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),d=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),f=()=>1,g=(e,t,n)=>{const r=e[p].get(t);if(r){const t=r.value;if(m(e,t)){if(y(e,r),!e[a])return}else n&&(e[h]&&(r.value.now=Date.now()),e[d].unshiftNode(r));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[c]&&n>e[c]},v=e=>{if(e[o]>e[i])for(let t=e[d].tail;e[o]>e[i]&&null!==t;){const n=t.prev;y(e,t),t=n}},y=(e,t)=>{if(t){const n=t.value;e[u]&&e[u](n.key,n.value),e[o]-=n.length,e[p].delete(n.key),e[d].removeNode(t)}};class b{constructor(e,t,n,r,i){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=i||0}}const S=(e,t,n,r)=>{let i=n.value;m(e,i)&&(y(e,n),e[a]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||f;if(this[s]="function"!=typeof t?f:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,v(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,v(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[s]&&(this[s]=e,this[o]=0,this[d].forEach((e=>{e.length=this[s](e.value,e.key),this[o]+=e.length}))),v(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;null!==n;){const r=n.prev;S(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[d].head;null!==n;){const r=n.next;S(this,e,n,t),n=r}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[u]&&this[d]&&this[d].length&&this[d].forEach((e=>this[u](e.key,e.value))),this[p]=new Map,this[d]=new r,this[o]=0}dump(){return this[d].map((e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,n){if((n=n||this[c])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,a=this[s](t,e);if(this[p].has(e)){if(a>this[i])return y(this,this[p].get(e)),!1;const s=this[p].get(e).value;return this[u]&&(this[l]||this[u](e,s.value)),s.now=r,s.maxAge=n,s.value=t,this[o]+=a-s.length,s.length=a,this.get(e),v(this),!0}const h=new b(e,t,a,r,n);return h.length>this[i]?(this[u]&&this[u](e,t),!1):(this[o]+=h.length,this[d].unshift(h),this[p].set(e,this[d].head),v(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!m(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[d].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const e=i-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[p].forEach(((e,t)=>g(this,t,!1)))}}},2568:(e,t,n)=>{var r,i,o,s,a;r=n(51582),i=n(40487).utf8,o=n(48738),s=n(40487).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?s.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),c=8*e.length,u=1732584193,l=-271733879,d=-1732584194,p=271733878,h=0;h<n.length;h++)n[h]=16711935&(n[h]<<8|n[h]>>>24)|4278255360&(n[h]<<24|n[h]>>>8);n[c>>>5]|=128<<c%32,n[14+(c+64>>>9<<4)]=c;var f=a._ff,g=a._gg,m=a._hh,v=a._ii;for(h=0;h<n.length;h+=16){var y=u,b=l,S=d,_=p;u=f(u,l,d,p,n[h+0],7,-680876936),p=f(p,u,l,d,n[h+1],12,-389564586),d=f(d,p,u,l,n[h+2],17,606105819),l=f(l,d,p,u,n[h+3],22,-1044525330),u=f(u,l,d,p,n[h+4],7,-176418897),p=f(p,u,l,d,n[h+5],12,1200080426),d=f(d,p,u,l,n[h+6],17,-1473231341),l=f(l,d,p,u,n[h+7],22,-45705983),u=f(u,l,d,p,n[h+8],7,1770035416),p=f(p,u,l,d,n[h+9],12,-1958414417),d=f(d,p,u,l,n[h+10],17,-42063),l=f(l,d,p,u,n[h+11],22,-1990404162),u=f(u,l,d,p,n[h+12],7,1804603682),p=f(p,u,l,d,n[h+13],12,-40341101),d=f(d,p,u,l,n[h+14],17,-1502002290),u=g(u,l=f(l,d,p,u,n[h+15],22,1236535329),d,p,n[h+1],5,-165796510),p=g(p,u,l,d,n[h+6],9,-1069501632),d=g(d,p,u,l,n[h+11],14,643717713),l=g(l,d,p,u,n[h+0],20,-373897302),u=g(u,l,d,p,n[h+5],5,-701558691),p=g(p,u,l,d,n[h+10],9,38016083),d=g(d,p,u,l,n[h+15],14,-660478335),l=g(l,d,p,u,n[h+4],20,-405537848),u=g(u,l,d,p,n[h+9],5,568446438),p=g(p,u,l,d,n[h+14],9,-1019803690),d=g(d,p,u,l,n[h+3],14,-187363961),l=g(l,d,p,u,n[h+8],20,1163531501),u=g(u,l,d,p,n[h+13],5,-1444681467),p=g(p,u,l,d,n[h+2],9,-51403784),d=g(d,p,u,l,n[h+7],14,1735328473),u=m(u,l=g(l,d,p,u,n[h+12],20,-1926607734),d,p,n[h+5],4,-378558),p=m(p,u,l,d,n[h+8],11,-2022574463),d=m(d,p,u,l,n[h+11],16,1839030562),l=m(l,d,p,u,n[h+14],23,-35309556),u=m(u,l,d,p,n[h+1],4,-1530992060),p=m(p,u,l,d,n[h+4],11,1272893353),d=m(d,p,u,l,n[h+7],16,-155497632),l=m(l,d,p,u,n[h+10],23,-1094730640),u=m(u,l,d,p,n[h+13],4,681279174),p=m(p,u,l,d,n[h+0],11,-358537222),d=m(d,p,u,l,n[h+3],16,-722521979),l=m(l,d,p,u,n[h+6],23,76029189),u=m(u,l,d,p,n[h+9],4,-640364487),p=m(p,u,l,d,n[h+12],11,-421815835),d=m(d,p,u,l,n[h+15],16,530742520),u=v(u,l=m(l,d,p,u,n[h+2],23,-995338651),d,p,n[h+0],6,-198630844),p=v(p,u,l,d,n[h+7],10,1126891415),d=v(d,p,u,l,n[h+14],15,-1416354905),l=v(l,d,p,u,n[h+5],21,-57434055),u=v(u,l,d,p,n[h+12],6,1700485571),p=v(p,u,l,d,n[h+3],10,-1894986606),d=v(d,p,u,l,n[h+10],15,-1051523),l=v(l,d,p,u,n[h+1],21,-2054922799),u=v(u,l,d,p,n[h+8],6,1873313359),p=v(p,u,l,d,n[h+15],10,-30611744),d=v(d,p,u,l,n[h+6],15,-1560198380),l=v(l,d,p,u,n[h+13],21,1309151649),u=v(u,l,d,p,n[h+4],6,-145523070),p=v(p,u,l,d,n[h+11],10,-1120210379),d=v(d,p,u,l,n[h+2],15,718787259),l=v(l,d,p,u,n[h+9],21,-343485551),u=u+y>>>0,l=l+b>>>0,d=d+S>>>0,p=p+_>>>0}return r.endian([u,l,d,p])})._ff=function(e,t,n,r,i,o,s){var a=e+(t&n|~t&r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._gg=function(e,t,n,r,i,o,s){var a=e+(t&r|n&~r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._hh=function(e,t,n,r,i,o,s){var a=e+(t^n^r)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._ii=function(e,t,n,r,i,o,s){var a=e+(n^(t|~r))+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var n=r.wordsToBytes(a(e,t));return t&&t.asBytes?n:t&&t.asString?s.bytesToString(n):r.bytesToHex(n)}},79746:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},68696:e=>{const t="object"==typeof process&&process&&"win32"===process.platform;e.exports=t?{sep:"\\"}:{sep:"/"}},91171:(e,t,n)=>{const r=e.exports=(e,t,n={})=>(m(t),!(!n.nocomment&&"#"===t.charAt(0))&&new y(t,n).match(e));e.exports=r;const i=n(68696);r.sep=i.sep;const o=Symbol("globstar **");r.GLOBSTAR=o;const s=n(15282),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},c="[^/]",u="[^/]*?",l=e=>e.split("").reduce(((e,t)=>(e[t]=!0,e)),{}),d=l("().*{}+?[]^$\\!"),p=l("[.("),h=/\/+/;r.filter=(e,t={})=>(n,i,o)=>r(n,e,t);const f=(e,t={})=>{const n={};return Object.keys(e).forEach((t=>n[t]=e[t])),Object.keys(t).forEach((e=>n[e]=t[e])),n};r.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return r;const t=r,n=(n,r,i)=>t(n,r,f(e,i));return(n.Minimatch=class extends t.Minimatch{constructor(t,n){super(t,f(e,n))}}).defaults=n=>t.defaults(f(e,n)).Minimatch,n.filter=(n,r)=>t.filter(n,f(e,r)),n.defaults=n=>t.defaults(f(e,n)),n.makeRe=(n,r)=>t.makeRe(n,f(e,r)),n.braceExpand=(n,r)=>t.braceExpand(n,f(e,r)),n.match=(n,r,i)=>t.match(n,r,f(e,i)),n},r.braceExpand=(e,t)=>g(e,t);const g=(e,t={})=>(m(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:s(e)),m=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},v=Symbol("subparse");r.makeRe=(e,t)=>new y(e,t||{}).makeRe(),r.match=(e,t,n={})=>{const r=new y(t,n);return e=e.filter((e=>r.match(e))),r.options.nonull&&!e.length&&e.push(t),e};class y{constructor(e,t){m(e),t||(t={}),this.options=t,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}debug(){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();let n=this.globSet=this.braceExpand();t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,n),n=this.globParts=n.map((e=>e.split(h))),this.debug(this.pattern,n),n=n.map(((e,t,n)=>e.map(this.parse,this))),this.debug(this.pattern,n),n=n.filter((e=>-1===e.indexOf(!1))),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;const e=this.pattern;let t=!1,n=0;for(let r=0;r<e.length&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}matchOne(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,s=0,a=e.length,c=t.length;i<a&&s<c;i++,s++){this.debug("matchOne loop");var u,l=t[s],d=e[i];if(this.debug(t,l,d),!1===l)return!1;if(l===o){this.debug("GLOBSTAR",[t,l,d]);var p=i,h=s+1;if(h===c){for(this.debug("** at the end");i<a;i++)if("."===e[i]||".."===e[i]||!r.dot&&"."===e[i].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug("\nglobstar while",e,p,t,h,f),this.matchOne(e.slice(p),t.slice(h),n))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,t,h);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",e,p,t,h),p!==a))}if("string"==typeof l?(u=d===l,this.debug("string match",l,d,u)):(u=d.match(l),this.debug("pattern match",l,d,u)),!u)return!1}if(i===a&&s===c)return!0;if(i===a)return n;if(s===c)return i===a-1&&""===e[i];throw new Error("wtf?")}braceExpand(){return g(this.pattern,this.options)}parse(e,t){m(e);const n=this.options;if("**"===e){if(!n.noglobstar)return o;e="*"}if(""===e)return"";let r="",i=!!n.nocase,s=!1;const l=[],h=[];let f,g,y,b,S=!1,_=-1,E=-1;const w="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",P=()=>{if(f){switch(f){case"*":r+=u,i=!0;break;case"?":r+=c,i=!0;break;default:r+="\\"+f}this.debug("clearStateChar %j %j",f,r),f=!1}};for(let t,o=0;o<e.length&&(t=e.charAt(o));o++)if(this.debug("%s\t%s %s %j",e,o,r,t),s){if("/"===t)return!1;d[t]&&(r+="\\"),r+=t,s=!1}else switch(t){case"/":return!1;case"\\":P(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,o,r,t),S){this.debug("  in class"),"!"===t&&o===E+1&&(t="^"),r+=t;continue}this.debug("call clearStateChar %j",f),P(),f=t,n.noext&&P();continue;case"(":if(S){r+="(";continue}if(!f){r+="\\(";continue}l.push({type:f,start:o-1,reStart:r.length,open:a[f].open,close:a[f].close}),r+="!"===f?"(?:(?!(?:":"(?:",this.debug("plType %j %j",f,r),f=!1;continue;case")":if(S||!l.length){r+="\\)";continue}P(),i=!0,y=l.pop(),r+=y.close,"!"===y.type&&h.push(y),y.reEnd=r.length;continue;case"|":if(S||!l.length){r+="\\|";continue}P(),r+="|";continue;case"[":if(P(),S){r+="\\"+t;continue}S=!0,E=o,_=r.length,r+=t;continue;case"]":if(o===E+1||!S){r+="\\"+t;continue}g=e.substring(E+1,o);try{RegExp("["+g+"]")}catch(e){b=this.parse(g,v),r=r.substr(0,_)+"\\["+b[0]+"\\]",i=i||b[1],S=!1;continue}i=!0,S=!1,r+=t;continue;default:P(),!d[t]||"^"===t&&S||(r+="\\"),r+=t}for(S&&(g=e.substr(E+1),b=this.parse(g,v),r=r.substr(0,_)+"\\["+b[0],i=i||b[1]),y=l.pop();y;y=l.pop()){let e;e=r.slice(y.reStart+y.open.length),this.debug("setting tail",r,y),e=e.replace(/((?:\\{2}){0,64})(\\?)\|/g,((e,t,n)=>(n||(n="\\"),t+t+n+"|"))),this.debug("tail=%j\n   %s",e,e,y,r);const t="*"===y.type?u:"?"===y.type?c:"\\"+y.type;i=!0,r=r.slice(0,y.reStart)+t+"\\("+e}P(),s&&(r+="\\\\");const T=p[r.charAt(0)];for(let e=h.length-1;e>-1;e--){const n=h[e],i=r.slice(0,n.reStart),o=r.slice(n.reStart,n.reEnd-8);let s=r.slice(n.reEnd);const a=r.slice(n.reEnd-8,n.reEnd)+s,c=i.split("(").length-1;let u=s;for(let e=0;e<c;e++)u=u.replace(/\)[+*?]?/,"");s=u,r=i+o+s+(""===s&&t!==v?"$":"")+a}if(""!==r&&i&&(r="(?=.)"+r),T&&(r=w+r),t===v)return[r,i];if(!i)return e.replace(/\\(.)/g,"$1");const C=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+r+"$",C),{_glob:e,_src:r})}catch(e){return new RegExp("$.")}}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,n=t.noglobstar?u:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"";let i=e.map((e=>(e=e.map((e=>"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===o?o:e._src)).reduce(((e,t)=>(e[e.length-1]===o&&t===o||e.push(t),e)),[]),e.forEach(((t,r)=>{t===o&&e[r-1]!==o&&(0===r?e.length>1?e[r+1]="(?:\\/|"+n+"\\/)?"+e[r+1]:e[r]=n:r===e.length-1?e[r-1]+="(?:\\/|"+n+")?":(e[r-1]+="(?:\\/|\\/"+n+"\\/)"+e[r+1],e[r+1]=o))})),e.filter((e=>e!==o)).join("/")))).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch(e){this.regexp=!1}return this.regexp}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const n=this.options;"/"!==i.sep&&(e=e.split(i.sep).join("/")),e=e.split(h),this.debug(this.pattern,"split",e);const r=this.set;let o;this.debug(this.pattern,"set",r);for(let t=e.length-1;t>=0&&(o=e[t],!o);t--);for(let i=0;i<r.length;i++){const s=r[i];let a=e;if(n.matchBase&&1===s.length&&(a=[o]),this.matchOne(a,s,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(e){return r.defaults(e).Minimatch}}r.Minimatch=y},15282:(e,t,n)=>{var r=n(5623);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),m(function(e){return e.split("\\\\").join(i).split("\\{").join(o).split("\\}").join(s).split("\\,").join(a).split("\\.").join(c)}(e),!0).map(l)):[]};var i="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function l(e){return e.split(i).join("\\").split(o).join("{").split(s).join("}").split(a).join(",").split(c).join(".")}function d(e){if(!e)return[""];var t=[],n=r("{","}",e);if(!n)return e.split(",");var i=n.pre,o=n.body,s=n.post,a=i.split(",");a[a.length-1]+="{"+o+"}";var c=d(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function p(e){return"{"+e+"}"}function h(e){return/^-?0\d/.test(e)}function f(e,t){return e<=t}function g(e,t){return e>=t}function m(e,t){var n=[],i=r("{","}",e);if(!i)return[e];var o=i.pre,a=i.post.length?m(i.post,!1):[""];if(/\$$/.test(i.pre))for(var c=0;c<a.length;c++){var l=o+"{"+i.body+"}"+a[c];n.push(l)}else{var v,y,b=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),S=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),_=b||S,E=i.body.indexOf(",")>=0;if(!_&&!E)return i.post.match(/,.*\}/)?m(e=i.pre+"{"+i.body+s+i.post):[e];if(_)v=i.body.split(/\.\./);else if(1===(v=d(i.body)).length&&1===(v=m(v[0],!1).map(p)).length)return a.map((function(e){return i.pre+v[0]+e}));if(_){var w=u(v[0]),P=u(v[1]),T=Math.max(v[0].length,v[1].length),C=3==v.length?Math.abs(u(v[2])):1,I=f;P<w&&(C*=-1,I=g);var R=v.some(h);y=[];for(var D=w;I(D,P);D+=C){var O;if(S)"\\"===(O=String.fromCharCode(D))&&(O="");else if(O=String(D),R){var k=T-O.length;if(k>0){var x=new Array(k+1).join("0");O=D<0?"-"+x+O.slice(1):x+O}}y.push(O)}}else{y=[];for(var N=0;N<v.length;N++)y.push.apply(y,m(v[N],!1))}for(N=0;N<y.length;N++)for(c=0;c<a.length;c++)l=o+y[N]+a[c],(!t||_||l)&&n.push(l)}return n}},84266:function(e){"use strict";!function(t){var n,r=/^[$_a-z][$_a-z0-9]*$/i;function i(e){var t,n,i,o,s,a,c,u={},l=0,d="",p=!1;for(t=0;t<e.length;++t)if(n=e[t],o=(i=e[t+1])+e[t+2],d+=n,"\\"===n)if(p||"k<"!==o)d+=i,++t;else{if((s=e.indexOf(">",t+3))<0)throw new Error("'>' missing in named backreference.");if(!(c=u[a=e.substring(t+3,s)]))throw new Error("Named group '"+a+"' is not defined in backreference.");if("number"!=typeof c)throw new Error("Named backreference referencing duplicate named group '"+a+"'.");t=s,d+=c}else if(p)"]"===n&&(p=!1);else if("["===n)p=!0;else if("("===n&&"?:"!==o&&"?="!==o&&"?!"!==o&&(l++,"?<"===o||":<"===o)){if((s=e.indexOf(">",t+3))<0)throw new Error("'>' missing in named group.");if(a=e.substring(t+3,s),!r.test(a))throw new Error("Invalide group name '"+a+"'. Regexp group name should start with '_$a-zA-Z' and can contain only '_$a-zA-Z0-9'.");void 0===(c=u[a])?u[a]=l:"number"==typeof c?u[a]=[c,l]:c.push(l),t=s}return{mapper:u,regexText:d}}e.exports=function(e,t){if("boolean"!=typeof e){"string"!=typeof e&&(t=(e.global?"g":"")+(e.multiline?"m":"")+(e.ignoreCase?"i":""),e=e.source);var r=n?n[e]||(n[e]=i(e)):i(e),o=new RegExp(r.regexText,t);return o.groupsIndices=r.mapper,o.exec=function(e){var t=RegExp.prototype.exec.call(this,e);return t&&s(t),t},o.execGroups=function(e,t){var n=this.exec(e);return n?n.groups(t):null},o.replace=function(e,t){if("function"==typeof t)return e.replace(o,(function(){var e=Array.prototype.slice.call(arguments,0,arguments.length-2);return s(e),t.apply(e,arguments)}));var n=function(e,t){var n,r,i,o,s,a,c="";for(n=0;n<e.length;++n)if(r=e[n],i=e[n+1],c+=r,"$"===r)if("$"===i)c+=i,++n;else if("{"===i){if((s=e.indexOf("}",n+2))<0)throw new Error("'>' missing in replacement named group.");if(void 0===(a=t[o=e.substring(n+2,s)]))throw new Error("Named group '"+o+"' is not defined in replacement text.");if("number"!=typeof a)throw new Error("Named replacement referencing duplicate named group '"+o+"'.");c+=a,n=s}return c}(t,this.groupsIndices);return e.replace(this,n)},o}function s(e){var t,n,i=r.mapper;return e.group=function(t,n){var r=i[t];if("number"==typeof r)return e[r];if(n)return r.map((function(t){return e[t]}));if(r)for(var o=0;o<r.length;++o){var s=e[r[o]];if(void 0!==s)return s}},e.groups=function(r){var o=r?n:t;if(o)return o;for(var s in o={},i)o[s]=e.group(s,r);return r?n=o:t=o},e}!1===e?n=void 0:n||(n={})}}("undefined"==typeof window||window)},30778:(e,t,n)=>{var r=n(52479);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},55339:e=>{"use strict";var t="win32"===process.platform,n=t?/[^:]\\$/:/.\/$/;e.exports=function(){var e;return e=t?process.env.TEMP||process.env.TMP||(process.env.SystemRoot||process.env.windir)+"\\temp":process.env.TMPDIR||process.env.TMP||process.env.TEMP||"/tmp",n.test(e)&&(e=e.slice(0,-1)),e}},64095:e=>{"use strict";function t(e){return"/"===e.charAt(0)}function n(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?n:t,e.exports.posix=t,e.exports.win32=n},28660:()=>{var e;!function(e){!function(t){var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=i(e);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===n.Reflect?n.Reflect=e:r=i(n.Reflect,r),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,s={__proto__:[]}instanceof Array,a=!o&&!s,c={create:o?function(){return j(Object.create(null))}:s?function(){return j({__proto__:null})}:function(){return j({})},has:a?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:a?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function s(e,t){return[e,t]}}():Map,p=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,h=new(l||"function"!=typeof WeakMap?function(){var e=c.create(),n=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var t;do{t="@@WeakMap@@"+s()}while(c.has(e,t));return e[t]=!0,t}function i(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:c.create()})}return e[n]}function o(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(){var e,t=(e=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):o(new Uint8Array(e),e):o(new Array(e),e));t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<16;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}():WeakMap);function f(e,t,n){var r=h.get(e);if(w(r)){if(!n)return;r=new d,h.set(e,r)}var i=r.get(t);if(w(i)){if(!n)return;i=new d,r.set(t,i)}return i}function g(e,t,n){if(m(e,t,n))return!0;var r=A(t);return!P(r)&&g(e,r,n)}function m(e,t,n){var r=f(t,n,!1);return!w(r)&&!!r.has(e)}function v(e,t,n){if(m(e,t,n))return y(e,t,n);var r=A(t);return P(r)?void 0:v(e,r,n)}function y(e,t,n){var r=f(t,n,!1);if(!w(r))return r.get(e)}function b(e,t,n,r){f(n,r,!0).set(e,t)}function S(e,t){var n=_(e,t),r=A(e);if(null===r)return n;var i=S(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new p,s=[],a=0,c=n;a<c.length;a++){var u=c[a];o.has(u)||(o.add(u),s.push(u))}for(var l=0,d=i;l<d.length;l++)u=d[l],o.has(u)||(o.add(u),s.push(u));return s}function _(e,t){var n=[],r=f(e,t,!1);if(w(r))return n;for(var o=function(e){var t=k(e,i);if(!D(t))throw new TypeError;var n=t.call(e);if(!T(n))throw new TypeError;return n}(r.keys()),s=0;;){var a=x(o);if(!a)return n.length=s,n;var c=a.value;try{n[s]=c}catch(e){try{N(o)}finally{throw e}}s++}}function E(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function w(e){return void 0===e}function P(e){return null===e}function T(e){return"object"==typeof e?null!==e:"function"==typeof e}function C(e,t){switch(E(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=k(e,r);if(void 0!==i){var o=i.call(e,n);if(T(o))throw new TypeError;return o}return function(e,t){if("string"===t){var n=e.toString;if(D(n)&&!T(i=n.call(e)))return i;if(D(r=e.valueOf)&&!T(i=r.call(e)))return i}else{var r;if(D(r=e.valueOf)&&!T(i=r.call(e)))return i;var i,o=e.toString;if(D(o)&&!T(i=o.call(e)))return i}throw new TypeError}(e,"default"===n?"number":n)}function I(e){var t=C(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function R(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function D(e){return"function"==typeof e}function O(e){return"function"==typeof e}function k(e,t){var n=e[t];if(null!=n){if(!D(n))throw new TypeError;return n}}function x(e){var t=e.next();return!t.done&&t}function N(e){var t=e.return;t&&t.call(e)}function A(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function j(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,n,r){if(w(n)){if(!R(e))throw new TypeError;if(!O(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!w(r)&&!P(r)){if(!O(r))throw new TypeError;t=r}}return t}(e,t)}if(!R(e))throw new TypeError;if(!T(t))throw new TypeError;if(!T(r)&&!w(r)&&!P(r))throw new TypeError;return P(r)&&(r=void 0),function(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!w(o)&&!P(o)){if(!T(o))throw new TypeError;r=o}}return r}(e,t,n=I(n),r)})),e("metadata",(function(e,t){return function(n,r){if(!T(n))throw new TypeError;if(!w(r)&&!function(e){switch(E(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;b(e,t,n,r)}})),e("defineMetadata",(function(e,t,n,r){if(!T(n))throw new TypeError;return w(r)||(r=I(r)),b(e,t,n,r)})),e("hasMetadata",(function(e,t,n){if(!T(t))throw new TypeError;return w(n)||(n=I(n)),g(e,t,n)})),e("hasOwnMetadata",(function(e,t,n){if(!T(t))throw new TypeError;return w(n)||(n=I(n)),m(e,t,n)})),e("getMetadata",(function(e,t,n){if(!T(t))throw new TypeError;return w(n)||(n=I(n)),v(e,t,n)})),e("getOwnMetadata",(function(e,t,n){if(!T(t))throw new TypeError;return w(n)||(n=I(n)),y(e,t,n)})),e("getMetadataKeys",(function(e,t){if(!T(e))throw new TypeError;return w(t)||(t=I(t)),S(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!T(e))throw new TypeError;return w(t)||(t=I(t)),_(e,t)})),e("deleteMetadata",(function(e,t,n){if(!T(t))throw new TypeError;w(n)||(n=I(n));var r=f(t,n,!1);if(w(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=h.get(t);return i.delete(n),i.size>0||h.delete(t),!0}))}(r)}()}(e||(e={}))},32099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(50417);t.Observable=r.Observable},95100:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(32099))},50417:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ArgumentOutOfRangeError:()=>j.W,AsyncSubject:()=>v,BehaviorSubject:()=>g,ConnectableObservable:()=>l,EMPTY:()=>ge.E,EmptyError:()=>M.K,GroupedObservable:()=>p.T,NEVER:()=>xe,Notification:()=>O.P,NotificationKind:()=>O.W,ObjectUnsubscribedError:()=>f.N,Observable:()=>r.y,ReplaySubject:()=>m.t,Scheduler:()=>D.b,Subject:()=>o.xQ,Subscriber:()=>s.L,Subscription:()=>a.w,TimeoutError:()=>F.W,UnsubscriptionError:()=>L.B,VirtualAction:()=>R,VirtualTimeScheduler:()=>I,animationFrame:()=>C,animationFrameScheduler:()=>T,asap:()=>y.e,asapScheduler:()=>y.E,async:()=>E,asyncScheduler:()=>_,bindCallback:()=>H,bindNodeCallback:()=>G,combineLatest:()=>J.aj,concat:()=>fe,config:()=>ot.v,defer:()=>me,empty:()=>ge.c,forkJoin:()=>ye,from:()=>ae,fromEvent:()=>_e,fromEventPattern:()=>we,generate:()=>Pe,identity:()=>N.y,iif:()=>Ce,interval:()=>Re,isObservable:()=>A,merge:()=>ke,never:()=>Ne,noop:()=>x.Z,observable:()=>h.L,of:()=>X.of,onErrorResumeNext:()=>Ae,pairs:()=>je,partition:()=>We,pipe:()=>k.z,queue:()=>w.c,queueScheduler:()=>w.N,race:()=>$e,range:()=>Ke.w,scheduled:()=>se,throwError:()=>ze._,timer:()=>Ye,using:()=>Xe,zip:()=>Ze});var r=n(61244),i=n(70655),o=n(70211),s=n(10979),a=n(98760),c=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new u(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return i.ZT(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(s.L),l=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return i.ZT(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.w).add(this.source.subscribe(new d(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.w.EMPTY)),e},t.prototype.refCount=function(){return(e=this).lift(new c(e));var e},t}(r.y),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return i.ZT(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(o.Yc),p=(s.L,n(11120)),h=n(15050),f=n(41016),g=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return i.ZT(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new f.N;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.xQ),m=n(32993),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return i.ZT(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),a.w.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),a.w.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(o.xQ),y=n(77681),b=n(96114),S=n(78399),_=new S.v(b.o),E=_,w=n(92546),P=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return i.ZT(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(b.o),T=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.ZT(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(S.v))(P),C=T,I=function(e){function t(t,n){void 0===t&&(t=R),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return i.ZT(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(S.v),R=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return i.ZT(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(b.o),D=n(38725),O=n(42632),k=n(62561),x=n(33306),N=n(43608);function A(e){return!!e&&(e instanceof r.y||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var j=n(76565),M=n(26929),L=n(28782),F=n(81462),q=n(55709),U=n(93642),W=n(59026),V=n(17507);function H(e,t,n){if(t){if(!(0,V.K)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return H(e,n).apply(void 0,r).pipe((0,q.U)((function(e){return(0,W.k)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o,s=this,a={context:s,subject:o,callbackFunc:e,scheduler:n};return new r.y((function(r){if(n){var i={args:t,subscriber:r,params:a};return n.schedule($,0,i)}if(!o){o=new v;try{e.apply(s,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.next(e.length<=1?e[0]:e),o.complete()}]))}catch(e){(0,U._)(o)?o.error(e):console.warn(e)}}return o.subscribe(r)}))}}function $(e){var t=this,n=e.args,r=e.subscriber,i=e.params,o=i.callbackFunc,s=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new v;try{o.apply(s,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(a.schedule(B,0,{value:r,subject:c}))}]))}catch(e){c.error(e)}}this.add(c.subscribe(r))}function B(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function G(e,t,n){if(t){if(!(0,V.K)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return G(e,n).apply(void 0,r).pipe((0,q.U)((function(e){return(0,W.k)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r.y((function(r){var i=o.context,s=o.subject;if(n)return n.schedule(K,0,{params:o,subscriber:r,context:i});if(!s){s=o.subject=new v;try{e.apply(i,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?s.error(n):(s.next(e.length<=1?e[0]:e),s.complete())}]))}catch(e){(0,U._)(s)?s.error(e):console.warn(e)}}return s.subscribe(r)}))}}function K(e){var t=this,n=e.params,r=e.subscriber,i=e.context,o=n.callbackFunc,s=n.args,a=n.scheduler,c=n.subject;if(!c){c=n.subject=new v;try{o.apply(i,s.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(a.schedule(Y,0,{err:r,subject:c}));else{var i=e.length<=1?e[0]:e;t.add(a.schedule(z,0,{value:i,subject:c}))}}]))}catch(e){this.add(a.schedule(Y,0,{err:e,subject:c}))}}this.add(c.subscribe(r))}function z(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function Y(e){var t=e.err;e.subject.error(t)}var J=n(75142),X=n(18170),Q=n(84551),Z=n(73049),ee=n(53109),te=n(91275),ne=n(76208),re=n(70336),ie=n(39217),oe=n(6727);function se(e,t){if(null!=e){if((0,ne.c)(e))return function(e,t){return new r.y((function(n){var r=new a.w;return r.add(t.schedule((function(){var i=e[h.L]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if((0,re.t)(e))return(0,Z.c)(e,t);if((0,ie.z)(e))return(0,ee.r)(e,t);if((0,oe.T)(e)||"string"==typeof e)return(0,te.Q)(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function ae(e,t){return t?se(e,t):e instanceof r.y?e:new r.y((0,Q.s)(e))}var ce=n(17604);function ue(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(ue((function(n,r){return ae(e(n,r)).pipe((0,q.U)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new le(e,n))})}var le=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new de(e,this.project,this.concurrent))},e}(),de=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i.ZT(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new ce.IY(this),n=this.destination;n.add(t);var r=(0,ce.ft)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(ce.Ds);function pe(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),ue(N.y,e)}function he(){return pe(1)}function fe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return he()(X.of.apply(void 0,e))}var ge=n(5631);function me(e){return new r.y((function(t){var n;try{n=e()}catch(e){return void t.error(e)}return(n?ae(n):(0,ge.c)()).subscribe(t)}))}var ve=n(92009);function ye(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if((0,W.k)(n))return be(n,null);if((0,ve.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return be(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var i=e.pop();return be(e=1===e.length&&(0,W.k)(e[0])?e[0]:e,null).pipe((0,q.U)((function(e){return i.apply(void 0,e)})))}return be(e,null)}function be(e,t){return new r.y((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var c=ae(e[a]),u=!1;n.add(c.subscribe({next:function(e){u||(u=!0,s++),i[a]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&u||(s===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},c=0;c<r;c++)a(c);else n.complete()}))}var Se=n(14156);function _e(e,t,n,i){return(0,Se.m)(n)&&(i=n,n=void 0),i?_e(e,t,n).pipe((0,q.U)((function(e){return(0,W.k)(e)?i.apply(void 0,e):i(e)}))):new r.y((function(r){Ee(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function Ee(e,t,n,r,i){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var s=e;e.addEventListener(t,n,i),o=function(){return s.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var a=e;e.on(t,n),o=function(){return a.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var c=e;e.addListener(t,n),o=function(){return c.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var u=0,l=e.length;u<l;u++)Ee(e[u],t,n,r,i)}r.add(o)}function we(e,t,n){return n?we(e,t).pipe((0,q.U)((function(e){return(0,W.k)(e)?n.apply(void 0,e):n(e)}))):new r.y((function(n){var r,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(i)}catch(e){return void n.error(e)}if((0,Se.m)(t))return function(){return t(i,r)}}))}function Pe(e,t,n,i,o){var s,a;if(1==arguments.length){var c=e;a=c.initialState,t=c.condition,n=c.iterate,s=c.resultSelector||N.y,o=c.scheduler}else void 0===i||(0,V.K)(i)?(a=e,s=N.y,o=i):(a=e,s=i);return new r.y((function(e){var r=a;if(o)return o.schedule(Te,0,{subscriber:e,iterate:n,condition:t,resultSelector:s,state:r});for(;;){if(t){var i=void 0;try{i=t(r)}catch(t){return void e.error(t)}if(!i){e.complete();break}}var c=void 0;try{c=s(r)}catch(t){return void e.error(t)}if(e.next(c),e.closed)break;try{r=n(r)}catch(t){return void e.error(t)}}}))}function Te(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function Ce(e,t,n){return void 0===t&&(t=ge.E),void 0===n&&(n=ge.E),me((function(){return e()?t:n}))}var Ie=n(35812);function Re(e,t){return void 0===e&&(e=0),void 0===t&&(t=E),(!(0,Ie.k)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=E),new r.y((function(n){return n.add(t.schedule(De,e,{subscriber:n,counter:0,period:e})),n}))}function De(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var Oe=n(43375);function ke(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,i=null,o=e[e.length-1];return(0,V.K)(o)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof o&&(n=e.pop()),null===i&&1===e.length&&e[0]instanceof r.y?e[0]:pe(n)((0,Oe.n)(e,i))}var xe=new r.y(x.Z);function Ne(){return xe}function Ae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return ge.E;var n=e[0],i=e.slice(1);return 1===e.length&&(0,W.k)(n)?Ae.apply(void 0,n):new r.y((function(e){var t=function(){return e.add(Ae.apply(void 0,i).subscribe(e))};return ae(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function je(e,t){return t?new r.y((function(n){var r=Object.keys(e),i=new a.w;return i.add(t.schedule(Me,0,{keys:r,index:0,subscriber:n,subscription:i,obj:e})),i})):new r.y((function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()}))}function Me(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var s=t[n];r.next([s,o[s]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}var Le=n(18463);function Fe(e,t){return function(n){return n.lift(new qe(e,t))}}var qe=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Ue(e,this.predicate,this.thisArg))},e}(),Ue=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return i.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(s.L);function We(e,t,n){return[Fe(t,n)(new r.y((0,Q.s)(e))),Fe((0,Le.f)(t,n))(new r.y((0,Q.s)(e)))]}var Ve=n(62039),He=n(47407);function $e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!(0,W.k)(e[0]))return e[0];e=e[0]}return(0,Oe.n)(e,void 0).lift(new Be)}var Be=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ge(e))},e}(),Ge=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return i.ZT(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=(0,He.D)(this,r,void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(t)},t}(Ve.L),Ke=n(31898),ze=n(64944);function Ye(e,t,n){void 0===e&&(e=0);var i=-1;return(0,Ie.k)(t)?i=Number(t)<1?1:Number(t):(0,V.K)(t)&&(n=t),(0,V.K)(n)||(n=E),new r.y((function(t){var r=(0,Ie.k)(e)?e:+e-n.now();return n.schedule(Je,r,{index:0,period:i,subscriber:t})}))}function Je(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function Xe(e,t){return new r.y((function(n){var r,i;try{r=e()}catch(e){return void n.error(e)}try{i=t(r)}catch(e){return void n.error(e)}var o=(i?ae(i):ge.E).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))}var Qe=n(999);function Ze(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),(0,Oe.n)(e,void 0).lift(new et(n))}var et=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new tt(e,this.resultSelector))},e}(),tt=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var i=e.call(this,t)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:void 0,i}return i.ZT(t,e),t.prototype._next=function(e){var t=this.iterators;(0,W.k)(e)?t.push(new rt(e)):"function"==typeof e[Qe.hZ]?t.push(new nt(e[Qe.hZ]())):t.push(new it(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++)if("function"==typeof(s=e[r]).hasValue&&!s.hasValue())return;var i=!1,o=[];for(r=0;r<t;r++){var s,a=(s=e[r]).next();if(s.hasCompleted()&&(i=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.L),nt=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),rt=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[Qe.hZ]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),it=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return i.ZT(t,e),t.prototype[Qe.hZ]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return(0,ce.ft)(this.observable,new ce.IY(this))},t}(ce.Ds),ot=n(30150)},25472:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AjaxError:()=>x,AjaxObservable:()=>D,AjaxResponse:()=>k,AjaxSubscriber:()=>O,AjaxTimeoutError:()=>A,AnonymousSubject:()=>a.ug,ArgumentOutOfRangeError:()=>ee.W,CombineLatestOperator:()=>W.Ms,EmptyError:()=>te.K,GroupedObservable:()=>z.T,Immediate:()=>ne.H,InnerSubscriber:()=>i.d,ObjectUnsubscribedError:()=>re.N,OuterSubscriber:()=>o.L,Scheduler:()=>s.b,SubjectSubscription:()=>c.W,SubscribeOnObservable:()=>B,Subscriber:()=>u.L,TimeInterval:()=>K,TimeoutError:()=>ie.W,Timestamp:()=>G,UnsubscriptionError:()=>oe.B,WebSocketSubject:()=>q,ajax:()=>j,ajaxDelete:()=>P,ajaxGet:()=>E,ajaxGetJSON:()=>R,ajaxPatch:()=>C,ajaxPost:()=>w,ajaxPut:()=>T,applyMixins:()=>se,config:()=>r.v,defaultThrottleConfig:()=>J,dispatch:()=>V.W,errorObject:()=>ae,fromIterable:()=>m,fromPromise:()=>h,hostReportError:()=>ce.z,identity:()=>ue.y,isArray:()=>le.k,isArrayLike:()=>de.z,isDate:()=>pe,isFunction:()=>fe.m,isIterable:()=>ge.T,isNumeric:()=>$.k,isObject:()=>me.K,isObservable:()=>ve.c,isPromise:()=>ye.t,isScheduler:()=>be.K,iterator:()=>Q.hZ,noop:()=>Se.Z,not:()=>_e.f,observable:()=>Z.L,pipe:()=>Ee.z,root:()=>_,rxSubscriber:()=>X.b,subscribeTo:()=>we.s,subscribeToArray:()=>Pe.V,subscribeToIterable:()=>f.u,subscribeToObservable:()=>Te.h,subscribeToPromise:()=>d.A,subscribeToResult:()=>Ce.D,toSubscriber:()=>Ie.Y,tryCatch:()=>De,webSocket:()=>U});var r=n(30150),i=n(81112),o=n(62039),s=n(38725),a=n(70211),c=n(18253),u=n(10979),l=n(61244),d=n(51203),p=n(73049);function h(e,t){return t?(0,p.c)(e,t):new l.y((0,d.A)(e))}var f=n(52949),g=n(91275);function m(e,t){if(!e)throw new Error("Iterable cannot be null");return t?(0,g.Q)(e,t):new l.y((0,f.u)(e))}var v=n(70655),y="undefined"!=typeof window&&window,b="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,S="undefined"!=typeof global&&global,_=y||S||b;function E(e,t){return void 0===t&&(t=null),new D({method:"GET",url:e,headers:t})}function w(e,t,n){return new D({method:"POST",url:e,body:t,headers:n})}function P(e,t){return new D({method:"DELETE",url:e,headers:t})}function T(e,t,n){return new D({method:"PUT",url:e,body:t,headers:n})}function C(e,t,n){return new D({method:"PATCH",url:e,body:t,headers:n})}var I=(0,n(55709).U)((function(e,t){return e.response}));function R(e,t){return I(new D({method:"GET",url:e,responseType:"json",headers:t}))}var D=function(e){function t(t){var n=e.call(this)||this,r={async:!0,createXHR:function(){return this.crossDomain?function(){if(_.XMLHttpRequest)return new _.XMLHttpRequest;if(_.XDomainRequest)return new _.XDomainRequest;throw new Error("CORS is not supported by your browser")}():function(){if(_.XMLHttpRequest)return new _.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(e=t[n],new _.ActiveXObject(e))break}catch(e){}return new _.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof t)r.url=t;else for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return n.request=r,n}var n;return v.ZT(t,e),t.prototype._subscribe=function(e){return new O(e,this.request)},t.create=((n=function(e){return new t(e)}).get=E,n.post=w,n.delete=P,n.put=T,n.patch=C,n.getJSON=R,n),t}(l.y),O=function(e){function t(t,n){var r=e.call(this,t)||this;r.request=n,r.done=!1;var i=n.headers=n.headers||{};return n.crossDomain||r.getHeader(i,"X-Requested-With")||(i["X-Requested-With"]="XMLHttpRequest"),r.getHeader(i,"Content-Type")||_.FormData&&n.body instanceof _.FormData||void 0===n.body||(i["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=r.serializeBody(n.body,r.getHeader(n.headers,"Content-Type")),r.send(),r}return v.ZT(t,e),t.prototype.next=function(e){this.done=!0;var t,n=this,r=n.xhr,i=n.request,o=n.destination;try{t=new k(e,r,i)}catch(e){return o.error(e)}o.next(t)},t.prototype.send=function(){var e=this.request,t=this.request,n=t.user,r=t.method,i=t.url,o=t.async,s=t.password,a=t.headers,c=t.body;try{var u=this.xhr=e.createXHR();this.setupEvents(u,e),n?u.open(r,i,o,n,s):u.open(r,i,o),o&&(u.timeout=e.timeout,u.responseType=e.responseType),"withCredentials"in u&&(u.withCredentials=!!e.withCredentials),this.setHeaders(u,a),c?u.send(c):u.send()}catch(e){this.error(e)}},t.prototype.serializeBody=function(e,t){if(!e||"string"==typeof e)return e;if(_.FormData&&e instanceof _.FormData)return e;if(t){var n=t.indexOf(";");-1!==n&&(t=t.substring(0,n))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");case"application/json":return JSON.stringify(e);default:return e}},t.prototype.setHeaders=function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setRequestHeader(n,t[n])},t.prototype.getHeader=function(e,t){for(var n in e)if(n.toLowerCase()===t.toLowerCase())return e[n]},t.prototype.setupEvents=function(e,t){var n,r,i=t.progressSubscriber;function o(e){var t,n=o,r=n.subscriber,i=n.progressSubscriber,s=n.request;i&&i.error(e);try{t=new A(this,s)}catch(e){t=e}r.error(t)}(e.ontimeout=o,o.request=t,o.subscriber=this,o.progressSubscriber=i,e.upload&&"withCredentials"in e)&&(i&&(n=function(e){n.progressSubscriber.next(e)},_.XDomainRequest?e.onprogress=n:e.upload.onprogress=n,n.progressSubscriber=i),r=function(e){var t,n=r,i=n.progressSubscriber,o=n.subscriber,s=n.request;i&&i.error(e);try{t=new x("ajax error",this,s)}catch(e){t=e}o.error(t)},e.onerror=r,r.request=t,r.subscriber=this,r.progressSubscriber=i);function s(e){}function a(e){var t=a,n=t.subscriber,r=t.progressSubscriber,i=t.request;if(4===this.readyState){var o=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;if(0===o&&(o=s?200:0),o<400)r&&r.complete(),n.next(e),n.complete();else{r&&r.error(e);var c=void 0;try{c=new x("ajax error "+o,this,i)}catch(e){c=e}n.error(c)}}}e.onreadystatechange=s,s.subscriber=this,s.progressSubscriber=i,s.request=t,e.onload=a,a.subscriber=this,a.progressSubscriber=i,a.request=t},t.prototype.unsubscribe=function(){var t=this.done,n=this.xhr;!t&&n&&4!==n.readyState&&"function"==typeof n.abort&&n.abort(),e.prototype.unsubscribe.call(this)},t}(u.L),k=function(){return function(e,t,n){this.originalEvent=e,this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=N(this.responseType,t)}}(),x=function(){function e(e,t,n){return Error.call(this),this.message=e,this.name="AjaxError",this.xhr=t,this.request=n,this.status=t.status,this.responseType=t.responseType||n.responseType,this.response=N(this.responseType,t),this}return e.prototype=Object.create(Error.prototype),e}();function N(e,t){switch(e){case"json":return function(e){return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null")}(t);case"xml":return t.responseXML;default:return"response"in t?t.response:t.responseText}}var A=function(e,t){return x.call(this,"ajax timeout",e,t),this.name="AjaxTimeoutError",this},j=function(){return D.create}(),M=n(98760),L=n(32993),F={url:"",deserializer:function(e){return JSON.parse(e.data)},serializer:function(e){return JSON.stringify(e)}},q=function(e){function t(t,n){var r=e.call(this)||this;if(t instanceof l.y)r.destination=n,r.source=t;else{var i=r._config=v.pi({},F);if(r._output=new a.xQ,"string"==typeof t)i.url=t;else for(var o in t)t.hasOwnProperty(o)&&(i[o]=t[o]);if(!i.WebSocketCtor&&WebSocket)i.WebSocketCtor=WebSocket;else if(!i.WebSocketCtor)throw new Error("no WebSocket constructor can be found");r.destination=new L.t}return r}return v.ZT(t,e),t.prototype.lift=function(e){var n=new t(this._config,this.destination);return n.operator=e,n.source=this,n},t.prototype._resetState=function(){this._socket=null,this.source||(this.destination=new L.t),this._output=new a.xQ},t.prototype.multiplex=function(e,t,n){var r=this;return new l.y((function(i){try{r.next(e())}catch(e){i.error(e)}var o=r.subscribe((function(e){try{n(e)&&i.next(e)}catch(e){i.error(e)}}),(function(e){return i.error(e)}),(function(){return i.complete()}));return function(){try{r.next(t())}catch(e){i.error(e)}o.unsubscribe()}}))},t.prototype._connectSocket=function(){var e=this,t=this._config,n=t.WebSocketCtor,r=t.protocol,i=t.url,o=t.binaryType,s=this._output,a=null;try{a=r?new n(i,r):new n(i),this._socket=a,o&&(this._socket.binaryType=o)}catch(e){return void s.error(e)}var c=new M.w((function(){e._socket=null,a&&1===a.readyState&&a.close()}));a.onopen=function(t){if(!e._socket)return a.close(),void e._resetState();var n=e._config.openObserver;n&&n.next(t);var r=e.destination;e.destination=u.L.create((function(t){if(1===a.readyState)try{var n=e._config.serializer;a.send(n(t))}catch(t){e.destination.error(t)}}),(function(t){var n=e._config.closingObserver;n&&n.next(void 0),t&&t.code?a.close(t.code,t.reason):s.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),e._resetState()}),(function(){var t=e._config.closingObserver;t&&t.next(void 0),a.close(),e._resetState()})),r&&r instanceof L.t&&c.add(r.subscribe(e.destination))},a.onerror=function(t){e._resetState(),s.error(t)},a.onclose=function(t){e._resetState();var n=e._config.closeObserver;n&&n.next(t),t.wasClean?s.complete():s.error(t)},a.onmessage=function(t){try{var n=e._config.deserializer;s.next(n(t))}catch(e){s.error(e)}}},t.prototype._subscribe=function(e){var t=this,n=this.source;return n?n.subscribe(e):(this._socket||this._connectSocket(),this._output.subscribe(e),e.add((function(){var e=t._socket;0===t._output.observers.length&&(e&&1===e.readyState&&e.close(),t._resetState())})),e)},t.prototype.unsubscribe=function(){var t=this._socket;t&&1===t.readyState&&t.close(),this._resetState(),e.prototype.unsubscribe.call(this)},t}(a.ug);function U(e){return new q(e)}var W=n(75142),V=n(31898),H=n(77681),$=n(35812),B=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=H.e);var i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(!(0,$.k)(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=H.e),i}return v.ZT(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=H.e),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(l.y),G=function(){return function(e,t){this.value=e,this.timestamp=t}}(),K=function(){return function(e,t){this.value=e,this.interval=t}}(),z=n(11120),Y=n(17604),J={leading:!0,trailing:!1};Y.Ds;var X=n(23142),Q=n(999),Z=n(15050),ee=n(76565),te=n(26929),ne=n(78147),re=n(41016),ie=n(81462),oe=n(28782);function se(e,t){for(var n=0,r=t.length;n<r;n++)for(var i=t[n],o=Object.getOwnPropertyNames(i.prototype),s=0,a=o.length;s<a;s++){var c=o[s];e.prototype[c]=i.prototype[c]}}var ae={e:{}},ce=n(71644),ue=n(43608),le=n(59026),de=n(39217);function pe(e){return e instanceof Date&&!isNaN(+e)}var he,fe=n(14156),ge=n(6727),me=n(92009),ve=n(76208),ye=n(70336),be=n(17507),Se=n(33306),_e=n(18463),Ee=n(62561),we=n(84551),Pe=n(56900),Te=n(24105),Ce=n(47407),Ie=n(3680);function Re(){ae.e=void 0;try{return he.apply(this,arguments)}catch(e){return ae.e=e,ae}finally{he=void 0}}function De(e){return he=e,Re}},81112:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(70655),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.ZT(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(10979).L)},42632:(e,t,n)=>{"use strict";n.d(t,{P:()=>a,W:()=>r});var r,i=n(5631),o=n(18170),s=n(64944);r||(r={});var a=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return(0,s._)(this.error);case"C":return(0,i.c)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},61244:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r=n(93642),i=n(3680),o=n(15050),s=n(62561),a=n(30150),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=(0,i.Y)(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||a.v.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.v.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){a.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),(0,r._)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=u(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:(0,s.U)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=u(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function u(e){if(e||(e=a.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},32174:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(30150),i=n(71644),o={closed:!0,next:function(e){},error:function(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete:function(){}}},62039:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(70655),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(10979).L)},32993:(e,t,n)=>{"use strict";n.d(t,{t:()=>h});var r=n(70655),i=n(70211),o=n(92546),s=n(98760),a=n(10979),c=n(42632),u=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r.ZT(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new l(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(c.P.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(c.P.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(c.P.createComplete()),this.unsubscribe()},t}(a.L),l=function(){return function(e,t){this.notification=e,this.destination=t}}(),d=n(41016),p=n(18253),h=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.ZT(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new f(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new d.N;if(this.isStopped||this.hasError?t=s.w.EMPTY:(this.observers.push(e),t=new p.W(this,e)),i&&e.add(e=new u(e,i)),n)for(var a=0;a<o&&!e.closed;a++)e.next(r[a]);else for(a=0;a<o&&!e.closed;a++)e.next(r[a].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.c).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.xQ),f=function(){return function(e,t){this.time=e,this.value=t}}()},38725:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},70211:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>l,ug:()=>p,xQ:()=>d});var r=n(70655),i=n(61244),o=n(10979),s=n(98760),a=n(41016),c=n(18253),u=n(23142),l=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.ZT(t,e),t}(o.L),d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.ZT(t,e),t.prototype[u.b]=function(){return new l(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.N;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.N;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.N;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new c.W(this,e))},t.prototype.asObservable=function(){var e=new i.y;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(i.y),p=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.ZT(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.w.EMPTY},t}(d)},18253:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(70655),i=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.ZT(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(98760).w)},10979:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var r=n(70655),i=n(14156),o=n(32174),s=n(98760),a=n(23142),c=n(30150),u=n(71644),l=function(e){function t(n,r,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.c;break;case 1:if(!n){s.destination=o.c;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new d(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new d(s,n,r,i)}return s}return r.ZT(t,e),t.prototype[a.b]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.w),d=function(e){function t(t,n,r,s){var a,c=e.call(this)||this;c._parentSubscriber=t;var u=c;return(0,i.m)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.c&&(u=Object.create(n),(0,i.m)(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=r,c._complete=s,c}return r.ZT(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,u.z)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.v.useDeprecatedSynchronousErrorHandling)throw e;(0,u.z)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return c.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):((0,u.z)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},98760:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(59026),i=n(92009),o=n(14156),s=n(28782),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,a=n._parentOrParents,u=n._ctorUnsubscribe,l=n._unsubscribe,d=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,a instanceof e)a.remove(this);else if(null!==a)for(var p=0;p<a.length;++p)a[p].remove(this);if((0,o.m)(l)){u&&(this._unsubscribe=void 0);try{l.call(this)}catch(e){t=e instanceof s.B?c(e.errors):[e]}}if((0,r.k)(d)){p=-1;for(var h=d.length;++p<h;){var f=d[p];if((0,i.K)(f))try{f.unsubscribe()}catch(e){t=t||[],e instanceof s.B?t=t.concat(c(e.errors)):t.push(e)}}}if(t)throw new s.B(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof s.B?t.errors:t)}),[])}},30150:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},17604:(e,t,n)=>{"use strict";n.d(t,{Ds:()=>c,IY:()=>a,ft:()=>u});var r=n(70655),i=n(10979),o=n(61244),s=n(84551),a=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return r.ZT(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(i.L),c=(i.L,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(i.L));function u(e,t){if(!t.closed){if(e instanceof o.y)return e.subscribe(t);var n;try{n=(0,s.s)(e)(t)}catch(e){t.error(e)}return n}}i.L},75142:(e,t,n)=>{"use strict";n.d(t,{Ms:()=>d,aj:()=>l});var r=n(70655),i=n(17507),o=n(59026),s=n(62039),a=n(47407),c=n(43375),u={};function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return(0,i.K)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&(0,o.k)(e[0])&&(e=e[0]),(0,c.n)(e,r).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.resultSelector))},e}(),p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.ZT(t,e),t.prototype._next=function(e){this.values.push(u),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add((0,a.D)(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,i=r[n],o=this.toRespond?i===u?--this.toRespond:this.toRespond:0;r[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(s.L)},5631:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,c:()=>o});var r=n(61244),i=new r.y((function(e){return e.complete()}));function o(e){return e?function(e){return new r.y((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},43375:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var r=n(61244),i=n(56900),o=n(53109);function s(e,t){return t?(0,o.r)(e,t):new r.y((0,i.V)(e))}},18170:(e,t,n)=>{"use strict";n.d(t,{of:()=>s});var r=n(17507),i=n(43375),o=n(53109);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return(0,r.K)(n)?(e.pop(),(0,o.r)(e,n)):(0,i.n)(e)}},31898:(e,t,n)=>{"use strict";n.d(t,{W:()=>o,w:()=>i});var r=n(61244);function i(e,t,n){return void 0===e&&(e=0),new r.y((function(r){void 0===t&&(t=e,e=0);var i=0,s=e;if(n)return n.schedule(o,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(s++),r.closed)break}}))}function o(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}},64944:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(61244);function i(e,t){return t?new r.y((function(n){return t.schedule(o,0,{error:e,subscriber:n})})):new r.y((function(t){return t.error(e)}))}function o(e){var t=e.error;e.subscriber.error(t)}},11120:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(70655),i=n(10979),o=n(98760),s=n(61244);n(70211);i.L;i.L;var a=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return r.ZT(t,e),t.prototype._subscribe=function(e){var t=new o.w,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new c(n)),t.add(r.subscribe(e)),t},t}(s.y),c=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r.ZT(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.w)},55709:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(70655),i=n(10979);function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.ZT(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.L)},53109:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(61244),i=n(98760);function o(e,t){return new r.y((function(n){var r=new i.w,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},91275:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var r=n(61244),i=n(98760),o=n(999);function s(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y((function(n){var r,s=new i.w;return s.add((function(){r&&"function"==typeof r.return&&r.return()})),s.add(t.schedule((function(){r=e[o.hZ](),s.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),s}))}},73049:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(61244),i=n(98760);function o(e,t){return new r.y((function(n){var r=new i.w;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}},96114:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(70655),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.ZT(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return r.ZT(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(98760).w))},78399:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=n(70655),i=n(38725),o=function(e){function t(n,r){void 0===r&&(r=i.b.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.ZT(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.b)},77681:(e,t,n)=>{"use strict";n.d(t,{e:()=>a,E:()=>s});var r=n(70655),i=n(78147),o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.ZT(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=i.H.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(i.H.clearImmediate(n),t.scheduled=void 0)},t}(n(96114).o),s=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(78399).v))(o),a=s},92546:(e,t,n)=>{"use strict";n.d(t,{c:()=>s,N:()=>o});var r=n(70655),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.ZT(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(96114).o),o=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.ZT(t,e),t}(n(78399).v))(i),s=o},999:(e,t,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{hZ:()=>i});var i=r()},15050:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},23142:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},76565:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},26929:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},78147:(e,t,n)=>{"use strict";n.d(t,{H:()=>a});var r=1,i=function(){return Promise.resolve()}(),o={};function s(e){return e in o&&(delete o[e],!0)}var a={setImmediate:function(e){var t=r++;return o[t]=!0,i.then((function(){return s(t)&&e()})),t},clearImmediate:function(e){s(e)}}},41016:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},81462:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},28782:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},93642:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(10979);function i(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.L?i:null}return!0}},71644:(e,t,n)=>{"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,{z:()=>r})},43608:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},59026:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var r=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},39217:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},14156:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},76208:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(15050);function i(e){return e&&"function"==typeof e[r.L]}},6727:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(999);function i(e){return e&&"function"==typeof e[r.hZ]}},35812:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(59026);function i(e){return!(0,r.k)(e)&&e-parseFloat(e)+1>=0}},92009:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},70336:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},17507:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},33306:(e,t,n)=>{"use strict";function r(){}n.d(t,{Z:()=>r})},18463:(e,t,n)=>{"use strict";function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,{f:()=>r})},62561:(e,t,n)=>{"use strict";n.d(t,{U:()=>o,z:()=>i});var r=n(43608);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return 0===e.length?r.y:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},84551:(e,t,n)=>{"use strict";n.d(t,{s:()=>p});var r=n(56900),i=n(51203),o=n(52949),s=n(24105),a=n(39217),c=n(70336),u=n(92009),l=n(999),d=n(15050),p=function(e){if(e&&"function"==typeof e[d.L])return(0,s.h)(e);if((0,a.z)(e))return(0,r.V)(e);if((0,c.t)(e))return(0,i.A)(e);if(e&&"function"==typeof e[l.hZ])return(0,o.u)(e);var t=(0,u.K)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},56900:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},52949:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var r=n(999),i=function(e){return function(t){for(var n=e[r.hZ]();;){var i=void 0;try{i=n.next()}catch(e){return t.error(e),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}}},24105:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(15050),i=function(e){return function(t){var n=e[r.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},51203:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(71644),i=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,r.z),t}}},47407:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});var r=n(81112),i=n(84551),o=n(61244);function s(e,t,n,s,a){if(void 0===a&&(a=new r.d(e,n,s)),!a.closed)return t instanceof o.y?t.subscribe(a):(0,i.s)(t)(a)}},3680:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var r=n(10979),i=n(23142),o=n(32174);function s(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(o.c)}},2399:(e,t,n)=>{"use strict";var r,i=n(14300),o=i.Buffer,s={};for(r in i)i.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(s[r]=i[r]);var a=s.Buffer={};for(r in o)o.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(a[r]=o[r]);if(s.Buffer.prototype=o.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(e,t,n){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,n)}),a.alloc||(a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=o(e);return t&&0!==t.length?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r}),!s.kStringMaxLength)try{s.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s},36625:(e,t)=>{var n;t=e.exports=G,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],o=t.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;o[l]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var d=s++;o[d]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var p=s++;o[p]="(?:"+o[a]+"|"+o[u]+")";var h=s++;o[h]="(?:"+o[c]+"|"+o[u]+")";var f=s++;o[f]="(?:-("+o[p]+"(?:\\."+o[p]+")*))";var g=s++;o[g]="(?:-?("+o[h]+"(?:\\."+o[h]+")*))";var m=s++;o[m]="[0-9A-Za-z-]+";var v=s++;o[v]="(?:\\+("+o[m]+"(?:\\."+o[m]+")*))";var y=s++,b="v?"+o[l]+o[f]+"?"+o[v]+"?";o[y]="^"+b+"$";var S="[v=\\s]*"+o[d]+o[g]+"?"+o[v]+"?",_=s++;o[_]="^"+S+"$";var E=s++;o[E]="((?:<|>)?=?)";var w=s++;o[w]=o[c]+"|x|X|\\*";var P=s++;o[P]=o[a]+"|x|X|\\*";var T=s++;o[T]="[v=\\s]*("+o[P]+")(?:\\.("+o[P]+")(?:\\.("+o[P]+")(?:"+o[f]+")?"+o[v]+"?)?)?";var C=s++;o[C]="[v=\\s]*("+o[w]+")(?:\\.("+o[w]+")(?:\\.("+o[w]+")(?:"+o[g]+")?"+o[v]+"?)?)?";var I=s++;o[I]="^"+o[E]+"\\s*"+o[T]+"$";var R=s++;o[R]="^"+o[E]+"\\s*"+o[C]+"$";var D=s++;o[D]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var O=s++;o[O]="(?:~>?)";var k=s++;o[k]="(\\s*)"+o[O]+"\\s+",i[k]=new RegExp(o[k],"g");var x=s++;o[x]="^"+o[O]+o[T]+"$";var N=s++;o[N]="^"+o[O]+o[C]+"$";var A=s++;o[A]="(?:\\^)";var j=s++;o[j]="(\\s*)"+o[A]+"\\s+",i[j]=new RegExp(o[j],"g");var M=s++;o[M]="^"+o[A]+o[T]+"$";var L=s++;o[L]="^"+o[A]+o[C]+"$";var F=s++;o[F]="^"+o[E]+"\\s*("+S+")$|^$";var q=s++;o[q]="^"+o[E]+"\\s*("+b+")$|^$";var U=s++;o[U]="(\\s*)"+o[E]+"\\s*("+S+"|"+o[T]+")",i[U]=new RegExp(o[U],"g");var W=s++;o[W]="^\\s*("+o[T]+")\\s+-\\s+("+o[T]+")\\s*$";var V=s++;o[V]="^\\s*("+o[C]+")\\s+-\\s+("+o[C]+")\\s*$";var H=s++;o[H]="(<|>)?=?\\s*\\*";for(var $=0;$<35;$++)n($,o[$]),i[$]||(i[$]=new RegExp(o[$]));function B(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof G)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?i[_]:i[y]).test(e))return null;try{return new G(e,t)}catch(e){return null}}function G(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof G){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof G))return new G(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var o=e.trim().match(t.loose?i[_]:i[y]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=B,t.valid=function(e,t){var n=B(e,t);return n?n.version:null},t.clean=function(e,t){var n=B(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=G,G.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},G.prototype.toString=function(){return this.version},G.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof G||(e=new G(e,this.options)),this.compareMain(e)||this.comparePre(e)},G.prototype.compareMain=function(e){return e instanceof G||(e=new G(e,this.options)),z(this.major,e.major)||z(this.minor,e.minor)||z(this.patch,e.patch)},G.prototype.comparePre=function(e){if(e instanceof G||(e=new G(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return z(r,i)}while(++t)},G.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new G(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(Q(e,t))return null;var n=B(e),r=B(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},t.compareIdentifiers=z;var K=/^[0-9]+$/;function z(e,t){var n=K.test(e),r=K.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}function Y(e,t,n){return new G(e,n).compare(new G(t,n))}function J(e,t,n){return Y(e,t,n)>0}function X(e,t,n){return Y(e,t,n)<0}function Q(e,t,n){return 0===Y(e,t,n)}function Z(e,t,n){return 0!==Y(e,t,n)}function ee(e,t,n){return Y(e,t,n)>=0}function te(e,t,n){return Y(e,t,n)<=0}function ne(e,t,n,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return Q(e,n,r);case"!=":return Z(e,n,r);case">":return J(e,n,r);case">=":return ee(e,n,r);case"<":return X(e,n,r);case"<=":return te(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}function re(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof re){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof re))return new re(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return z(t,e)},t.major=function(e,t){return new G(e,t).major},t.minor=function(e,t){return new G(e,t).minor},t.patch=function(e,t){return new G(e,t).patch},t.compare=Y,t.compareLoose=function(e,t){return Y(e,t,!0)},t.rcompare=function(e,t,n){return Y(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compare(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.rcompare(e,r,n)}))},t.gt=J,t.lt=X,t.eq=Q,t.neq=Z,t.gte=ee,t.lte=te,t.cmp=ne,t.Comparator=re;var ie={};function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new oe(e.raw,t);if(e instanceof re)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,n,r,i,o,s,a,c,u,l,d,p){return((t=se(n)?"":se(r)?">="+n+".0.0":se(i)?">="+n+"."+r+".0":">="+t)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":d?"<="+c+"."+u+"."+l+"-"+d:"<="+a)).trim()}function ce(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==ie&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function ue(e,t,n){try{t=new oe(t,n)}catch(e){return!1}return t.test(e)}function le(e,t,n,r){var i,o,s,a,c;switch(e=new G(e,r),t=new oe(t,r),n){case">":i=J,o=te,s=X,a=">",c=">=";break;case"<":i=X,o=ee,s=J,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,r))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],d=null,p=null;if(l.forEach((function(e){e.semver===ie&&(e=new re(">=0.0.0")),d=d||e,p=p||e,i(e.semver,d.semver,r)?d=e:s(e.semver,p.semver,r)&&(p=e)})),d.operator===a||d.operator===c)return!1;if((!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}re.prototype.parse=function(e){var t=this.options.loose?i[F]:i[q],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new G(n[2],this.options.loose):this.semver=ie},re.prototype.toString=function(){return this.value},re.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ie||("string"==typeof e&&(e=new G(e,this.options)),ne(e,this.operator,this.semver,this.options))},re.prototype.intersects=function(e,t){if(!(e instanceof re))throw new TypeError("a Comparator is required");var n;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return n=new oe(e.value,t),ue(this.value,n,t);if(""===e.operator)return n=new oe(this.value,t),ue(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?i[V]:i[W];e=e.replace(r,ae),n("hyphen replace",e),e=e.replace(i[U],"$1$2$3"),n("comparator trim",e,i[U]),e=(e=(e=e.replace(i[k],"$1~")).replace(i[j],"$1^")).split(/\s+/).join(" ");var o=t?i[F]:i[q],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t.loose?i[L]:i[M];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),se(r)?a="":se(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t.loose?i[N]:i[x];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),se(r)?a="":se(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t.loose?i[R]:i[I];return e.replace(r,(function(t,r,i,o,s,a){n("xRange",e,t,r,i,o,s,a);var c=se(i),u=c||se(o),l=u||se(s);return"="===r&&l&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&l?(u&&(o=0),s=0,">"===r?(r=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",u?i=+i+1:o=+o+1),t=r+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(i[H],"")}(e,t),n("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new re(e,this.options)}),this)},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new G(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=ue,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new oe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new G(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new oe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new G(r=e,n)))})),r},t.minVersion=function(e,t){e=new oe(e,t);var n=new G("0.0.0");if(e.test(n))return n;if(n=new G("0.0.0-0"),e.test(n))return n;n=null;for(var r=0;r<e.set.length;++r)e.set[r].forEach((function(e){var t=new G(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!J(n,t)||(n=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return n&&e.test(n)?n:null},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return le(e,t,"<",n)},t.gtr=function(e,t,n){return le(e,t,">",n)},t.outside=le,t.prerelease=function(e,t){var n=B(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new oe(e,n),t=new oe(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof G)return e;if("string"!=typeof e)return null;var t=e.match(i[D]);return null==t?null:B(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},77911:(e,t)=>{function n(e){for(var t in e)this[t]=e[t]}t.get=function(e){var n=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},i=Error.prepareStackTrace;Error.prepareStackTrace=function(e,t){return t},Error.captureStackTrace(r,e||t.get);var o=r.stack;return Error.prepareStackTrace=i,Error.stackTraceLimit=n,o},t.parse=function(e){if(!e.stack)return[];var t=this;return e.stack.split("\n").slice(1).map((function(e){if(e.match(/^\s*[-]{4,}$/))return t._createParsedCallSite({fileName:e,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var n=e.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(n){var r=null,i=null,o=null,s=null,a=null,c="native"===n[5];if(n[1]){var u=(o=n[1]).lastIndexOf(".");if("."==o[u-1]&&u--,u>0){r=o.substr(0,u),i=o.substr(u+1);var l=r.indexOf(".Module");l>0&&(o=o.substr(l+1),r=r.substr(0,l))}s=null}i&&(s=r,a=i),"<anonymous>"===i&&(a=null,o=null);var d={fileName:n[2]||null,lineNumber:parseInt(n[3],10)||null,functionName:o,typeName:s,methodName:a,columnNumber:parseInt(n[4],10)||null,native:c};return t._createParsedCallSite(d)}})).filter((function(e){return!!e}))},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach((function(e){n.prototype[e]=null,n.prototype["get"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),["topLevel","eval","native","constructor"].forEach((function(e){n.prototype[e]=!1,n.prototype["is"+e[0].toUpperCase()+e.substr(1)]=function(){return this[e]}})),t._createParsedCallSite=function(e){return new n(e)}},14802:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26363);t.ExperimentationService=r.ExperimentationService},26363:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34067),i=n(44234),o=n(15975);class s extends o.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],null!=e.refetchInterval?e.refetchInterval:0,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage),this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new r.TasApiFeatureProvider(new i.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}t.ExperimentationService=s,s.REFRESH_RATE_IN_MINUTES=30},15975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(23663),i=n(73334);class o extends r.ExperimentationServiceBase{constructor(e,t,n,r,o,s,a){if(super(e,r,o,s,a),this.telemetry=e,this.filterProviders=t,this.refreshRateMs=n,this.assignmentContextTelemetryPropertyName=r,this.telemetryEventName=o,this.storageKey=s,this.storage=a,n<1e3&&0!==n)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new i.PollingService(n),this.pollingService.OnPollTick((async()=>{await super.getFeaturesAsync()})))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let t=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),t}return await super.getFeaturesAsync(e)}}t.ExperimentationServiceAutoPolling=o},23663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17002);t.ExperimentationServiceBase=class{constructor(e,t,n,i,o){this.telemetry=e,this.assignmentContextTelemetryPropertyName=t,this.telemetryEventName=n,this.storageKey=i,this.storage=o,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(o=new r.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise(((e,t)=>{this.resolveInitialFetchPromise=e}))}get features(){return this._features}set features(e){this._features=e,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}async getFeaturesAsync(e=!1){if(null!=this.fetchPromise){try{await this.fetchPromise}catch(e){}return this.features}if(!this.featureProviders||0===this.featureProviders.length)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map((async e=>await e.getFeatures())));const t=await this.fetchPromise;this.updateFeatures(t,e)}catch(e){}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(e,t=!1){let n={features:[],assignmentContext:"",configs:[]};for(let t of e){for(let e of t.features)n.features.includes(e)||n.features.push(e);for(let e of t.configs){const t=n.configs.find((t=>t.Id===e.Id));t?t.Parameters=Object.assign(Object.assign({},t.Parameters),e.Parameters):n.configs.push(e)}n.assignmentContext+=t.assignmentContext}!t&&this.featuresConsumed||(this.features=n),this.storage&&this.storage.setValue(this.storageKey,n)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),void 0!==e&&void 0===e.configs&&(e.configs=[])),0===this.features.features.length&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){const t=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),t.features.includes(e)}getTreatmentVariable(e,t){var n;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${t}`),null===(n=this.features.configs.find((t=>t.Id===e)))||void 0===n?void 0:n.Parameters[t]}async getTreatmentVariableAsync(e,t,n){if(n){const n=this.featuresConsumed,r=this.getTreatmentVariable(e,t);if(void 0!==r)return r;this.featuresConsumed=n}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,t)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(null!=e&&null!=this.featureProviders)for(let t of e)this.featureProviders.push(t)}}},60069:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFeatureProvider=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}}},94e3:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(60069);class i extends r.BaseFeatureProvider{constructor(e,t){super(e),this.telemetry=e,this.filterProviders=t,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let t of this.filterProviders){let n=t.getFilters();for(let t of n.keys()){let r=n.get(t);e.set(t,r)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;const t=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",t]])),this.cachedTelemetryEvents.push(e)}}t.FilteredFeatureProvider=i},34067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(94e3);t.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";const i="ErrorType";class o extends r.FilteredFeatureProvider{constructor(e,t,n){super(t,n),this.httpClient=e,this.telemetry=t,this.filterProviders=n}async fetch(){let e,n=this.getFilters(),r={};for(let e of n.keys()){const t=n.get(e);r[e]=t}try{e=await this.httpClient.get({headers:r})}catch(e){const n=e,r=new Map;n.response?r.set(i,"ServerError"):n.request?r.set(i,"NoResponse"):r.set(i,"GenericError"),this.telemetry.postEvent(t.TASAPI_FETCHERROR_EVENTNAME,r)}if(!e)throw Error(t.TASAPI_FETCHERROR_EVENTNAME);n.keys.length>0&&this.PostEventToTelemetry(r);let o=e.data,s=o.Configs,a=[];for(let e of s)if(e.Parameters)for(let t of Object.keys(e.Parameters)){const n=t+(e.Parameters[t]?"":"cf");a.includes(n)||a.push(n)}return{features:a,assignmentContext:o.AssignmentContext,configs:s}}}t.TasApiFeatureProvider=o},44234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9669);t.AxiosHttpClient=class{constructor(e){this.endpoint=e}get(e){return r.default.get(this.endpoint,Object.assign(Object.assign({},e),{proxy:!1}))}}},17002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryKeyValueStorage=class{constructor(){this.storage=new Map}async getValue(e,t){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(t||void 0)}setValue(e,t){this.storage.set(e,t)}}},73334:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PollingService=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),null!=this.onTick&&(e&&this.onTick().then((()=>{})).catch((()=>{})),this.intervalHandle=setInterval((async()=>{await this.onTick()}),this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}},36276:(e,t,n)=>{const r=n(57147),i=n(71017),o=n(6113),s=n(55339),a=process.binding("constants"),c=s(),u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",l=/XXXXXX/,d=(a.O_CREAT||a.fs.O_CREAT)|(a.O_EXCL||a.fs.O_EXCL)|(a.O_RDWR||a.fs.O_RDWR),p=a.EBADF||a.os.errno.EBADF,h=a.ENOENT||a.os.errno.ENOENT,f=[];var g=!1,m=!1;function v(e){var t=[],n=null;try{n=o.randomBytes(e)}catch(t){n=o.pseudoRandomBytes(e)}for(var r=0;r<e;r++)t.push(u[n[r]%u.length]);return t.join("")}function y(e){return void 0===e}function b(e,t){return"function"==typeof e?[t||{},e]:y(e)?[{},t]:[e,t]}function S(e){if(e.name)return i.join(e.dir||c,e.name);if(e.template)return e.template.replace(l,v(6));const t=[e.prefix||"tmp-",process.pid,v(12),e.postfix||""].join("");return i.join(e.dir||c,t)}function _(e,t){var n=b(e,t),i=n[0],o=n[1],s=i.name?1:i.tries||3;return isNaN(s)||s<0?o(new Error("Invalid tries")):i.template&&!i.template.match(l)?o(new Error("Invalid template provided")):void function e(){const t=S(i);r.stat(t,(function(n){if(!n)return s-- >0?e():o(new Error("Could not get a unique tmp filename, max tries reached "+t));o(null,t)}))}()}function E(e){var t=b(e)[0],n=t.name?1:t.tries||3;if(isNaN(n)||n<0)throw new Error("Invalid tries");if(t.template&&!t.template.match(l))throw new Error("Invalid template provided");do{const e=S(t);try{r.statSync(e)}catch(t){return e}}while(n-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function w(e){const t=[e];do{for(var n=t.pop(),o=!1,s=r.readdirSync(n),a=0,c=s.length;a<c;a++){var u=i.join(n,s[a]);r.lstatSync(u).isDirectory()?(o||(o=!0,t.push(n)),t.push(u)):r.unlinkSync(u)}o||r.rmdirSync(n)}while(0!==t.length)}function P(e,t,n){const i=C((function(e){try{0<=e[0]&&r.closeSync(e[0])}catch(e){if(!D(e,-p,"EBADF")&&!R(e))throw e}try{r.unlinkSync(e[1])}catch(e){if(!R(e))throw e}}),[t,e]);return n.keep||f.unshift(i),i}function T(e,t){const n=C(t.unsafeCleanup?w:r.rmdirSync.bind(r),e);return t.keep||f.unshift(n),n}function C(e,t){var n=!1;return function r(i){if(!n){const i=f.indexOf(r);i>=0&&f.splice(i,1),n=!0,e(t)}i&&i(null)}}function I(){if(!m||g)for(;f.length;)try{f[0].call(null)}catch(e){}}function R(e){return D(e,-h,"ENOENT")}function D(e,t,n){return e.code==t||e.code==n}const O=process.versions.node.split(".").map((function(e){return parseInt(e,10)}));0===O[0]&&(O[1]<9||9===O[1]&&O[2]<5)&&process.addListener("uncaughtException",(function(e){throw m=!0,I(),e})),process.addListener("exit",(function(e){e&&(m=!0),I()})),e.exports.tmpdir=c,e.exports.dir=function(e,t){var n=b(e,t),i=n[0],o=n[1];_(i,(function(e,t){if(e)return o(e);r.mkdir(t,i.mode||448,(function(e){if(e)return o(e);o(null,t,T(t,i))}))}))},e.exports.dirSync=function(e){var t=b(e)[0];const n=E(t);return r.mkdirSync(n,t.mode||448),{name:n,removeCallback:T(n,t)}},e.exports.file=function(e,t){var n=b(e,t),i=n[0],o=n[1];i.postfix=y(i.postfix)?".tmp":i.postfix,_(i,(function(e,t){if(e)return o(e);r.open(t,d,i.mode||384,(function(e,n){return e?o(e):i.discardDescriptor?r.close(n,(function(e){if(e){try{r.unlinkSync(t)}catch(t){R(t)||(e=t)}return o(e)}o(null,t,void 0,P(t,-1,i))})):i.detachDescriptor?o(null,t,n,P(t,-1,i)):void o(null,t,n,P(t,n,i))}))}))},e.exports.fileSync=function(e){var t=b(e)[0];t.postfix=t.postfix||".tmp";const n=t.discardDescriptor||t.detachDescriptor,i=E(t);var o=r.openSync(i,d,t.mode||384);return t.discardDescriptor&&(r.closeSync(o),o=void 0),{name:i,fd:o,removeCallback:P(i,n?-1:o,t)}},e.exports.tmpName=_,e.exports.tmpNameSync=E,e.exports.setGracefulCleanup=function(){g=!0}},75842:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(t,n){this.methodName=t,this.args=n,this.callIndex=++e.globalCallIndex}return e.prototype.isApplicable=function(e,t){var n=this,r=this.methodName===e,i=this.args.length===t.length;return!(!r||!i)&&t.every((function(e,t){return e.match(n.args[t])}))},e.prototype.getCallIndex=function(){return this.callIndex},e.prototype.hasBeenCalledBefore=function(e){return this.getCallIndex()<e.getCallIndex()},e.globalCallIndex=0,e}();t.MethodAction=n},50907:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(96486),i=function(){function e(){this.items=[]}return e.prototype.add=function(e){this.items.push(e)},e.prototype.getLastMatchingGroupIndex=function(e){var t=r.clone(this.items).reverse().find((function(t){return t.isApplicable(e)}));return t?t.getGroupIndex():-1},e.prototype.getFirstMatchingFromGroupAndRemoveIfNotLast=function(e,t){var n=this.getFirstMatchingFromGroup(e,t);return this.removeIfNotLast(e,t),n},e.prototype.hasMatchingInAnyGroup=function(e){return this.items.some((function(t){return t.isApplicable(e)}))},e.prototype.removeIfNotLast=function(e,t){var n=this.getFirstMatchingIndexFromGroup(e,t);n>-1&&this.getItemsCountInGroup(e)>1&&this.items.splice(n,1)},e.prototype.getFirstMatchingFromGroup=function(e,t){return this.items.find((function(n){return n.getGroupIndex()===e&&n.isApplicable(t)}))},e.prototype.getFirstMatchingIndexFromGroup=function(e,t){return this.items.findIndex((function(n){return n.getGroupIndex()===e&&n.isApplicable(t)}))},e.prototype.getItemsCountInGroup=function(e){return this.items.filter((function(t){return t.getGroupIndex()===e})).length},e}();t.MethodStubCollection=i},30990:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(44397),i=n(81206),o=n(38763),s=n(23428),a=n(41759),c=function(){function e(t){this.methodToStub=t,this.groupIndex=++e.globalGroupIndex}return e.prototype.thenReturn=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.convertToPropertyIfIsNotAFunction(),t.forEach((function(t){e.methodToStub.methodStubCollection.add(new s.ReturnValueMethodStub(e.groupIndex,e.methodToStub.matchers,t))})),this},e.prototype.thenThrow=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.convertToPropertyIfIsNotAFunction(),t.forEach((function(t){e.methodToStub.methodStubCollection.add(new a.ThrowErrorMethodStub(e.groupIndex,e.methodToStub.matchers,t))})),this},e.prototype.thenCall=function(e){return this.convertToPropertyIfIsNotAFunction(),this.methodToStub.methodStubCollection.add(new r.CallFunctionMethodStub(this.groupIndex,this.methodToStub.matchers,e)),this},e.prototype.thenResolve=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.convertToPropertyIfIsNotAFunction(),0===t.length&&t.push(void 0),t.forEach((function(t){e.methodToStub.methodStubCollection.add(new o.ResolvePromiseMethodStub(e.groupIndex,e.methodToStub.matchers,t))})),this},e.prototype.thenReject=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.convertToPropertyIfIsNotAFunction(),0===t.length&&t.push(new Error("mocked '"+this.methodToStub.name+"' rejected")),t.forEach((function(t){e.methodToStub.methodStubCollection.add(new i.RejectPromiseMethodStub(e.groupIndex,e.methodToStub.matchers,t))})),this},e.prototype.thenDoNothing=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.convertToPropertyIfIsNotAFunction(),this},e.prototype.convertToPropertyIfIsNotAFunction=function(){if(!this.methodToStub.methodStubCollection){var e=this.methodToStub("__tsMockitoGetInfo");delete e.mocker.mock[e.key],delete e.mocker.instance[e.key],e.mocker.createPropertyStub(e.key),e.mocker.createInstancePropertyDescriptorListener(e.key,{},void 0),e.mocker.createInstanceActionListener(e.key,void 0),this.methodToStub=e.mocker.mock[e.key]}},e.globalGroupIndex=0,e}();t.MethodStubSetter=c},2045:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(62439),i=function(){function e(e){this.methodToVerify=e,this.methodCallToStringConverter=new r.MethodCallToStringConverter}return e.prototype.called=function(){this.atLeast(1)},e.prototype.never=function(){this.times(0)},e.prototype.once=function(){this.times(1)},e.prototype.twice=function(){this.times(2)},e.prototype.thrice=function(){this.times(3)},e.prototype.times=function(e){var t=this.methodToVerify.mocker.getAllMatchingActions(this.methodToVerify.name,this.methodToVerify.matchers);if(e!==t.length){var n=this.methodCallToStringConverter.convert(this.methodToVerify);throw new Error('Expected "'+n+"to be called "+e+" time(s). But has been called "+t.length+" time(s).")}},e.prototype.atLeast=function(e){var t=this.methodToVerify.mocker.getAllMatchingActions(this.methodToVerify.name,this.methodToVerify.matchers);if(e>t.length){var n=this.methodCallToStringConverter.convert(this.methodToVerify);throw new Error('Expected "'+n+"to be called at least "+e+" time(s). But has been called "+t.length+" time(s).")}},e.prototype.atMost=function(e){var t=this.methodToVerify.mocker.getAllMatchingActions(this.methodToVerify.name,this.methodToVerify.matchers);if(e<t.length){var n=this.methodCallToStringConverter.convert(this.methodToVerify);throw new Error('Expected "'+n+"to be called at least "+e+" time(s). But has been called "+t.length+" time(s).")}},e.prototype.calledBefore=function(e){var t=this.methodToVerify.mocker.getFirstMatchingAction(this.methodToVerify.name,this.methodToVerify.matchers),n=e.mocker.getFirstMatchingAction(e.name,e.matchers),r=this.methodCallToStringConverter.convert(this.methodToVerify),i=this.methodCallToStringConverter.convert(e),o='Expected "'+r+" to be called before "+i;if(!t||!n)throw t&&!n?new Error(o+"but "+i+"has never been called."):!t&&n?new Error(o+"but "+r+"has never been called."):new Error(o+"but none of them has been called.");if(!t.hasBeenCalledBefore(n))throw new Error(o+"but has been called after.")},e.prototype.calledAfter=function(e){var t=this.methodToVerify.mocker.getFirstMatchingAction(this.methodToVerify.name,this.methodToVerify.matchers),n=e.mocker.getFirstMatchingAction(e.name,e.matchers),r=this.methodCallToStringConverter.convert(this.methodToVerify),i=this.methodCallToStringConverter.convert(e),o='Expected "'+r+"to be called after "+i;if(!t||!n)throw t&&!n?new Error(o+"but "+i+"has never been called."):!t&&n?new Error(o+"but "+r+"has never been called."):new Error(o+"but none of them has been called.");if(t.hasBeenCalledBefore(n))throw new Error(o+"but has been called before.")},e}();t.MethodStubVerificator=i},59951:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MethodToStub=function(e,t,n,r){this.methodStubCollection=e,this.matchers=t,this.mocker=n,this.name=r}},49404:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(96486),i=n(87562),o=n(75842),s=n(50907),a=n(59951),c=n(23428),u=n(74351),l=n(85071),d=n(17619),p=n(2418),h=function(){function e(e,t){void 0===t&&(t={});var n=this;this.clazz=e,this.instance=t,this.mock={},this.objectInspector=new d.ObjectInspector,this.methodStubCollections={},this.methodActions=[],this.mockableFunctionsFinder=new l.MockableFunctionsFinder,this.objectPropertyCodeRetriever=new p.ObjectPropertyCodeRetriever,this.excludedPropertyNames=["hasOwnProperty"],this.mock.__tsmockitoInstance=this.instance,this.mock.__tsmockitoMocker=this,r.isObject(this.clazz)&&r.isObject(this.instance)&&(this.processProperties(this.clazz.prototype),this.processClassCode(this.clazz),this.processFunctionsCode(this.clazz.prototype)),"undefined"!=typeof Proxy&&this.clazz?this.mock.__tsmockitoInstance=new Proxy(this.instance,this.createCatchAllHandlerForRemainingPropertiesWithoutGetters()):"undefined"==typeof Proxy||this.clazz||(this.instance=new Proxy(this.instance,{get:function(e,t){return n.excludedPropertyNames.indexOf(t.toString())>=0||t in e?e[t]:n.createActionListener(t.toString())}}),this.mock.__tsmockitoInstance=this.instance)}return e.prototype.getMock=function(){var e=this;return"undefined"==typeof Proxy?this.mock:"undefined"!=typeof Proxy&&this.clazz?new Proxy(this.mock,this.createCatchAllHandlerForRemainingPropertiesWithoutGetters()):new Proxy(this.mock,{get:function(t,n){return n in t?t[n]:(n in t||(e.createMethodStub(n.toString()),e.createInstanceActionListener(n.toString(),{})),e.mock[n.toString()])}})},e.prototype.createCatchAllHandlerForRemainingPropertiesWithoutGetters=function(){var e=this;return{get:function(t,n){return n in t||(e.createPropertyStub(n.toString()),e.createInstancePropertyDescriptorListener(n.toString(),{},e.clazz.prototype)),t[n]}}},e.prototype.reset=function(){this.methodStubCollections={},this.methodActions=[]},e.prototype.resetCalls=function(){this.methodActions=[]},e.prototype.getAllMatchingActions=function(e,t){var n=[];return this.methodActions.forEach((function(r){r.isApplicable(e,t)&&n.push(r)})),n},e.prototype.getFirstMatchingAction=function(e,t){return this.getAllMatchingActions(e,t)[0]},e.prototype.getActionsByName=function(e){return this.methodActions.filter((function(t){return t.methodName===e}))},e.prototype.processProperties=function(e){var t=this;this.objectInspector.getObjectPrototypes(e).forEach((function(e){t.objectInspector.getObjectOwnPropertyNames(e).forEach((function(n){if(!(t.excludedPropertyNames.indexOf(n)>=0)){var r=Object.getOwnPropertyDescriptor(e,n);r.get?(t.createPropertyStub(n),t.createInstancePropertyDescriptorListener(n,r,e),t.createInstanceActionListener(n,e)):"function"==typeof r.value&&(t.createMethodStub(n),t.createInstanceActionListener(n,e))}}))}))},e.prototype.createInstancePropertyDescriptorListener=function(e,t,n){this.instance.hasOwnProperty(e)||Object.defineProperty(this.instance,e,{get:this.createActionListener(e)})},e.prototype.createInstanceActionListener=function(e,t){this.instance.hasOwnProperty(e)||(this.instance[e]=this.createActionListener(e))},e.prototype.createActionListener=function(e){var t=this;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=new o.MethodAction(e,n);t.methodActions.push(i);var s=t.getMethodStub(e,n);return s.execute(n),s.getValue()}},e.prototype.getEmptyMethodStub=function(e,t){return new c.ReturnValueMethodStub(-1,[],null)},e.prototype.processClassCode=function(e){var t=this,n=void 0!==e.toString?e.toString():"";this.mockableFunctionsFinder.find(n).forEach((function(e){t.createMethodStub(e),t.createInstanceActionListener(e,t.clazz.prototype)}))},e.prototype.processFunctionsCode=function(e){var t=this;this.objectInspector.getObjectPrototypes(e).forEach((function(e){t.objectInspector.getObjectOwnPropertyNames(e).forEach((function(n){t.mockableFunctionsFinder.find(t.objectPropertyCodeRetriever.get(e,n)).forEach((function(e){t.createMethodStub(e),t.createInstanceActionListener(e,t.clazz.prototype)}))}))}))},e.prototype.createPropertyStub=function(e){this.mock.hasOwnProperty(e)||Object.defineProperty(this.mock,e,{get:this.createMethodToStub(e)})},e.prototype.createMethodStub=function(e){this.mock.hasOwnProperty(e)||(this.mock[e]=this.createMethodToStub(e))},e.prototype.createMethodToStub=function(e){var t=this;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(1===n.length&&"__tsMockitoGetInfo"===n[0])return{key:e,mocker:t};t.methodStubCollections[e]||(t.methodStubCollections[e]=new s.MethodStubCollection);for(var o=[],c=0,l=n;c<l.length;c++){var d=l[c];d instanceof i.Matcher?o.push(d):o.push(u.strictEqual(d))}return new a.MethodToStub(t.methodStubCollections[e],o,t,e)}},e.prototype.getMethodStub=function(e,t){var n=this.methodStubCollections[e];if(n&&n.hasMatchingInAnyGroup(t)){var r=n.getLastMatchingGroupIndex(t);return n.getFirstMatchingFromGroupAndRemoveIfNotLast(r,t)}return this.getEmptyMethodStub(e,t)},e}();t.Mocker=h},2692:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(96486),s=n(49404),a=n(9503),c=n(9354),u=function(e){function t(t){var n=e.call(this,t.constructor,t)||this;return o.isObject(t)&&n.processProperties(t),n}return i(t,e),t.prototype.reset=function(){var t=this;o.forEach(this.realMethods,(function(e,n){e.instance?Object.defineProperty(t.instance,n,e.descriptor):delete t.instance[n]})),e.prototype.reset.call(this)},t.prototype.getEmptyMethodStub=function(t,n){var r=this.realMethods[t];if(r){var i=r.descriptor.get||r.descriptor.value;return new c.CallThroughMethodStub(this.instance,i)}return e.prototype.getEmptyMethodStub.call(this,t,n)},t.prototype.createInstancePropertyDescriptorListener=function(e,t,n){this.realMethods||(this.realMethods={}),this.realMethods[e]||(this.realMethods[e]=new a.RealMethod(t,n===this.instance),Object.defineProperty(this.instance,e,{get:this.createActionListener(e),configurable:!0}))},t.prototype.createInstanceActionListener=function(e,t){if(this.realMethods||(this.realMethods={}),!this.realMethods[e]){var n=Object.getOwnPropertyDescriptor(t,e);this.realMethods[e]=new a.RealMethod(n,t===this.instance),this.instance[e]=this.createActionListener(e)}},t}(s.Mocker);t.Spy=u},9130:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.actions=e}return e.prototype.first=function(){return this.byCallIndex(0)},e.prototype.second=function(){return this.byCallIndex(1)},e.prototype.third=function(){return this.byCallIndex(2)},e.prototype.beforeLast=function(){return this.byCallIndex(this.actions.length-2)},e.prototype.last=function(){return this.byCallIndex(this.actions.length-1)},e.prototype.byCallIndex=function(e){if(e>=this.actions.length)throw new Error("Cannot capture arguments, method has not been called so many times: "+(e+1));return this.actions[e].args},e}();t.ArgCaptor=n},81459:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.validate=function(e,t){return e.length===t.length&&e.every((function(e,n){return e.match(t[n])}))},e}();t.ArgsToMatchersValidator=n},139:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(96486),s=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.match=function(e){return o.isFunction(e)},t.prototype.toString=function(){return"anyFunction()"},t}(n(87562).Matcher);t.AnyFunctionMatcher=s},80698:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(96486),s=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.match=function(e){return o.isNumber(e)},t.prototype.toString=function(){return"anyNumber()"},t}(n(87562).Matcher);t.AnyNumberMatcher=s},74291:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;if(n.expectedClass=t,null===t)throw new Error("The expected class cannot be null.");return n}return i(t,e),t.prototype.match=function(e){return e instanceof this.expectedClass},t.prototype.toString=function(){return"anyOfClass("+this.expectedClass.name+")"},t}(n(87562).Matcher);t.AnyOfClassMatcher=o},30490:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(96486),s=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.match=function(e){return o.isString(e)},t.prototype.toString=function(){return"anyString()"},t}(n(87562).Matcher);t.AnyStringMatcher=s},40128:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.match=function(e){return!0},t.prototype.toString=function(){return"anything()"},t}(n(87562).Matcher);t.AnythingMatcher=o},16617:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n){var r=e.call(this)||this;if(r.min=t,r.max=n,t>n)throw new Error("between matcher error: min value can't be greater than max");return r}return i(t,e),t.prototype.match=function(e){return e>=this.min&&e<=this.max},t.prototype.toString=function(){return"between("+this.min+", "+this.max+")"},t}(n(87562).Matcher);t.BetweenMatcher=o},56169:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(96486),s=n(87562),a=function(e){function t(t){var n=e.call(this)||this;return n.expectedValue=t,n}return i(t,e),t.prototype.match=function(e){return o.isEqualWith(this.expectedValue,e,(function(e,t){if(e instanceof s.Matcher)return e.match(t)}))},t.prototype.toString=function(){return this.expectedValue instanceof Array?"deepEqual(["+this.expectedValue+"])":"deepEqual("+this.expectedValue+")"},t}(s.Matcher);t.DeepEqualMatcher=a},87562:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.match=function(e){return!1},e.prototype.toString=function(){return""},e}();t.Matcher=n},77946:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n.expectedValue=t,n}return i(t,e),t.prototype.match=function(e){return e.match(this.expectedValue)},t.prototype.toString=function(){return"match("+this.expectedValue+")"},t}(n(87562).Matcher);t.MatchingStringMatcher=o},37345:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(96486),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.match=function(e){return!o.isNull(e)},t.prototype.toString=function(){return"notNull()"},t}(n(87562).Matcher);t.NotNullMatcher=s},67142:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(96486),s=function(e){function t(t){var n=e.call(this)||this;return n.expectedValue=t,n}return i(t,e),t.prototype.match=function(e){return o.isMatch(e,this.expectedValue)},t.prototype.toString=function(){return"objectContaining("+this.expectedValue+")"},t}(n(87562).Matcher);t.ObjectContainingMatcher=s},23513:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this)||this;return n.expectedValue=t,n}return i(t,e),t.prototype.match=function(e){return this.expectedValue===e},t.prototype.toString=function(){return this.expectedValue instanceof Array?"strictEqual(["+this.expectedValue+"])":"strictEqual("+this.expectedValue+")"},t}(n(87562).Matcher);t.StrictEqualMatcher=o},9503:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.RealMethod=function(e,t){this.descriptor=e,this.instance=t}},14406:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.getGroupIndex=function(){return this.groupIndex},e}();t.AbstractMethodStub=n},44397:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(81459),s=function(e){function t(t,n,r){var i=e.call(this)||this;return i.groupIndex=t,i.matchers=n,i.func=r,i.validator=new o.ArgsToMatchersValidator,i}return i(t,e),t.prototype.isApplicable=function(e){return this.validator.validate(this.matchers,e)},t.prototype.execute=function(e){this.functionResult=this.func.apply(this,e)},t.prototype.getValue=function(){return this.functionResult},t}(n(14406).AbstractMethodStub);t.CallFunctionMethodStub=s},9354:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.instance=e,this.method=t}return e.prototype.getGroupIndex=function(){return-1},e.prototype.isApplicable=function(e){return!1},e.prototype.execute=function(e){this.result=this.method.apply(this.instance,e)},e.prototype.getValue=function(){return this.result},e}();t.CallThroughMethodStub=n},81206:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(81459),s=function(e){function t(t,n,r){var i=e.call(this)||this;return i.groupIndex=t,i.matchers=n,i.value=r,i.validator=new o.ArgsToMatchersValidator,i}return i(t,e),t.prototype.isApplicable=function(e){return this.validator.validate(this.matchers,e)},t.prototype.execute=function(e){},t.prototype.getValue=function(){return Promise.reject(this.value)},t}(n(14406).AbstractMethodStub);t.RejectPromiseMethodStub=s},38763:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(81459),s=function(e){function t(t,n,r){var i=e.call(this)||this;return i.groupIndex=t,i.matchers=n,i.value=r,i.validator=new o.ArgsToMatchersValidator,i}return i(t,e),t.prototype.isApplicable=function(e){return this.validator.validate(this.matchers,e)},t.prototype.execute=function(e){},t.prototype.getValue=function(){return Promise.resolve(this.value)},t}(n(14406).AbstractMethodStub);t.ResolvePromiseMethodStub=s},23428:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(81459),s=function(e){function t(t,n,r){var i=e.call(this)||this;return i.groupIndex=t,i.matchers=n,i.returns=r,i.validator=new o.ArgsToMatchersValidator,i}return i(t,e),t.prototype.isApplicable=function(e){return this.validator.validate(this.matchers,e)},t.prototype.execute=function(e){},t.prototype.getValue=function(){return this.returns},t}(n(14406).AbstractMethodStub);t.ReturnValueMethodStub=s},41759:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(81459),s=function(e){function t(t,n,r){var i=e.call(this)||this;return i.groupIndex=t,i.matchers=n,i.error=r,i.validator=new o.ArgsToMatchersValidator,i}return i(t,e),t.prototype.isApplicable=function(e){return this.validator.validate(this.matchers,e)},t.prototype.execute=function(e){throw this.error},t.prototype.getValue=function(){return null},t}(n(14406).AbstractMethodStub);t.ThrowErrorMethodStub=s},74351:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9130),i=n(139),o=n(80698),s=n(74291),a=n(30490),c=n(40128),u=n(16617),l=n(56169),d=n(77946),p=n(37345),h=n(67142),f=n(23513),g=n(30990),m=n(2045),v=n(59951),y=n(49404),b=n(2692);function S(e){return new b.Spy(e).getMock()}function _(e){return new y.Mocker(e).getMock()}function E(e){return new m.MethodStubVerificator(e)}function w(e){return new g.MethodStubSetter(e)}function P(e){return e.__tsmockitoInstance}function T(e){var t=e();if(t instanceof v.MethodToStub){var n=t.mocker.getActionsByName(t.name);return new r.ArgCaptor(n)}throw Error("Cannot capture from not mocked object.")}function C(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach((function(e){return e.__tsmockitoMocker.reset()}))}function I(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach((function(e){return e.__tsmockitoMocker.resetCalls()}))}function R(e){return new s.AnyOfClassMatcher(e)}function D(){return new i.AnyFunctionMatcher}function O(){return new o.AnyNumberMatcher}function k(){return new a.AnyStringMatcher}function x(){return new c.AnythingMatcher}function N(e,t){return new u.BetweenMatcher(e,t)}function A(e){return new l.DeepEqualMatcher(e)}function j(){return new p.NotNullMatcher}function M(e){return new f.StrictEqualMatcher(e)}function L(e){return new d.MatchingStringMatcher(e)}function F(e){return new h.ObjectContainingMatcher(e)}t.spy=S,t.mock=_,t.verify=E,t.when=w,t.instance=P,t.capture=T,t.reset=C,t.resetCalls=I,t.anyOfClass=R,t.anyFunction=D,t.anyNumber=O,t.anyString=k,t.anything=x,t.between=N,t.deepEqual=A,t.notNull=j,t.strictEqual=M,t.match=L,t.objectContaining=F,t.default={spy:S,mock:_,verify:E,when:w,instance:P,capture:T,reset:C,resetCalls:I,anyOfClass:R,anyFunction:D,anyNumber:O,anyString:k,anything:x,between:N,deepEqual:A,notNull:j,strictEqual:M,match:L,objectContaining:F}},62439:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.convert=function(e){var t=e.matchers.map((function(e){return e.toString()})).join(", ");return e.name+"("+t+')" '},e}();t.MethodCallToStringConverter=n},85071:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.functionNameRegex=/[.\s]([^.\s]+?)(?:\(|\s+=\s+(?:function\s*(?:[^.\s]+?\s*)?)?\()/g,this.cleanFunctionNameRegex=/^[.\s]([^.\s]+?)[\s(]/,this.excludedFunctionNames=["hasOwnProperty","function"]}return e.prototype.find=function(e){var t=this;return(e.match(this.functionNameRegex)||[]).map((function(e){return e.match(t.cleanFunctionNameRegex)[1]})).filter((function(e){return t.isMockable(e)}))},e.prototype.isMockable=function(e){return this.excludedFunctionNames.indexOf(e)<0},e}();t.MockableFunctionsFinder=n},17619:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(96486),i=function(){function e(){}return e.prototype.getObjectPrototypes=function(e){for(var t=[];r.isObject(e)&&e!==Object.prototype&&e!==Function.prototype;)t.push(e),e=Object.getPrototypeOf(e);return t},e.prototype.getObjectOwnPropertyNames=function(e){return r.isObject(e)?Object.getOwnPropertyNames(e):[]},e}();t.ObjectInspector=i},2418:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.get=function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);if(!n)return"";var r=[];return n.get&&r.push(n.get.toString()),n.set&&r.push(n.set.toString()),r.join(" ")||String(e[t])},e}();t.ObjectPropertyCodeRetriever=n},70655:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,pi:()=>o});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)}},58967:(e,t,n)=>{"use strict";const r=n(22037).homedir();e.exports=e=>{if("string"!=typeof e)throw new TypeError("Expected a string, got "+typeof e);return r?e.replace(/^~(?=$|\/|\\)/,r):e}},23870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFormat=t.TraceValues=t.Trace=t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=void 0;const r=n(20839);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return r.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return r.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return r.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return r.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return r.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return r.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return r.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return r.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return r.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return r.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return r.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return r.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return r.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return r.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return r.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return r.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return r.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return r.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return r.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return r.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return r.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return r.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return r.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return r.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return r.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return r.ParameterStructures}});const i=n(96184);Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return i.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return i.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return i.Touch}});const o=n(83911);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return o.Disposable}});const s=n(27135);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return s.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return s.Emitter}});const a=n(13881);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return a.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return a.CancellationToken}});const c=n(56525);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return c.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return c.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return c.ReadableStreamMessageReader}});const u=n(96654);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return u.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return u.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return u.WriteableStreamMessageWriter}});const l=n(61343);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return l.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return l.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return l.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return l.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return l.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return l.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return l.Trace}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return l.TraceValues}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return l.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return l.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return l.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return l.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return l.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return l.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return l.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return l.CancellationStrategy}});const d=n(30147);t.RAL=d.default},13881:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const r=n(30147),i=n(67574),o=n(27135);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None}),e.is=function(t){const n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));const a=Object.freeze((function(e,t){const n=(0,r.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}));class c{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new c),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof c&&this._token.dispose():this._token=s.None}}},61343:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;const r=n(30147),i=n(67574),o=n(20839),s=n(96184),a=n(27135),c=n(13881);var u,l,d,p,h,f,g,m,v,y,b,S,_,E,w;!function(e){e.type=new o.NotificationType("$/cancelRequest")}(u||(u={})),function(e){e.is=function(e){return"string"==typeof e||"number"==typeof e}}(l=t.ProgressToken||(t.ProgressToken={})),function(e){e.type=new o.NotificationType("$/progress")}(d||(d={})),t.ProgressType=class{constructor(){}},function(e){e.is=function(e){return i.func(e)}}(p||(p={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"}(h=t.Trace||(t.Trace={})),(w=t.TraceValues||(t.TraceValues={})).Off="off",w.Messages="messages",w.Compact="compact",w.Verbose="verbose",function(e){e.fromString=function(t){if(!i.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":default:return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}}(h=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return i.string(t)&&"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(f=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTrace")}(g=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTrace")}(m=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(v=t.ConnectionErrors||(t.ConnectionErrors={}));class P extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,P.prototype)}}t.ConnectionError=P,function(e){e.is=function(e){const t=e;return t&&i.func(t.cancelUndispatched)}}(y=t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new c.CancellationTokenSource}),e.is=function(e){const t=e;return t&&i.func(t.createCancellationTokenSource)}}(b=t.CancellationReceiverStrategy||(t.CancellationReceiverStrategy={})),function(e){e.Message=Object.freeze({sendCancellation:(e,t)=>e.sendNotification(u.type,{id:t}),cleanup(e){}}),e.is=function(e){const t=e;return t&&i.func(t.sendCancellation)&&i.func(t.cleanup)}}(S=t.CancellationSenderStrategy||(t.CancellationSenderStrategy={})),function(e){e.Message=Object.freeze({receiver:b.Message,sender:S.Message}),e.is=function(e){const t=e;return t&&b.is(t.receiver)&&S.is(t.sender)}}(_=t.CancellationStrategy||(t.CancellationStrategy={})),(t.ConnectionOptions||(t.ConnectionOptions={})).is=function(e){const t=e;return t&&(_.is(t.cancellationStrategy)||y.is(t.connectionStrategy))},function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(E||(E={})),t.createMessageConnection=function(e,n,y,b){const S=void 0!==y?y:t.NullLogger;let w=0,T=0,C=0;const I="2.0";let R;const D=new Map;let O;const k=new Map,x=new Map;let N,A,j=new s.LinkedMap,M=new Map,L=new Set,F=new Map,q=h.Off,U=f.Text,W=E.New;const V=new a.Emitter,H=new a.Emitter,$=new a.Emitter,B=new a.Emitter,G=new a.Emitter,K=b&&b.cancellationStrategy?b.cancellationStrategy:_.Message;function z(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function Y(e){}function J(){return W===E.Listening}function X(){return W===E.Closed}function Q(){return W===E.Disposed}function Z(){W!==E.New&&W!==E.Listening||(W=E.Closed,H.fire(void 0))}function ee(){N||0===j.size||(N=(0,r.default)().timer.setImmediate((()=>{N=void 0,function(){if(0===j.size)return;const e=j.shift();try{o.Message.isRequest(e)?function(e){if(Q())return;function t(t,r,i){const s={jsonrpc:I,id:e.id};t instanceof o.ResponseError?s.error=t.toJson():s.result=void 0===t?null:t,re(s,r,i),n.write(s).catch((()=>S.error("Sending response failed.")))}function r(t,r,i){const o={jsonrpc:I,id:e.id,error:t.toJson()};re(o,r,i),n.write(o).catch((()=>S.error("Sending response failed.")))}!function(e){if(q!==h.Off&&A)if(U===f.Text){let t;q!==h.Verbose&&q!==h.Compact||!e.params||(t=`Params: ${ne(e.params)}\n\n`),A.log(`Received request '${e.method} - (${e.id})'.`,t)}else oe("receive-request",e)}(e);const s=D.get(e.method);let a,c;s&&(a=s.type,c=s.handler);const u=Date.now();if(c||R){const s=e.id??String(Date.now()),l=K.receiver.createCancellationTokenSource(s);null!==e.id&&L.has(e.id)&&l.cancel(),null!==e.id&&F.set(s,l);try{let d;if(c)if(void 0===e.params){if(void 0!==a&&0!==a.numberOfParams)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines ${a.numberOfParams} params but received none.`),e.method,u);d=c(l.token)}else if(Array.isArray(e.params)){if(void 0!==a&&a.parameterStructures===o.ParameterStructures.byName)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,u);d=c(...e.params,l.token)}else{if(void 0!==a&&a.parameterStructures===o.ParameterStructures.byPosition)return void r(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,u);d=c(e.params,l.token)}else R&&(d=R(e.method,e.params,l.token));const p=d;d?p.then?p.then((n=>{F.delete(s),t(n,e.method,u)}),(t=>{F.delete(s),t instanceof o.ResponseError?r(t,e.method,u):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)})):(F.delete(s),t(d,e.method,u)):(F.delete(s),function(t,r,i){void 0===t&&(t=null);const o={jsonrpc:I,id:e.id,result:t};re(o,r,i),n.write(o).catch((()=>S.error("Sending response failed.")))}(d,e.method,u))}catch(n){F.delete(s),n instanceof o.ResponseError?t(n,e.method,u):n&&i.string(n.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${n.message}`),e.method,u):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else r(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,u)}(e):o.Message.isNotification(e)?function(e){if(Q())return;let t,n;if(e.method===u.type.method){const t=e.params.id;return L.delete(t),void ie(e)}{const r=k.get(e.method);r&&(n=r.handler,t=r.type)}if(n||O)try{if(ie(e),n)if(void 0===e.params)void 0!==t&&0!==t.numberOfParams&&t.parameterStructures!==o.ParameterStructures.byName&&S.error(`Notification ${e.method} defines ${t.numberOfParams} params but received none.`),n();else if(Array.isArray(e.params)){const r=e.params;e.method===d.type.method&&2===r.length&&l.is(r[0])?n({token:r[0],value:r[1]}):(void 0!==t&&(t.parameterStructures===o.ParameterStructures.byName&&S.error(`Notification ${e.method} defines parameters by name but received parameters by position`),t.numberOfParams!==e.params.length&&S.error(`Notification ${e.method} defines ${t.numberOfParams} params but received ${r.length} arguments`)),n(...r))}else void 0!==t&&t.parameterStructures===o.ParameterStructures.byPosition&&S.error(`Notification ${e.method} defines parameters by position but received parameters by name`),n(e.params);else O&&O(e.method,e.params)}catch(t){t.message?S.error(`Notification handler '${e.method}' failed with message: ${t.message}`):S.error(`Notification handler '${e.method}' failed unexpectedly.`)}else $.fire(e)}(e):o.Message.isResponse(e)?function(e){if(!Q())if(null===e.id)e.error?S.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):S.error("Received response message without id. No further error information provided.");else{const t=e.id,n=M.get(t);if(function(e,t){if(q!==h.Off&&A)if(U===f.Text){let n;if(q!==h.Verbose&&q!==h.Compact||(e.error&&e.error.data?n=`Error data: ${ne(e.error.data)}\n\n`:e.result?n=`Result: ${ne(e.result)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";A.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else A.log(`Received response ${e.id} without active response promise.`,n)}else oe("receive-response",e)}(e,n),void 0!==n){M.delete(t);try{if(e.error){const t=e.error;n.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?S.error(`Response handler '${n.method}' failed with message: ${e.message}`):S.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void S.error("Received empty message.");S.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);const t=e;if(i.string(t.id)||i.number(t.id)){const e=t.id,n=M.get(e);n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{ee()}}()})))}e.onClose(Z),e.onError((function(e){V.fire([e,void 0,void 0])})),n.onClose(Z),n.onError((function(e){V.fire(e)}));const te=e=>{try{if(o.Message.isNotification(e)&&e.method===u.type.method){const t=e.params.id,r=z(t),i=j.get(r);if(o.Message.isRequest(i)){const o=b?.connectionStrategy,s=o&&o.cancelUndispatched?o.cancelUndispatched(i,Y):void 0;if(s&&(void 0!==s.error||void 0!==s.result))return j.delete(r),F.delete(t),s.id=i.id,re(s,e.method,Date.now()),void n.write(s).catch((()=>S.error("Sending response for canceled message failed.")))}const s=F.get(t);if(void 0!==s)return s.cancel(),void ie(e);L.add(t)}!function(e,t){var n;o.Message.isRequest(t)?e.set(z(t.id),t):o.Message.isResponse(t)?e.set(null===(n=t.id)?"res-unknown-"+(++C).toString():"res-"+n.toString(),t):e.set("not-"+(++T).toString(),t)}(j,e)}finally{ee()}};function ne(e){if(null!=e)switch(q){case h.Verbose:return JSON.stringify(e,null,4);case h.Compact:return JSON.stringify(e);default:return}}function re(e,t,n){if(q!==h.Off&&A)if(U===f.Text){let r;q!==h.Verbose&&q!==h.Compact||(e.error&&e.error.data?r=`Error data: ${ne(e.error.data)}\n\n`:e.result?r=`Result: ${ne(e.result)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),A.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else oe("send-response",e)}function ie(e){if(q!==h.Off&&A&&e.method!==m.type.method)if(U===f.Text){let t;q!==h.Verbose&&q!==h.Compact||(t=e.params?`Params: ${ne(e.params)}\n\n`:"No parameters provided.\n\n"),A.log(`Received notification '${e.method}'.`,t)}else oe("receive-notification",e)}function oe(e,t){if(!A||q===h.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};A.log(n)}function se(){if(X())throw new P(v.Closed,"Connection is closed.");if(Q())throw new P(v.Disposed,"Connection is disposed.")}function ae(e){return void 0===e?null:e}function ce(e){return null===e?void 0:e}function ue(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function le(e,t){switch(e){case o.ParameterStructures.auto:return ue(t)?ce(t):[ae(t)];case o.ParameterStructures.byName:if(!ue(t))throw new Error("Received parameters by name but param is not an object literal.");return ce(t);case o.ParameterStructures.byPosition:return[ae(t)];default:throw new Error(`Unknown parameter structure ${e.toString()}`)}}function de(e,t){let n;const r=e.numberOfParams;switch(r){case 0:n=void 0;break;case 1:n=le(e.parameterStructures,t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(ae(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}const pe={sendNotification:(e,...t)=>{let r,s;if(se(),i.string(e)){r=e;const n=t[0];let i=0,a=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(i=1,a=n);let c=t.length;const u=c-i;switch(u){case 0:s=void 0;break;case 1:s=le(a,t[i]);break;default:if(a===o.ParameterStructures.byName)throw new Error(`Received ${u} parameters for 'by Name' notification parameter structure.`);s=t.slice(i,c).map((e=>ae(e)))}}else{const n=t;r=e.method,s=de(e,n)}const a={jsonrpc:I,method:r,params:s};return function(e){if(q!==h.Off&&A)if(U===f.Text){let t;q!==h.Verbose&&q!==h.Compact||(t=e.params?`Params: ${ne(e.params)}\n\n`:"No parameters provided.\n\n"),A.log(`Sending notification '${e.method}'.`,t)}else oe("send-notification",e)}(a),n.write(a).catch((()=>S.error("Sending notification failed.")))},onNotification:(e,t)=>{let n;return se(),i.func(e)?O=e:t&&(i.string(e)?(n=e,k.set(e,{type:void 0,handler:t})):(n=e.method,k.set(e.method,{type:e,handler:t}))),{dispose:()=>{void 0!==n?k.delete(n):O=void 0}}},onProgress:(e,t,n)=>{if(x.has(t))throw new Error(`Progress handler for token ${t} already registered`);return x.set(t,n),{dispose:()=>{x.delete(t)}}},sendProgress:(e,t,n)=>pe.sendNotification(d.type,{token:t,value:n}),onUnhandledProgress:B.event,sendRequest:(e,...t)=>{let r,s,a;if(se(),function(){if(!J())throw new Error("Call listen() first.")}(),i.string(e)){r=e;const n=t[0],i=t[t.length-1];let u=0,l=o.ParameterStructures.auto;o.ParameterStructures.is(n)&&(u=1,l=n);let d=t.length;c.CancellationToken.is(i)&&(d-=1,a=i);const p=d-u;switch(p){case 0:s=void 0;break;case 1:s=le(l,t[u]);break;default:if(l===o.ParameterStructures.byName)throw new Error(`Received ${p} parameters for 'by Name' request parameter structure.`);s=t.slice(u,d).map((e=>ae(e)))}}else{const n=t;r=e.method,s=de(e,n);const i=e.numberOfParams;a=c.CancellationToken.is(n[i])?n[i]:void 0}const u=w++;let l;return a&&(l=a.onCancellationRequested((()=>{const e=K.sender.sendCancellation(pe,u);return void 0===e?(S.log(`Received no promise from cancellation strategy when cancelling id ${u}`),Promise.resolve()):e.catch((()=>{S.log(`Sending cancellation messages for id ${u} failed`)}))}))),new Promise(((e,t)=>{const i={jsonrpc:I,id:u,method:r,params:s};let a={method:r,timerStart:Date.now(),resolve:t=>{e(t),K.sender.cleanup(u),l?.dispose()},reject:e=>{t(e),K.sender.cleanup(u),l?.dispose()}};!function(e){if(q!==h.Off&&A)if(U===f.Text){let t;q!==h.Verbose&&q!==h.Compact||!e.params||(t=`Params: ${ne(e.params)}\n\n`),A.log(`Sending request '${e.method} - (${e.id})'.`,t)}else oe("send-request",e)}(i);try{n.write(i).catch((()=>S.error("Sending request failed.")))}catch(e){a.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),a=null}a&&M.set(u,a)}))},onRequest:(e,t)=>{se();let n=null;return p.is(e)?(n=void 0,R=e):i.string(e)?(n=null,void 0!==t&&(n=e,D.set(e,{handler:t,type:void 0}))):void 0!==t&&(n=e.method,D.set(e.method,{type:e,handler:t})),{dispose:()=>{null!==n&&(void 0!==n?D.delete(n):R=void 0)}}},hasPendingResponse:()=>M.size>0,trace:async(e,t,n)=>{let r=!1,o=f.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,o=n.traceFormat||f.Text)),q=e,U=o,A=q===h.Off?void 0:t,!r||X()||Q()||await pe.sendNotification(g.type,{value:h.toString(e)})},onError:V.event,onClose:H.event,onUnhandledNotification:$.event,onDispose:G.event,end:()=>{n.end()},dispose:()=>{if(Q())return;W=E.Disposed,G.fire(void 0);const t=new o.ResponseError(o.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const e of M.values())e.reject(t);M=new Map,F=new Map,L=new Set,j=new s.LinkedMap,i.func(n.dispose)&&n.dispose(),i.func(e.dispose)&&e.dispose()},listen:()=>{se(),function(){if(J())throw new P(v.AlreadyListening,"Connection is already listening")}(),W=E.Listening,e.listen(te)},inspect:()=>{(0,r.default)().console.log("inspect")}};return pe.onNotification(m.type,(e=>{if(q===h.Off||!A)return;const t=q===h.Verbose||q===h.Compact;A.log(e.message,t?e.verbose:void 0)})),pe.onNotification(d.type,(e=>{const t=x.get(e.token);t?t(e.value):B.fire(e)})),pe}},83911:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,(t.Disposable||(t.Disposable={})).create=function(e){return{dispose:e}}},27135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const r=n(30147);!function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class i{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(e){(0,r.default)().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class o{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new i),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),r.dispose=o._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=o,o._noop=function(){}},67574:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))}},96184:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(r=t.Touch||(t.Touch={}));class i{constructor(){this[n]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=r.None){const n=this._map.get(e);if(n)return t!==r.None&&this.touch(n,t),n.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.key,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.value,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:[t.key,t.value],done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}[(n=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}t.LinkedMap=i,t.LRUCache=class extends i{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=r.AsNew){return super.get(e,t)}peek(e){return super.get(e,r.None)}set(e,t){return super.set(e,t,r.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},75530:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0,t.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let e=0,t=0,n=0,r=0;e:for(;t<this._chunks.length;){const i=this._chunks[t];for(n=0;n<i.length;){switch(i[n]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}r+=i.byteLength,t++}if(4!==e)return;const i=this._read(r+n),o=new Map,s=this.toString(i,"ascii").split("\r\n");if(s.length<2)return o;for(let e=0;e<s.length-2;e++){const t=s[e],n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");const r=t.substr(0,n),i=t.substr(n+1).trim();o.set(r,i)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],n=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,n}const t=this.allocNative(e);let n=0;for(;e>0;){const r=this._chunks[0];if(r.byteLength>e){const i=r.slice(0,e);t.set(i,n),n+=e,this._chunks[0]=r.slice(e),this._totalLength-=e,e-=e}else t.set(r,n),n+=r.byteLength,this._chunks.shift(),this._totalLength-=r.byteLength,e-=r.byteLength}return t}}},56525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const r=n(30147),i=n(67574),o=n(27135);var s;(t.MessageReader||(t.MessageReader={})).is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)};class a{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter,this.partialMessageEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=a,function(e){e.fromOptions=function(e){let t,n;const i=new Map;let o;const s=new Map;if(void 0===e||"string"==typeof e)t=e??"utf-8";else{if(t=e.charset??"utf-8",void 0!==e.contentDecoder&&(n=e.contentDecoder,i.set(n.name,n)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)i.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(o=e.contentTypeDecoder,s.set(o.name,o)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)s.set(t.name,t)}return void 0===o&&(o=(0,r.default)().applicationJson.decoder,s.set(o.name,o)),{charset:t,contentDecoder:n,contentDecoders:i,contentTypeDecoder:o,contentTypeDecoders:s}}}(s||(s={})),t.ReadableStreamMessageReader=class extends a{constructor(e,t){super(),this.readable=e,this.options=s.fromOptions(t),this.buffer=(0,r.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData((e=>{this.onData(e)}));return this.readable.onError((e=>this.fireError(e))),this.readable.onClose((()=>this.fireClose())),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then((e=>{this.options.contentTypeDecoder.decode(e,this.options).then((e=>{this.callback(e)}),(e=>{this.fireError(e)}))}),(e=>{this.fireError(e)}))}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=(0,r.default)().timer.setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},96654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const r=n(30147),i=n(67574),o=n(80142),s=n(27135);var a;(t.MessageWriter||(t.MessageWriter={})).is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)};class c{constructor(){this.errorEmitter=new s.Emitter,this.closeEmitter=new s.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=c,function(e){e.fromOptions=function(e){return void 0===e||"string"==typeof e?{charset:e??"utf-8",contentTypeEncoder:(0,r.default)().applicationJson.encoder}:{charset:e.charset??"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:e.contentTypeEncoder??(0,r.default)().applicationJson.encoder}}}(a||(a={})),t.WriteableStreamMessageWriter=class extends c{constructor(e,t){super(),this.writable=e,this.options=a.fromOptions(t),this.errorCount=0,this.writeSemaphore=new o.Semaphore(1),this.writable.onError((e=>this.fireError(e))),this.writable.onClose((()=>this.fireClose()))}async write(e){return this.writeSemaphore.lock((async()=>this.options.contentTypeEncoder.encode(e,this.options).then((e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e)).then((t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)}),(e=>{throw this.fireError(e),e}))))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},20839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const r=n(67574);var i,o;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3}(i=t.ErrorCodes||(t.ErrorCodes={}));class s extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,s.prototype)}toJson(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),e}}t.ResponseError=s;class a{constructor(e){this.kind=e}static is(e){return e===a.auto||e===a.byName||e===a.byPosition}toString(){return this.kind}}t.ParameterStructures=a,a.auto=new a("auto"),a.byPosition=new a("byPosition"),a.byName=new a("byName");class c{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return a.auto}}t.AbstractMessageSignature=c,t.RequestType0=class extends c{constructor(e){super(e,0)}},t.RequestType=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType1=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType2=class extends c{constructor(e){super(e,2)}},t.RequestType3=class extends c{constructor(e){super(e,3)}},t.RequestType4=class extends c{constructor(e){super(e,4)}},t.RequestType5=class extends c{constructor(e){super(e,5)}},t.RequestType6=class extends c{constructor(e){super(e,6)}},t.RequestType7=class extends c{constructor(e){super(e,7)}},t.RequestType8=class extends c{constructor(e){super(e,8)}},t.RequestType9=class extends c{constructor(e){super(e,9)}},t.NotificationType=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType0=class extends c{constructor(e){super(e,0)}},t.NotificationType1=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType2=class extends c{constructor(e){super(e,2)}},t.NotificationType3=class extends c{constructor(e){super(e,3)}},t.NotificationType4=class extends c{constructor(e){super(e,4)}},t.NotificationType5=class extends c{constructor(e){super(e,5)}},t.NotificationType6=class extends c{constructor(e){super(e,6)}},t.NotificationType7=class extends c{constructor(e){super(e,7)}},t.NotificationType8=class extends c{constructor(e){super(e,8)}},t.NotificationType9=class extends c{constructor(e){super(e,9)}},(o=t.Message||(t.Message={})).isRequest=function(e){const t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},o.isNotification=function(e){const t=e;return t&&r.string(t.method)&&void 0===e.id},o.isResponse=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},30147:(e,t)=>{"use strict";let n;function r(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(r||(r={})),t.default=r},80142:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const r=n(30147);t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,r.default)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},74389:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.createServerSocketTransport=t.createClientSocketTransport=t.createServerPipeTransport=t.createClientPipeTransport=t.generateRandomPipeName=t.StreamMessageWriter=t.StreamMessageReader=t.SocketMessageWriter=t.SocketMessageReader=t.IPCMessageWriter=t.IPCMessageReader=void 0;const o=n(23034);o.default.install();const s=n(23870),a=n(71017),c=n(22037),u=n(6113),l=n(41808);i(n(23870),t);class d extends s.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){return this.process.on("message",e),s.Disposable.create((()=>this.process.off("message",e)))}}t.IPCMessageReader=d;class p extends s.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){try{return"function"==typeof this.process.send&&this.process.send(e,void 0,void 0,(t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0})),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.IPCMessageWriter=p;class h extends s.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,o.default)().stream.asReadableStream(e),t)}}t.SocketMessageReader=h;class f extends s.WriteableStreamMessageWriter{constructor(e,t){super((0,o.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}}t.SocketMessageWriter=f;class g extends s.ReadableStreamMessageReader{constructor(e,t){super((0,o.default)().stream.asReadableStream(e),t)}}t.StreamMessageReader=g;class m extends s.WriteableStreamMessageWriter{constructor(e,t){super((0,o.default)().stream.asWritableStream(e),t)}}t.StreamMessageWriter=m;const v=process.env.XDG_RUNTIME_DIR,y=new Map([["linux",107],["darwin",103]]);t.generateRandomPipeName=function(){const e=(0,u.randomBytes)(21).toString("hex");if("win32"===process.platform)return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;t=v?a.join(v,`vscode-ipc-${e}.sock`):a.join(c.tmpdir(),`vscode-${e}.sock`);const n=y.get(process.platform);return void 0!==n&&t.length>=n&&(0,o.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t},t.createClientPipeTransport=function(e,t="utf-8"){let n;const r=new Promise(((e,t)=>{n=e}));return new Promise(((i,o)=>{let s=(0,l.createServer)((e=>{s.close(),n([new h(e,t),new f(e,t)])}));s.on("error",o),s.listen(e,(()=>{s.removeListener("error",o),i({onConnected:()=>r})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const n=(0,l.createConnection)(e);return[new h(n,t),new f(n,t)]},t.createClientSocketTransport=function(e,t="utf-8"){let n;const r=new Promise(((e,t)=>{n=e}));return new Promise(((i,o)=>{const s=(0,l.createServer)((e=>{s.close(),n([new h(e,t),new f(e,t)])}));s.on("error",o),s.listen(e,"127.0.0.1",(()=>{s.removeListener("error",o),i({onConnected:()=>r})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const n=(0,l.createConnection)(e,"127.0.0.1");return[new h(n,t),new f(n,t)]},t.createMessageConnection=function(e,t,n,r){n||(n=s.NullLogger);const i=function(e){const t=e;return void 0!==t.read&&void 0!==t.addListener}(e)?new g(e):e,o=function(e){const t=e;return void 0!==t.write&&void 0!==t.addListener}(t)?new m(t):t;return s.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,s.createMessageConnection)(i,o,n,r)}},23034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(30147),i=n(73837),o=n(83911),s=n(75530);class a extends s.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return a.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new i.TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}}a.emptyBuffer=Buffer.allocUnsafe(0);class c{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),o.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),o.Disposable.create((()=>this.stream.off("end",e)))}onData(e){return this.stream.on("data",e),o.Disposable.create((()=>this.stream.off("data",e)))}}class u{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),o.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),o.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),o.Disposable.create((()=>this.stream.off("end",e)))}write(e,t){return new Promise(((n,r)=>{const i=e=>{null==e?n():r(e)};"string"==typeof e?this.stream.write(e,t,i):this.stream.write(e,i)}))}end(){this.stream.end()}}const l=Object.freeze({messageBuffer:Object.freeze({create:e=>new a(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(e){return Promise.reject(e)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new i.TextDecoder(t.charset).decode(e)))}catch(e){return Promise.reject(e)}}})}),stream:Object.freeze({asReadableStream:e=>new c(e),asWritableStream:e=>new u(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){const r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){const n=setImmediate(e,...t);return{dispose:()=>clearImmediate(n)}},setInterval(e,t,...n){const r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function d(){return l}!function(e){e.install=function(){r.default.install(l)}}(d||(d={})),t.default=d},95028:(e,t,n)=>{"use strict";e.exports=n(74389)},85734:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticPullMode=t.vsdiag=void 0,i(n(40273),t),i(n(88909),t);var o=n(92570);Object.defineProperty(t,"vsdiag",{enumerable:!0,get:function(){return o.vsdiag}}),Object.defineProperty(t,"DiagnosticPullMode",{enumerable:!0,get:function(){return o.DiagnosticPullMode}}),i(n(14384),t)},95578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyFeature=void 0;const r=n(66828),i=n(40273),o=n(88909);class s{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){const r=this.client,o=this.middleware,s=(e,t,n)=>{const o=r.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return r.sendRequest(i.CallHierarchyPrepareRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyItems(e,n)),(e=>r.handleFailedRequest(i.CallHierarchyPrepareRequest.type,n,e,null)))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(i.CallHierarchyIncomingCallsRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(e,t)),(e=>n.handleFailedRequest(i.CallHierarchyIncomingCallsRequest.type,t,e,null)))};return r.provideCallHierarchyIncomingCalls?r.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(i.CallHierarchyOutgoingCallsRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(e,t)),(e=>n.handleFailedRequest(i.CallHierarchyOutgoingCallsRequest.type,t,e,null)))};return r.provideCallHierarchyOutgoingCalls?r.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}}class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){const t=e;(0,o.ensure)((0,o.ensure)(t,"textDocument"),"callHierarchy").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.callHierarchyProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=this._client,n=new s(t);return[r.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}}t.CallHierarchyFeature=a},14384:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.BaseLanguageClient=t.MessageTransports=t.SuspendMode=t.State=t.CloseAction=t.ErrorAction=t.RevealOutputChannelOn=void 0;const r=n(66828),i=n(40273),o=n(10071),s=n(38785),a=n(59763),c=n(94904),u=n(41980),l=n(78071),d=n(88909),p=n(92570),h=n(30203),f=n(36495),g=n(70743),m=n(11435),v=n(96782),y=n(20122),b=n(82908),S=n(89959),_=n(42483),E=n(43051),w=n(18480),P=n(9474),T=n(27711),C=n(56426),I=n(26700),R=n(13471),D=n(44849),O=n(65338),k=n(38880),x=n(79889),N=n(10328),A=n(5941),j=n(96454),M=n(20707),L=n(750),F=n(43603),q=n(95578),U=n(79957),W=n(7606),V=n(43483),H=n(34175),$=n(45098),B=n(16190);var G,K,z,Y,J,X,Q;!function(e){e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Never=4]="Never"}(G=t.RevealOutputChannelOn||(t.RevealOutputChannelOn={})),function(e){e[e.Continue=1]="Continue",e[e.Shutdown=2]="Shutdown"}(K=t.ErrorAction||(t.ErrorAction={})),function(e){e[e.DoNotRestart=1]="DoNotRestart",e[e.Restart=2]="Restart"}(z=t.CloseAction||(t.CloseAction={})),function(e){e[e.Stopped=1]="Stopped",e[e.Starting=3]="Starting",e[e.Running=2]="Running"}(Y=t.State||(t.State={})),(Q=t.SuspendMode||(t.SuspendMode={})).off="off",Q.on="on";class Z{constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:K.Continue}:{action:K.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:z.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?{action:z.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:z.Restart})}}!function(e){e.Initial="initial",e.Starting="starting",e.StartFailed="startFailed",e.Running="running",e.Stopping="stopping",e.Stopped="stopped"}(J||(J={})),(t.MessageTransports||(t.MessageTransports={})).is=function(e){return e&&i.MessageReader.is(e.reader)&&i.MessageWriter.is(e.writer)};class ee{constructor(e,t,n){this._traceFormat=i.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new c.Semaphore(1),this._id=e,this._name=t;const r={isTrusted:!1,supportHtml:!1};void 0!==(n=n||{}).markdown&&(r.isTrusted=!0===n.markdown.isTrusted,r.supportHtml=!0===n.markdown.supportHtml),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??G.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:r,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=J.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new c.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new i.Emitter,this._stateChangeEmitter=new i.Emitter,this._trace=i.Trace.Off,this._tracer={log:(e,t)=>{a.string(e)?this.logTrace(e,t):this.logObjectTrace(e)}},this._c2p=o.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=s.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=r.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case J.Starting:return Y.Starting;case J.Running:return Y.Running;default:return Y.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===J.StartFailed||this.$state===J.Stopping||this.$state===J.Stopped)return Promise.reject(new i.ResponseError(i.ErrorCodes.ConnectionInactive,"Client is not running"));try{const n=await this.$start();return await this.forceDocumentSync(),n.sendRequest(e,...t)}catch(t){throw this.error(`Sending request ${a.string(e)?e:e.method} failed.`,t),t}}onRequest(e,t){const n="string"==typeof e?e:e.method;this._requestHandlers.set(n,t);const r=this.activeConnection();let i;return void 0!==r?(this._requestDisposables.set(n,r.onRequest(e,t)),i={dispose:()=>{const e=this._requestDisposables.get(n);void 0!==e&&(e.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),i={dispose:()=>{this._pendingRequestHandlers.delete(n);const e=this._requestDisposables.get(n);void 0!==e&&(e.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),i.dispose()}}}async sendNotification(e,t){if(this.$state===J.StartFailed||this.$state===J.Stopping||this.$state===J.Stopped)return Promise.reject(new i.ResponseError(i.ErrorCodes.ConnectionInactive,"Client is not running"));try{const n=await this.$start();return await this.forceDocumentSync(),n.sendNotification(e,t)}catch(t){throw this.error(`Sending notification ${a.string(e)?e:e.method} failed.`,t),t}}onNotification(e,t){const n="string"==typeof e?e:e.method;this._notificationHandlers.set(n,t);const r=this.activeConnection();let i;return void 0!==r?(this._notificationDisposables.set(n,r.onNotification(e,t)),i={dispose:()=>{const e=this._notificationDisposables.get(n);void 0!==e&&(e.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),i={dispose:()=>{this._pendingNotificationHandlers.delete(n);const e=this._notificationDisposables.get(n);void 0!==e&&(e.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),i.dispose()}}}async sendProgress(e,t,n){if(this.$state===J.StartFailed||this.$state===J.Stopping||this.$state===J.Stopped)return Promise.reject(new i.ResponseError(i.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(e){throw this.error(`Sending progress for token ${t} failed.`,e),e}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});const r=this.activeConnection();let o;const s=this._clientOptions.middleware?.handleWorkDoneProgress,a=i.WorkDoneProgress.is(e)&&void 0!==s?e=>{s(t,e,(()=>n(e)))}:n;return void 0!==r?(this._progressDisposables.set(t,r.onProgress(e,t,a)),o={dispose:()=>{const e=this._progressDisposables.get(t);void 0!==e&&(e.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);const e=this._progressDisposables.get(t);void 0!==e&&(e.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(void 0!==e&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new Z(this,e??4)}async setTrace(e){this._trace=e;const t=this.activeConnection();void 0!==t&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof i.ResponseError){const t=e;return`  Message: ${t.message}\n  Code: ${t.code} ${t.data?"\n"+t.data.toString():""}`}return e instanceof Error?a.string(e.stack)?e.stack:e.message:a.string(e)?e:e.toString()}info(e,t,n=!0){this.outputChannel.appendLine(`[Info  - ${(new Date).toLocaleTimeString()}] ${e}`),null!=t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=G.Info&&this.showNotificationMessage(i.MessageType.Info,e)}warn(e,t,n=!0){this.outputChannel.appendLine(`[Warn  - ${(new Date).toLocaleTimeString()}] ${e}`),null!=t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=G.Warn&&this.showNotificationMessage(i.MessageType.Warning,e)}error(e,t,n=!0){this.outputChannel.appendLine(`[Error - ${(new Date).toLocaleTimeString()}] ${e}`),null!=t&&this.outputChannel.appendLine(this.data2String(t)),("force"===n||n&&this._clientOptions.revealOutputChannelOn<=G.Error)&&this.showNotificationMessage(i.MessageType.Error,e)}showNotificationMessage(e,t){t=t??"A request has failed. See the output for more information.",(e===i.MessageType.Error?r.window.showErrorMessage:e===i.MessageType.Warning?r.window.showWarningMessage:r.window.showInformationMessage)(t,"Go to output").then((e=>{void 0!==e&&this.outputChannel.show(!0)}))}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${(new Date).toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${(new Date).toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===J.Initial||this.$state===J.Stopping||this.$state===J.Stopped}needsStop(){return this.$state===J.Starting||this.$state===J.Running}activeConnection(){return this.$state===J.Running&&void 0!==this._connection?this._connection:void 0}isRunning(){return this.$state===J.Running}async start(){if("disposing"===this._disposed||"disposed"===this._disposed)throw new Error("Client got disposed and can't be restarted.");if(this.$state===J.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(void 0!==this._onStart)return this._onStart;const[e,t,n]=this.createOnStartPromise();this._onStart=e,void 0===this._diagnostics&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?r.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):r.languages.createDiagnosticCollection());for(const[e,t]of this._notificationHandlers)this._pendingNotificationHandlers.has(e)||this._pendingNotificationHandlers.set(e,t);for(const[e,t]of this._requestHandlers)this._pendingRequestHandlers.has(e)||this._pendingRequestHandlers.set(e,t);for(const[e,t]of this._progressHandlers)this._pendingProgressHandlers.has(e)||this._pendingProgressHandlers.set(e,t);this.$state=J.Starting;try{const e=await this.createConnection();e.onNotification(i.LogMessageNotification.type,(e=>{switch(e.type){case i.MessageType.Error:this.error(e.message,void 0,!1);break;case i.MessageType.Warning:this.warn(e.message,void 0,!1);break;case i.MessageType.Info:this.info(e.message,void 0,!1);break;default:this.outputChannel.appendLine(e.message)}})),e.onNotification(i.ShowMessageNotification.type,(e=>{switch(e.type){case i.MessageType.Error:r.window.showErrorMessage(e.message);break;case i.MessageType.Warning:r.window.showWarningMessage(e.message);break;case i.MessageType.Info:default:r.window.showInformationMessage(e.message)}})),e.onRequest(i.ShowMessageRequest.type,(e=>{let t;switch(e.type){case i.MessageType.Error:t=r.window.showErrorMessage;break;case i.MessageType.Warning:t=r.window.showWarningMessage;break;case i.MessageType.Info:default:t=r.window.showInformationMessage}let n=e.actions||[];return t(e.message,...n)})),e.onNotification(i.TelemetryEventNotification.type,(e=>{this._telemetryEmitter.fire(e)})),e.onRequest(i.ShowDocumentRequest.type,(async e=>{const t=async e=>{const t=this.protocol2CodeConverter.asUri(e.uri);try{if(!0===e.external)return{success:await r.env.openExternal(t)};{const n={};return void 0!==e.selection&&(n.selection=this.protocol2CodeConverter.asRange(e.selection)),void 0===e.takeFocus||!1===e.takeFocus?n.preserveFocus=!0:!0===e.takeFocus&&(n.preserveFocus=!1),await r.window.showTextDocument(t,n),{success:!0}}}catch(e){return{success:!1}}},n=this._clientOptions.middleware.window?.showDocument;return void 0!==n?n(e,t):t(e)})),e.listen(),await this.initialize(e),t()}catch(e){this.$state=J.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,e,"force"),n(e)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise(((n,r)=>{e=n,t=r})),e,t]}async initialize(e){this.refreshTrace(e,!1);const t=this._clientOptions.initializationOptions,[n,o]=void 0!==this._clientOptions.workspaceFolder?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],s={processId:null,clientInfo:{name:r.env.appName,version:r.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(r.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:a.func(t)?t():t,trace:i.Trace.toString(this._trace),workspaceFolders:o};if(this.fillInitializeParams(s),!this._clientOptions.progressOnInitialization)return this.doInitialize(e,s);{const t=u.generateUuid(),n=new l.ProgressPart(e,t);s.workDoneToken=t;try{const t=await this.doInitialize(e,s);return n.done(),t}catch(e){throw n.cancel(),e}}}async doInitialize(e,t){try{const n=await e.initialize(t);if(void 0!==n.capabilities.positionEncoding&&n.capabilities.positionEncoding!==i.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);let r;this._initializeResult=n,this.$state=J.Running,a.number(n.capabilities.textDocumentSync)?r=n.capabilities.textDocumentSync===i.TextDocumentSyncKind.None?{openClose:!1,change:i.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:void 0!==n.capabilities.textDocumentSync&&null!==n.capabilities.textDocumentSync&&(r=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:r}),e.onNotification(i.PublishDiagnosticsNotification.type,(e=>this.handleDiagnostics(e))),e.onRequest(i.RegistrationRequest.type,(e=>this.handleRegistrationRequest(e))),e.onRequest("client/registerFeature",(e=>this.handleRegistrationRequest(e))),e.onRequest(i.UnregistrationRequest.type,(e=>this.handleUnregistrationRequest(e))),e.onRequest("client/unregisterFeature",(e=>this.handleUnregistrationRequest(e))),e.onRequest(i.ApplyWorkspaceEditRequest.type,(e=>this.handleApplyWorkspaceEdit(e)));for(const[t,n]of this._pendingNotificationHandlers)this._notificationDisposables.set(t,e.onNotification(t,n));this._pendingNotificationHandlers.clear();for(const[t,n]of this._pendingRequestHandlers)this._requestDisposables.set(t,e.onRequest(t,n));this._pendingRequestHandlers.clear();for(const[t,n]of this._pendingProgressHandlers)this._progressDisposables.set(t,e.onProgress(n.type,t,n.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(i.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(t){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(t)?this.initialize(e):this.stop():t instanceof i.ResponseError&&t.data&&t.data.retry?r.window.showErrorMessage(t.message,{title:"Retry",id:"retry"}).then((t=>{t&&"retry"===t.id?this.initialize(e):this.stop()})):(t&&t.message&&r.window.showErrorMessage(t.message),this.error("Server initialization failed.",t),this.stop()),t}}_clientGetRootPath(){let e=r.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t){if(this.$state===J.Stopped||this.$state===J.Initial)return;if(this.$state===J.Stopping){if(void 0!==this._onStop)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}const n=this.activeConnection();if(void 0===n||this.$state!==J.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=J.Stopping,this.cleanUp(e);const r=new Promise((e=>{(0,i.RAL)().timer.setTimeout(e,t)})),o=(async e=>(await e.shutdown(),await e.exit(),e))(n);return this._onStop=Promise.race([r,o]).then((e=>{if(void 0===e)throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out");e.end(),e.dispose()}),(e=>{throw this.error("Stopping server failed",e,!1),e})).finally((()=>{this.$state=J.Stopped,"stop"===e&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()}))}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();const t=this._listeners.splice(0,this._listeners.length);for(const e of t)e.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(const e of Array.from(this._features.entries()).map((e=>e[1])).reverse())e.dispose();"stop"===e&&void 0!==this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0),void 0!==this._idleInterval&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){void 0!==this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){const t=this;async function n(e){return t._fileEvents.push(e),t._fileEventDelayer.trigger((async()=>{const e=await t.$start();await t.forceDocumentSync();const n=e.sendNotification(i.DidChangeWatchedFilesNotification.type,{changes:t._fileEvents});return t._fileEvents=[],n}))}const r=this.clientOptions.middleware?.workspace;(r?.didChangeWatchedFile?r.didChangeWatchedFile(e,n):n(e)).catch((e=>{t.error("Notify file events failed.",e)}))}async forceDocumentSync(){return void 0===this._didChangeTextDocumentFeature&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(i.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;const t=e.uri;"busy"===this._diagnosticQueueState.state&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,i.RAL)().timer.setImmediate((()=>{this.workDiagnosticQueue()}))}workDiagnosticQueue(){if("busy"===this._diagnosticQueueState.state)return;const e=this._diagnosticQueue.entries().next();if(!0===e.done)return;const[t,n]=e.value;this._diagnosticQueue.delete(t);const i=new r.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then((e=>{if(!i.token.isCancellationRequested){const n=this._p2c.asUri(t),r=this.clientOptions.middleware;r.handleDiagnostics?r.handleDiagnostics(n,e,((e,t)=>this.setDiagnostics(e,t))):this.setDiagnostics(n,e)}})).finally((()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()}))}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}async $start(){if(this.$state===J.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();const e=this.activeConnection();if(void 0===e)throw new Error("Starting server failed");return e}async createConnection(){const e=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=function(e,t,n,r,o){let s=-1;const c=new te,u=(0,i.createProtocolConnection)(e,t,c,o);return u.onError((e=>{n(e[0],e[1],e[2])})),u.onClose(r),{get lastUsed(){return s},resetLastUsed:()=>{s=-1},listen:()=>u.listen(),sendRequest:(e,...t)=>(s=Date.now(),u.sendRequest(e,...t)),onRequest:(e,t)=>u.onRequest(e,t),hasPendingResponse:()=>u.hasPendingResponse(),sendNotification:(e,t)=>(s=Date.now(),u.sendNotification(e,t)),onNotification:(e,t)=>u.onNotification(e,t),onProgress:u.onProgress,sendProgress:u.sendProgress,trace:(e,t,n)=>{const r={sendNotification:!1,traceFormat:i.TraceFormat.Text};return void 0===n?u.trace(e,t,r):(a.boolean(n),u.trace(e,t,n))},initialize:e=>(s=Date.now(),u.sendRequest(i.InitializeRequest.type,e)),shutdown:()=>(s=Date.now(),u.sendRequest(i.ShutdownRequest.type,void 0)),exit:()=>(s=Date.now(),u.sendNotification(i.ExitNotification.type)),end:()=>u.end(),dispose:()=>u.dispose()}}(e.reader,e.writer,((e,t,n)=>{this.handleConnectionError(e,t,n)}),(()=>{this.handleConnectionClosed()}),this._clientOptions.connectionOptions),this._connection}handleConnectionClosed(){if(this.$state===J.Stopped)return;try{void 0!==this._connection&&this._connection.dispose()}catch(e){}let e={action:z.DoNotRestart};if(this.$state!==J.Stopping)try{e=this._clientOptions.errorHandler.closed()}catch(e){}this._connection=void 0,e.action===z.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,"force"),this.cleanUp("stop"),this.$state===J.Starting?this.$state=J.StartFailed:this.$state=J.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===z.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart."),this.cleanUp("restart"),this.$state=J.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch((e=>this.error("Restarting server failed",e,"force"))))}handleConnectionError(e,t,n){const r=this._clientOptions.errorHandler.error(e,t,n);r.action===K.Shutdown&&(this.error(r.message??`Client ${this._name}: connection to server is erroring. Shutting down server.`,void 0,"force"),this.stop().catch((e=>{this.error("Stopping server failed",e,!1)})))}hookConfigurationChanged(e){this._listeners.push(r.workspace.onDidChangeConfiguration((()=>{this.refreshTrace(e,!0)})))}refreshTrace(e,t=!1){const n=r.workspace.getConfiguration(this._id);let o=i.Trace.Off,s=i.TraceFormat.Text;if(n){const e=n.get("trace.server","off");"string"==typeof e?o=i.Trace.fromString(e):(o=i.Trace.fromString(n.get("trace.server.verbosity","off")),s=i.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=o,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch((e=>{this.error("Updating trace failed with error",e,!1)}))}hookFileEvents(e){let t,n=this._clientOptions.synchronize.fileEvents;n&&(t=a.array(n)?n:[n],t&&this._dynamicFeatures.get(i.DidChangeWatchedFilesNotification.type.method).registerRaw(u.generateUuid(),t))}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),d.DynamicFeature.is(e)){const t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){const t=this.getFeature(i.NotebookDocumentSyncRegistrationType.method);return void 0!==t&&t instanceof h.NotebookDocumentSyncFeature&&t.handles(e)}registerBuiltinFeatures(){this.registerFeature(new f.ConfigurationFeature(this)),this.registerFeature(new g.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new g.DidChangeTextDocumentFeature(this)),this.registerFeature(new g.WillSaveFeature(this)),this.registerFeature(new g.WillSaveWaitUntilFeature(this)),this.registerFeature(new g.DidSaveTextDocumentFeature(this)),this.registerFeature(new g.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new O.FileSystemWatcherFeature(this,(e=>this.notifyFileEvent(e)))),this.registerFeature(new m.CompletionItemFeature(this)),this.registerFeature(new v.HoverFeature(this)),this.registerFeature(new b.SignatureHelpFeature(this)),this.registerFeature(new y.DefinitionFeature(this)),this.registerFeature(new w.ReferencesFeature(this)),this.registerFeature(new S.DocumentHighlightFeature(this)),this.registerFeature(new _.DocumentSymbolFeature(this)),this.registerFeature(new E.WorkspaceSymbolFeature(this)),this.registerFeature(new P.CodeActionFeature(this)),this.registerFeature(new T.CodeLensFeature(this)),this.registerFeature(new C.DocumentFormattingFeature(this)),this.registerFeature(new C.DocumentRangeFormattingFeature(this)),this.registerFeature(new C.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new I.RenameFeature(this)),this.registerFeature(new R.DocumentLinkFeature(this)),this.registerFeature(new D.ExecuteCommandFeature(this)),this.registerFeature(new f.SyncConfigurationFeature(this)),this.registerFeature(new N.TypeDefinitionFeature(this)),this.registerFeature(new x.ImplementationFeature(this)),this.registerFeature(new k.ColorProviderFeature(this)),void 0===this.clientOptions.workspaceFolder&&this.registerFeature(new A.WorkspaceFoldersFeature(this)),this.registerFeature(new j.FoldingRangeFeature(this)),this.registerFeature(new M.DeclarationFeature(this)),this.registerFeature(new L.SelectionRangeFeature(this)),this.registerFeature(new F.ProgressFeature(this)),this.registerFeature(new q.CallHierarchyFeature(this)),this.registerFeature(new U.SemanticTokensFeature(this)),this.registerFeature(new V.LinkedEditingFeature(this)),this.registerFeature(new W.DidCreateFilesFeature(this)),this.registerFeature(new W.DidRenameFilesFeature(this)),this.registerFeature(new W.DidDeleteFilesFeature(this)),this.registerFeature(new W.WillCreateFilesFeature(this)),this.registerFeature(new W.WillRenameFilesFeature(this)),this.registerFeature(new W.WillDeleteFilesFeature(this)),this.registerFeature(new H.TypeHierarchyFeature(this)),this.registerFeature(new $.InlineValueFeature(this)),this.registerFeature(new B.InlayHintsFeature(this)),this.registerFeature(new p.DiagnosticFeature(this)),this.registerFeature(new h.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(X.createAll(this))}fillInitializeParams(e){for(let t of this._features)a.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){const e={};(0,d.ensure)(e,"workspace").applyEdit=!0;const t=(0,d.ensure)((0,d.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[i.ResourceOperationKind.Create,i.ResourceOperationKind.Rename,i.ResourceOperationKind.Delete],t.failureHandling=i.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};const n=(0,d.ensure)((0,d.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[i.DiagnosticTag.Unnecessary,i.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;const r=(0,d.ensure)(e,"window");(0,d.ensure)(r,"showMessage").messageActionItem={additionalPropertiesSupport:!0},(0,d.ensure)(r,"showDocument").support=!0;const o=(0,d.ensure)(e,"general");o.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(ee.RequestsToCancelOnContentModified)},o.regularExpressions={engine:"ECMAScript",version:"ES2020"},o.markdown={parser:"marked",version:"1.1.0"},o.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(o.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let t of this._features)t.fillClientCapabilities(e);return e}initializeFeatures(e){const t=this._clientOptions.documentSelector;for(const e of this._features)a.func(e.preInitialize)&&e.preInitialize(this._capabilities,t);for(const e of this._features)e.initialize(this._capabilities,t)}async handleRegistrationRequest(e){if(this.isRunning())for(const t of e.registrations){const e=this._dynamicFeatures.get(t.method);if(void 0===e)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));const n=t.registerOptions??{};n.documentSelector=n.documentSelector??this._clientOptions.documentSelector;const r={id:t.id,registerOptions:n};try{e.register(r)}catch(e){return Promise.reject(e)}}else for(const t of e.registrations)this._ignoredRegistrations.add(t.id)}async handleUnregistrationRequest(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;const e=this._dynamicFeatures.get(t.method);if(!e)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));e.unregister(t.id)}}async handleApplyWorkspaceEdit(e){const t=e.edit,n=await this.workspaceEditLock.lock((()=>this._p2c.asWorkspaceEdit(t))),o=new Map;r.workspace.textDocuments.forEach((e=>o.set(e.uri.toString(),e)));let s=!1;if(t.documentChanges)for(const e of t.documentChanges)if(i.TextDocumentEdit.is(e)&&e.textDocument.version&&e.textDocument.version>=0){const t=o.get(e.textDocument.uri);if(t&&t.version!==e.textDocument.version){s=!0;break}}return s?Promise.resolve({applied:!1}):a.asPromise(r.workspace.applyEdit(n).then((e=>({applied:e}))))}handleFailedRequest(e,t,n,o,s=!0){if(n instanceof i.ResponseError){if(n.code===i.ErrorCodes.PendingResponseRejected||n.code===i.ErrorCodes.ConnectionInactive)return o;if(n.code===i.LSPErrorCodes.RequestCancelled||n.code===i.LSPErrorCodes.ServerCancelled){if(void 0!==t&&t.isCancellationRequested)return o;throw void 0!==n.data?new d.LSPCancellationError(n.data):new r.CancellationError}if(n.code===i.LSPErrorCodes.ContentModified){if(ee.RequestsToCancelOnContentModified.has(e.method))throw new r.CancellationError;return o}}throw this.error(`Request ${e.method} failed.`,n,s),n}}t.BaseLanguageClient=ee,ee.RequestsToCancelOnContentModified=new Set([i.SemanticTokensRequest.method,i.SemanticTokensRangeRequest.method,i.SemanticTokensDeltaRequest.method]);class te{error(e){(0,i.RAL)().console.error(e)}warn(e){(0,i.RAL)().console.warn(e)}info(e){(0,i.RAL)().console.info(e)}log(e){(0,i.RAL)().console.log(e)}}!function(e){e.createAll=function(e){return[]}}(X=t.ProposedFeatures||(t.ProposedFeatures={}))},9474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeActionFeature=void 0;const r=n(66828),i=n(40273),o=n(41980),s=n(88909);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,i.CodeActionRequest.type)}fillClientCapabilities(e){const t=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[i.CodeActionKind.Empty,i.CodeActionKind.QuickFix,i.CodeActionKind.Refactor,i.CodeActionKind.RefactorExtract,i.CodeActionKind.RefactorInline,i.CodeActionKind.RefactorRewrite,i.CodeActionKind.Source,i.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}initialize(e,t){const n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideCodeActions:(e,t,n,r)=>{const o=this._client,s=async(e,t,n,r)=>{const s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),context:await o.code2ProtocolConverter.asCodeActionContext(n,r)};return o.sendRequest(i.CodeActionRequest.type,s,r).then((e=>r.isCancellationRequested||null==e?null:o.protocol2CodeConverter.asCodeActionResult(e,r)),(e=>o.handleFailedRequest(i.CodeActionRequest.type,r,e,null)))},a=o.middleware;return a.provideCodeActions?a.provideCodeActions(e,t,n,r,s):s(e,t,n,r)},resolveCodeAction:e.resolveProvider?(e,t)=>{const n=this._client,r=this._client.middleware,o=async(e,t)=>n.sendRequest(i.CodeActionResolveRequest.type,await n.code2ProtocolConverter.asCodeAction(e,t),t).then((r=>t.isCancellationRequested?e:n.protocol2CodeConverter.asCodeAction(r,t)),(r=>n.handleFailedRequest(i.CodeActionResolveRequest.type,t,r,e)));return r.resolveCodeAction?r.resolveCodeAction(e,t,o):o(e,t)}:void 0};return[r.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}}t.CodeActionFeature=a},10071:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const r=n(66828),i=n(40273),o=n(59763),s=n(94904),a=n(81807),c=n(50583),u=n(58705),l=n(56434),d=n(25316),p=n(88714),h=n(41365),f=n(13912),g=n(91065);var m;!function(e){e.is=function(e){const t=e;return t&&!!t.inserting&&!!t.replacing}}(m||(m={})),t.createConverter=function(e){const t=e||(e=>e.toString());function n(e){return t(e)}function v(e){return{uri:t(e.uri)}}function y(e){return{uri:t(e.uri),languageId:e.languageId,version:e.version,text:e.getText()}}function b(e){switch(e){case r.TextDocumentSaveReason.Manual:return i.TextDocumentSaveReason.Manual;case r.TextDocumentSaveReason.AfterDelay:return i.TextDocumentSaveReason.AfterDelay;case r.TextDocumentSaveReason.FocusOut:return i.TextDocumentSaveReason.FocusOut}return i.TextDocumentSaveReason.Manual}function S(e){switch(e){case r.CompletionTriggerKind.TriggerCharacter:return i.CompletionTriggerKind.TriggerCharacter;case r.CompletionTriggerKind.TriggerForIncompleteCompletions:return i.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return i.CompletionTriggerKind.Invoked}}function _(e){switch(e){case r.SignatureHelpTriggerKind.Invoke:return i.SignatureHelpTriggerKind.Invoked;case r.SignatureHelpTriggerKind.TriggerCharacter:return i.SignatureHelpTriggerKind.TriggerCharacter;case r.SignatureHelpTriggerKind.ContentChange:return i.SignatureHelpTriggerKind.ContentChange}}function E(e){return{label:e.label}}function w(e){return{label:e.label,parameters:(t=e.parameters,t.map(E))};var t}function P(e){return{line:e.line,character:e.character}}function T(e){return null==e?e:{line:e.line>i.uinteger.MAX_VALUE?i.uinteger.MAX_VALUE:e.line,character:e.character>i.uinteger.MAX_VALUE?i.uinteger.MAX_VALUE:e.character}}function C(e){return null==e?e:{start:T(e.start),end:T(e.end)}}function I(e){return null==e?e:i.Location.create(n(e.uri),C(e.range))}function R(e){switch(e){case r.DiagnosticSeverity.Error:return i.DiagnosticSeverity.Error;case r.DiagnosticSeverity.Warning:return i.DiagnosticSeverity.Warning;case r.DiagnosticSeverity.Information:return i.DiagnosticSeverity.Information;case r.DiagnosticSeverity.Hint:return i.DiagnosticSeverity.Hint}}function D(e){switch(e){case r.DiagnosticTag.Unnecessary:return i.DiagnosticTag.Unnecessary;case r.DiagnosticTag.Deprecated:return i.DiagnosticTag.Deprecated;default:return}}function O(e){return{message:e.message,location:I(e.location)}}function k(e){const t=i.Diagnostic.create(C(e.range),e.message),r=e instanceof d.ProtocolDiagnostic?e:void 0;void 0!==r&&void 0!==r.data&&(t.data=r.data);const s=function(e){if(null!=e)return o.number(e)||o.string(e)?e:{value:e.value,target:n(e.target)}}(e.code);return d.DiagnosticCode.is(s)?void 0!==r&&r.hasDiagnosticCode?t.code=s:(t.code=s.value,t.codeDescription={href:s.target}):t.code=s,o.number(e.severity)&&(t.severity=R(e.severity)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let n of e){let e=D(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(O)),e.source&&(t.source=e.source),t}function x(e,t){return null==e?e:s.map(e,k,t)}function N(e){if(e===r.CompletionItemTag.Deprecated)return i.CompletionItemTag.Deprecated}function A(e){return{range:C(e.range),newText:e.newText}}function j(e){return null==e?e:e.map(A)}function M(e){return e<=r.SymbolKind.TypeParameter?e+1:i.SymbolKind.Property}function L(e){return e}function F(e){return e.map(L)}function q(e){let t=i.Command.create(e.title,e.command);return e.arguments&&(t.arguments=e.arguments),t}function U(e){const t=i.InlayHintLabelPart.create(e.value);return void 0!==e.location&&(t.location=I(e.location)),void 0!==e.command&&(t.command=q(e.command)),void 0!==e.tooltip&&(t.tooltip=W(e.tooltip)),t}function W(e){return"string"==typeof e?e:{kind:i.MarkupKind.Markdown,value:e.value}}return{asUri:n,asTextDocumentIdentifier:v,asTextDocumentItem:y,asVersionedTextDocumentIdentifier:function(e){return{uri:t(e.uri),version:e.version}},asOpenTextDocumentParams:function(e){return{textDocument:y(e)}},asChangeTextDocumentParams:function(e){if(function(e){let t=e;return!!t.uri&&!!t.version}(e))return{textDocument:{uri:t(e.uri),version:e.version},contentChanges:[{text:e.getText()}]};if(function(e){let t=e;return!!t.document&&!!t.contentChanges}(e)){let n=e.document;return{textDocument:{uri:t(n.uri),version:n.version},contentChanges:e.contentChanges.map((e=>{let t=e.range;return{range:{start:{line:t.start.line,character:t.start.character},end:{line:t.end.line,character:t.end.character}},rangeLength:e.rangeLength,text:e.text}}))}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function(e){return{textDocument:v(e)}},asSaveTextDocumentParams:function(e,t=!1){let n={textDocument:v(e)};return t&&(n.text=e.getText()),n},asWillSaveTextDocumentParams:function(e){return{textDocument:v(e.document),reason:b(e.reason)}},asDidCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asDidRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asDidDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asWillDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asTextDocumentPositionParams:function(e,t){return{textDocument:v(e),position:P(t)}},asCompletionParams:function(e,t,n){return{textDocument:v(e),position:P(t),context:{triggerKind:S(n.triggerKind),triggerCharacter:n.triggerCharacter}}},asSignatureHelpParams:function(e,t,n){return{textDocument:v(e),position:P(t),context:{isRetrigger:n.isRetrigger,triggerCharacter:n.triggerCharacter,triggerKind:_(n.triggerKind),activeSignatureHelp:(r=n.activeSignatureHelp,void 0===r?r:{signatures:(i=r.signatures,i.map(w)),activeSignature:r.activeSignature,activeParameter:r.activeParameter})}};var r,i},asWorkerPosition:P,asRange:C,asPosition:T,asPositions:function(e,t){return s.map(e,T,t)},asLocation:I,asDiagnosticSeverity:R,asDiagnosticTag:D,asDiagnostic:k,asDiagnostics:x,asCompletionItem:function(e,t=!1){let n,s;o.string(e.label)?n=e.label:(n=e.label.label,!t||void 0===e.label.detail&&void 0===e.label.description||(s={detail:e.label.detail,description:e.label.description}));let c={label:n};void 0!==s&&(c.labelDetails=s);let u=e instanceof a.default?e:void 0;var l,d;e.detail&&(c.detail=e.detail),e.documentation&&(u&&"$string"!==u.documentationFormat?c.documentation=function(e,t){switch(e){case"$string":return t;case i.MarkupKind.PlainText:return{kind:e,value:t};case i.MarkupKind.Markdown:return{kind:e,value:t.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}(u.documentationFormat,e.documentation):c.documentation=e.documentation),e.filterText&&(c.filterText=e.filterText),function(e,t){let n,o,s=i.InsertTextFormat.PlainText;t.textEdit?(n=t.textEdit.newText,o=t.textEdit.range):t.insertText instanceof r.SnippetString?(s=i.InsertTextFormat.Snippet,n=t.insertText.value):n=t.insertText,t.range&&(o=t.range),e.insertTextFormat=s,t.fromEdit&&void 0!==n&&void 0!==o?e.textEdit=function(e,t){return m.is(t)?i.InsertReplaceEdit.create(e,C(t.inserting),C(t.replacing)):{newText:e,range:C(t)}}(n,o):e.insertText=n}(c,e),o.number(e.kind)&&(c.kind=(l=e.kind,void 0!==(d=u&&u.originalItemKind)?d:l+1)),e.sortText&&(c.sortText=e.sortText),e.additionalTextEdits&&(c.additionalTextEdits=j(e.additionalTextEdits)),e.commitCharacters&&(c.commitCharacters=e.commitCharacters.slice()),e.command&&(c.command=q(e.command)),!0!==e.preselect&&!1!==e.preselect||(c.preselect=e.preselect);const p=function(e){if(void 0===e)return e;const t=[];for(let n of e){const e=N(n);void 0!==e&&t.push(e)}return t}(e.tags);if(u){if(void 0!==u.data&&(c.data=u.data),!0===u.deprecated||!1===u.deprecated){if(!0===u.deprecated&&void 0!==p&&p.length>0){const e=p.indexOf(r.CompletionItemTag.Deprecated);-1!==e&&p.splice(e,1)}c.deprecated=u.deprecated}void 0!==u.insertTextMode&&(c.insertTextMode=u.insertTextMode)}return void 0!==p&&p.length>0&&(c.tags=p),void 0===c.insertTextMode&&!0===e.keepWhitespace&&(c.insertTextMode=i.InsertTextMode.adjustIndentation),c},asTextEdit:A,asSymbolKind:M,asSymbolTag:L,asSymbolTags:F,asReferenceParams:function(e,t,n){return{textDocument:v(e),position:P(t),context:{includeDeclaration:n.includeDeclaration}}},asCodeAction:async function(e,t){let n=i.CodeAction.create(e.title);if(e instanceof l.default&&void 0!==e.data&&(n.data=e.data),void 0!==e.kind&&(n.kind=function(e){if(null!=e)return e.value}(e.kind)),void 0!==e.diagnostics&&(n.diagnostics=await x(e.diagnostics,t)),void 0!==e.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return void 0!==e.command&&(n.command=q(e.command)),void 0!==e.isPreferred&&(n.isPreferred=e.isPreferred),void 0!==e.disabled&&(n.disabled={reason:e.disabled.reason}),n},asCodeActionContext:async function(e,t){if(null==e)return e;let n;return e.only&&o.string(e.only.value)&&(n=[e.only.value]),i.CodeActionContext.create(await x(e.diagnostics,t),n,function(e){switch(e){case r.CodeActionTriggerKind.Invoke:return i.CodeActionTriggerKind.Invoked;case r.CodeActionTriggerKind.Automatic:return i.CodeActionTriggerKind.Automatic;default:return}}(e.triggerKind))},asInlineValueContext:function(e){return null==e?e:i.InlineValueContext.create(e.frameId,C(e.stoppedLocation))},asCommand:q,asCodeLens:function(e){let t=i.CodeLens.create(C(e.range));return e.command&&(t.command=q(e.command)),e instanceof c.default&&e.data&&(t.data=e.data),t},asFormattingOptions:function(e,t){const n={tabSize:e.tabSize,insertSpaces:e.insertSpaces};return t.trimTrailingWhitespace&&(n.trimTrailingWhitespace=!0),t.trimFinalNewlines&&(n.trimFinalNewlines=!0),t.insertFinalNewline&&(n.insertFinalNewline=!0),n},asDocumentSymbolParams:function(e){return{textDocument:v(e)}},asCodeLensParams:function(e){return{textDocument:v(e)}},asDocumentLink:function(e){let t=i.DocumentLink.create(C(e.range));e.target&&(t.target=n(e.target)),void 0!==e.tooltip&&(t.tooltip=e.tooltip);let r=e instanceof u.default?e:void 0;return r&&r.data&&(t.data=r.data),t},asDocumentLinkParams:function(e){return{textDocument:v(e)}},asCallHierarchyItem:function(e){const t={name:e.name,kind:M(e.kind),uri:n(e.uri),range:C(e.range),selectionRange:C(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=F(e.tags)),e instanceof p.default&&void 0!==e.data&&(t.data=e.data),t},asTypeHierarchyItem:function(e){const t={name:e.name,kind:M(e.kind),uri:n(e.uri),range:C(e.range),selectionRange:C(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=F(e.tags)),e instanceof h.default&&void 0!==e.data&&(t.data=e.data),t},asInlayHint:function(e){const t="string"==typeof e.label?e.label:e.label.map(U),n=i.InlayHint.create(T(e.position),t);return void 0!==e.kind&&(n.kind=e.kind),void 0!==e.textEdits&&(n.textEdits=j(e.textEdits)),void 0!==e.tooltip&&(n.tooltip=W(e.tooltip)),void 0!==e.paddingLeft&&(n.paddingLeft=e.paddingLeft),void 0!==e.paddingRight&&(n.paddingRight=e.paddingRight),e instanceof g.default&&void 0!==e.data&&(n.data=e.data),n},asWorkspaceSymbol:function(e){const n=e instanceof f.default?{name:e.name,kind:M(e.kind),location:e.hasRange?I(e.location):{uri:t(e.location.uri)},data:e.data}:{name:e.name,kind:M(e.kind),location:I(e.location)};return void 0!==e.tags&&(n.tags=F(e.tags)),""!==e.containerName&&(n.containerName=e.containerName),n}}}},27711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeLensFeature=void 0;const r=n(66828),i=n(40273),o=n(41980),s=n(88909);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,i.CodeLensRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,s.ensure)((0,s.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.CodeLensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeCodeLensEmitter.fire()}));const n=this.getRegistrationOptions(t,e.codeLensProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n=new r.EventEmitter,o={onDidChangeCodeLenses:n.event,provideCodeLenses:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.CodeLensRequest.type,n.code2ProtocolConverter.asCodeLensParams(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCodeLenses(e,t)),(e=>n.handleFailedRequest(i.CodeLensRequest.type,t,e,null))),o=n.middleware;return o.provideCodeLenses?o.provideCodeLenses(e,t,r):r(e,t)},resolveCodeLens:e.resolveProvider?(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.CodeLensResolveRequest.type,n.code2ProtocolConverter.asCodeLens(e),t).then((r=>t.isCancellationRequested?e:n.protocol2CodeConverter.asCodeLens(r)),(r=>n.handleFailedRequest(i.CodeLensResolveRequest.type,t,r,e))),o=n.middleware;return o.resolveCodeLens?o.resolveCodeLens(e,t,r):r(e,t)}:void 0};return[r.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),o),{provider:o,onDidChangeCodeLensEmitter:n}]}}t.CodeLensFeature=a},38880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorProviderFeature=void 0;const r=n(66828),i=n(40273),o=n(88909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentColorRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.colorProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideColorPresentations:(e,t,n)=>{const r=this._client,o=(e,t,n)=>{const o={color:e,textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(t.document),range:r.code2ProtocolConverter.asRange(t.range)};return r.sendRequest(i.ColorPresentationRequest.type,o,n).then((e=>n.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(e,n)),(e=>r.handleFailedRequest(i.ColorPresentationRequest.type,n,e,null)))},s=r.middleware;return s.provideColorPresentations?s.provideColorPresentations(e,t,n,o):o(e,t,n)},provideDocumentColors:(e,t)=>{const n=this._client,r=(e,t)=>{const r={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(i.DocumentColorRequest.type,r,t).then((e=>t.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(e,t)),(e=>n.handleFailedRequest(i.DocumentColorRequest.type,t,e,null)))},o=n.middleware;return o.provideDocumentColors?o.provideDocumentColors(e,t,r):r(e,t)}};return[r.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.ColorProviderFeature=s},11435:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionItemFeature=void 0;const r=n(66828),i=n(40273),o=n(88909),s=n(41980),a=[i.CompletionItemKind.Text,i.CompletionItemKind.Method,i.CompletionItemKind.Function,i.CompletionItemKind.Constructor,i.CompletionItemKind.Field,i.CompletionItemKind.Variable,i.CompletionItemKind.Class,i.CompletionItemKind.Interface,i.CompletionItemKind.Module,i.CompletionItemKind.Property,i.CompletionItemKind.Unit,i.CompletionItemKind.Value,i.CompletionItemKind.Enum,i.CompletionItemKind.Keyword,i.CompletionItemKind.Snippet,i.CompletionItemKind.Color,i.CompletionItemKind.File,i.CompletionItemKind.Reference,i.CompletionItemKind.Folder,i.CompletionItemKind.EnumMember,i.CompletionItemKind.Constant,i.CompletionItemKind.Struct,i.CompletionItemKind.Event,i.CompletionItemKind.Operator,i.CompletionItemKind.TypeParameter];class c extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[i.MarkupKind.Markdown,i.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[i.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[i.InsertTextMode.asIs,i.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=i.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:a},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}initialize(e,t){const n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);const n=e.triggerCharacters??[],o=e.allCommitCharacters,s=e.documentSelector,a={provideCompletionItems:(e,t,n,r)=>{const s=this._client,a=this._client.middleware,c=(e,t,n,r)=>s.sendRequest(i.CompletionRequest.type,s.code2ProtocolConverter.asCompletionParams(e,t,n),r).then((e=>r.isCancellationRequested?null:s.protocol2CodeConverter.asCompletionResult(e,o,r)),(e=>s.handleFailedRequest(i.CompletionRequest.type,r,e,null)));return a.provideCompletionItem?a.provideCompletionItem(e,t,r,n,c):c(e,t,r,n)},resolveCompletionItem:e.resolveProvider?(e,n)=>{const r=this._client,o=this._client.middleware,s=(e,n)=>r.sendRequest(i.CompletionResolveRequest.type,r.code2ProtocolConverter.asCompletionItem(e,!!this.labelDetailsSupport.get(t)),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asCompletionItem(e)),(t=>r.handleFailedRequest(i.CompletionResolveRequest.type,n,t,e)));return o.resolveCompletionItem?o.resolveCompletionItem(e,n,s):s(e,n)}:void 0};return[r.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(s),a,...n),a]}}t.CompletionItemFeature=c},36495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncConfigurationFeature=t.toJSONObject=t.ConfigurationFeature=void 0;const r=n(66828),i=n(40273),o=n(59763),s=n(41980),a=n(88909);function c(e){if(e){if(Array.isArray(e))return e.map(c);if("object"==typeof e){const t=Object.create(null);for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=c(e[n]));return t}}return e}t.ConfigurationFeature=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(i.ConfigurationRequest.type,((t,n)=>{let r=e=>{let t=[];for(let n of e.items){let e=void 0!==n.scopeUri&&null!==n.scopeUri?this._client.protocol2CodeConverter.asUri(n.scopeUri):void 0;t.push(this.getConfiguration(e,null!==n.section?n.section:void 0))}return t},i=e.middleware.workspace;return i&&i.configuration?i.configuration(t,n,r):r(t)}))}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(-1===i)n=c(r.workspace.getConfiguration(void 0,e).get(t));else{let o=r.workspace.getConfiguration(t.substr(0,i),e);o&&(n=c(o.get(t.substr(i+1))))}}else{let t=r.workspace.getConfiguration(void 0,e);n={};for(let e of Object.keys(t))t.has(e)&&(n[e]=c(t.get(e)))}return void 0===n&&(n=null),n}dispose(){}},t.toJSONObject=c,t.SyncConfigurationFeature=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return i.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,a.ensure)((0,a.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize?.configurationSection;void 0!==e&&this.register({id:s.generateUuid(),registerOptions:{section:e}})}register(e){let t=r.workspace.onDidChangeConfiguration((t=>{this.onDidChangeConfiguration(e.registerOptions.section,t)}));this._listeners.set(e.id,t),void 0!==e.registerOptions.section&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(const e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(n=o.string(e)?[e]:e,void 0!==n&&void 0!==t&&!n.some((e=>t.affectsConfiguration(e))))return;const r=async e=>void 0===e?this._client.sendNotification(i.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(i.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(e)});let s=this._client.middleware.workspace?.didChangeConfiguration;(s?s(n,r):r(n)).catch((e=>{this._client.error(`Sending notification ${i.DidChangeConfigurationNotification.type.method} failed`,e)}))}extractSettingsInformation(e){function t(e,t){let n=e;for(let e=0;e<t.length-1;e++){let r=n[t[e]];r||(r=Object.create(null),n[t[e]]=r),n=r}return n}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),u=null;if(u=a>=0?r.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):r.workspace.getConfiguration(void 0,n).get(s),u){let n=e[o].split(".");t(i,n)[n[n.length-1]]=c(u)}}return i}}},20707:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationFeature=void 0;const r=n(66828),i=n(40273),o=n(88909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DeclarationRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.declarationProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDeclaration:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.DeclarationRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDeclarationResult(e,n)),(e=>r.handleFailedRequest(i.DeclarationRequest.type,n,e,null))),s=r.middleware;return s.provideDeclaration?s.provideDeclaration(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.DeclarationFeature=s},20122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefinitionFeature=void 0;const r=n(66828),i=n(40273),o=n(88909),s=n(41980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDefinition:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.DefinitionRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>r.handleFailedRequest(i.DefinitionRequest.type,n,e,null))),s=r.middleware;return s.provideDefinition?s.provideDefinition(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.DefinitionFeature=a},92570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticFeature=t.DiagnosticPullMode=t.vsdiag=void 0;const r=n(53415),i=n(66828),o=n(40273),s=n(41980),a=n(88909);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var u,l,d,p;!function(e){let t;!function(e){e.full="full",e.unChanged="unChanged"}(t=e.DocumentDiagnosticReportKind||(e.DocumentDiagnosticReportKind={}))}(u=t.vsdiag||(t.vsdiag={})),function(e){e.onType="onType",e.onSave="onSave"}(l=t.DiagnosticPullMode||(t.DiagnosticPullMode={})),function(e){e.active="open",e.reschedule="reschedule",e.outDated="drop"}(d||(d={}));class h{constructor(){this.open=new Set;const e=()=>{this.open.clear();for(const e of i.window.tabGroups.all)for(const t of e.tabs){const e=t.input;e instanceof i.TabInputText?this.open.add(e.uri.toString()):e instanceof i.TabInputTextDiff&&this.open.add(e.modified.toString())}};e(),void 0!==i.window.tabGroups.onDidChangeTabs?this.disposable=i.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}dispose(){this.disposable.dispose()}isActive(e){return e instanceof i.Uri?i.window.activeTextEditor?.document.uri===e:i.window.activeTextEditor?.document===e}isVisible(e){const t=e instanceof i.Uri?e:e.uri;return this.open.has(t.toString())}getTabResources(){const e=[];for(const t of i.window.tabGroups.all)for(const n of t.tabs){const t=n.input;t instanceof i.TabInputText?e.push(t.uri):t instanceof i.TabInputTextDiff&&e.push(t.modified)}return e}}!function(e){e[e.document=1]="document",e[e.workspace=2]="workspace"}(p||(p={}));class f{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){const r=e===p.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof i.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version];let c=r.get(o);return void 0===c&&(c={document:s,pulledVersion:a,resultId:void 0},r.set(o,c)),c}update(e,t,n,r){const o=e===p.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof i.Uri?[t.toString(),t,n,r]:[t.uri.toString(),t.uri,t.version,n];let l=o.get(s);void 0===l?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){const n=t instanceof i.Uri?t.toString():t.uri.toString();(e===p.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){const n=t instanceof i.Uri?t.toString():t.uri.toString();return(e===p.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){const n=t instanceof i.Uri?t.toString():t.uri.toString();return(e===p.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){const e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),void 0!==n.resultId&&e.push({uri:t,value:n.resultId});return e}}class g{constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new i.EventEmitter,this.provider=this.createProvider(),this.diagnostics=i.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new f,this.workspaceErrorCounter=0}knows(e,t){return this.documentStates.tracks(e,t)}pull(e,t){if(this.isDisposed)return;const n=e instanceof i.Uri?e:e.uri;this.pullAsync(e).then((()=>{t&&t()}),(e=>{this.client.error(`Document pull failed for text document ${n.toString()}`,e,!1)}))}async pullAsync(e,t){if(this.isDisposed)return;const n=e instanceof i.Uri,r=n?e:e.uri,s=r.toString();t=n?t:e.version;const c=this.openRequests.get(s),l=n?this.documentStates.track(p.document,e,t):this.documentStates.track(p.document,e);if(void 0===c){const n=new i.CancellationTokenSource;let c,h;this.openRequests.set(s,{state:d.active,document:e,version:t,tokenSource:n});try{c=await this.provider.provideDiagnostics(e,l.resultId,n.token)??{kind:u.DocumentDiagnosticReportKind.full,items:[]}}catch(t){if(t instanceof a.LSPCancellationError&&o.DiagnosticServerCancellationData.is(t.data)&&!1===t.data.retriggerRequest&&(h={state:d.outDated,document:e}),!(void 0===h&&t instanceof i.CancellationError))throw t;h={state:d.reschedule,document:e}}if(h=h??this.openRequests.get(s),void 0===h)return this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${s}`),void this.diagnostics.delete(r);if(this.openRequests.delete(s),!this.tabs.isVisible(e))return void this.documentStates.unTrack(p.document,e);if(h.state===d.outDated)return;void 0!==c&&(c.kind===u.DocumentDiagnosticReportKind.full&&this.diagnostics.set(r,c.items),l.pulledVersion=t,l.resultId=c.resultId),h.state===d.reschedule&&this.pull(e)}else c.state===d.active?(c.tokenSource.cancel(),this.openRequests.set(s,{state:d.reschedule,document:c.document})):c.state===d.outDated&&this.openRequests.set(s,{state:d.reschedule,document:c.document})}cleanupPull(e){const t=e instanceof i.Uri?e:e.uri,n=t.toString(),r=this.openRequests.get(n);this.options.workspaceDiagnostics||this.options.interFileDependencies?void 0!==r?this.openRequests.set(n,{state:d.reschedule,document:e}):this.pull(e):(void 0!==r&&(r.state===d.active&&r.tokenSource.cancel(),this.openRequests.set(n,{state:d.outDated,document:e})),this.diagnostics.delete(t))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then((()=>{this.workspaceTimeout=(0,o.RAL)().timer.setTimeout((()=>{this.pullWorkspace()}),2e3)}),(e=>{e instanceof a.LSPCancellationError||o.DiagnosticServerCancellationData.is(e.data)||(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,o.RAL)().timer.setTimeout((()=>{this.pullWorkspace()}),2e3))}))}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;void 0!==this.workspaceCancellation&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new i.CancellationTokenSource;const e=this.documentStates.getAllResultIds().map((e=>({uri:this.client.protocol2CodeConverter.asUri(e.uri),value:e.value})));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,(e=>{if(e&&!this.isDisposed)for(const t of e.items)t.kind===u.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(p.document,t.uri)||this.diagnostics.set(t.uri,t.items)),this.documentStates.update(p.workspace,t.uri,t.version??void 0,t.resultId)}))}createProvider(){const e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(e,t,n)=>{const r=(e,t,n)=>{const r={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(e instanceof i.Uri?e:e.uri)},previousResultId:t};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(o.DocumentDiagnosticRequest.type,r,n).then((async e=>null==e||this.isDisposed||n.isCancellationRequested?{kind:u.DocumentDiagnosticReportKind.full,items:[]}:e.kind===o.DocumentDiagnosticReportKind.Full?{kind:u.DocumentDiagnosticReportKind.full,resultId:e.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(e.items,n)}:{kind:u.DocumentDiagnosticReportKind.unChanged,resultId:e.resultId}),(e=>this.client.handleFailedRequest(o.DocumentDiagnosticRequest.type,n,e,{kind:u.DocumentDiagnosticReportKind.full,items:[]}))):{kind:u.DocumentDiagnosticReportKind.full,items:[]}},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(e,t,n,r):r(e,t,n)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(e,t,n)=>{const r=async e=>e.kind===o.DocumentDiagnosticReportKind.Full?{kind:u.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(e.uri),resultId:e.resultId,version:e.version,items:await this.client.protocol2CodeConverter.asDiagnostics(e.items,t)}:{kind:u.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(e.uri),resultId:e.resultId,version:e.version},i=e=>{const t=[];for(const n of e)t.push({uri:this.client.code2ProtocolConverter.asUri(n.uri),value:n.value});return t},a=(e,t)=>{const a=(0,s.generateUuid)(),c=this.client.onProgress(o.WorkspaceDiagnosticRequest.partialResult,a,(async e=>{if(null==e)return void n(null);const t={items:[]};for(const n of e.items)try{t.items.push(await r(n))}catch(e){this.client.error("Converting workspace diagnostics failed.",e)}n(t)})),u={identifier:this.options.identifier,previousResultIds:i(e),partialResultToken:a};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(o.WorkspaceDiagnosticRequest.type,u,t).then((async e=>{if(t.isCancellationRequested)return{items:[]};const i={items:[]};for(const t of e.items)i.items.push(await r(t));return c.dispose(),n(i),{items:[]}}),(e=>(c.dispose(),this.client.handleFailedRequest(o.DocumentDiagnosticRequest.type,t,e,{items:[]})))):{items:[]}},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(e,t,n,a):a(e,t)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(const[e,t]of this.openRequests)t.state===d.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:d.outDated,document:t.document});this.diagnostics.dispose()}}class m{constructor(e){this.diagnosticRequestor=e,this.documents=new o.LinkedMap,this.isDisposed=!1}add(e){if(!0===this.isDisposed)return;const t=e instanceof i.Uri?e.toString():e.uri.toString();this.documents.has(t)||(this.documents.set(t,e,o.Touch.Last),this.trigger())}remove(e){const t=e instanceof i.Uri?e.toString():e.uri.toString();this.documents.has(t)&&(this.documents.delete(t),this.diagnosticRequestor.pull(e)),0===this.documents.size?this.stop():e===this.endDocument&&(this.endDocument=this.documents.last)}trigger(){!0!==this.isDisposed&&(void 0===this.intervalHandle?(this.endDocument=this.documents.last,this.intervalHandle=(0,o.RAL)().timer.setInterval((()=>{const e=this.documents.first;if(void 0!==e){const t=e instanceof i.Uri?e.toString():e.uri.toString();this.diagnosticRequestor.pull(e),this.documents.set(t,e,o.Touch.Last),e===this.endDocument&&this.stop()}}),200)):this.endDocument=this.documents.last)}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}}class v{constructor(e,t,n){const s=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},a=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),c=[],u=e=>e instanceof i.Uri?(e=>{const t=n.documentSelector;if(void 0!==s.match)return s.match(t,e);for(const n of t)if(o.TextDocumentFilter.is(n)){if("string"==typeof n)return!1;if(void 0!==n.language&&"*"!==n.language)return!1;if(void 0!==n.scheme&&"*"!==n.scheme&&n.scheme!==e.scheme)return!1;if(void 0!==n.pattern){const t=new r.Minimatch(n.pattern,{noext:!0});if(!t.makeRe())return!1;if(!t.match(e.fsPath))return!1}}return!0})(e):i.languages.match(a,e)>0&&t.isVisible(e),d=e=>e instanceof i.Uri?this.activeTextDocument?.uri.toString()===e.toString():this.activeTextDocument===e;this.diagnosticRequestor=new g(e,t,n),this.backgroundScheduler=new m(this.diagnosticRequestor);const h=e=>{u(e)&&n.interFileDependencies&&!d(e)&&this.backgroundScheduler.add(e)};this.activeTextDocument=i.window.activeTextEditor?.document,i.window.onDidChangeActiveTextEditor((e=>{const t=this.activeTextDocument;this.activeTextDocument=e?.document,void 0!==t&&h(t),void 0!==this.activeTextDocument&&this.backgroundScheduler.remove(this.activeTextDocument)}));const f=e.getFeature(o.DidOpenTextDocumentNotification.method);c.push(f.onNotificationSent((e=>{const t=e.original;u(t)&&this.diagnosticRequestor.pull(t,(()=>{h(t)}))})));const v=new Set;for(const e of i.workspace.textDocuments)u(e)&&(this.diagnosticRequestor.pull(e,(()=>{h(e)})),v.add(e.uri.toString()));if(!0===s.onTabs)for(const e of t.getTabResources())!v.has(e.toString())&&u(e)&&this.diagnosticRequestor.pull(e,(()=>{h(e)}));if(!0===s.onChange){const t=e.getFeature(o.DidChangeTextDocumentNotification.method);c.push(t.onNotificationSent((async e=>{const t=e.original.document;(void 0===s.filter||!s.filter(t,l.onType))&&this.diagnosticRequestor.knows(p.document,t)&&e.original.contentChanges.length>0&&this.diagnosticRequestor.pull(t,(()=>{this.backgroundScheduler.trigger()}))})))}if(!0===s.onSave){const t=e.getFeature(o.DidSaveTextDocumentNotification.method);c.push(t.onNotificationSent((e=>{const t=e.original;void 0!==s.filter&&s.filter(t,l.onSave)||!this.diagnosticRequestor.knows(p.document,t)||this.diagnosticRequestor.pull(e.original,(()=>{this.backgroundScheduler.trigger()}))})))}const y=e.getFeature(o.DidCloseTextDocumentNotification.method);c.push(y.onNotificationSent((e=>{const t=e.original;this.diagnosticRequestor.cleanupPull(t),this.backgroundScheduler.remove(t)}))),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event((()=>{for(const e of i.workspace.textDocuments)u(e)&&this.diagnosticRequestor.pull(e)})),!0===n.workspaceDiagnostics&&"da348dc5-c30a-4515-9d98-31ff3be38d14"!==n.identifier&&this.diagnosticRequestor.pullWorkspace(),this.disposable=i.Disposable.from(...c,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}}class y extends a.TextDocumentLanguageFeature{constructor(e){super(e,o.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=c(c(e,"textDocument"),"diagnostic");t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,c(c(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(o.DiagnosticRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeDiagnosticsEmitter.fire()}));let[n,r]=this.getRegistration(t,e.diagnosticProvider);n&&r&&this.register({id:n,registerOptions:r})}dispose(){void 0!==this.tabs&&(this.tabs.dispose(),this.tabs=void 0),super.dispose()}registerLanguageProvider(e){void 0===this.tabs&&(this.tabs=new h);const t=new v(this._client,this.tabs,e);return[t.disposable,t]}}t.DiagnosticFeature=y},89959:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentHighlightFeature=void 0;const r=n(66828),i=n(40273),o=n(88909),s=n(41980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentHighlights:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.DocumentHighlightRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDocumentHighlights(e,n)),(e=>r.handleFailedRequest(i.DocumentHighlightRequest.type,n,e,null))),s=r.middleware;return s.provideDocumentHighlights?s.provideDocumentHighlights(e,t,n,o):o(e,t,n)}};return[r.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentHighlightFeature=a},13471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentLinkFeature=void 0;const r=n(66828),i=n(40273),o=n(88909),s=n(41980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentLinkRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentLinks:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.DocumentLinkRequest.type,n.code2ProtocolConverter.asDocumentLinkParams(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asDocumentLinks(e,t)),(e=>n.handleFailedRequest(i.DocumentLinkRequest.type,t,e,null))),o=n.middleware;return o.provideDocumentLinks?o.provideDocumentLinks(e,t,r):r(e,t)},resolveDocumentLink:e.resolveProvider?(e,t)=>{const n=this._client;let r=(e,t)=>n.sendRequest(i.DocumentLinkResolveRequest.type,n.code2ProtocolConverter.asDocumentLink(e),t).then((r=>t.isCancellationRequested?e:n.protocol2CodeConverter.asDocumentLink(r)),(r=>n.handleFailedRequest(i.DocumentLinkResolveRequest.type,t,r,e)));const o=n.middleware;return o.resolveDocumentLink?o.resolveDocumentLink(e,t,r):r(e,t)}:void 0};return[r.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentLinkFeature=a},42483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentSymbolFeature=t.SupportedSymbolTags=t.SupportedSymbolKinds=void 0;const r=n(66828),i=n(40273),o=n(88909),s=n(41980);t.SupportedSymbolKinds=[i.SymbolKind.File,i.SymbolKind.Module,i.SymbolKind.Namespace,i.SymbolKind.Package,i.SymbolKind.Class,i.SymbolKind.Method,i.SymbolKind.Property,i.SymbolKind.Field,i.SymbolKind.Constructor,i.SymbolKind.Enum,i.SymbolKind.Interface,i.SymbolKind.Function,i.SymbolKind.Variable,i.SymbolKind.Constant,i.SymbolKind.String,i.SymbolKind.Number,i.SymbolKind.Boolean,i.SymbolKind.Array,i.SymbolKind.Object,i.SymbolKind.Key,i.SymbolKind.Null,i.SymbolKind.EnumMember,i.SymbolKind.Struct,i.SymbolKind.Event,i.SymbolKind.Operator,i.SymbolKind.TypeParameter],t.SupportedSymbolTags=[i.SymbolTag.Deprecated];class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:t.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:t.SupportedSymbolTags},n.labelSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentSymbols:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.DocumentSymbolRequest.type,n.code2ProtocolConverter.asDocumentSymbolParams(e),t).then((async e=>{if(t.isCancellationRequested||null==e)return null;if(0===e.length)return[];{const r=e[0];return i.DocumentSymbol.is(r)?await n.protocol2CodeConverter.asDocumentSymbols(e,t):await n.protocol2CodeConverter.asSymbolInformations(e,t)}}),(e=>n.handleFailedRequest(i.DocumentSymbolRequest.type,t,e,null))),o=n.middleware;return o.provideDocumentSymbols?o.provideDocumentSymbols(e,t,r):r(e,t)}},o=void 0!==e.label?{label:e.label}:void 0;return[r.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,o),n]}}t.DocumentSymbolFeature=a},44849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecuteCommandFeature=void 0;const r=n(66828),i=n(40273),o=n(41980),s=n(88909);t.ExecuteCommandFeature=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return i.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:o.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){const t=this._client,n=t.middleware,o=(e,n)=>{let r={command:e,arguments:n};return t.sendRequest(i.ExecuteCommandRequest.type,r).then(void 0,(e=>t.handleFailedRequest(i.ExecuteCommandRequest.type,void 0,e,void 0)))};if(e.registerOptions.commands){const t=[];for(const i of e.registerOptions.commands)t.push(r.commands.registerCommand(i,((...e)=>n.executeCommand?n.executeCommand(i,e,o):o(i,e))));this._commands.set(e.id,t)}}unregister(e){let t=this._commands.get(e);t&&t.forEach((e=>e.dispose()))}dispose(){this._commands.forEach((e=>{e.forEach((e=>e.dispose()))})),this._commands.clear()}}},88909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFeature=t.TextDocumentLanguageFeature=t.TextDocumentEventFeature=t.DynamicDocumentFeature=t.DynamicFeature=t.StaticFeature=t.ensure=t.LSPCancellationError=void 0;const r=n(66828),i=n(40273),o=n(59763),s=n(41980);class a extends r.CancellationError{constructor(e){super(),this.data=e}}t.LSPCancellationError=a,t.ensure=function(e,t){return void 0===e[t]&&(e[t]={}),e[t]},(t.StaticFeature||(t.StaticFeature={})).is=function(e){const t=e;return null!=t&&o.func(t.fillClientCapabilities)&&o.func(t.initialize)&&o.func(t.getState)&&o.func(t.dispose)&&(void 0===t.fillInitializeParams||o.func(t.fillInitializeParams))},(t.DynamicFeature||(t.DynamicFeature={})).is=function(e){const t=e;return null!=t&&o.func(t.fillClientCapabilities)&&o.func(t.initialize)&&o.func(t.getState)&&o.func(t.dispose)&&(void 0===t.fillInitializeParams||o.func(t.fillInitializeParams))&&o.func(t.register)&&o.func(t.unregister)&&void 0!==t.registrationType};class c{constructor(e){this._client=e}getState(){const e=this.getDocumentSelectors();let t=0;for(const n of e){t++;for(const e of r.workspace.textDocuments)if(r.languages.match(n,e)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}const n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}}t.DynamicDocumentFeature=c,t.TextDocumentEventFeature=class extends c{constructor(e,t,n,i,o,s,a){super(e),this._event=t,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new r.EventEmitter}static textDocumentFilter(e,t){for(const n of e)if(r.languages.match(n,t)>0)return!0;return!1}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event((e=>{this.callback(e).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed.`,e)}))}))),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){const t=async e=>{const t=this._createParams(e);await this._client.sendNotification(this._type,t).catch(),this.notificationSent(e,this._type,t)};if(this.matches(e)){const n=this._middleware();return n?n(e,(e=>t(e))):t(e)}}matches(e){return!this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))&&(!this._selectorFilter||this._selectorFilter(this._selectors.values(),e))}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(const t of this._selectors.values())if(r.languages.match(t,e)>0)return{send:e=>this.callback(e)}}},t.TextDocumentLanguageFeature=class extends c{constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(const e of this._registrations.values()){const t=e.data.registerOptions.documentSelector;null!==t&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}dispose(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getRegistration(e,t){if(!t)return[void 0,void 0];if(i.TextDocumentRegistrationOptions.is(t)){const n=i.StaticRegistrationOptions.hasId(t)?t.id:s.generateUuid(),r=t.documentSelector||e;if(r)return[n,Object.assign({},t,{documentSelector:r})]}else if(o.boolean(t)&&!0===t||i.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=o.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[s.generateUuid(),n]}return[void 0,void 0]}getRegistrationOptions(e,t){if(e&&t)return o.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(const t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(null!==n&&r.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}},t.WorkspaceFeature=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){const e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){const t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}dispose(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}}},7606:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesFeature=t.WillRenameFilesFeature=t.WillCreateFilesFeature=t.DidDeleteFilesFeature=t.DidRenameFilesFeature=t.DidCreateFilesFeature=void 0;const r=n(66828),i=n(53415),o=n(40273),s=n(41980);function a(e,t){return void 0===e[t]&&(e[t]={}),e[t]}function c(e,t,n){e[t]=n}class u{constructor(e,t,n,r,i){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=r,this._serverCapability=i,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){const t=a(a(e,"workspace"),"fileOperations");c(t,"dynamicRegistration",!0),c(t,this._clientCapability,!0)}initialize(e){const t=e.workspace?.fileOperations,n=void 0!==t?t[this._serverCapability]:void 0;if(void 0!==n?.filters)try{this.register({id:s.generateUuid(),registerOptions:{filters:n.filters}})}catch(e){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));const t=e.registerOptions.filters.map((e=>{const t=new i.Minimatch(e.pattern.glob,u.asMinimatchOptions(e.pattern.options));if(!t.makeRe())throw new Error(`Invalid pattern ${e.pattern.glob}!`);return{scheme:e.scheme,matcher:t,kind:e.pattern.matches}}));this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),0===this._filters.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return u.getFileType(e)}async filter(e,t){const n=await Promise.all(e.files.map((async e=>{const n=t(e),i=n.fsPath.replace(/\\/g,"/");for(const e of this._filters.values())for(const t of e)if(void 0===t.scheme||t.scheme===n.scheme)if(t.matcher.match(i)){if(void 0===t.kind)return!0;const e=await this.getFileType(n);if(void 0===e)return this._client.error(`Failed to determine file type for ${n.toString()}.`),!0;if(e===r.FileType.File&&t.kind===o.FileOperationPatternKind.file||e===r.FileType.Directory&&t.kind===o.FileOperationPatternKind.folder)return!0}else if(t.kind===o.FileOperationPatternKind.folder&&await u.getFileType(n)===r.FileType.Directory&&t.matcher.match(`${i}/`))return!0;return!1}))),i=e.files.filter(((e,t)=>n[t]));return{...e,files:i}}static async getFileType(e){try{return(await r.workspace.fs.stat(e)).type}catch(e){return}}static asMinimatchOptions(e){if(void 0!==e)return!0===e.ignoreCase?{nocase:!0}:void 0}}class l extends u{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i),this._notificationType=n,this._accessUri=o,this._createParams=s}async send(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=async e=>this._client.sendNotification(this._notificationType,this._createParams(e));return this.doSend(t,e)}}}class d extends l{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){const t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);const n=await u.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),0===this.filterSize()&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}dispose(){super.dispose(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}}t.DidCreateFilesFeature=class extends l{constructor(e){super(e,r.workspace.onDidCreateFiles,o.DidCreateFilesNotification.type,"didCreate","didCreate",(e=>e),e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}},t.DidRenameFilesFeature=class extends d{constructor(e){super(e,r.workspace.onDidRenameFiles,o.DidRenameFilesNotification.type,"didRename","didRename",(e=>e.oldUri),e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=r.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,(e=>e.oldUri)))}doSend(e,t){this.clearFileTypeCache();const n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}},t.DidDeleteFilesFeature=class extends d{constructor(e){super(e,r.workspace.onDidDeleteFiles,o.DidDeleteFilesNotification.type,"didDelete","didDelete",(e=>e),e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=r.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,(e=>e)))}doSend(e,t){this.clearFileTypeCache();const n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};class p extends u{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i),this._requestType=n,this._accessUri=o,this._createParams=s}async send(e){const t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=e=>this._client.sendRequest(this._requestType,this._createParams(e),e.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,e)}}}t.WillCreateFilesFeature=class extends p{constructor(e){super(e,r.workspace.onWillCreateFiles,o.WillCreateFilesRequest.type,"willCreate","willCreate",(e=>e),e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}},t.WillRenameFilesFeature=class extends p{constructor(e){super(e,r.workspace.onWillRenameFiles,o.WillRenameFilesRequest.type,"willRename","willRename",(e=>e.oldUri),e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}},t.WillDeleteFilesFeature=class extends p{constructor(e){super(e,r.workspace.onWillDeleteFiles,o.WillDeleteFilesRequest.type,"willDelete","willDelete",(e=>e),e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}}},65338:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemWatcherFeature=void 0;const r=n(66828),i=n(40273),o=n(88909);t.FileSystemWatcherFeature=class{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return i.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,o.ensure)((0,o.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;const t=[];for(const n of e.registerOptions.watchers){const e=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(void 0===e)continue;let o=!0,s=!0,a=!0;void 0!==n.kind&&null!==n.kind&&(o=0!=(n.kind&i.WatchKind.Create),s=0!=(n.kind&i.WatchKind.Change),a=0!=(n.kind&i.WatchKind.Delete));const c=r.workspace.createFileSystemWatcher(e,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let e of t)this.hookListeners(e,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,r,o){t&&e.onDidCreate((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Created})),null,o),n&&e.onDidChange((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Changed})),null,o),r&&e.onDidDelete((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Deleted})),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let e of t)e.dispose()}dispose(){this._watchers.forEach((e=>{for(let t of e)t.dispose()})),this._watchers.clear()}}},96454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeFeature=void 0;const r=n(66828),i=n(40273),o=n(88909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[i.FoldingRangeKind.Comment,i.FoldingRangeKind.Imports,i.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1}}initialize(e,t){let[n,r]=this.getRegistration(t,e.foldingRangeProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideFoldingRanges:(e,t,n)=>{const r=this._client,o=(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e)};return r.sendRequest(i.FoldingRangeRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asFoldingRanges(e,n)),(e=>r.handleFailedRequest(i.FoldingRangeRequest.type,n,e,null)))},s=r.middleware;return s.provideFoldingRanges?s.provideFoldingRanges(e,t,n,o):o(e,0,n)}};return[r.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.FoldingRangeFeature=s},56426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentOnTypeFormattingFeature=t.DocumentRangeFormattingFeature=t.DocumentFormattingFeature=void 0;const r=n(66828),i=n(40273),o=n(41980),s=n(88909);var a;!function(e){e.fromConfiguration=function(e){const t=r.workspace.getConfiguration("files",e);return{trimTrailingWhitespace:t.get("trimTrailingWhitespace"),trimFinalNewlines:t.get("trimFinalNewlines"),insertFinalNewline:t.get("insertFinalNewline")}}}(a||(a={}));class c extends s.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentFormattingEdits:(e,t,n)=>{const r=this._client,o=(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),options:r.code2ProtocolConverter.asFormattingOptions(t,a.fromConfiguration(e))};return r.sendRequest(i.DocumentFormattingRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asTextEdits(e,n)),(e=>r.handleFailedRequest(i.DocumentFormattingRequest.type,n,e,null)))},s=r.middleware;return s.provideDocumentFormattingEdits?s.provideDocumentFormattingEdits(e,t,n,o):o(e,t,n)}};return[r.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentFormattingFeature=c;class u extends s.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(e,t,n,r)=>{const o=this._client,s=(e,t,n,r)=>{const s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),options:o.code2ProtocolConverter.asFormattingOptions(n,a.fromConfiguration(e))};return o.sendRequest(i.DocumentRangeFormattingRequest.type,s,r).then((e=>r.isCancellationRequested?null:o.protocol2CodeConverter.asTextEdits(e,r)),(e=>o.handleFailedRequest(i.DocumentRangeFormattingRequest.type,r,e,null)))},c=o.middleware;return c.provideDocumentRangeFormattingEdits?c.provideDocumentRangeFormattingEdits(e,t,n,r,s):s(e,t,n,r)}};return[r.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentRangeFormattingFeature=u;class l extends s.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideOnTypeFormattingEdits:(e,t,n,r,o)=>{const s=this._client,c=(e,t,n,r,o)=>{let c={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(e),position:s.code2ProtocolConverter.asPosition(t),ch:n,options:s.code2ProtocolConverter.asFormattingOptions(r,a.fromConfiguration(e))};return s.sendRequest(i.DocumentOnTypeFormattingRequest.type,c,o).then((e=>o.isCancellationRequested?null:s.protocol2CodeConverter.asTextEdits(e,o)),(e=>s.handleFailedRequest(i.DocumentOnTypeFormattingRequest.type,o,e,null)))},u=s.middleware;return u.provideOnTypeFormattingEdits?u.provideOnTypeFormattingEdits(e,t,n,r,o,c):c(e,t,n,r,o)}},o=e.moreTriggerCharacter||[];return[r.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...o),n]}}t.DocumentOnTypeFormattingFeature=l},96782:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HoverFeature=void 0;const r=n(66828),i=n(40273),o=n(88909),s=n(41980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.HoverRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[i.MarkupKind.Markdown,i.MarkupKind.PlainText]}initialize(e,t){const n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideHover:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.HoverRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asHover(e)),(e=>r.handleFailedRequest(i.HoverRequest.type,n,e,null))),s=r.middleware;return s.provideHover?s.provideHover(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.HoverFeature=a},79889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationFeature=void 0;const r=n(66828),i=n(40273),o=n(88909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.implementationProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideImplementation:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.ImplementationRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>r.handleFailedRequest(i.ImplementationRequest.type,n,e,null))),s=r.middleware;return s.provideImplementation?s.provideImplementation(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.ImplementationFeature=s},16190:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintsFeature=void 0;const r=n(66828),i=n(40273),o=n(88909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.InlayHintRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,o.ensure)((0,o.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.InlayHintRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeInlayHints.fire()}));const[n,r]=this.getRegistration(t,e.inlayHintProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n=new r.EventEmitter,o={onDidChangeInlayHints:n.event,provideInlayHints:(e,t,n)=>{const r=this._client,o=async(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),range:r.code2ProtocolConverter.asRange(t)};try{const e=await r.sendRequest(i.InlayHintRequest.type,o,n);return n.isCancellationRequested?null:r.protocol2CodeConverter.asInlayHints(e,n)}catch(e){return r.handleFailedRequest(i.InlayHintRequest.type,n,e,null)}},s=r.middleware;return s.provideInlayHints?s.provideInlayHints(e,t,n,o):o(e,t,n)}};return o.resolveInlayHint=!0===e.resolveProvider?(e,t)=>{const n=this._client,r=async(e,t)=>{try{const r=await n.sendRequest(i.InlayHintResolveRequest.type,n.code2ProtocolConverter.asInlayHint(e),t);if(t.isCancellationRequested)return null;const o=n.protocol2CodeConverter.asInlayHint(r,t);return t.isCancellationRequested?null:o}catch(e){return n.handleFailedRequest(i.InlayHintResolveRequest.type,t,e,null)}},o=n.middleware;return o.resolveInlayHint?o.resolveInlayHint(e,t,r):r(e,t)}:void 0,[this.registerProvider(t,o),{provider:o,onDidChangeInlayHints:n}]}registerProvider(e,t){return r.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.InlayHintsFeature=s},45098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueFeature=void 0;const r=n(66828),i=n(40273),o=n(88909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.InlineValueRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,o.ensure)((0,o.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.InlineValueRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeInlineValues.fire()}));const[n,r]=this.getRegistration(t,e.inlineValueProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n=new r.EventEmitter,o={onDidChangeInlineValues:n.event,provideInlineValues:(e,t,n,r)=>{const o=this._client,s=(e,t,n,r)=>{const s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),range:o.code2ProtocolConverter.asRange(t),context:o.code2ProtocolConverter.asInlineValueContext(n)};return o.sendRequest(i.InlineValueRequest.type,s,r).then((e=>r.isCancellationRequested?null:o.protocol2CodeConverter.asInlineValues(e,r)),(e=>o.handleFailedRequest(i.InlineValueRequest.type,r,e,null)))},a=o.middleware;return a.provideInlineValues?a.provideInlineValues(e,t,n,r,s):s(e,t,n,r)}};return[this.registerProvider(t,o),{provider:o,onDidChangeInlineValues:n}]}registerProvider(e,t){return r.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.InlineValueFeature=s},43483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingFeature=void 0;const r=n(66828),i=n(40273),o=n(88909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"linkedEditingRange").dynamicRegistration=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.linkedEditingRangeProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideLinkedEditingRanges:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.LinkedEditingRangeRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asLinkedEditingRanges(e,n)),(e=>r.handleFailedRequest(i.LinkedEditingRangeRequest.type,n,e,null))),s=r.middleware;return s.provideLinkedEditingRange?s.provideLinkedEditingRange(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.LinkedEditingFeature=s},30203:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookDocumentSyncFeature=void 0;const r=n(66828),i=n(53415),o=n(40273),s=n(41980),a=n(59763);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var u,l,d,p,h;!function(e){let t;!function(t){function n(e,t){return e.map((e=>s(e,t)))}function i(e){return c(new Set,e)}function s(e,t){const n=o.NotebookCell.create(function(e){switch(e){case r.NotebookCellKind.Markup:return o.NotebookCellKind.Markup;case r.NotebookCellKind.Code:return o.NotebookCellKind.Code}}(e.kind),t.asUri(e.document.uri));return Object.keys(e.metadata).length>0&&(n.metadata=i(e.metadata)),void 0!==e.executionSummary&&a.number(e.executionSummary.executionOrder)&&a.boolean(e.executionSummary.success)&&(n.executionSummary={executionOrder:e.executionSummary.executionOrder,success:e.executionSummary.success}),n}function c(e,t){if(e.has(t))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(t)){const n=[];for(const r of t)if(null!==r&&"object"==typeof r||Array.isArray(r))n.push(c(e,r));else{if(r instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");n.push(r)}return n}{const n=Object.keys(t),r=Object.create(null);for(const i of n){const n=t[i];if(null!==n&&"object"==typeof n||Array.isArray(n))r[i]=c(e,n);else{if(n instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");r[i]=n}}return r}}t.asVersionedNotebookDocumentIdentifier=function(e,t){return{version:e.version,uri:t.asUri(e.uri)}},t.asNotebookDocument=function(e,t,r){const s=o.NotebookDocument.create(r.asUri(e.uri),e.notebookType,e.version,n(t,r));return Object.keys(e.metadata).length>0&&(s.metadata=i(e.metadata)),s},t.asNotebookCells=n,t.asMetadata=i,t.asNotebookCell=s,t.asTextContentChange=function(e,t){const n=t.asChangeTextDocumentParams(e);return{document:n.textDocument,changes:n.contentChanges}},t.asNotebookDocumentChangeEvent=function(t,n){const r=Object.create(null);if(t.metadata&&(r.metadata=e.c2p.asMetadata(t.metadata)),void 0!==t.cells){const i=Object.create(null),o=t.cells;o.structure&&(i.structure={array:{start:o.structure.array.start,deleteCount:o.structure.array.deleteCount,cells:void 0!==o.structure.array.cells?o.structure.array.cells.map((t=>e.c2p.asNotebookCell(t,n))):void 0},didOpen:void 0!==o.structure.didOpen?o.structure.didOpen.map((e=>n.asOpenTextDocumentParams(e.document).textDocument)):void 0,didClose:void 0!==o.structure.didClose?o.structure.didClose.map((e=>n.asCloseTextDocumentParams(e.document).textDocument)):void 0}),void 0!==o.data&&(i.data=o.data.map((t=>e.c2p.asNotebookCell(t,n)))),void 0!==o.textContent&&(i.textContent=o.textContent.map((t=>e.c2p.asTextContentChange(t,n)))),Object.keys(i).length>0&&(r.cells=i)}return r}}(t=e.c2p||(e.c2p={}))}(u||(u={})),function(e){function t(e,t,r=!0){return!(e.kind!==t.kind||e.document.uri.toString()!==t.document.uri.toString()||e.document.languageId!==t.document.languageId||!function(e,t){return e===t||void 0!==e&&void 0!==t&&(e.executionOrder===t.executionOrder&&e.success===t.success&&function(e,t){return e===t||void 0!==e&&void 0!==t&&(e.startTime===t.startTime&&e.endTime===t.endTime)}(e.timing,t.timing))}(e.executionSummary,t.executionSummary))&&(!r||r&&n(e.metadata,t.metadata))}function n(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;const i=Array.isArray(e),o=Array.isArray(t);if(i!==o)return!1;if(i&&o){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}if(r(e)&&r(t)){const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(r.sort(),i.sort(),!n(r,i))return!1;for(let i=0;i<r.length;i++){const o=r[i];if(!n(e[o],t[o]))return!1}return!0}return!1}function r(e){return null!==e&&"object"==typeof e}e.computeDiff=function(e,n,r){const i=e.length,o=n.length;let s=0;for(;s<o&&s<i&&t(e[s],n[s],r);)s++;if(s<o&&s<i){let a=i-1,c=o-1;for(;a>=0&&c>=0&&t(e[a],n[c],r);)a--,c--;const u=a+1-s,l=s===c+1?void 0:n.slice(s,c+1);return void 0!==l?{start:s,deleteCount:u,cells:l}:{start:s,deleteCount:u}}return s<o?{start:s,deleteCount:0,cells:n.slice(s)}:s<i?{start:s,deleteCount:i-s}:void 0},e.isObjectLiteral=r}(l||(l={})),function(e){e.matchNotebook=function(e,t){if("string"==typeof e)return"*"===e||t.notebookType===e;if(void 0!==e.notebookType&&"*"!==e.notebookType&&t.notebookType!==e.notebookType)return!1;const n=t.uri;if(void 0!==e.scheme&&"*"!==e.scheme&&n.scheme!==e.scheme)return!1;if(void 0!==e.pattern){const t=new i.Minimatch(e.pattern,{noext:!0});if(!t.makeRe())return!1;if(!t.match(n.fsPath))return!1}return!0}}(d||(d={})),function(e){function t(e,t,n,r){return void 0===t&&void 0===n?{notebook:e,language:r}:{notebook:{notebookType:e,scheme:t,pattern:n},language:r}}e.asDocumentSelector=function(e){const n=e.notebookSelector,r=[];for(const e of n){const n=("string"==typeof e.notebook?e.notebook:e.notebook?.notebookType)??"*",i="string"==typeof e.notebook?void 0:e.notebook?.scheme,o="string"==typeof e.notebook?void 0:e.notebook?.pattern;if(void 0!==e.cells)for(const s of e.cells)r.push(t(n,i,o,s.language));else r.push(t(n,i,o,void 0))}return r}}(p||(p={})),function(e){e.create=function(e){return{cells:e,uris:new Set(e.map((e=>e.document.uri.toString())))}}}(h||(h={}));class f{constructor(e,t){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(p.asDocumentSelector(t)),r.workspace.onDidOpenNotebookDocument((e=>{this.notebookDidOpen.add(e.uri.toString()),this.didOpen(e)}),void 0,this.disposables);for(const e of r.workspace.notebookDocuments)this.notebookDidOpen.add(e.uri.toString()),this.didOpen(e);r.workspace.onDidChangeNotebookDocument((e=>this.didChangeNotebookDocument(e)),void 0,this.disposables),!0===this.options.save&&r.workspace.onDidSaveNotebookDocument((e=>this.didSave(e)),void 0,this.disposables),r.workspace.onDidCloseNotebookDocument((e=>{this.didClose(e),this.notebookDidOpen.delete(e.uri.toString())}),void 0,this.disposables)}getState(){for(const e of r.workspace.notebookDocuments)if(void 0!==this.getMatchingCells(e))return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return r.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,t){if(0===r.languages.match(this.selector,t.document))return;if(!this.notebookDidOpen.has(e.uri.toString()))return;const n=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,t);if(void 0!==n){const r=n.uris.has(t.document.uri.toString());if(i&&r||!i&&!r)return;if(i){const t=this.getMatchingCells(e);if(void 0!==t){const r=this.asNotebookDocumentChangeEvent(e,void 0,n,t);void 0!==r&&this.doSendChange(r,t).catch((()=>{}))}}}else i&&this.doSendOpen(e,[t]).catch((()=>{}))}didChangeNotebookCellTextDocument(e,t){0!==r.languages.match(this.selector,t.document)&&this.doSendChange({notebook:e,cells:{textContent:[t]}},void 0).catch((()=>{}))}didCloseNotebookCellTextDocument(e,t){const n=this.notebookSyncInfo.get(e.uri.toString());if(void 0===n)return;const r=t.document.uri,i=n.cells.findIndex((e=>e.document.uri.toString()===r.toString()));if(-1!==i)if(0===i&&1===n.cells.length)this.doSendClose(e,n.cells).catch((()=>{}));else{const t=n.cells.slice(),r=t.splice(i,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:i,deleteCount:1},didClose:r}}},t).catch((()=>{}))}}dispose(){for(const e of this.disposables)e.dispose()}didOpen(e,t=this.getMatchingCells(e),n=this.notebookSyncInfo.get(e.uri.toString())){if(void 0!==n)if(void 0!==t){const r=this.asNotebookDocumentChangeEvent(e,void 0,n,t);void 0!==r&&this.doSendChange(r,t).catch((()=>{}))}else this.doSendClose(e,[]).catch((()=>{}));else{if(void 0===t)return;this.doSendOpen(e,t).catch((()=>{}))}}didChangeNotebookDocument(e){const t=e.notebook,n=this.notebookSyncInfo.get(t.uri.toString());if(void 0===n){if(0===e.contentChanges.length)return;const r=this.getMatchingCells(t);if(void 0===r)return;this.didOpen(t,r,n)}else{const r=this.getMatchingCells(t);if(void 0===r)return void this.didClose(t,n);const i=this.asNotebookDocumentChangeEvent(e.notebook,e,n,r);void 0!==i&&this.doSendChange(i,r).catch((()=>{}))}}didSave(e){void 0!==this.notebookSyncInfo.get(e.uri.toString())&&this.doSendSave(e).catch((()=>{}))}didClose(e,t=this.notebookSyncInfo.get(e.uri.toString())){if(void 0===t)return;const n=e.getCells().filter((e=>t.uris.has(e.document.uri.toString())));this.doSendClose(e,n).catch((()=>{}))}async sendDidOpenNotebookDocument(e){const t=this.getMatchingCells(e);if(void 0!==t)return this.doSendOpen(e,t)}async doSendOpen(e,t){const n=async(e,t)=>{const n=u.c2p.asNotebookDocument(e,t,this.client.code2ProtocolConverter),r=t.map((e=>this.client.code2ProtocolConverter.asTextDocumentItem(e.document)));try{await this.client.sendNotification(o.DidOpenNotebookDocumentNotification.type,{notebookDocument:n,cellTextDocuments:r})}catch(e){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",e),e}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),h.create(t)),void 0!==r?.didOpen?r.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,t=this.getMatchingCells(e.notebook)){const n=async e=>{try{await this.client.sendNotification(o.DidChangeNotebookDocumentNotification.type,{notebookDocument:u.c2p.asVersionedNotebookDocumentIdentifier(e.notebook,this.client.code2ProtocolConverter),change:u.c2p.asNotebookDocumentChangeEvent(e,this.client.code2ProtocolConverter)})}catch(e){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",e),e}},r=this.client.middleware?.notebooks;return void 0!==e.cells?.structure&&this.notebookSyncInfo.set(e.notebook.uri.toString(),h.create(t??[])),void 0!==r?.didChange?r?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){const t=async e=>{try{await this.client.sendNotification(o.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(e.uri)}})}catch(e){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",e),e}},n=this.client.middleware?.notebooks;return void 0!==n?.didSave?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,t){const n=async(e,t)=>{try{await this.client.sendNotification(o.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(e.uri)},cellTextDocuments:t.map((e=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(e.document)))})}catch(e){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",e),e}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),void 0!==r?.didClose?r.didClose(e,t,n):n(e,t)}asNotebookDocumentChangeEvent(e,t,n,r){if(void 0!==t&&t.notebook!==e)throw new Error("Notebook must be identical");const i={notebook:e};let o;if(void 0!==t?.metadata&&(i.metadata=u.c2p.asMetadata(t.metadata)),void 0!==t?.cellChanges&&t.cellChanges.length>0){const e=[];o=new Set(r.map((e=>e.document.uri.toString())));for(const n of t.cellChanges)!o.has(n.cell.document.uri.toString())||void 0===n.executionSummary&&void 0===n.metadata||e.push(n.cell);e.length>0&&(i.cells=i.cells??{},i.cells.data=e)}if((void 0!==t?.contentChanges&&t.contentChanges.length>0||void 0===t)&&void 0!==n&&void 0!==r){const e=n.cells,t=r,o=l.computeDiff(e,t,!1);let s,a;if(void 0!==o){s=void 0===o.cells?new Map:new Map(o.cells.map((e=>[e.document.uri.toString(),e]))),a=0===o.deleteCount?new Map:new Map(e.slice(o.start,o.start+o.deleteCount).map((e=>[e.document.uri.toString(),e])));for(const e of Array.from(a.keys()))s.has(e)&&(a.delete(e),s.delete(e));i.cells=i.cells??{};const t=[],n=[];if(s.size>0||a.size>0){for(const e of s.values())t.push(e);for(const e of a.values())n.push(e)}i.cells.structure={array:o,didOpen:t,didClose:n}}}return Object.keys(i).length>1?i:void 0}getMatchingCells(e,t=e.getCells()){if(void 0!==this.options.notebookSelector)for(const n of this.options.notebookSelector){if(void 0===n.notebook){if(void 0===n.cells)return;const r=this.filterCells(e,t,n.cells);return 0===r.length?void 0:r}if(d.matchNotebook(n.notebook,e))return void 0===n.cells?t:this.filterCells(e,t,n.cells)}}cellMatches(e,t){const n=this.getMatchingCells(e,[t]);return void 0!==n&&n[0]===t}filterCells(e,t,n){const r=t.filter((e=>{const t=e.document.languageId;return n.some((e=>"*"===e.language||t===e.language))}));return"function"==typeof this.client.clientOptions.notebookDocumentOptions?.filterCells?this.client.clientOptions.notebookDocumentOptions.filterCells(e,t):r}}class g{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=o.NotebookDocumentSyncRegistrationType.type,r.workspace.onDidOpenTextDocument((e=>{if(e.uri.scheme!==g.CellScheme)return;const[t,n]=this.findNotebookDocumentAndCell(e);if(void 0!==t&&void 0!==n)for(const e of this.registrations.values())e instanceof f&&e.didOpenNotebookCellTextDocument(t,n)})),r.workspace.onDidChangeTextDocument((e=>{if(0===e.contentChanges.length)return;const t=e.document;if(t.uri.scheme!==g.CellScheme)return;const[n]=this.findNotebookDocumentAndCell(t);if(void 0!==n)for(const t of this.registrations.values())t instanceof f&&t.didChangeNotebookCellTextDocument(n,e)})),r.workspace.onDidCloseTextDocument((e=>{if(e.uri.scheme!==g.CellScheme)return;const[t,n]=this.findNotebookDocumentAndCell(e);if(void 0!==t&&void 0!==n)for(const e of this.registrations.values())e instanceof f&&e.didCloseNotebookCellTextDocument(t,n)}))}getState(){if(0===this.registrations.size)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(const e of this.registrations.values()){const t=e.getState();if("document"===t.kind&&!0===t.registrations&&!0===t.matches)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){const t=c(c(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){const t=e.notebookDocumentSync;void 0!==t&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(p.asDocumentSelector(t)))}initialize(e){const t=e.notebookDocumentSync;if(void 0===t)return;const n=t.id??s.generateUuid();this.register({id:n,registerOptions:t})}register(e){const t=new f(this.client,e.registerOptions);this.registrations.set(e.id,t)}unregister(e){const t=this.registrations.get(e);t&&t.dispose()}dispose(){for(const e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==g.CellScheme)return!1;if(void 0!==this.dedicatedChannel&&r.languages.match(this.dedicatedChannel,e)>0)return!0;for(const t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(const t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){const t=e.uri.toString();for(const e of r.workspace.notebookDocuments)for(const n of e.getCells())if(n.document.uri.toString()===t)return[e,n];return[void 0,void 0]}}t.NotebookDocumentSyncFeature=g,g.CellScheme="vscode-notebook-cell"},43603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressFeature=void 0;const r=n(40273),i=n(78071);t.ProgressFeature=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:r.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){var t,n;(t=e,n="window",void 0===t[n]&&(t[n]=Object.create(null)),t[n]).workDoneProgress=!0}initialize(){const e=this._client,t=e=>{this.activeParts.delete(e)};e.onRequest(r.WorkDoneProgressCreateRequest.type,(e=>{this.activeParts.add(new i.ProgressPart(this._client,e.token,t))}))}dispose(){for(const e of this.activeParts)e.done();this.activeParts.clear()}}},78071:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressPart=void 0;const r=n(66828),i=n(40273),o=n(59763);t.ProgressPart=class{constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(i.WorkDoneProgress.type,this._token,(e=>{switch(e.kind){case"begin":this.begin(e);break;case"report":this.report(e);break;case"end":this.done(),n&&n(this)}}))}begin(e){this._infinite=void 0===e.percentage,void 0!==this._lspProgressDisposable&&r.window.withProgress({location:r.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},(async(t,n)=>{if(void 0!==this._lspProgressDisposable)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested((()=>{this._client.sendNotification(i.WorkDoneProgressCancelNotification.type,{token:this._token})})),this.report(e),new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}))}report(e){if(this._infinite&&o.string(e.message))void 0!==this._progress&&this._progress.report({message:e.message});else if(o.number(e.percentage)){const t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,void 0!==this._progress&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),void 0!==this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),void 0!==this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){void 0!==this._lspProgressDisposable&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),void 0!==this._tokenDisposable&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}}},88714:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66828);class i extends r.CallHierarchyItem{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i,o),void 0!==s&&(this.data=s)}}t.default=i},56434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66828);class i extends r.CodeAction{constructor(e,t){super(e),this.data=t}}t.default=i},50583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66828);class i extends r.CodeLens{constructor(e){super(e)}}t.default=i},81807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66828);class i extends r.CompletionItem{constructor(e){super(e)}}t.default=i},38785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const r=n(66828),i=n(40273),o=n(59763),s=n(94904),a=n(81807),c=n(50583),u=n(58705),l=n(56434),d=n(25316),p=n(88714),h=n(41365),f=n(13912),g=n(91065),m=n(40273);var v;!function(e){e.is=function(e){let t=e;return t&&o.string(t.language)&&o.string(t.value)}}(v||(v={})),t.createConverter=function(e,t,n){const y=e||(e=>r.Uri.parse(e));function b(e){return y(e)}function S(e){let t=new d.ProtocolDiagnostic(w(e.range),e.message,T(e.severity),e.data);if(void 0!==e.code)if("string"==typeof e.code||"number"==typeof e.code)i.CodeDescription.is(e.codeDescription)?t.code={value:e.code,target:b(e.codeDescription.href)}:t.code=e.code;else if(d.DiagnosticCode.is(e.code)){t.hasDiagnosticCode=!0;const n=e.code;t.code={value:n.value,target:b(n.target)}}return e.source&&(t.source=e.source),e.relatedInformation&&(t.relatedInformation=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++){const i=e[n];t[n]=new r.DiagnosticRelatedInformation(L(i.location),i.message)}return t}(e.relatedInformation)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let n of e){let e=_(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),t}function _(e){switch(e){case i.DiagnosticTag.Unnecessary:return r.DiagnosticTag.Unnecessary;case i.DiagnosticTag.Deprecated:return r.DiagnosticTag.Deprecated;default:return}}function E(e){return e?new r.Position(e.line,e.character):void 0}function w(e){return e?new r.Range(e.start.line,e.start.character,e.end.line,e.end.character):void 0}async function P(e,t){return s.map(e,(e=>new r.Range(e.start.line,e.start.character,e.end.line,e.end.character)),t)}function T(e){if(null==e)return r.DiagnosticSeverity.Error;switch(e){case i.DiagnosticSeverity.Error:return r.DiagnosticSeverity.Error;case i.DiagnosticSeverity.Warning:return r.DiagnosticSeverity.Warning;case i.DiagnosticSeverity.Information:return r.DiagnosticSeverity.Information;case i.DiagnosticSeverity.Hint:return r.DiagnosticSeverity.Hint}return r.DiagnosticSeverity.Error}function C(e){if(o.string(e))return e;switch(e.kind){case i.MarkupKind.Markdown:return I(e.value);case i.MarkupKind.PlainText:return e.value;default:return`Unsupported Markup content received. Kind is: ${e.kind}`}}function I(e){let o;if(void 0===e||"string"==typeof e)o=new r.MarkdownString(e);else switch(e.kind){case i.MarkupKind.Markdown:o=new r.MarkdownString(e.value);break;case i.MarkupKind.PlainText:o=new r.MarkdownString,o.appendText(e.value);break;default:o=new r.MarkdownString,o.appendText(`Unsupported Markup content received. Kind is: ${e.kind}`)}return o.isTrusted=t,o.supportHtml=n,o}function R(e){if(e===i.CompletionItemTag.Deprecated)return r.CompletionItemTag.Deprecated}function D(e,t,n,s,c,u){const l=function(e){if(null==e)return[];const t=[];for(const n of e){const e=R(n);void 0!==e&&t.push(e)}return t}(e.tags),d=function(e){return i.CompletionItemLabelDetails.is(e.labelDetails)?{label:e.label,detail:e.labelDetails.detail,description:e.labelDetails.description}:e.label}(e),p=new a.default(d);e.detail&&(p.detail=e.detail),e.documentation&&(p.documentation=C(e.documentation),p.documentationFormat=o.string(e.documentation)?"$string":e.documentation.kind),e.filterText&&(p.filterText=e.filterText);const h=function(e,t,n){const o=e.insertTextFormat??n;if(void 0!==e.textEdit||void 0!==t){const[n,a]=void 0!==e.textEdit?(s=e.textEdit,i.InsertReplaceEdit.is(s)?[{inserting:w(s.insert),replacing:w(s.replace)},s.newText]:[w(s.range),s.newText]):[t,e.textEditText??e.label];return o===i.InsertTextFormat.Snippet?{text:new r.SnippetString(a),range:n,fromEdit:!0}:{text:a,range:n,fromEdit:!0}}return e.insertText?o===i.InsertTextFormat.Snippet?{text:new r.SnippetString(e.insertText),fromEdit:!1}:{text:e.insertText,fromEdit:!1}:void 0;var s}(e,n,c);if(h&&(p.insertText=h.text,p.range=h.range,p.fromEdit=h.fromEdit),o.number(e.kind)){let[t,n]=(f=e.kind,i.CompletionItemKind.Text<=f&&f<=i.CompletionItemKind.TypeParameter?[f-1,void 0]:[r.CompletionItemKind.Text,f]);p.kind=t,n&&(p.originalItemKind=n)}var f;e.sortText&&(p.sortText=e.sortText),e.additionalTextEdits&&(p.additionalTextEdits=x(e.additionalTextEdits));const g=void 0!==e.commitCharacters?o.stringArray(e.commitCharacters)?e.commitCharacters:void 0:t;g&&(p.commitCharacters=g.slice()),e.command&&(p.command=z(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(p.deprecated=e.deprecated,!0===e.deprecated&&l.push(r.CompletionItemTag.Deprecated)),!0!==e.preselect&&!1!==e.preselect||(p.preselect=e.preselect);const m=e.data??u;void 0!==m&&(p.data=m),l.length>0&&(p.tags=l);const v=e.insertTextMode??s;return void 0!==v&&(p.insertTextMode=v,v===i.InsertTextMode.asIs&&(p.keepWhitespace=!0)),p}function O(e){if(e)return new r.TextEdit(w(e.range),e.newText)}async function k(e,t){if(e)return s.map(e,O,t)}function x(e){if(!e)return;const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=O(e[n]);return t}async function N(e,t){return s.mapAsync(e,A,t)}async function A(e,t){let n=new r.SignatureInformation(e.label);return void 0!==e.documentation&&(n.documentation=C(e.documentation)),void 0!==e.parameters&&(n.parameters=await j(e.parameters,t)),void 0!==e.activeParameter&&(n.activeParameter=e.activeParameter),n}function j(e,t){return s.map(e,M,t)}function M(e){let t=new r.ParameterInformation(e.label);return e.documentation&&(t.documentation=C(e.documentation)),t}function L(e){return e?new r.Location(y(e.uri),w(e.range)):void 0}function F(e){if(!e)return;let t={targetUri:y(e.targetUri),targetRange:w(e.targetRange),originSelectionRange:w(e.originSelectionRange),targetSelectionRange:w(e.targetSelectionRange)};if(!t.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return t}async function q(e,t){if(e){if(o.array(e)){if(0===e.length)return[];if(i.LocationLink.is(e[0])){const n=e;return s.map(n,F,t)}{const n=e;return s.map(n,L,t)}}return i.LocationLink.is(e)?[F(e)]:L(e)}}function U(e){let t=new r.DocumentHighlight(w(e.range));return o.number(e.kind)&&(t.kind=W(e.kind)),t}function W(e){switch(e){case i.DocumentHighlightKind.Text:return r.DocumentHighlightKind.Text;case i.DocumentHighlightKind.Read:return r.DocumentHighlightKind.Read;case i.DocumentHighlightKind.Write:return r.DocumentHighlightKind.Write}return r.DocumentHighlightKind.Text}function V(e){return e<=i.SymbolKind.TypeParameter?e-1:r.SymbolKind.Property}function H(e){if(e===i.SymbolTag.Deprecated)return r.SymbolTag.Deprecated}function $(e){if(null==e)return;const t=[];for(const n of e){const e=H(n);void 0!==e&&t.push(e)}return 0===t.length?void 0:t}function B(e){const t=e.data,n=e.location,i=void 0===n.range||void 0!==t?new f.default(e.name,V(e.kind),e.containerName??"",void 0===n.range?y(n.uri):new r.Location(y(e.location.uri),w(n.range)),t):new r.SymbolInformation(e.name,V(e.kind),e.containerName??"",new r.Location(y(e.location.uri),w(n.range)));return K(i,e),i}function G(e){let t=new r.DocumentSymbol(e.name,e.detail||"",V(e.kind),w(e.range),w(e.selectionRange));if(K(t,e),void 0!==e.children&&e.children.length>0){let n=[];for(let t of e.children)n.push(G(t));t.children=n}return t}function K(e,t){e.tags=$(t.tags),t.deprecated&&(e.tags?e.tags.includes(r.SymbolTag.Deprecated)||(e.tags=e.tags.concat(r.SymbolTag.Deprecated)):e.tags=[r.SymbolTag.Deprecated])}function z(e){let t={title:e.title,command:e.command};return e.arguments&&(t.arguments=e.arguments),t}const Y=new Map;function J(e){if(null==e)return;let t=Y.get(e);if(t)return t;let n=e.split(".");t=r.CodeActionKind.Empty;for(let e of n)t=t.append(e);return t}async function X(e,t){if(null==e)return;let n=new l.default(e.title,e.data);return void 0!==e.kind&&(n.kind=J(e.kind)),void 0!==e.diagnostics&&(n.diagnostics=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=S(e[n]);return t}(e.diagnostics)),void 0!==e.edit&&(n.edit=await Z(e.edit,t)),void 0!==e.command&&(n.command=z(e.command)),void 0!==e.isPreferred&&(n.isPreferred=e.isPreferred),void 0!==e.disabled&&(n.disabled={reason:e.disabled.reason}),n}function Q(e){if(!e)return;let t=new c.default(w(e.range));return e.command&&(t.command=z(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}async function Z(e,t){if(!e)return;const n=new Map;if(void 0!==e.changeAnnotations){const r=e.changeAnnotations;await s.forEach(Object.keys(r),(e=>{const t=function(e){if(void 0!==e)return{label:e.label,needsConfirmation:!!e.needsConfirmation,description:e.description}}(r[e]);n.set(e,t)}),t)}const o=e=>void 0===e?void 0:n.get(e),a=new r.WorkspaceEdit;if(e.documentChanges){const n=e.documentChanges;await s.forEach(n,(e=>{if(i.CreateFile.is(e))a.createFile(y(e.uri),e.options,o(e.annotationId));else if(i.RenameFile.is(e))a.renameFile(y(e.oldUri),y(e.newUri),e.options,o(e.annotationId));else if(i.DeleteFile.is(e))a.deleteFile(y(e.uri),e.options,o(e.annotationId));else{if(!i.TextDocumentEdit.is(e))throw new Error(`Unknown workspace edit change received:\n${JSON.stringify(e,void 0,4)}`);{const t=y(e.textDocument.uri);for(const n of e.edits)i.AnnotatedTextEdit.is(n)?a.replace(t,w(n.range),n.newText,o(n.annotationId)):a.replace(t,w(n.range),n.newText)}}}),t)}else if(e.changes){const n=e.changes;await s.forEach(Object.keys(n),(e=>{a.set(y(e),x(n[e]))}),t)}return a}function ee(e){let t=w(e.range),n=e.target?b(e.target):void 0,r=new u.default(t,n);return void 0!==e.tooltip&&(r.tooltip=e.tooltip),void 0!==e.data&&null!==e.data&&(r.data=e.data),r}function te(e){return new r.Color(e.red,e.green,e.blue,e.alpha)}function ne(e){return new r.ColorInformation(w(e.range),te(e.color))}function re(e){let t=new r.ColorPresentation(e.label);return t.additionalTextEdits=x(e.additionalTextEdits),e.textEdit&&(t.textEdit=O(e.textEdit)),t}function ie(e){if(e)switch(e){case i.FoldingRangeKind.Comment:return r.FoldingRangeKind.Comment;case i.FoldingRangeKind.Imports:return r.FoldingRangeKind.Imports;case i.FoldingRangeKind.Region:return r.FoldingRangeKind.Region}}function oe(e){return new r.FoldingRange(e.startLine,e.endLine,ie(e.kind))}function se(e){return new r.SelectionRange(w(e.range),e.parent?se(e.parent):void 0)}function ae(e){return i.InlineValueText.is(e)?new r.InlineValueText(w(e.range),e.text):i.InlineValueVariableLookup.is(e)?new r.InlineValueVariableLookup(w(e.range),e.variableName,e.caseSensitiveLookup):new r.InlineValueEvaluatableExpression(w(e.range),e.expression)}async function ce(e,t){const n="string"==typeof e.label?e.label:await s.map(e.label,ue,t),r=new g.default(E(e.position),n);return void 0!==e.kind&&(r.kind=e.kind),void 0!==e.textEdits&&(r.textEdits=await k(e.textEdits,t)),void 0!==e.tooltip&&(r.tooltip=le(e.tooltip)),void 0!==e.paddingLeft&&(r.paddingLeft=e.paddingLeft),void 0!==e.paddingRight&&(r.paddingRight=e.paddingRight),void 0!==e.data&&(r.data=e.data),r}function ue(e){const t=new r.InlayHintLabelPart(e.value);return void 0!==e.location&&(t.location=L(e.location)),void 0!==e.tooltip&&(t.tooltip=le(e.tooltip)),void 0!==e.command&&(t.command=z(e.command)),t}function le(e){return"string"==typeof e?e:I(e)}function de(e){if(null===e)return;const t=new p.default(V(e.kind),e.name,e.detail||"",b(e.uri),w(e.range),w(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=$(e.tags)),t}async function pe(e,t){return new r.CallHierarchyIncomingCall(de(e.from),await P(e.fromRanges,t))}async function he(e,t){return new r.CallHierarchyOutgoingCall(de(e.to),await P(e.fromRanges,t))}function fe(e){return new r.SemanticTokensEdit(e.start,e.deleteCount,void 0!==e.data?new Uint32Array(e.data):void 0)}function ge(e){if(null===e)return;let t=new h.default(V(e.kind),e.name,e.detail||"",b(e.uri),w(e.range),w(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=$(e.tags)),t}return Y.set(i.CodeActionKind.Empty,r.CodeActionKind.Empty),Y.set(i.CodeActionKind.QuickFix,r.CodeActionKind.QuickFix),Y.set(i.CodeActionKind.Refactor,r.CodeActionKind.Refactor),Y.set(i.CodeActionKind.RefactorExtract,r.CodeActionKind.RefactorExtract),Y.set(i.CodeActionKind.RefactorInline,r.CodeActionKind.RefactorInline),Y.set(i.CodeActionKind.RefactorRewrite,r.CodeActionKind.RefactorRewrite),Y.set(i.CodeActionKind.Source,r.CodeActionKind.Source),Y.set(i.CodeActionKind.SourceOrganizeImports,r.CodeActionKind.SourceOrganizeImports),{asUri:b,asDocumentSelector:function(e){const t=[];for(const n of e)if("string"==typeof n)t.push(n);else if(m.NotebookCellTextDocumentFilter.is(n))if("string"==typeof n.notebook)t.push({notebookType:n.notebook,language:n.language});else{const e=n.notebook.notebookType??"*";t.push({notebookType:e,scheme:n.notebook.scheme,pattern:n.notebook.pattern,language:n.language})}else m.TextDocumentFilter.is(n)&&t.push({language:n.language,scheme:n.scheme,pattern:n.pattern});return t},asDiagnostics:async function(e,t){return s.map(e,S,t)},asDiagnostic:S,asRange:w,asRanges:P,asPosition:E,asDiagnosticSeverity:T,asDiagnosticTag:_,asHover:function(e){if(e)return new r.Hover(function(e){if(o.string(e))return I(e);if(v.is(e))return I().appendCodeblock(e.value,e.language);if(Array.isArray(e)){let t=[];for(let n of e){let e=I();v.is(n)?e.appendCodeblock(n.value,n.language):e.appendMarkdown(n),t.push(e)}return t}return I(e)}(e.contents),w(e.range))},asCompletionResult:async function(e,t,n){if(!e)return;if(Array.isArray(e))return s.map(e,(e=>D(e,t)),n);const o=e,{defaultRange:a,commitCharacters:c}=function(e,t){const n=e.itemDefaults?.editRange,r=e.itemDefaults?.commitCharacters??t;return i.Range.is(n)?{defaultRange:w(n),commitCharacters:r}:void 0!==n?{defaultRange:{inserting:w(n.insert),replacing:w(n.replace)},commitCharacters:r}:{defaultRange:void 0,commitCharacters:r}}(o,t),u=await s.map(o.items,(e=>D(e,c,a,o.itemDefaults?.insertTextMode,o.itemDefaults?.insertTextFormat,o.itemDefaults?.data)),n);return new r.CompletionList(u,o.isIncomplete)},asCompletionItem:D,asTextEdit:O,asTextEdits:k,asSignatureHelp:async function(e,t){if(!e)return;let n=new r.SignatureHelp;return o.number(e.activeSignature)?n.activeSignature=e.activeSignature:n.activeSignature=0,o.number(e.activeParameter)?n.activeParameter=e.activeParameter:n.activeParameter=0,e.signatures&&(n.signatures=await N(e.signatures,t)),n},asSignatureInformations:N,asSignatureInformation:A,asParameterInformations:j,asParameterInformation:M,asDeclarationResult:async function(e,t){if(e)return q(e,t)},asDefinitionResult:async function(e,t){if(e)return q(e,t)},asLocation:L,asReferences:async function(e,t){if(e)return s.map(e,L,t)},asDocumentHighlights:async function(e,t){if(e)return s.map(e,U,t)},asDocumentHighlight:U,asDocumentHighlightKind:W,asSymbolKind:V,asSymbolTag:H,asSymbolTags:$,asSymbolInformations:async function(e,t){if(e)return s.map(e,B,t)},asSymbolInformation:B,asDocumentSymbols:async function(e,t){if(null!=e)return s.map(e,G,t)},asDocumentSymbol:G,asCommand:z,asCommands:async function(e,t){if(e)return s.map(e,z,t)},asCodeAction:X,asCodeActionKind:J,asCodeActionKinds:function(e){if(null!=e)return e.map((e=>J(e)))},asCodeActionResult:function(e,t){return s.mapAsync(e,(async e=>i.Command.is(e)?z(e):X(e,t)),t)},asCodeLens:Q,asCodeLenses:async function(e,t){if(e)return s.map(e,Q,t)},asWorkspaceEdit:Z,asDocumentLink:ee,asDocumentLinks:async function(e,t){if(e)return s.map(e,ee,t)},asFoldingRangeKind:ie,asFoldingRange:oe,asFoldingRanges:async function(e,t){if(e)return s.map(e,oe,t)},asColor:te,asColorInformation:ne,asColorInformations:async function(e,t){if(e)return s.map(e,ne,t)},asColorPresentation:re,asColorPresentations:async function(e,t){if(e)return s.map(e,re,t)},asSelectionRange:se,asSelectionRanges:async function(e,t){return Array.isArray(e)?s.map(e,se,t):[]},asInlineValue:ae,asInlineValues:async function(e,t){return Array.isArray(e)?s.map(e,ae,t):[]},asInlayHint:ce,asInlayHints:async function(e,t){if(Array.isArray(e))return s.mapAsync(e,ce,t)},asSemanticTokensLegend:function(e){return e},asSemanticTokens:async function(e,t){if(null!=e)return new r.SemanticTokens(new Uint32Array(e.data),e.resultId)},asSemanticTokensEdit:fe,asSemanticTokensEdits:async function(e,t){if(null!=e)return new r.SemanticTokensEdits(e.edits.map(fe),e.resultId)},asCallHierarchyItem:de,asCallHierarchyItems:async function(e,t){if(null!==e)return s.map(e,de,t)},asCallHierarchyIncomingCall:pe,asCallHierarchyIncomingCalls:async function(e,t){if(null!==e)return s.mapAsync(e,pe,t)},asCallHierarchyOutgoingCall:he,asCallHierarchyOutgoingCalls:async function(e,t){if(null!==e)return s.mapAsync(e,he,t)},asLinkedEditingRanges:async function(e,t){if(null!=e)return new r.LinkedEditingRanges(await P(e.ranges,t),function(e){if(null!=e)return new RegExp(e)}(e.wordPattern))},asTypeHierarchyItem:ge,asTypeHierarchyItems:async function(e,t){if(null!==e)return s.map(e,ge,t)},asGlobPattern:function(e){if(o.string(e))return e;if(i.RelativePattern.is(e)){if(i.URI.is(e.baseUri))return new r.RelativePattern(b(e.baseUri),e.pattern);if(i.WorkspaceFolder.is(e.baseUri)){const t=r.workspace.getWorkspaceFolder(b(e.baseUri.uri));return void 0!==t?new r.RelativePattern(t,e.pattern):void 0}}}}}},25316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolDiagnostic=t.DiagnosticCode=void 0;const r=n(66828),i=n(59763);(t.DiagnosticCode||(t.DiagnosticCode={})).is=function(e){const t=e;return null!=t&&(i.number(t.value)||i.string(t.value))&&i.string(t.target)};class o extends r.Diagnostic{constructor(e,t,n,r){super(e,t,n),this.data=r,this.hasDiagnosticCode=!1}}t.ProtocolDiagnostic=o},58705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66828);class i extends r.DocumentLink{constructor(e,t){super(e,t)}}t.default=i},91065:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66828);class i extends r.InlayHint{constructor(e,t,n){super(e,t,n)}}t.default=i},41365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66828);class i extends r.TypeHierarchyItem{constructor(e,t,n,r,i,o,s){super(e,t,n,r,i,o),void 0!==s&&(this.data=s)}}t.default=i},13912:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66828);class i extends r.SymbolInformation{constructor(e,t,n,i,o){const s=!(i instanceof r.Uri);super(e,t,n,s?i:new r.Location(i,new r.Range(0,0,0,0))),this.hasRange=s,void 0!==o&&(this.data=o)}}t.default=i},18480:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReferencesFeature=void 0;const r=n(66828),i=n(40273),o=n(88909),s=n(41980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.ReferencesRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideReferences:(e,t,n,r)=>{const o=this._client,s=(e,t,n,r)=>o.sendRequest(i.ReferencesRequest.type,o.code2ProtocolConverter.asReferenceParams(e,t,n),r).then((e=>r.isCancellationRequested?null:o.protocol2CodeConverter.asReferences(e,r)),(e=>o.handleFailedRequest(i.ReferencesRequest.type,r,e,null))),a=o.middleware;return a.provideReferences?a.provideReferences(e,t,n,r,s):s(e,t,n,r)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.ReferencesFeature=a},26700:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenameFeature=void 0;const r=n(66828),i=n(40273),o=n(41980),s=n(59763),a=n(88909);class c extends a.TextDocumentLanguageFeature{constructor(e){super(e,i.RenameRequest.type)}fillClientCapabilities(e){let t=(0,a.ensure)((0,a.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=i.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.renameProvider);n&&(s.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:o.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){const t=e.documentSelector,n={provideRenameEdits:(e,t,n,r)=>{const o=this._client,s=(e,t,n,r)=>{let s={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),position:o.code2ProtocolConverter.asPosition(t),newName:n};return o.sendRequest(i.RenameRequest.type,s,r).then((e=>r.isCancellationRequested?null:o.protocol2CodeConverter.asWorkspaceEdit(e,r)),(e=>o.handleFailedRequest(i.RenameRequest.type,r,e,null,!1)))},a=o.middleware;return a.provideRenameEdits?a.provideRenameEdits(e,t,n,r,s):s(e,t,n,r)},prepareRename:e.prepareProvider?(e,t,n)=>{const r=this._client,o=(e,t,n)=>{let o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),position:r.code2ProtocolConverter.asPosition(t)};return r.sendRequest(i.PrepareRenameRequest.type,o,n).then((e=>n.isCancellationRequested?null:i.Range.is(e)?r.protocol2CodeConverter.asRange(e):this.isDefaultBehavior(e)?!0===e.defaultBehavior?null:Promise.reject(new Error("The element can't be renamed.")):e&&i.Range.is(e.range)?{range:r.protocol2CodeConverter.asRange(e.range),placeholder:e.placeholder}:Promise.reject(new Error("The element can't be renamed."))),(e=>{throw"string"==typeof e.message?new Error(e.message):new Error("The element can't be renamed.")}))},s=r.middleware;return s.prepareRename?s.prepareRename(e,t,n,o):o(e,t,n)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){const t=e;return t&&s.boolean(t.defaultBehavior)}}t.RenameFeature=c},750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeFeature=void 0;const r=n(66828),i=n(40273),o=n(88909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.SelectionRangeRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"selectionRange").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.selectionRangeProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideSelectionRanges:(e,t,n)=>{const r=this._client,o=async(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),positions:await r.code2ProtocolConverter.asPositions(t,n)};return r.sendRequest(i.SelectionRangeRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asSelectionRanges(e,n)),(e=>r.handleFailedRequest(i.SelectionRangeRequest.type,n,e,null)))},s=r.middleware;return s.provideSelectionRanges?s.provideSelectionRanges(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.SelectionRangeFeature=s},79957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensFeature=void 0;const r=n(66828),i=n(40273),o=n(88909),s=n(59763);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[i.SemanticTokenTypes.namespace,i.SemanticTokenTypes.type,i.SemanticTokenTypes.class,i.SemanticTokenTypes.enum,i.SemanticTokenTypes.interface,i.SemanticTokenTypes.struct,i.SemanticTokenTypes.typeParameter,i.SemanticTokenTypes.parameter,i.SemanticTokenTypes.variable,i.SemanticTokenTypes.property,i.SemanticTokenTypes.enumMember,i.SemanticTokenTypes.event,i.SemanticTokenTypes.function,i.SemanticTokenTypes.method,i.SemanticTokenTypes.macro,i.SemanticTokenTypes.keyword,i.SemanticTokenTypes.modifier,i.SemanticTokenTypes.comment,i.SemanticTokenTypes.string,i.SemanticTokenTypes.number,i.SemanticTokenTypes.regexp,i.SemanticTokenTypes.operator,i.SemanticTokenTypes.decorator],t.tokenModifiers=[i.SemanticTokenModifiers.declaration,i.SemanticTokenModifiers.definition,i.SemanticTokenModifiers.readonly,i.SemanticTokenModifiers.static,i.SemanticTokenModifiers.deprecated,i.SemanticTokenModifiers.abstract,i.SemanticTokenModifiers.async,i.SemanticTokenModifiers.modification,i.SemanticTokenModifiers.documentation,i.SemanticTokenModifiers.defaultLibrary],t.formats=[i.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,o.ensure)((0,o.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.SemanticTokensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeSemanticTokensEmitter.fire()}));const[n,r]=this.getRegistration(t,e.semanticTokensProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n=s.boolean(e.full)?e.full:void 0!==e.full,o=void 0!==e.full&&"boolean"!=typeof e.full&&!0===e.full.delta,a=new r.EventEmitter,c=n?{onDidChangeSemanticTokens:a.event,provideDocumentSemanticTokens:(e,t)=>{const n=this._client,r=n.middleware,o=(e,t)=>{const r={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(i.SemanticTokensRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSemanticTokens(e,t)),(e=>n.handleFailedRequest(i.SemanticTokensRequest.type,t,e,null)))};return r.provideDocumentSemanticTokens?r.provideDocumentSemanticTokens(e,t,o):o(e,t)},provideDocumentSemanticTokensEdits:o?(e,t,n)=>{const r=this._client,o=r.middleware,s=(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),previousResultId:t};return r.sendRequest(i.SemanticTokensDeltaRequest.type,o,n).then((async e=>n.isCancellationRequested?null:i.SemanticTokens.is(e)?await r.protocol2CodeConverter.asSemanticTokens(e,n):await r.protocol2CodeConverter.asSemanticTokensEdits(e,n)),(e=>r.handleFailedRequest(i.SemanticTokensDeltaRequest.type,n,e,null)))};return o.provideDocumentSemanticTokensEdits?o.provideDocumentSemanticTokensEdits(e,t,n,s):s(e,t,n)}:void 0}:void 0,u=!0===e.range?{provideDocumentRangeSemanticTokens:(e,t,n)=>{const r=this._client,o=r.middleware,s=(e,t,n)=>{const o={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),range:r.code2ProtocolConverter.asRange(t)};return r.sendRequest(i.SemanticTokensRangeRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asSemanticTokens(e,n)),(e=>r.handleFailedRequest(i.SemanticTokensRangeRequest.type,n,e,null)))};return o.provideDocumentRangeSemanticTokens?o.provideDocumentRangeSemanticTokens(e,t,n,s):s(e,t,n)}}:void 0,l=[],d=this._client,p=d.protocol2CodeConverter.asSemanticTokensLegend(e.legend),h=d.protocol2CodeConverter.asDocumentSelector(t);return void 0!==c&&l.push(r.languages.registerDocumentSemanticTokensProvider(h,c,p)),void 0!==u&&l.push(r.languages.registerDocumentRangeSemanticTokensProvider(h,u,p)),[new r.Disposable((()=>l.forEach((e=>e.dispose())))),{range:u,full:c,onDidChangeSemanticTokensEmitter:a}]}}t.SemanticTokensFeature=a},82908:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureHelpFeature=void 0;const r=n(66828),i=n(40273),o=n(88909),s=n(41980);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[i.MarkupKind.Markdown,i.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideSignatureHelp:(e,t,n,r)=>{const o=this._client,s=(e,t,n,r)=>o.sendRequest(i.SignatureHelpRequest.type,o.code2ProtocolConverter.asSignatureHelpParams(e,t,n),r).then((e=>r.isCancellationRequested?null:o.protocol2CodeConverter.asSignatureHelp(e,r)),(e=>o.handleFailedRequest(i.SignatureHelpRequest.type,r,e,null))),a=o.middleware;return a.provideSignatureHelp?a.provideSignatureHelp(e,t,r,n,s):s(e,t,r,n)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){const n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(void 0===e.retriggerCharacters){const i=e.triggerCharacters||[];return r.languages.registerSignatureHelpProvider(n,t,...i)}{const i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return r.languages.registerSignatureHelpProvider(n,t,i)}}}t.SignatureHelpFeature=a},70743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidSaveTextDocumentFeature=t.WillSaveWaitUntilFeature=t.WillSaveFeature=t.DidChangeTextDocumentFeature=t.DidCloseTextDocumentFeature=t.DidOpenTextDocumentFeature=void 0;const r=n(66828),i=n(40273),o=n(88909),s=n(94904),a=n(41980);class c extends o.TextDocumentEventFeature{constructor(e,t){super(e,r.workspace.onDidOpenTextDocument,i.DidOpenTextDocumentNotification.type,(()=>e.middleware.didOpen),(t=>e.code2ProtocolConverter.asOpenTextDocumentParams(t)),(e=>e),o.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return i.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;const t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);r.workspace.textDocuments.forEach((e=>{const n=e.uri.toString();if(!this._syncedDocuments.has(n)&&r.languages.match(t,e)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e)){const t=this._client.middleware,r=e=>this._client.sendNotification(this._type,this._createParams(e));(t.didOpen?t.didOpen(e,r):r(e)).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed`,e)})),this._syncedDocuments.set(n,e)}}))}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.set(e.uri.toString(),e)}}t.DidOpenTextDocumentFeature=c;class u extends o.TextDocumentEventFeature{constructor(e,t){super(e,r.workspace.onDidCloseTextDocument,i.DidCloseTextDocumentNotification.type,(()=>e.middleware.didClose),(t=>e.code2ProtocolConverter.asCloseTextDocumentParams(t)),(e=>e),o.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get registrationType(){return i.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.delete(e.uri.toString())}unregister(e){const t=this._selectors.get(e);super.unregister(e);const n=this._selectors.values();this._syncedDocuments.forEach((e=>{if(r.languages.match(t,e)>0&&!this._selectorFilter(n,e)&&!this._client.hasDedicatedTextSynchronizationFeature(e)){let t=this._client.middleware,n=e=>this._client.sendNotification(this._type,this._createParams(e));this._syncedDocuments.delete(e.uri.toString()),(t.didClose?t.didClose(e,n):n(e)).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed`,e)}))}}))}}t.DidCloseTextDocumentFeature=u;class l extends o.DynamicDocumentFeature{constructor(e){super(e),this._forcingDelivery=!1,this._changeData=new Map,this._onNotificationSent=new r.EventEmitter}get registrationType(){return i.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&void 0!==n.change&&n.change!==i.TextDocumentSyncKind.None&&this.register({id:a.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=r.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}))}*getDocumentSelectors(){for(const e of this._changeData.values())yield e.documentSelector}async callback(e){if(0===e.contentChanges.length)return;const t=[];for(const n of this._changeData.values())if(r.languages.match(n.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){const r=this._client.middleware;if(n.syncKind===i.TextDocumentSyncKind.Incremental){const n=async e=>{const t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);await this._client.sendNotification(i.DidChangeTextDocumentNotification.type,t),this.notificationSent(e,i.DidChangeTextDocumentNotification.type,t)};t.push(r.didChange?r.didChange(e,(e=>n(e))):n(e))}else if(n.syncKind===i.TextDocumentSyncKind.Full){const n=async e=>{const t=async e=>{const t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document);await this._client.sendNotification(i.DidChangeTextDocumentNotification.type,t),this.notificationSent(e,i.DidChangeTextDocumentNotification.type,t)};return this._changeDelayer?(this._changeDelayer.uri!==e.document.uri.toString()&&(await this.forceDelivery(),this._changeDelayer.uri=e.document.uri.toString()),this._changeDelayer.delayer.trigger((()=>t(e)))):(this._changeDelayer={uri:e.document.uri.toString(),delayer:new s.Delayer(200)},this._changeDelayer.delayer.trigger((()=>t(e)),-1))};t.push(r.didChange?r.didChange(e,(e=>n(e))):n(e))}}return Promise.all(t).then(void 0,(e=>{throw this._client.error(`Sending document notification ${i.DidChangeTextDocumentNotification.type.method} failed`,e),e}))}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._changeData.delete(e),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){void 0!==this._changeDelayer&&this._changeDelayer.delayer.cancel(),this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async forceDelivery(){if(!this._forcingDelivery&&this._changeDelayer)try{return this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(const t of this._changeData.values())if(r.languages.match(t.documentSelector,e)>0)return{send:e=>this.callback(e)}}}t.DidChangeTextDocumentFeature=l;class d extends o.TextDocumentEventFeature{constructor(e){super(e,r.workspace.onWillSaveTextDocument,i.WillSaveTextDocumentNotification.type,(()=>e.middleware.willSave),(t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t)),(e=>e.document),((e,t)=>o.TextDocumentEventFeature.textDocumentFilter(e,t.document)))}get registrationType(){return i.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}}t.WillSaveFeature=d;class p extends o.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return i.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=r.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(o.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=e=>this._client.sendRequest(i.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(e)).then((async e=>{let t=await this._client.protocol2CodeConverter.asTextEdits(e);return void 0===t?[]:t}));e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}t.WillSaveWaitUntilFeature=p;class h extends o.TextDocumentEventFeature{constructor(e){super(e,r.workspace.onDidSaveTextDocument,i.DidSaveTextDocumentNotification.type,(()=>e.middleware.didSave),(t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText)),(e=>e),o.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return i.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;if(t&&n&&n.save){const e="boolean"==typeof n.save?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:a.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}}t.DidSaveTextDocumentFeature=h},10328:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionFeature=void 0;const r=n(66828),i=n(40273),o=n(88909);class s extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.typeDefinitionProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideTypeDefinition:(e,t,n)=>{const r=this._client,o=(e,t,n)=>r.sendRequest(i.TypeDefinitionRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>r.handleFailedRequest(i.TypeDefinitionRequest.type,n,e,null))),s=r.middleware;return s.provideTypeDefinition?s.provideTypeDefinition(e,t,n,o):o(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.TypeDefinitionFeature=s},34175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchyFeature=void 0;const r=n(66828),i=n(40273),o=n(88909);class s{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){const r=this.client,o=this.middleware,s=(e,t,n)=>{const o=r.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return r.sendRequest(i.TypeHierarchyPrepareRequest.type,o,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(e,n)),(e=>r.handleFailedRequest(i.TypeHierarchyPrepareRequest.type,n,e,null)))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asTypeHierarchyItem(e)};return n.sendRequest(i.TypeHierarchySupertypesRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(e,t)),(e=>n.handleFailedRequest(i.TypeHierarchySupertypesRequest.type,t,e,null)))};return r.provideTypeHierarchySupertypes?r.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){const n=this.client,r=this.middleware,o=(e,t)=>{const r={item:n.code2ProtocolConverter.asTypeHierarchyItem(e)};return n.sendRequest(i.TypeHierarchySubtypesRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(e,t)),(e=>n.handleFailedRequest(i.TypeHierarchySubtypesRequest.type,t,e,null)))};return r.provideTypeHierarchySubtypes?r.provideTypeHierarchySubtypes(e,t,o):o(e,t)}}class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,i.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"typeHierarchy").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.typeHierarchyProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=this._client,n=new s(t);return[r.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}}t.TypeHierarchyFeature=a},94904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.mapAsync=t.map=t.Semaphore=t.Delayer=void 0;const r=n(40273);t.Delayer=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((e=>{this.onSuccess=e})).then((()=>{this.completionPromise=void 0,this.onSuccess=void 0;var e=this.task();return this.task=void 0,e}))),(t>=0||void 0===this.timeout)&&(this.timeout=(0,r.RAL)().timer.setTimeout((()=>{this.timeout=void 0,this.onSuccess(void 0)}),t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(this.timeout.dispose(),this.timeout=void 0)}},t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,r.RAL)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};class i{constructor(e=15){this.yieldAfter=Math.max(e,15),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){const e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=2*this.total}}return!1}}t.map=async function(e,t,n,o){if(0===e.length)return[];const s=new Array(e.length),a=new i(o?.yieldAfter);function c(n){a.start();for(let r=n;r<e.length;r++)if(s[r]=t(e[r]),a.shouldYield())return o?.yieldCallback&&o.yieldCallback(),r+1;return-1}let u=c(0);for(;-1!==u&&(void 0===n||!n.isCancellationRequested);)u=await new Promise((e=>{(0,r.RAL)().timer.setImmediate((()=>{e(c(u))}))}));return s},t.mapAsync=async function(e,t,n,o){if(0===e.length)return[];const s=new Array(e.length),a=new i(o?.yieldAfter);async function c(r){a.start();for(let i=r;i<e.length;i++)if(s[i]=await t(e[i],n),a.shouldYield())return o?.yieldCallback&&o.yieldCallback(),i+1;return-1}let u=await c(0);for(;-1!==u&&(void 0===n||!n.isCancellationRequested);)u=await new Promise((e=>{(0,r.RAL)().timer.setImmediate((()=>{e(c(u))}))}));return s},t.forEach=async function(e,t,n,o){if(0===e.length)return;const s=new i(o?.yieldAfter);function a(n){s.start();for(let r=n;r<e.length;r++)if(t(e[r]),s.shouldYield())return o?.yieldCallback&&o.yieldCallback(),r+1;return-1}let c=a(0);for(;-1!==c&&(void 0===n||!n.isCancellationRequested);)c=await new Promise((e=>{(0,r.RAL)().timer.setImmediate((()=>{e(a(c))}))}))}},59763:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return"function"==typeof e}function i(e){return Array.isArray(e)}function o(e){return e&&r(e.then)}Object.defineProperty(t,"__esModule",{value:!0}),t.asPromise=t.thenable=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=r,t.array=i,t.stringArray=function(e){return i(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=o,t.asPromise=function(e){return e instanceof Promise?e:o(e)?new Promise(((t,n)=>{e.then((e=>t(e)),(e=>n(e)))})):Promise.resolve(e)}},41980:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=t.parse=t.isUUID=t.v4=t.empty=void 0;class n{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class r extends n{constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}}function i(){return new r}r._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],r._timeHighBits=["8","9","a","b"],t.empty=new n("00000000-0000-0000-0000-000000000000"),t.v4=i;const o=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function s(e){return o.test(e)}t.isUUID=s,t.parse=function(e){if(!s(e))throw new Error("invalid uuid");return new n(e)},t.generateUuid=function(){return i().asHex()}},5941:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFoldersFeature=t.arrayDiff=void 0;const r=n(41980),i=n(66828),o=n(40273);function s(e,t){if(void 0!==e)return e[t]}function a(e,t){return e.filter((e=>t.indexOf(e)<0))}t.arrayDiff=a,t.WorkspaceFoldersFeature=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return o.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){const t=i.workspace.workspaceFolders;this.initializeWithFolders(t),e.workspaceFolders=void 0===t?null:t.map((e=>this.asProtocol(e)))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){const t=this._client;t.onRequest(o.WorkspaceFoldersRequest.type,(e=>{const n=()=>{const e=i.workspace.workspaceFolders;return void 0===e?null:e.map((e=>this.asProtocol(e)))},r=t.middleware.workspace;return r&&r.workspaceFolders?r.workspaceFolders(e,n):n()}));const n=s(s(s(e,"workspace"),"workspaceFolders"),"changeNotifications");let a;"string"==typeof n?a=n:!0===n&&(a=r.generateUuid()),a&&this.register({id:a,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){const n=a(this._initialFolders,e),r=a(e,this._initialFolders);(r.length>0||n.length>0)&&(t=this.doSendEvent(r,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));void 0!==t&&t.catch((e=>{this._client.error(`Sending notification ${o.DidChangeWorkspaceFoldersNotification.type.method} failed`,e)}))}doSendEvent(e,t){let n={event:{added:e.map((e=>this.asProtocol(e))),removed:t.map((e=>this.asProtocol(e)))}};return this._client.sendNotification(o.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,r=i.workspace.onDidChangeWorkspaceFolders((e=>{let t=e=>this.doSendEvent(e.added,e.removed),r=n.middleware.workspace;(r&&r.didChangeWorkspaceFolders?r.didChangeWorkspaceFolders(e,t):t(e)).catch((e=>{this._client.error(`Sending notification ${o.DidChangeWorkspaceFoldersNotification.type.method} failed`,e)}))}));this._listeners.set(t,r),this.sendInitialEvent(i.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);void 0!==t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return void 0===e?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}}},43051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolFeature=void 0;const r=n(66828),i=n(40273),o=n(88909),s=n(42483),a=n(41980);class c extends o.WorkspaceFeature{constructor(e){super(e,i.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,o.ensure)((0,o.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:s.SupportedSymbolKinds},t.tagSupport={valueSet:s.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:a.generateUuid(),registerOptions:!0===e.workspaceSymbolProvider?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){const t={provideWorkspaceSymbols:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.WorkspaceSymbolRequest.type,{query:e},t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSymbolInformations(e,t)),(e=>n.handleFailedRequest(i.WorkspaceSymbolRequest.type,t,e,null))),o=n.middleware;return o.provideWorkspaceSymbols?o.provideWorkspaceSymbols(e,t,r):r(e,t)},resolveWorkspaceSymbol:!0===e.resolveProvider?(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(i.WorkspaceSymbolResolveRequest.type,n.code2ProtocolConverter.asWorkspaceSymbol(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSymbolInformation(e)),(e=>n.handleFailedRequest(i.WorkspaceSymbolResolveRequest.type,t,e,null))),o=n.middleware;return o.resolveWorkspaceSymbol?o.resolveWorkspaceSymbol(e,t,r):r(e,t)}:void 0};return[r.languages.registerWorkspaceSymbolProvider(t),t]}}t.WorkspaceSymbolFeature=c},92850:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingMonitor=t.LanguageClient=t.TransportKind=void 0;const o=n(32081),s=n(57147),a=n(71017),c=n(26237),u=n(66828),l=n(59763),d=n(14384),p=n(10794),h=n(96560);i(n(96560),t),i(n(85734),t);var f,g,m,v,y,b;!function(e){e[e.stdio=0]="stdio",e[e.ipc=1]="ipc",e[e.pipe=2]="pipe",e[e.socket=3]="socket"}(f=t.TransportKind||(t.TransportKind={})),function(e){e.isSocket=function(e){const t=e;return t&&t.kind===f.socket&&l.number(t.port)}}(g||(g={})),function(e){e.is=function(e){return l.string(e.command)}}(m||(m={})),function(e){e.is=function(e){return l.string(e.module)}}(v||(v={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.writer&&void 0!==t.reader}}(y||(y={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.process&&"boolean"==typeof t.detached}}(b||(b={}));class S extends d.BaseLanguageClient{constructor(e,t,n,r,i){let o,s,a,c,u;l.string(t)?(o=e,s=t,a=n,c=r,u=!!i):(o=e.toLowerCase(),s=e,a=t,c=n,u=r),void 0===u&&(u=!1),super(o,s,c),this._serverOptions=a,this._forceDebug=u,this._isInDebugMode=u;try{this.checkVersion()}catch(e){throw l.string(e.message)&&this.outputChannel.appendLine(e.message),e}}checkVersion(){const e=c.parse(u.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${u.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!c.satisfies(e,"^1.67.0"))throw new Error(`The language client requires VS Code version ^1.67.0 but received version ${u.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise((e=>setTimeout(e,1e3))),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally((()=>{if(this._serverProcess){const e=this._serverProcess;this._serverProcess=void 0,void 0!==this._isDetached&&this._isDetached||this.checkProcessDied(e),this._isDetached=void 0}}))}checkProcessDied(e){e&&void 0!==e.pid&&setTimeout((()=>{try{void 0!==e.pid&&(process.kill(e.pid,0),(0,p.terminate)(e))}catch(e){}}),2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),null===e.processId&&(e.processId=process.pid)}createMessageTransports(e){function t(e,t){if(!e&&!t)return;const n=Object.create(null);return Object.keys(process.env).forEach((e=>n[e]=process.env[e])),t&&(n.ELECTRON_RUN_AS_NODE="1",n.ELECTRON_NO_ASAR="1"),e&&Object.keys(e).forEach((t=>n[t]=e[t])),n}const n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],r=["--debug","--debug-brk","--inspect","--inspect-brk"];function i(e){if(null===e.stdin||null===e.stdout||null===e.stderr)throw new Error("Process created without stdio streams")}const s=this._serverOptions;if(l.func(s))return s().then((t=>{if(d.MessageTransports.is(t))return this._isDetached=!!t.detached,t;if(y.is(t))return this._isDetached=!!t.detached,{reader:new h.StreamMessageReader(t.reader),writer:new h.StreamMessageWriter(t.writer)};{let n;return b.is(t)?(n=t.process,this._isDetached=t.detached):(n=t,this._isDetached=!1),n.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),{reader:new h.StreamMessageReader(n.stdout),writer:new h.StreamMessageWriter(n.stdin)}}}));let a,c=s;return c.run||c.debug?this._forceDebug||function(){let e=process.execArgv;return!!e&&e.some((e=>n.some((t=>e.startsWith(t)))||r.some((t=>e===t))))}()?(a=c.debug,this._isInDebugMode=!0):(a=c.run,this._isInDebugMode=!1):a=s,this._getServerWorkingDir(a.options).then((n=>{if(v.is(a)&&a.module){let r=a,s=r.transport||f.stdio;if(!r.runtime){let a;return new Promise(((c,u)=>{const d=(r.args&&r.args.slice())??[];s===f.ipc?d.push("--node-ipc"):s===f.stdio?d.push("--stdio"):s===f.pipe?(a=(0,h.generateRandomPipeName)(),d.push(`--pipe=${a}`)):g.isSocket(s)&&d.push(`--socket=${s.port}`),d.push(`--clientProcessId=${process.pid.toString()}`);const p=r.options??Object.create(null);if(p.env=t(p.env,!0),p.execArgv=p.execArgv||[],p.cwd=n,p.silent=!0,s===f.ipc||s===f.stdio){const t=o.fork(r.module,d||[],p);i(t),this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),s===f.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),c({reader:new h.IPCMessageReader(this._serverProcess),writer:new h.IPCMessageWriter(this._serverProcess)})):c({reader:new h.StreamMessageReader(t.stdout),writer:new h.StreamMessageWriter(t.stdin)})}else s===f.pipe?(0,h.createClientPipeTransport)(a).then((t=>{const n=o.fork(r.module,d||[],p);i(n),this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{c({reader:e[0],writer:e[1]})}),u)}),u):g.isSocket(s)&&(0,h.createClientSocketTransport)(s.port).then((t=>{const n=o.fork(r.module,d||[],p);i(n),this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{c({reader:e[0],writer:e[1]})}),u)}),u)}))}{const i=[],a=r.options??Object.create(null);a.execArgv&&a.execArgv.forEach((e=>i.push(e))),i.push(r.module),r.args&&r.args.forEach((e=>i.push(e)));const c=Object.create(null);c.cwd=n,c.env=t(a.env,!1);const u=this._getRuntimePath(r.runtime,n);let d;if(s===f.ipc?(c.stdio=[null,null,null,"ipc"],i.push("--node-ipc")):s===f.stdio?i.push("--stdio"):s===f.pipe?(d=(0,h.generateRandomPipeName)(),i.push(`--pipe=${d}`)):g.isSocket(s)&&i.push(`--socket=${s.port}`),i.push(`--clientProcessId=${process.pid.toString()}`),s===f.ipc||s===f.stdio){const t=o.spawn(u,i,c);return t&&t.pid?(this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),s===f.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),Promise.resolve({reader:new h.IPCMessageReader(t),writer:new h.IPCMessageWriter(t)})):Promise.resolve({reader:new h.StreamMessageReader(t.stdout),writer:new h.StreamMessageWriter(t.stdin)})):_(t,`Launching server using runtime ${u} failed.`)}if(s===f.pipe)return(0,h.createClientPipeTransport)(d).then((t=>{const n=o.spawn(u,i,c);return n&&n.pid?(this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),t.onConnected().then((e=>({reader:e[0],writer:e[1]})))):_(n,`Launching server using runtime ${u} failed.`)}));if(g.isSocket(s))return(0,h.createClientSocketTransport)(s.port).then((t=>{const n=o.spawn(u,i,c);return n&&n.pid?(this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),t.onConnected().then((e=>({reader:e[0],writer:e[1]})))):_(n,`Launching server using runtime ${u} failed.`)}))}}else if(m.is(a)&&a.command){const t=a,r=void 0!==a.args?a.args.slice(0):[];let i;const s=a.transport;if(s===f.stdio)r.push("--stdio");else if(s===f.pipe)i=(0,h.generateRandomPipeName)(),r.push(`--pipe=${i}`);else if(g.isSocket(s))r.push(`--socket=${s.port}`);else if(s===f.ipc)throw new Error("Transport kind ipc is not support for command executable");const c=Object.assign({},t.options);if(c.cwd=c.cwd||n,void 0===s||s===f.stdio){const n=o.spawn(t.command,r,c);return n&&n.pid?(n.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),this._serverProcess=n,this._isDetached=!!c.detached,Promise.resolve({reader:new h.StreamMessageReader(n.stdout),writer:new h.StreamMessageWriter(n.stdin)})):_(n,`Launching server using command ${t.command} failed.`)}if(s===f.pipe)return(0,h.createClientPipeTransport)(i).then((n=>{const i=o.spawn(t.command,r,c);return i&&i.pid?(this._serverProcess=i,this._isDetached=!!c.detached,i.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),i.stdout.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),n.onConnected().then((e=>({reader:e[0],writer:e[1]})))):_(i,`Launching server using command ${t.command} failed.`)}));if(g.isSocket(s))return(0,h.createClientSocketTransport)(s.port).then((n=>{const i=o.spawn(t.command,r,c);return i&&i.pid?(this._serverProcess=i,this._isDetached=!!c.detached,i.stderr.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),i.stdout.on("data",(t=>this.outputChannel.append(l.string(t)?t:t.toString(e)))),n.onConnected().then((e=>({reader:e[0],writer:e[1]})))):_(i,`Launching server using command ${t.command} failed.`)}))}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(s,null,4)))}))}_getRuntimePath(e,t){if(a.isAbsolute(e))return e;const n=this._mainGetRootPath();if(void 0!==n){const t=a.join(n,e);if(s.existsSync(t))return t}if(void 0!==t){const n=a.join(t,e);if(s.existsSync(n))return n}return e}_mainGetRootPath(){let e=u.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise((e=>{s.lstat(t,((n,r)=>{e(!n&&r.isDirectory()?t:void 0)}))})):Promise.resolve(void 0)}getLocale(){const e=process.env.VSCODE_NLS_CONFIG;if(void 0===e)return"en";let t;try{t=JSON.parse(e)}catch(e){}return void 0===t||"string"!=typeof t.locale?"en":t.locale}}function _(e,t){return null===e?Promise.reject(t):new Promise(((n,r)=>{e.on("error",(e=>{r(`${t} ${e}`)})),setImmediate((()=>r(t)))}))}t.LanguageClient=S,t.SettingMonitor=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return u.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new u.Disposable((()=>{this._client.needsStop()&&this._client.stop()}))}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,r=n?u.workspace.getConfiguration(t).get(n,!1):u.workspace.getConfiguration(t);r&&this._client.needsStart()?this._client.start().catch((e=>this._client.error("Start failed after configuration change",e,"force"))):!r&&this._client.needsStop()&&this._client.stop().catch((e=>this._client.error("Stop failed after configuration change",e,"force")))}}},10794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.terminate=void 0;const r=n(32081),i=n(71017),o="win32"===process.platform,s="darwin"===process.platform,a="linux"===process.platform;t.terminate=function(e,t){if(o)try{let n={stdio:["pipe","pipe","ignore"]};return t&&(n.cwd=t),r.execFileSync("taskkill",["/T","/F","/PID",e.pid.toString()],n),!0}catch(e){return!1}else{if(!a&&!s)return e.kill("SIGKILL"),!0;try{var n=(0,i.join)(__dirname,"terminateProcess.sh");return!r.spawnSync(n,[e.pid.toString()]).error}catch(e){return!1}}}},52847:(e,t,n)=>{"use strict";e.exports=n(92850)},53415:(e,t,n)=>{e.exports=p,p.Minimatch=h;var r=function(){try{return n(71017)}catch(e){}}()||{sep:"/"};p.sep=r.sep;var i=p.GLOBSTAR=h.GLOBSTAR={},o=n(3644),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c="[^/]*?",u="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),l=/\/+/;function d(e,t){t=t||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function p(e,t,n){return g(t),n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&new h(t,n).match(e)}function h(e,t){if(!(this instanceof h))return new h(e,t);g(e),t||(t={}),e=e.trim(),t.allowWindowsEscape||"/"===r.sep||(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function f(e,t){return t||(t=this instanceof h?this.options:{}),e=void 0===e?this.pattern:e,g(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:o(e)}p.filter=function(e,t){return t=t||{},function(n,r,i){return p(n,e,t)}},p.defaults=function(e){if(!e||"object"!=typeof e||!Object.keys(e).length)return p;var t=p,n=function(n,r,i){return t(n,r,d(e,i))};return(n.Minimatch=function(n,r){return new t.Minimatch(n,d(e,r))}).defaults=function(n){return t.defaults(d(e,n)).Minimatch},n.filter=function(n,r){return t.filter(n,d(e,r))},n.defaults=function(n){return t.defaults(d(e,n))},n.makeRe=function(n,r){return t.makeRe(n,d(e,r))},n.braceExpand=function(n,r){return t.braceExpand(n,d(e,r))},n.match=function(n,r,i){return t.match(n,r,d(e,i))},n},h.defaults=function(e){return p.defaults(e).Minimatch},h.prototype.debug=function(){},h.prototype.make=function(){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(l)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n}else this.empty=!0;else this.comment=!0},h.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=0;if(!this.options.nonegate){for(var r=0,i=e.length;r<i&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}},p.braceExpand=function(e,t){return f(e,t)},h.prototype.braceExpand=f;var g=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};h.prototype.parse=function(e,t){g(e);var n=this.options;if("**"===e){if(!n.noglobstar)return i;e="*"}if(""===e)return"";var r,o="",l=!!n.nocase,d=!1,p=[],h=[],f=!1,v=-1,y=-1,b="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",S=this;function _(){if(r){switch(r){case"*":o+=c,l=!0;break;case"?":o+=a,l=!0;break;default:o+="\\"+r}S.debug("clearStateChar %j %j",r,o),r=!1}}for(var E,w=0,P=e.length;w<P&&(E=e.charAt(w));w++)if(this.debug("%s\t%s %s %j",e,w,o,E),d&&u[E])o+="\\"+E,d=!1;else switch(E){case"/":return!1;case"\\":_(),d=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,w,o,E),f){this.debug("  in class"),"!"===E&&w===y+1&&(E="^"),o+=E;continue}S.debug("call clearStateChar %j",r),_(),r=E,n.noext&&_();continue;case"(":if(f){o+="(";continue}if(!r){o+="\\(";continue}p.push({type:r,start:w-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(f||!p.length){o+="\\)";continue}_(),l=!0;var T=p.pop();o+=T.close,"!"===T.type&&h.push(T),T.reEnd=o.length;continue;case"|":if(f||!p.length||d){o+="\\|",d=!1;continue}_(),o+="|";continue;case"[":if(_(),f){o+="\\"+E;continue}f=!0,y=w,v=o.length,o+=E;continue;case"]":if(w===y+1||!f){o+="\\"+E,d=!1;continue}var C=e.substring(y+1,w);try{RegExp("["+C+"]")}catch(e){var I=this.parse(C,m);o=o.substr(0,v)+"\\["+I[0]+"\\]",l=l||I[1],f=!1;continue}l=!0,f=!1,o+=E;continue;default:_(),d?d=!1:!u[E]||"^"===E&&f||(o+="\\"),o+=E}for(f&&(C=e.substr(y+1),I=this.parse(C,m),o=o.substr(0,v)+"\\["+I[0],l=l||I[1]),T=p.pop();T;T=p.pop()){var R=o.slice(T.reStart+T.open.length);this.debug("setting tail",o,T),R=R.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",R,R,T,o);var D="*"===T.type?c:"?"===T.type?a:"\\"+T.type;l=!0,o=o.slice(0,T.reStart)+D+"\\("+R}_(),d&&(o+="\\\\");var O=!1;switch(o.charAt(0)){case"[":case".":case"(":O=!0}for(var k=h.length-1;k>-1;k--){var x=h[k],N=o.slice(0,x.reStart),A=o.slice(x.reStart,x.reEnd-8),j=o.slice(x.reEnd-8,x.reEnd),M=o.slice(x.reEnd);j+=M;var L=N.split("(").length-1,F=M;for(w=0;w<L;w++)F=F.replace(/\)[+*?]?/,"");var q="";""===(M=F)&&t!==m&&(q="$"),o=N+A+M+q+j}if(""!==o&&l&&(o="(?=.)"+o),O&&(o=b+o),t===m)return[o,l];if(!l)return e.replace(/\\(.)/g,"$1");var U=n.nocase?"i":"";try{var W=new RegExp("^"+o+"$",U)}catch(e){return new RegExp("$.")}return W._glob=e,W._src=o,W};var m={};p.makeRe=function(e,t){return new h(e,t||{}).makeRe()},h.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===i?n:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},p.match=function(e,t,n){var r=new h(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},h.prototype.match=function(e,t){if(void 0===t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/")),e=e.split(l),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],c=e;if(n.matchBase&&1===a.length&&(c=[i]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},h.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var u,l=t[s],d=e[o];if(this.debug(t,l,d),!1===l)return!1;if(l===i){this.debug("GLOBSTAR",[t,l,d]);var p=o,h=s+1;if(h===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug("\nglobstar while",e,p,t,h,f),this.matchOne(e.slice(p),t.slice(h),n))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,t,h);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",e,p,t,h),p!==a))}if("string"==typeof l?(u=d===l,this.debug("string match",l,d,u)):(u=d.match(l),this.debug("pattern match",l,d,u)),!u)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},73960:(e,t,n)=>{const r=Symbol("SemVer ANY");class i{static get ANY(){return r}constructor(e,t){if(t=o(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new d(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new d(this.value,t).test(e.semver);const n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=c(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=c(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||r||o&&s||a||u}}e.exports=i;const o=n(79157),{re:s,t:a}=n(81466),c=n(80475),u=n(76583),l=n(15351),d=n(79971)},79971:(e,t,n)=>{class r{constructor(e,t){if(t=o(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!f(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&g(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,n=i.get(t);if(n)return n;const r=this.options.loose,o=r?u[l.HYPHENRANGELOOSE]:u[l.HYPHENRANGE];e=e.replace(o,I(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(u[l.COMPARATORTRIM],d),a("comparator trim",e);let c=(e=(e=(e=e.replace(u[l.TILDETRIM],p)).replace(u[l.CARETTRIM],h)).split(/\s+/).join(" ")).split(" ").map((e=>v(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));r&&(c=c.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(u[l.COMPARATORLOOSE]))))),a("range list",c);const g=new Map,m=c.map((e=>new s(e,this.options)));for(const e of m){if(f(e))return[e];g.set(e.value,e)}g.size>1&&g.has("")&&g.delete("");const y=[...g.values()];return i.set(t,y),y}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some((n=>m(n,t)&&e.set.some((e=>m(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(R(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const i=new(n(39593))({max:1e3}),o=n(79157),s=n(73960),a=n(76583),c=n(15351),{re:u,t:l,comparatorTrimReplace:d,tildeTrimReplace:p,caretTrimReplace:h}=n(81466),f=e=>"<0.0.0-0"===e.value,g=e=>""===e.value,m=(e,t)=>{let n=!0;const r=e.slice();let i=r.pop();for(;n&&r.length;)n=r.every((e=>i.intersects(e,t))),i=r.pop();return n},v=(e,t)=>(a("comp",e,t),e=_(e,t),a("caret",e),e=b(e,t),a("tildes",e),e=w(e,t),a("xrange",e),e=T(e,t),a("stars",e),e),y=e=>!e||"x"===e.toLowerCase()||"*"===e,b=(e,t)=>e.trim().split(/\s+/).map((e=>S(e,t))).join(" "),S=(e,t)=>{const n=t.loose?u[l.TILDELOOSE]:u[l.TILDE];return e.replace(n,((t,n,r,i,o)=>{let s;return a("tilde",e,t,n,r,i,o),y(n)?s="":y(r)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:y(i)?s=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:o?(a("replaceTilde pr",o),s=`>=${n}.${r}.${i}-${o} <${n}.${+r+1}.0-0`):s=`>=${n}.${r}.${i} <${n}.${+r+1}.0-0`,a("tilde return",s),s}))},_=(e,t)=>e.trim().split(/\s+/).map((e=>E(e,t))).join(" "),E=(e,t)=>{a("caret",e,t);const n=t.loose?u[l.CARETLOOSE]:u[l.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,i,o,s)=>{let c;return a("caret",e,t,n,i,o,s),y(n)?c="":y(i)?c=`>=${n}.0.0${r} <${+n+1}.0.0-0`:y(o)?c="0"===n?`>=${n}.${i}.0${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${r} <${+n+1}.0.0-0`:s?(a("replaceCaret pr",s),c="0"===n?"0"===i?`>=${n}.${i}.${o}-${s} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}-${s} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o}-${s} <${+n+1}.0.0-0`):(a("no pr"),c="0"===n?"0"===i?`>=${n}.${i}.${o}${r} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o} <${+n+1}.0.0-0`),a("caret return",c),c}))},w=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>P(e,t))).join(" ")),P=(e,t)=>{e=e.trim();const n=t.loose?u[l.XRANGELOOSE]:u[l.XRANGE];return e.replace(n,((n,r,i,o,s,c)=>{a("xRange",e,n,r,i,o,s,c);const u=y(i),l=u||y(o),d=l||y(s),p=d;return"="===r&&p&&(r=""),c=t.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(l&&(o=0),s=0,">"===r?(r=">=",l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",l?i=+i+1:o=+o+1),"<"===r&&(c="-0"),n=`${r+i}.${o}.${s}${c}`):l?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:d&&(n=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),a("xRange return",n),n}))},T=(e,t)=>(a("replaceStars",e,t),e.trim().replace(u[l.STAR],"")),C=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?l.GTE0PRE:l.GTE0],"")),I=e=>(t,n,r,i,o,s,a,c,u,l,d,p,h)=>`${n=y(r)?"":y(i)?`>=${r}.0.0${e?"-0":""}`:y(o)?`>=${r}.${i}.0${e?"-0":""}`:s?`>=${n}`:`>=${n}${e?"-0":""}`} ${c=y(u)?"":y(l)?`<${+u+1}.0.0-0`:y(d)?`<${u}.${+l+1}.0-0`:p?`<=${u}.${l}.${d}-${p}`:e?`<${u}.${l}.${+d+1}-0`:`<=${c}`}`.trim(),R=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(a(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},15351:(e,t,n)=>{const r=n(76583),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=n(47138),{re:s,t:a}=n(81466),c=n(79157),{compareIdentifiers:u}=n(74089);class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<o)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return u(n,i)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],i=e.build[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return u(n,i)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=l},61790:(e,t,n)=>{const r=n(37376);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},80475:(e,t,n)=>{const r=n(65695),i=n(71012),o=n(59525),s=n(68578),a=n(13614),c=n(50160);e.exports=(e,t,n,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,u);case"!=":return i(e,n,u);case">":return o(e,n,u);case">=":return s(e,n,u);case"<":return a(e,n,u);case"<=":return c(e,n,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},81312:(e,t,n)=>{const r=n(15351),i=n(37376),{re:o,t:s}=n(81466);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=o[s.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),o[s.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;o[s.COERCERTL].lastIndex=-1}else n=e.match(o[s.COERCE]);return null===n?null:i(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)}},23209:(e,t,n)=>{const r=n(15351);e.exports=(e,t,n)=>{const i=new r(e,n),o=new r(t,n);return i.compare(o)||i.compareBuild(o)}},23266:(e,t,n)=>{const r=n(9144);e.exports=(e,t)=>r(e,t,!0)},9144:(e,t,n)=>{const r=n(15351);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},23224:(e,t,n)=>{const r=n(37376),i=n(65695);e.exports=(e,t)=>{if(i(e,t))return null;{const n=r(e),i=r(t),o=n.prerelease.length||i.prerelease.length,s=o?"pre":"",a=o?"prerelease":"";for(const e in n)if(("major"===e||"minor"===e||"patch"===e)&&n[e]!==i[e])return s+e;return a}}},65695:(e,t,n)=>{const r=n(9144);e.exports=(e,t,n)=>0===r(e,t,n)},59525:(e,t,n)=>{const r=n(9144);e.exports=(e,t,n)=>r(e,t,n)>0},68578:(e,t,n)=>{const r=n(9144);e.exports=(e,t,n)=>r(e,t,n)>=0},89210:(e,t,n)=>{const r=n(15351);e.exports=(e,t,n,i)=>{"string"==typeof n&&(i=n,n=void 0);try{return new r(e instanceof r?e.version:e,n).inc(t,i).version}catch(e){return null}}},13614:(e,t,n)=>{const r=n(9144);e.exports=(e,t,n)=>r(e,t,n)<0},50160:(e,t,n)=>{const r=n(9144);e.exports=(e,t,n)=>r(e,t,n)<=0},85850:(e,t,n)=>{const r=n(15351);e.exports=(e,t)=>new r(e,t).major},23090:(e,t,n)=>{const r=n(15351);e.exports=(e,t)=>new r(e,t).minor},71012:(e,t,n)=>{const r=n(9144);e.exports=(e,t,n)=>0!==r(e,t,n)},37376:(e,t,n)=>{const{MAX_LENGTH:r}=n(47138),{re:i,t:o}=n(81466),s=n(15351),a=n(79157);e.exports=(e,t)=>{if(t=a(t),e instanceof s)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?i[o.LOOSE]:i[o.FULL]).test(e))return null;try{return new s(e,t)}catch(e){return null}}},50788:(e,t,n)=>{const r=n(15351);e.exports=(e,t)=>new r(e,t).patch},84987:(e,t,n)=>{const r=n(37376);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},40310:(e,t,n)=>{const r=n(9144);e.exports=(e,t,n)=>r(t,e,n)},42633:(e,t,n)=>{const r=n(23209);e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))},79681:(e,t,n)=>{const r=n(79971);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},5044:(e,t,n)=>{const r=n(23209);e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))},23167:(e,t,n)=>{const r=n(37376);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},26237:(e,t,n)=>{const r=n(81466);e.exports={re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n(47138).SEMVER_SPEC_VERSION,SemVer:n(15351),compareIdentifiers:n(74089).compareIdentifiers,rcompareIdentifiers:n(74089).rcompareIdentifiers,parse:n(37376),valid:n(23167),clean:n(61790),inc:n(89210),diff:n(23224),major:n(85850),minor:n(23090),patch:n(50788),prerelease:n(84987),compare:n(9144),rcompare:n(40310),compareLoose:n(23266),compareBuild:n(23209),sort:n(5044),rsort:n(42633),gt:n(59525),lt:n(13614),eq:n(65695),neq:n(71012),gte:n(68578),lte:n(50160),cmp:n(80475),coerce:n(81312),Comparator:n(73960),Range:n(79971),satisfies:n(79681),toComparators:n(79752),maxSatisfying:n(8871),minSatisfying:n(42159),minVersion:n(74128),validRange:n(27265),outside:n(51158),gtr:n(46264),ltr:n(90422),intersects:n(40317),simplifyRange:n(50246),subset:n(69676)}},47138:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},76583:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},74089:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),i=t.test(n);return r&&i&&(e=+e,n=+n),e===n?0:r&&!i?-1:i&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},79157:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},81466:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r}=n(47138),i=n(76583),o=(t=e.exports={}).re=[],s=t.src=[],a=t.t={};let c=0;const u=(e,t,n)=>{const r=c++;i(e,r,t),a[e]=r,s[r]=t,o[r]=new RegExp(t,n?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),u("FULL",`^${s[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),u("LOOSE",`^${s[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${s[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${s[a.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),u("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),u("COERCERTL",s[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},46264:(e,t,n)=>{const r=n(51158);e.exports=(e,t,n)=>r(e,t,">",n)},40317:(e,t,n)=>{const r=n(79971);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t))},90422:(e,t,n)=>{const r=n(51158);e.exports=(e,t,n)=>r(e,t,"<",n)},8871:(e,t,n)=>{const r=n(15351),i=n(79971);e.exports=(e,t,n)=>{let o=null,s=null,a=null;try{a=new i(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&-1!==s.compare(e)||(o=e,s=new r(o,n)))})),o}},42159:(e,t,n)=>{const r=n(15351),i=n(79971);e.exports=(e,t,n)=>{let o=null,s=null,a=null;try{a=new i(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(o&&1!==s.compare(e)||(o=e,s=new r(o,n)))})),o}},74128:(e,t,n)=>{const r=n(15351),i=n(79971),o=n(59525);e.exports=(e,t)=>{e=new i(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const i=e.set[t];let s=null;i.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!o(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||n&&!o(n,s)||(n=s)}return n&&e.test(n)?n:null}},51158:(e,t,n)=>{const r=n(15351),i=n(73960),{ANY:o}=i,s=n(79971),a=n(79681),c=n(59525),u=n(13614),l=n(50160),d=n(68578);e.exports=(e,t,n,p)=>{let h,f,g,m,v;switch(e=new r(e,p),t=new s(t,p),n){case">":h=c,f=l,g=u,m=">",v=">=";break;case"<":h=u,f=d,g=c,m="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,p))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let s=null,a=null;if(r.forEach((e=>{e.semver===o&&(e=new i(">=0.0.0")),s=s||e,a=a||e,h(e.semver,s.semver,p)?s=e:g(e.semver,a.semver,p)&&(a=e)})),s.operator===m||s.operator===v)return!1;if((!a.operator||a.operator===m)&&f(e,a.semver))return!1;if(a.operator===v&&g(e,a.semver))return!1}return!0}},50246:(e,t,n)=>{const r=n(79681),i=n(9144);e.exports=(e,t,n)=>{const o=[];let s=null,a=null;const c=e.sort(((e,t)=>i(e,t,n)));for(const e of c)r(e,t,n)?(a=e,s||(s=e)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);const u=[];for(const[e,t]of o)e===t?u.push(e):t||e!==c[0]?t?e===c[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const l=u.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return l.length<d.length?l:t}},69676:(e,t,n)=>{const r=n(79971),i=n(73960),{ANY:o}=i,s=n(79681),a=n(9144),c=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=n.includePrerelease?[new i(">=0.0.0-0")]:[new i(">=0.0.0")]}if(1===t.length&&t[0].semver===o){if(n.includePrerelease)return!0;t=[new i(">=0.0.0")]}const r=new Set;let c,d,p,h,f,g,m;for(const t of e)">"===t.operator||">="===t.operator?c=u(c,t,n):"<"===t.operator||"<="===t.operator?d=l(d,t,n):r.add(t.semver);if(r.size>1)return null;if(c&&d){if(p=a(c.semver,d.semver,n),p>0)return null;if(0===p&&(">="!==c.operator||"<="!==d.operator))return null}for(const e of r){if(c&&!s(e,String(c),n))return null;if(d&&!s(e,String(d),n))return null;for(const r of t)if(!s(e,String(r),n))return!1;return!0}let v=!(!d||n.includePrerelease||!d.semver.prerelease.length)&&d.semver,y=!(!c||n.includePrerelease||!c.semver.prerelease.length)&&c.semver;v&&1===v.prerelease.length&&"<"===d.operator&&0===v.prerelease[0]&&(v=!1);for(const e of t){if(m=m||">"===e.operator||">="===e.operator,g=g||"<"===e.operator||"<="===e.operator,c)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),">"===e.operator||">="===e.operator){if(h=u(c,e,n),h===e&&h!==c)return!1}else if(">="===c.operator&&!s(c.semver,String(e),n))return!1;if(d)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if(f=l(d,e,n),f===e&&f!==d)return!1}else if("<="===d.operator&&!s(d.semver,String(e),n))return!1;if(!e.operator&&(d||c)&&0!==p)return!1}return!(c&&g&&!d&&0!==p||d&&m&&!c&&0!==p||y||v)},u=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},l=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let i=!1;e:for(const r of e.set){for(const e of t.set){const t=c(r,e,n);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},79752:(e,t,n)=>{const r=n(79971);e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},27265:(e,t,n)=>{const r=n(79971);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},51661:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,i(n(74389),t),i(n(65882),t),i(n(66140),t),i(n(10542),t);var o,s=n(73767);Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return s.createProtocolConnection}}),(o=t.LSPErrorCodes||(t.LSPErrorCodes={})).lspReservedErrorRangeStart=-32899,o.RequestFailed=-32803,o.ServerCancelled=-32802,o.ContentModified=-32801,o.RequestCancelled=-32800,o.lspReservedErrorRangeEnd=-32800},73767:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const r=n(74389);t.createProtocolConnection=function(e,t,n,i){return r.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,r.createMessageConnection)(e,t,n,i)}},66140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolNotificationType=t.ProtocolNotificationType0=t.ProtocolRequestType=t.ProtocolRequestType0=t.RegistrationType=void 0;const r=n(74389);t.RegistrationType=class{constructor(e){this.method=e}};class i extends r.RequestType0{constructor(e){super(e)}}t.ProtocolRequestType0=i;class o extends r.RequestType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolRequestType=o;class s extends r.NotificationType0{constructor(e){super(e)}}t.ProtocolNotificationType0=s;class a extends r.NotificationType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolNotificationType=a},82918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.CallHierarchyPrepareRequest=void 0;const r=n(66140);var i,o,s;(s=t.CallHierarchyPrepareRequest||(t.CallHierarchyPrepareRequest={})).method="textDocument/prepareCallHierarchy",s.type=new r.ProtocolRequestType(s.method),(o=t.CallHierarchyIncomingCallsRequest||(t.CallHierarchyIncomingCallsRequest={})).method="callHierarchy/incomingCalls",o.type=new r.ProtocolRequestType(o.method),(i=t.CallHierarchyOutgoingCallsRequest||(t.CallHierarchyOutgoingCallsRequest={})).method="callHierarchy/outgoingCalls",i.type=new r.ProtocolRequestType(i.method)},79891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPresentationRequest=t.DocumentColorRequest=void 0;const r=n(66140);var i;(i=t.DocumentColorRequest||(t.DocumentColorRequest={})).method="textDocument/documentColor",i.type=new r.ProtocolRequestType(i.method),(t.ColorPresentationRequest||(t.ColorPresentationRequest={})).type=new r.ProtocolRequestType("textDocument/colorPresentation")},85934:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationRequest=void 0;const r=n(66140);(t.ConfigurationRequest||(t.ConfigurationRequest={})).type=new r.ProtocolRequestType("workspace/configuration")},40764:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationRequest=void 0;const r=n(66140);var i;(i=t.DeclarationRequest||(t.DeclarationRequest={})).method="textDocument/declaration",i.type=new r.ProtocolRequestType(i.method)},79824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=void 0;const r=n(74389),i=n(69533),o=n(66140);var s,a,c,u;(t.DiagnosticServerCancellationData||(t.DiagnosticServerCancellationData={})).is=function(e){const t=e;return t&&i.boolean(t.retriggerRequest)},(u=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={})).Full="full",u.Unchanged="unchanged",(c=t.DocumentDiagnosticRequest||(t.DocumentDiagnosticRequest={})).method="textDocument/diagnostic",c.type=new o.ProtocolRequestType(c.method),c.partialResult=new r.ProgressType,(a=t.WorkspaceDiagnosticRequest||(t.WorkspaceDiagnosticRequest={})).method="workspace/diagnostic",a.type=new o.ProtocolRequestType(a.method),a.partialResult=new r.ProgressType,(s=t.DiagnosticRefreshRequest||(t.DiagnosticRefreshRequest={})).method="workspace/diagnostic/refresh",s.type=new o.ProtocolRequestType0(s.method)},37846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.DidRenameFilesNotification=t.WillRenameFilesRequest=t.DidCreateFilesNotification=t.WillCreateFilesRequest=t.FileOperationPatternKind=void 0;const r=n(66140);var i,o,s,a,c,u,l;(l=t.FileOperationPatternKind||(t.FileOperationPatternKind={})).file="file",l.folder="folder",(u=t.WillCreateFilesRequest||(t.WillCreateFilesRequest={})).method="workspace/willCreateFiles",u.type=new r.ProtocolRequestType(u.method),(c=t.DidCreateFilesNotification||(t.DidCreateFilesNotification={})).method="workspace/didCreateFiles",c.type=new r.ProtocolNotificationType(c.method),(a=t.WillRenameFilesRequest||(t.WillRenameFilesRequest={})).method="workspace/willRenameFiles",a.type=new r.ProtocolRequestType(a.method),(s=t.DidRenameFilesNotification||(t.DidRenameFilesNotification={})).method="workspace/didRenameFiles",s.type=new r.ProtocolNotificationType(s.method),(o=t.DidDeleteFilesNotification||(t.DidDeleteFilesNotification={})).method="workspace/didDeleteFiles",o.type=new r.ProtocolNotificationType(o.method),(i=t.WillDeleteFilesRequest||(t.WillDeleteFilesRequest={})).method="workspace/willDeleteFiles",i.type=new r.ProtocolRequestType(i.method)},13394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeRequest=void 0;const r=n(66140);var i;(i=t.FoldingRangeRequest||(t.FoldingRangeRequest={})).method="textDocument/foldingRange",i.type=new r.ProtocolRequestType(i.method)},82122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationRequest=void 0;const r=n(66140);var i;(i=t.ImplementationRequest||(t.ImplementationRequest={})).method="textDocument/implementation",i.type=new r.ProtocolRequestType(i.method)},29999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=void 0;const r=n(66140);var i,o,s;(s=t.InlayHintRequest||(t.InlayHintRequest={})).method="textDocument/inlayHint",s.type=new r.ProtocolRequestType(s.method),(o=t.InlayHintResolveRequest||(t.InlayHintResolveRequest={})).method="inlayHint/resolve",o.type=new r.ProtocolRequestType(o.method),(i=t.InlayHintRefreshRequest||(t.InlayHintRefreshRequest={})).method="workspace/inlayHint/refresh",i.type=new r.ProtocolRequestType0(i.method)},55246:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueRefreshRequest=t.InlineValueRequest=void 0;const r=n(66140);var i,o;(o=t.InlineValueRequest||(t.InlineValueRequest={})).method="textDocument/inlineValue",o.type=new r.ProtocolRequestType(o.method),(i=t.InlineValueRefreshRequest||(t.InlineValueRefreshRequest={})).method="workspace/inlineValue/refresh",i.type=new r.ProtocolRequestType0(i.method)},10542:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.RelativePattern=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeErrorCodes=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.PositionEncodingKind=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.NotebookCellTextDocumentFilter=t.NotebookDocumentFilter=t.TextDocumentFilter=void 0,t.TypeHierarchySubtypesRequest=t.TypeHierarchyPrepareRequest=t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolResolveRequest=void 0,t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=t.InlineValueRefreshRequest=t.InlineValueRequest=t.TypeHierarchySupertypesRequest=void 0;const r=n(66140),i=n(65882),o=n(69533),s=n(82122);Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return s.ImplementationRequest}});const a=n(71589);Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return a.TypeDefinitionRequest}});const c=n(98744);Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return c.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return c.DidChangeWorkspaceFoldersNotification}});const u=n(85934);Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return u.ConfigurationRequest}});const l=n(79891);Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return l.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return l.ColorPresentationRequest}});const d=n(13394);Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return d.FoldingRangeRequest}});const p=n(40764);Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return p.DeclarationRequest}});const h=n(5206);Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return h.SelectionRangeRequest}});const f=n(21862);Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return f.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return f.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return f.WorkDoneProgressCancelNotification}});const g=n(82918);Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return g.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return g.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return g.CallHierarchyPrepareRequest}});const m=n(39434);Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return m.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return m.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return m.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return m.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return m.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return m.SemanticTokensRegistrationType}});const v=n(75726);Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return v.ShowDocumentRequest}});const y=n(26305);Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return y.LinkedEditingRangeRequest}});const b=n(37846);Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return b.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return b.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return b.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return b.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return b.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return b.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return b.WillDeleteFilesRequest}});const S=n(73443);Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return S.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return S.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return S.MonikerRequest}});const _=n(83693);Object.defineProperty(t,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return _.TypeHierarchyPrepareRequest}}),Object.defineProperty(t,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return _.TypeHierarchySubtypesRequest}}),Object.defineProperty(t,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return _.TypeHierarchySupertypesRequest}});const E=n(55246);Object.defineProperty(t,"InlineValueRequest",{enumerable:!0,get:function(){return E.InlineValueRequest}}),Object.defineProperty(t,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return E.InlineValueRefreshRequest}});const w=n(29999);Object.defineProperty(t,"InlayHintRequest",{enumerable:!0,get:function(){return w.InlayHintRequest}}),Object.defineProperty(t,"InlayHintResolveRequest",{enumerable:!0,get:function(){return w.InlayHintResolveRequest}}),Object.defineProperty(t,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return w.InlayHintRefreshRequest}});const P=n(79824);Object.defineProperty(t,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return P.DiagnosticServerCancellationData}}),Object.defineProperty(t,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return P.DocumentDiagnosticReportKind}}),Object.defineProperty(t,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return P.DocumentDiagnosticRequest}}),Object.defineProperty(t,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return P.WorkspaceDiagnosticRequest}}),Object.defineProperty(t,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return P.DiagnosticRefreshRequest}});const T=n(47169);var C,I,R,D,O,k,x,N,A,j,M,L,F,q,U,W,V,H,$,B,G,K,z,Y,J,X,Q,Z,ee,te,ne,re,ie,oe,se,ae,ce,ue,le,de,pe,he,fe,ge;Object.defineProperty(t,"NotebookCellKind",{enumerable:!0,get:function(){return T.NotebookCellKind}}),Object.defineProperty(t,"ExecutionSummary",{enumerable:!0,get:function(){return T.ExecutionSummary}}),Object.defineProperty(t,"NotebookCell",{enumerable:!0,get:function(){return T.NotebookCell}}),Object.defineProperty(t,"NotebookDocument",{enumerable:!0,get:function(){return T.NotebookDocument}}),Object.defineProperty(t,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return T.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(t,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return T.DidOpenNotebookDocumentNotification}}),Object.defineProperty(t,"NotebookCellArrayChange",{enumerable:!0,get:function(){return T.NotebookCellArrayChange}}),Object.defineProperty(t,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return T.DidChangeNotebookDocumentNotification}}),Object.defineProperty(t,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return T.DidSaveNotebookDocumentNotification}}),Object.defineProperty(t,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return T.DidCloseNotebookDocumentNotification}}),function(e){e.is=function(e){const t=e;return o.string(t.language)||o.string(t.scheme)||o.string(t.pattern)}}(C=t.TextDocumentFilter||(t.TextDocumentFilter={})),function(e){e.is=function(e){const t=e;return o.objectLiteral(t)&&(o.string(t.notebookType)||o.string(t.scheme)||o.string(t.pattern))}}(I=t.NotebookDocumentFilter||(t.NotebookDocumentFilter={})),function(e){e.is=function(e){const t=e;return o.objectLiteral(t)&&(o.string(t.notebook)||I.is(t.notebook))&&(void 0===t.language||o.string(t.language))}}(R=t.NotebookCellTextDocumentFilter||(t.NotebookCellTextDocumentFilter={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;for(let t of e)if(!o.string(t)&&!C.is(t)&&!R.is(t))return!1;return!0}}(D=t.DocumentSelector||(t.DocumentSelector={})),(t.RegistrationRequest||(t.RegistrationRequest={})).type=new r.ProtocolRequestType("client/registerCapability"),(t.UnregistrationRequest||(t.UnregistrationRequest={})).type=new r.ProtocolRequestType("client/unregisterCapability"),(ge=t.ResourceOperationKind||(t.ResourceOperationKind={})).Create="create",ge.Rename="rename",ge.Delete="delete",(fe=t.FailureHandlingKind||(t.FailureHandlingKind={})).Abort="abort",fe.Transactional="transactional",fe.TextOnlyTransactional="textOnlyTransactional",fe.Undo="undo",(he=t.PositionEncodingKind||(t.PositionEncodingKind={})).UTF8="utf-8",he.UTF16="utf-16",he.UTF32="utf-32",(t.StaticRegistrationOptions||(t.StaticRegistrationOptions={})).hasId=function(e){const t=e;return t&&o.string(t.id)&&t.id.length>0},(t.TextDocumentRegistrationOptions||(t.TextDocumentRegistrationOptions={})).is=function(e){const t=e;return t&&(null===t.documentSelector||D.is(t.documentSelector))},(pe=t.WorkDoneProgressOptions||(t.WorkDoneProgressOptions={})).is=function(e){const t=e;return o.objectLiteral(t)&&(void 0===t.workDoneProgress||o.boolean(t.workDoneProgress))},pe.hasWorkDoneProgress=function(e){const t=e;return t&&o.boolean(t.workDoneProgress)},(t.InitializeRequest||(t.InitializeRequest={})).type=new r.ProtocolRequestType("initialize"),(t.InitializeErrorCodes||(t.InitializeErrorCodes={})).unknownProtocolVersion=1,(t.InitializedNotification||(t.InitializedNotification={})).type=new r.ProtocolNotificationType("initialized"),(t.ShutdownRequest||(t.ShutdownRequest={})).type=new r.ProtocolRequestType0("shutdown"),(t.ExitNotification||(t.ExitNotification={})).type=new r.ProtocolNotificationType0("exit"),(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})).type=new r.ProtocolNotificationType("workspace/didChangeConfiguration"),(de=t.MessageType||(t.MessageType={})).Error=1,de.Warning=2,de.Info=3,de.Log=4,(t.ShowMessageNotification||(t.ShowMessageNotification={})).type=new r.ProtocolNotificationType("window/showMessage"),(t.ShowMessageRequest||(t.ShowMessageRequest={})).type=new r.ProtocolRequestType("window/showMessageRequest"),(t.LogMessageNotification||(t.LogMessageNotification={})).type=new r.ProtocolNotificationType("window/logMessage"),(t.TelemetryEventNotification||(t.TelemetryEventNotification={})).type=new r.ProtocolNotificationType("telemetry/event"),(le=t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})).None=0,le.Full=1,le.Incremental=2,(ue=t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})).method="textDocument/didOpen",ue.type=new r.ProtocolNotificationType(ue.method),(ce=t.TextDocumentContentChangeEvent||(t.TextDocumentContentChangeEvent={})).isIncremental=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},ce.isFull=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength},(ae=t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})).method="textDocument/didChange",ae.type=new r.ProtocolNotificationType(ae.method),(se=t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})).method="textDocument/didClose",se.type=new r.ProtocolNotificationType(se.method),(oe=t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})).method="textDocument/didSave",oe.type=new r.ProtocolNotificationType(oe.method),(ie=t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})).Manual=1,ie.AfterDelay=2,ie.FocusOut=3,(re=t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})).method="textDocument/willSave",re.type=new r.ProtocolNotificationType(re.method),(ne=t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})).method="textDocument/willSaveWaitUntil",ne.type=new r.ProtocolRequestType(ne.method),(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})).type=new r.ProtocolNotificationType("workspace/didChangeWatchedFiles"),(te=t.FileChangeType||(t.FileChangeType={})).Created=1,te.Changed=2,te.Deleted=3,(t.RelativePattern||(t.RelativePattern={})).is=function(e){const t=e;return o.objectLiteral(t)&&(i.URI.is(t.baseUri)||i.WorkspaceFolder.is(t.baseUri))&&o.string(t.pattern)},(ee=t.WatchKind||(t.WatchKind={})).Create=1,ee.Change=2,ee.Delete=4,(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})).type=new r.ProtocolNotificationType("textDocument/publishDiagnostics"),(Z=t.CompletionTriggerKind||(t.CompletionTriggerKind={})).Invoked=1,Z.TriggerCharacter=2,Z.TriggerForIncompleteCompletions=3,(Q=t.CompletionRequest||(t.CompletionRequest={})).method="textDocument/completion",Q.type=new r.ProtocolRequestType(Q.method),(X=t.CompletionResolveRequest||(t.CompletionResolveRequest={})).method="completionItem/resolve",X.type=new r.ProtocolRequestType(X.method),(J=t.HoverRequest||(t.HoverRequest={})).method="textDocument/hover",J.type=new r.ProtocolRequestType(J.method),(Y=t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={})).Invoked=1,Y.TriggerCharacter=2,Y.ContentChange=3,(z=t.SignatureHelpRequest||(t.SignatureHelpRequest={})).method="textDocument/signatureHelp",z.type=new r.ProtocolRequestType(z.method),(K=t.DefinitionRequest||(t.DefinitionRequest={})).method="textDocument/definition",K.type=new r.ProtocolRequestType(K.method),(G=t.ReferencesRequest||(t.ReferencesRequest={})).method="textDocument/references",G.type=new r.ProtocolRequestType(G.method),(B=t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})).method="textDocument/documentHighlight",B.type=new r.ProtocolRequestType(B.method),($=t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})).method="textDocument/documentSymbol",$.type=new r.ProtocolRequestType($.method),(H=t.CodeActionRequest||(t.CodeActionRequest={})).method="textDocument/codeAction",H.type=new r.ProtocolRequestType(H.method),(V=t.CodeActionResolveRequest||(t.CodeActionResolveRequest={})).method="codeAction/resolve",V.type=new r.ProtocolRequestType(V.method),(W=t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})).method="workspace/symbol",W.type=new r.ProtocolRequestType(W.method),(U=t.WorkspaceSymbolResolveRequest||(t.WorkspaceSymbolResolveRequest={})).method="workspaceSymbol/resolve",U.type=new r.ProtocolRequestType(U.method),(q=t.CodeLensRequest||(t.CodeLensRequest={})).method="textDocument/codeLens",q.type=new r.ProtocolRequestType(q.method),(F=t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})).method="codeLens/resolve",F.type=new r.ProtocolRequestType(F.method),(L=t.CodeLensRefreshRequest||(t.CodeLensRefreshRequest={})).method="workspace/codeLens/refresh",L.type=new r.ProtocolRequestType0(L.method),(M=t.DocumentLinkRequest||(t.DocumentLinkRequest={})).method="textDocument/documentLink",M.type=new r.ProtocolRequestType(M.method),(j=t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})).method="documentLink/resolve",j.type=new r.ProtocolRequestType(j.method),(A=t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})).method="textDocument/formatting",A.type=new r.ProtocolRequestType(A.method),(N=t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})).method="textDocument/rangeFormatting",N.type=new r.ProtocolRequestType(N.method),(x=t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})).method="textDocument/onTypeFormatting",x.type=new r.ProtocolRequestType(x.method),(t.PrepareSupportDefaultBehavior||(t.PrepareSupportDefaultBehavior={})).Identifier=1,(k=t.RenameRequest||(t.RenameRequest={})).method="textDocument/rename",k.type=new r.ProtocolRequestType(k.method),(O=t.PrepareRenameRequest||(t.PrepareRenameRequest={})).method="textDocument/prepareRename",O.type=new r.ProtocolRequestType(O.method),(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})).type=new r.ProtocolRequestType("workspace/executeCommand"),(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={})).type=new r.ProtocolRequestType("workspace/applyEdit")},26305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeRequest=void 0;const r=n(66140);var i;(i=t.LinkedEditingRangeRequest||(t.LinkedEditingRangeRequest={})).method="textDocument/linkedEditingRange",i.type=new r.ProtocolRequestType(i.method)},73443:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=void 0;const r=n(66140);var i,o,s;(s=t.UniquenessLevel||(t.UniquenessLevel={})).document="document",s.project="project",s.group="group",s.scheme="scheme",s.global="global",(o=t.MonikerKind||(t.MonikerKind={})).$import="import",o.$export="export",o.local="local",(i=t.MonikerRequest||(t.MonikerRequest={})).method="textDocument/moniker",i.type=new r.ProtocolRequestType(i.method)},47169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=void 0;const r=n(65882),i=n(69533),o=n(66140);var s,a,c,u,l,d,p,h,f,g;!function(e){e.Markup=1,e.Code=2,e.is=function(e){return 1===e||2===e}}(s=t.NotebookCellKind||(t.NotebookCellKind={})),function(e){e.create=function(e,t){const n={executionOrder:e};return!0!==t&&!1!==t||(n.success=t),n},e.is=function(e){const t=e;return i.objectLiteral(t)&&r.uinteger.is(t.executionOrder)&&(void 0===t.success||i.boolean(t.success))},e.equals=function(e,t){return e===t||null!=e&&null!=t&&e.executionOrder===t.executionOrder&&e.success===t.success}}(a=t.ExecutionSummary||(t.ExecutionSummary={})),function(e){function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(typeof e!=typeof n)return!1;if("object"!=typeof e)return!1;const r=Array.isArray(e),o=Array.isArray(n);if(r!==o)return!1;if(r&&o){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1}if(i.objectLiteral(e)&&i.objectLiteral(n)){const r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;if(r.sort(),i.sort(),!t(r,i))return!1;for(let i=0;i<r.length;i++){const o=r[i];if(!t(e[o],n[o]))return!1}}return!0}e.create=function(e,t){return{kind:e,document:t}},e.is=function(e){const t=e;return i.objectLiteral(t)&&s.is(t.kind)&&r.DocumentUri.is(t.document)&&(void 0===t.metadata||i.objectLiteral(t.metadata))},e.diff=function(e,n){const r=new Set;return e.document!==n.document&&r.add("document"),e.kind!==n.kind&&r.add("kind"),e.executionSummary!==n.executionSummary&&r.add("executionSummary"),void 0===e.metadata&&void 0===n.metadata||t(e.metadata,n.metadata)||r.add("metadata"),void 0===e.executionSummary&&void 0===n.executionSummary||a.equals(e.executionSummary,n.executionSummary)||r.add("executionSummary"),r}}(c=t.NotebookCell||(t.NotebookCell={})),(g=t.NotebookDocument||(t.NotebookDocument={})).create=function(e,t,n,r){return{uri:e,notebookType:t,version:n,cells:r}},g.is=function(e){const t=e;return i.objectLiteral(t)&&i.string(t.uri)&&r.integer.is(t.version)&&i.typedArray(t.cells,c.is)},(f=t.NotebookDocumentSyncRegistrationType||(t.NotebookDocumentSyncRegistrationType={})).method="notebookDocument/sync",f.type=new o.RegistrationType(f.method),(h=t.DidOpenNotebookDocumentNotification||(t.DidOpenNotebookDocumentNotification={})).method="notebookDocument/didOpen",h.type=new o.ProtocolNotificationType(h.method),(p=t.NotebookCellArrayChange||(t.NotebookCellArrayChange={})).is=function(e){const t=e;return i.objectLiteral(t)&&r.uinteger.is(t.start)&&r.uinteger.is(t.deleteCount)&&(void 0===t.cells||i.typedArray(t.cells,c.is))},p.create=function(e,t,n){const r={start:e,deleteCount:t};return void 0!==n&&(r.cells=n),r},(d=t.DidChangeNotebookDocumentNotification||(t.DidChangeNotebookDocumentNotification={})).method="notebookDocument/didChange",d.type=new o.ProtocolNotificationType(d.method),(l=t.DidSaveNotebookDocumentNotification||(t.DidSaveNotebookDocumentNotification={})).method="notebookDocument/didSave",l.type=new o.ProtocolNotificationType(l.method),(u=t.DidCloseNotebookDocumentNotification||(t.DidCloseNotebookDocumentNotification={})).method="notebookDocument/didClose",u.type=new o.ProtocolNotificationType(u.method)},21862:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=void 0;const r=n(74389),i=n(66140);var o,s,a;(a=t.WorkDoneProgress||(t.WorkDoneProgress={})).type=new r.ProgressType,a.is=function(e){return e===a.type},(s=t.WorkDoneProgressCreateRequest||(t.WorkDoneProgressCreateRequest={})).method="window/workDoneProgress/create",s.type=new i.ProtocolRequestType(s.method),(o=t.WorkDoneProgressCancelNotification||(t.WorkDoneProgressCancelNotification={})).method="window/workDoneProgress/cancel",o.type=new i.ProtocolNotificationType(o.method)},5206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeRequest=void 0;const r=n(66140);var i;(i=t.SelectionRangeRequest||(t.SelectionRangeRequest={})).method="textDocument/selectionRange",i.type=new r.ProtocolRequestType(i.method)},39434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.SemanticTokensRegistrationType=t.TokenFormat=void 0;const r=n(66140);var i,o,s,a,c;(t.TokenFormat||(t.TokenFormat={})).Relative="relative",(c=t.SemanticTokensRegistrationType||(t.SemanticTokensRegistrationType={})).method="textDocument/semanticTokens",c.type=new r.RegistrationType(c.method),(a=t.SemanticTokensRequest||(t.SemanticTokensRequest={})).method="textDocument/semanticTokens/full",a.type=new r.ProtocolRequestType(a.method),(s=t.SemanticTokensDeltaRequest||(t.SemanticTokensDeltaRequest={})).method="textDocument/semanticTokens/full/delta",s.type=new r.ProtocolRequestType(s.method),(o=t.SemanticTokensRangeRequest||(t.SemanticTokensRangeRequest={})).method="textDocument/semanticTokens/range",o.type=new r.ProtocolRequestType(o.method),(i=t.SemanticTokensRefreshRequest||(t.SemanticTokensRefreshRequest={})).method="workspace/semanticTokens/refresh",i.type=new r.ProtocolRequestType0(i.method)},75726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentRequest=void 0;const r=n(66140);var i;(i=t.ShowDocumentRequest||(t.ShowDocumentRequest={})).method="window/showDocument",i.type=new r.ProtocolRequestType(i.method)},71589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionRequest=void 0;const r=n(66140);var i;(i=t.TypeDefinitionRequest||(t.TypeDefinitionRequest={})).method="textDocument/typeDefinition",i.type=new r.ProtocolRequestType(i.method)},83693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchySubtypesRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchyPrepareRequest=void 0;const r=n(66140);var i,o,s;(s=t.TypeHierarchyPrepareRequest||(t.TypeHierarchyPrepareRequest={})).method="textDocument/prepareTypeHierarchy",s.type=new r.ProtocolRequestType(s.method),(o=t.TypeHierarchySupertypesRequest||(t.TypeHierarchySupertypesRequest={})).method="typeHierarchy/supertypes",o.type=new r.ProtocolRequestType(o.method),(i=t.TypeHierarchySubtypesRequest||(t.TypeHierarchySubtypesRequest={})).method="typeHierarchy/subtypes",i.type=new r.ProtocolRequestType(i.method)},98744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=void 0;const r=n(66140);(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})).type=new r.ProtocolRequestType0("workspace/workspaceFolders"),(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={})).type=new r.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")},69533:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.objectLiteral=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"==typeof e}},40273:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const o=n(95028);i(n(95028),t),i(n(51661),t),t.createProtocolConnection=function(e,t,n,r){return(0,o.createMessageConnection)(e,t,n,r)}},96560:(e,t,n)=>{"use strict";e.exports=n(40273)},65882:(e,t,n)=>{"use strict";var r,i,o,s,a,c,u,l,d,p,h,f,g,m,v,y,b,S,_,E,w,P,T,C,I,R,D,O;n.r(t),n.d(t,{AnnotatedTextEdit:()=>T,ChangeAnnotation:()=>w,ChangeAnnotationIdentifier:()=>P,CodeAction:()=>oe,CodeActionContext:()=>ie,CodeActionKind:()=>ne,CodeActionTriggerKind:()=>re,CodeDescription:()=>b,CodeLens:()=>se,Color:()=>d,ColorInformation:()=>p,ColorPresentation:()=>h,Command:()=>_,CompletionItem:()=>H,CompletionItemKind:()=>L,CompletionItemLabelDetails:()=>V,CompletionItemTag:()=>q,CompletionList:()=>$,CreateFile:()=>I,DeleteFile:()=>D,Diagnostic:()=>S,DiagnosticRelatedInformation:()=>m,DiagnosticSeverity:()=>v,DiagnosticTag:()=>y,DocumentHighlight:()=>J,DocumentHighlightKind:()=>Y,DocumentLink:()=>ce,DocumentSymbol:()=>te,DocumentUri:()=>r,EOL:()=>Te,FoldingRange:()=>g,FoldingRangeKind:()=>f,FormattingOptions:()=>ae,Hover:()=>G,InlayHint:()=>be,InlayHintKind:()=>ve,InlayHintLabelPart:()=>ye,InlineValueContext:()=>me,InlineValueEvaluatableExpression:()=>ge,InlineValueText:()=>he,InlineValueVariableLookup:()=>fe,InsertReplaceEdit:()=>U,InsertTextFormat:()=>F,InsertTextMode:()=>W,Location:()=>u,LocationLink:()=>l,MarkedString:()=>B,MarkupContent:()=>M,MarkupKind:()=>j,OptionalVersionedTextDocumentIdentifier:()=>N,ParameterInformation:()=>K,Position:()=>a,Range:()=>c,RenameFile:()=>R,SelectionRange:()=>ue,SemanticTokenModifiers:()=>de,SemanticTokenTypes:()=>le,SemanticTokens:()=>pe,SignatureInformation:()=>z,SymbolInformation:()=>Z,SymbolKind:()=>X,SymbolTag:()=>Q,TextDocument:()=>Pe,TextDocumentEdit:()=>C,TextDocumentIdentifier:()=>k,TextDocumentItem:()=>A,TextEdit:()=>E,URI:()=>i,VersionedTextDocumentIdentifier:()=>x,WorkspaceChange:()=>we,WorkspaceEdit:()=>O,WorkspaceFolder:()=>Se,WorkspaceSymbol:()=>ee,integer:()=>o,uinteger:()=>s}),function(e){e.is=function(e){return"string"==typeof e}}(r||(r={})),function(e){e.is=function(e){return"string"==typeof e}}(i||(i={})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(o||(o={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(s||(s={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=s.MAX_VALUE),t===Number.MAX_VALUE&&(t=s.MAX_VALUE),{line:e,character:t}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.uinteger(t.line)&&Ce.uinteger(t.character)}}(a||(a={})),function(e){e.create=function(e,t,n,r){if(Ce.uinteger(e)&&Ce.uinteger(t)&&Ce.uinteger(n)&&Ce.uinteger(r))return{start:a.create(e,t),end:a.create(n,r)};if(a.is(e)&&a.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments[".concat(e,", ").concat(t,", ").concat(n,", ").concat(r,"]"))},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&a.is(t.start)&&a.is(t.end)}}(c||(c={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return Ce.defined(t)&&c.is(t.range)&&(Ce.string(t.uri)||Ce.undefined(t.uri))}}(u||(u={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return Ce.defined(t)&&c.is(t.targetRange)&&Ce.string(t.targetUri)&&c.is(t.targetSelectionRange)&&(c.is(t.originSelectionRange)||Ce.undefined(t.originSelectionRange))}}(l||(l={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.numberRange(t.red,0,1)&&Ce.numberRange(t.green,0,1)&&Ce.numberRange(t.blue,0,1)&&Ce.numberRange(t.alpha,0,1)}}(d||(d={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&c.is(t.range)&&d.is(t.color)}}(p||(p={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.string(t.label)&&(Ce.undefined(t.textEdit)||E.is(t))&&(Ce.undefined(t.additionalTextEdits)||Ce.typedArray(t.additionalTextEdits,E.is))}}(h||(h={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(f||(f={})),function(e){e.create=function(e,t,n,r,i,o){var s={startLine:e,endLine:t};return Ce.defined(n)&&(s.startCharacter=n),Ce.defined(r)&&(s.endCharacter=r),Ce.defined(i)&&(s.kind=i),Ce.defined(o)&&(s.collapsedText=o),s},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.uinteger(t.startLine)&&Ce.uinteger(t.startLine)&&(Ce.undefined(t.startCharacter)||Ce.uinteger(t.startCharacter))&&(Ce.undefined(t.endCharacter)||Ce.uinteger(t.endCharacter))&&(Ce.undefined(t.kind)||Ce.string(t.kind))}}(g||(g={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return Ce.defined(t)&&u.is(t.location)&&Ce.string(t.message)}}(m||(m={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(v||(v={})),function(e){e.Unnecessary=1,e.Deprecated=2}(y||(y={})),function(e){e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.string(t.href)}}(b||(b={})),function(e){e.create=function(e,t,n,r,i,o){var s={range:e,message:t};return Ce.defined(n)&&(s.severity=n),Ce.defined(r)&&(s.code=r),Ce.defined(i)&&(s.source=i),Ce.defined(o)&&(s.relatedInformation=o),s},e.is=function(e){var t,n=e;return Ce.defined(n)&&c.is(n.range)&&Ce.string(n.message)&&(Ce.number(n.severity)||Ce.undefined(n.severity))&&(Ce.integer(n.code)||Ce.string(n.code)||Ce.undefined(n.code))&&(Ce.undefined(n.codeDescription)||Ce.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(Ce.string(n.source)||Ce.undefined(n.source))&&(Ce.undefined(n.relatedInformation)||Ce.typedArray(n.relatedInformation,m.is))}}(S||(S={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return Ce.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.string(t.title)&&Ce.string(t.command)}}(_||(_={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.string(t.newText)&&c.is(t.range)}}(E||(E={})),function(e){e.create=function(e,t,n){var r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&Ce.string(t.label)&&(Ce.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(Ce.string(t.description)||void 0===t.description)}}(w||(w={})),function(e){e.is=function(e){var t=e;return Ce.string(t)}}(P||(P={})),function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){var t=e;return E.is(t)&&(w.is(t.annotationId)||P.is(t.annotationId))}}(T||(T={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return Ce.defined(t)&&N.is(t.textDocument)&&Array.isArray(t.edits)}}(C||(C={})),function(e){e.create=function(e,t,n){var r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"create"===t.kind&&Ce.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||Ce.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Ce.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||P.is(t.annotationId))}}(I||(I={})),function(e){e.create=function(e,t,n,r){var i={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(i.options=n),void 0!==r&&(i.annotationId=r),i},e.is=function(e){var t=e;return t&&"rename"===t.kind&&Ce.string(t.oldUri)&&Ce.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||Ce.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Ce.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||P.is(t.annotationId))}}(R||(R={})),function(e){e.create=function(e,t,n){var r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"delete"===t.kind&&Ce.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||Ce.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||Ce.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||P.is(t.annotationId))}}(D||(D={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return Ce.string(e.kind)?I.is(e)||R.is(e)||D.is(e):C.is(e)})))}}(O||(O={}));var k,x,N,A,j,M,L,F,q,U,W,V,H,$,B,G,K,z,Y,J,X,Q,Z,ee,te,ne,re,ie,oe,se,ae,ce,ue,le,de,pe,he,fe,ge,me,ve,ye,be,Se,_e=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,n){var r,i;if(void 0===n?r=E.insert(e,t):P.is(n)?(i=n,r=T.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=T.insert(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.replace=function(e,t,n){var r,i;if(void 0===n?r=E.replace(e,t):P.is(n)?(i=n,r=T.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=T.replace(e,t,i)),this.edits.push(r),void 0!==i)return i},e.prototype.delete=function(e,t){var n,r;if(void 0===t?n=E.del(e):P.is(t)?(r=t,n=T.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(t),n=T.del(e,r)),this.edits.push(n),void 0!==r)return r},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),Ee=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var n;if(P.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw new Error("Id ".concat(n," is already in use."));if(void 0===t)throw new Error("No annotation provided for id ".concat(n));return this._annotations[n]=t,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),we=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Ee(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(C.is(e)){var n=new _e(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}}))):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new _e(e.changes[n]);t._textEditChanges[n]=r}))):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(N.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new _e(i,this._changeAnnotations),this._textEditChanges[t.uri]=r}return r}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var i=[];this._workspaceEdit.changes[e]=i,r=new _e(i),this._textEditChanges[e]=r}return r},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new Ee,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(w.is(t)||P.is(t)?r=t:n=t,void 0===r?i=I.create(e,n):(o=P.is(r)?r:this._changeAnnotations.manage(r),i=I.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e.prototype.renameFile=function(e,t,n,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,o,s;if(w.is(n)||P.is(n)?i=n:r=n,void 0===i?o=R.create(e,t,r):(s=P.is(i)?i:this._changeAnnotations.manage(i),o=R.create(e,t,r,s)),this._workspaceEdit.documentChanges.push(o),void 0!==s)return s},e.prototype.deleteFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,i,o;if(w.is(t)||P.is(t)?r=t:n=t,void 0===r?i=D.create(e,n):(o=P.is(r)?r:this._changeAnnotations.manage(r),i=D.create(e,n,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.string(t.uri)}}(k||(k={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.string(t.uri)&&Ce.integer(t.version)}}(x||(x={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.string(t.uri)&&(null===t.version||Ce.integer(t.version))}}(N||(N={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.string(t.uri)&&Ce.string(t.languageId)&&Ce.integer(t.version)&&Ce.string(t.text)}}(A||(A={})),function(e){e.PlainText="plaintext",e.Markdown="markdown",e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(j||(j={})),function(e){e.is=function(e){var t=e;return Ce.objectLiteral(e)&&j.is(t.kind)&&Ce.string(t.value)}}(M||(M={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(L||(L={})),function(e){e.PlainText=1,e.Snippet=2}(F||(F={})),function(e){e.Deprecated=1}(q||(q={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){var t=e;return t&&Ce.string(t.newText)&&c.is(t.insert)&&c.is(t.replace)}}(U||(U={})),function(e){e.asIs=1,e.adjustIndentation=2}(W||(W={})),function(e){e.is=function(e){var t=e;return t&&(Ce.string(t.detail)||void 0===t.detail)&&(Ce.string(t.description)||void 0===t.description)}}(V||(V={})),function(e){e.create=function(e){return{label:e}}}(H||(H={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}($||($={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return Ce.string(t)||Ce.objectLiteral(t)&&Ce.string(t.language)&&Ce.string(t.value)}}(B||(B={})),function(e){e.is=function(e){var t=e;return!!t&&Ce.objectLiteral(t)&&(M.is(t.contents)||B.is(t.contents)||Ce.typedArray(t.contents,B.is))&&(void 0===e.range||c.is(e.range))}}(G||(G={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(K||(K={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return Ce.defined(t)&&(i.documentation=t),Ce.defined(n)?i.parameters=n:i.parameters=[],i}}(z||(z={})),function(e){e.Text=1,e.Read=2,e.Write=3}(Y||(Y={})),function(e){e.create=function(e,t){var n={range:e};return Ce.number(t)&&(n.kind=t),n}}(J||(J={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(X||(X={})),function(e){e.Deprecated=1}(Q||(Q={})),function(e){e.create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(Z||(Z={})),function(e){e.create=function(e,t,n,r){return void 0!==r?{name:e,kind:t,location:{uri:n,range:r}}:{name:e,kind:t,location:{uri:n}}}}(ee||(ee={})),function(e){e.create=function(e,t,n,r,i,o){var s={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(s.children=o),s},e.is=function(e){var t=e;return t&&Ce.string(t.name)&&Ce.number(t.kind)&&c.is(t.range)&&c.is(t.selectionRange)&&(void 0===t.detail||Ce.string(t.detail))&&(void 0===t.deprecated||Ce.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(te||(te={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(ne||(ne={})),function(e){e.Invoked=1,e.Automatic=2}(re||(re={})),function(e){e.create=function(e,t,n){var r={diagnostics:e};return null!=t&&(r.only=t),null!=n&&(r.triggerKind=n),r},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.typedArray(t.diagnostics,S.is)&&(void 0===t.only||Ce.typedArray(t.only,Ce.string))&&(void 0===t.triggerKind||t.triggerKind===re.Invoked||t.triggerKind===re.Automatic)}}(ie||(ie={})),function(e){e.create=function(e,t,n){var r={title:e},i=!0;return"string"==typeof t?(i=!1,r.kind=t):_.is(t)?r.command=t:r.edit=t,i&&void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&Ce.string(t.title)&&(void 0===t.diagnostics||Ce.typedArray(t.diagnostics,S.is))&&(void 0===t.kind||Ce.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||_.is(t.command))&&(void 0===t.isPreferred||Ce.boolean(t.isPreferred))&&(void 0===t.edit||O.is(t.edit))}}(oe||(oe={})),function(e){e.create=function(e,t){var n={range:e};return Ce.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return Ce.defined(t)&&c.is(t.range)&&(Ce.undefined(t.command)||_.is(t.command))}}(se||(se={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return Ce.defined(t)&&Ce.uinteger(t.tabSize)&&Ce.boolean(t.insertSpaces)}}(ae||(ae={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return Ce.defined(t)&&c.is(t.range)&&(Ce.undefined(t.target)||Ce.string(t.target))}}(ce||(ce={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return Ce.objectLiteral(n)&&c.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(ue||(ue={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(le||(le={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(de||(de={})),function(e){e.is=function(e){var t=e;return Ce.objectLiteral(t)&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(pe||(pe={})),function(e){e.create=function(e,t){return{range:e,text:t}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&Ce.string(t.text)}}(he||(he={})),function(e){e.create=function(e,t,n){return{range:e,variableName:t,caseSensitiveLookup:n}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&Ce.boolean(t.caseSensitiveLookup)&&(Ce.string(t.variableName)||void 0===t.variableName)}}(fe||(fe={})),function(e){e.create=function(e,t){return{range:e,expression:t}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&(Ce.string(t.expression)||void 0===t.expression)}}(ge||(ge={})),function(e){e.create=function(e,t){return{frameId:e,stoppedLocation:t}},e.is=function(e){var t=e;return Ce.defined(t)&&c.is(e.stoppedLocation)}}(me||(me={})),function(e){e.Type=1,e.Parameter=2,e.is=function(e){return 1===e||2===e}}(ve||(ve={})),function(e){e.create=function(e){return{value:e}},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&(void 0===t.tooltip||Ce.string(t.tooltip)||M.is(t.tooltip))&&(void 0===t.location||u.is(t.location))&&(void 0===t.command||_.is(t.command))}}(ye||(ye={})),function(e){e.create=function(e,t,n){var r={position:e,label:t};return void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return Ce.objectLiteral(t)&&a.is(t.position)&&(Ce.string(t.label)||Ce.typedArray(t.label,ye.is))&&(void 0===t.kind||ve.is(t.kind))&&void 0===t.textEdits||Ce.typedArray(t.textEdits,E.is)&&(void 0===t.tooltip||Ce.string(t.tooltip)||M.is(t.tooltip))&&(void 0===t.paddingLeft||Ce.boolean(t.paddingLeft))&&(void 0===t.paddingRight||Ce.boolean(t.paddingRight))}}(be||(be={})),function(e){e.is=function(e){var t=e;return Ce.objectLiteral(t)&&i.is(t.uri)&&Ce.string(t.name)}}(Se||(Se={}));var Pe,Te=["\n","\r\n","\r"];!function(e){function t(e,n){if(e.length<=1)return e;var r=e.length/2|0,i=e.slice(0,r),o=e.slice(r);t(i,n),t(o,n);for(var s=0,a=0,c=0;s<i.length&&a<o.length;){var u=n(i[s],o[a]);e[c++]=u<=0?i[s++]:o[a++]}for(;s<i.length;)e[c++]=i[s++];for(;a<o.length;)e[c++]=o[a++];return e}e.create=function(e,t,n,r){return new Ie(e,t,n,r)},e.is=function(e){var t=e;return!!(Ce.defined(t)&&Ce.string(t.uri)&&(Ce.undefined(t.languageId)||Ce.string(t.languageId))&&Ce.uinteger(t.lineCount)&&Ce.func(t.getText)&&Ce.func(t.positionAt)&&Ce.func(t.offsetAt))},e.applyEdits=function(e,n){for(var r=e.getText(),i=t(n,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),o=r.length,s=i.length-1;s>=0;s--){var a=i[s],c=e.offsetAt(a.range.start),u=e.offsetAt(a.range.end);if(!(u<=o))throw new Error("Overlapping edit");r=r.substring(0,c)+a.newText+r.substring(u,r.length),o=c}return r}}(Pe||(Pe={}));var Ce,Ie=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return a.create(0,e);for(;n<r;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i+1}var o=n-1;return a.create(o,e-t[o])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,r){return"[object Number]"===t.call(e)&&n<=e&&e<=r},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(Ce||(Ce={}))},40800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.loadMessageBundle=t.localize=t.format=t.setPseudo=t.isPseudo=t.isDefined=t.BundleFormat=t.MessageFormat=void 0;var r,i,o,s=n(71926);function a(e){return void 0!==e}function c(e,n){return t.isPseudo&&(e=""+e.replace(/[aouei]/g,"$&$&")+""),0===n.length?e:e.replace(/\{(\d+)\}/g,(function(e,t){var r=t[0],i=n[r],o=e;return"string"==typeof i?o=i:"number"!=typeof i&&"boolean"!=typeof i&&null!=i||(o=String(i)),o}))}(o=t.MessageFormat||(t.MessageFormat={})).file="file",o.bundle="bundle",o.both="both",(i=t.BundleFormat||(t.BundleFormat={})).standalone="standalone",i.languagePack="languagePack",function(e){e.is=function(e){var t=e;return t&&a(t.key)&&a(t.comment)}}(r||(r={})),t.isDefined=a,t.isPseudo=!1,t.setPseudo=function(e){t.isPseudo=e},t.format=c,t.localize=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return c(t,n)},t.loadMessageBundle=function(e){return(0,s.default)().loadMessageBundle(e)},t.config=function(e){return(0,s.default)().config(e)}},71926:(e,t)=>{"use strict";var n;function r(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(r||(r={})),t.default=r},18472:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.loadMessageBundle=t.BundleFormat=t.MessageFormat=void 0;var r=n(71017),i=n(57147),o=n(71926),s=n(40800),a=n(40800);Object.defineProperty(t,"MessageFormat",{enumerable:!0,get:function(){return a.MessageFormat}}),Object.defineProperty(t,"BundleFormat",{enumerable:!0,get:function(){return a.BundleFormat}});var c,u,l=Object.prototype.toString;function d(e){return"[object Number]"===l.call(e)}function p(e){return"[object String]"===l.call(e)}function h(e){return JSON.parse(i.readFileSync(e,"utf8"))}function f(e){return function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return d(t)?t>=e.length?void console.error("Broken localize call found. Index out of bounds. Stacktrace is\n: ".concat(new Error("").stack)):(0,s.format)(e[t],r):p(n)?(console.warn("Message ".concat(n," didn't get externalized correctly.")),(0,s.format)(n,r)):void console.error("Broken localize call found. Stacktrace is\n: ".concat(new Error("").stack))}}function g(e,t){return c[e]=t,t}function m(e){try{return function(e){var t=h(r.join(e,"nls.metadata.json")),n=Object.create(null);for(var i in t){var o=t[i];n[i]=o.messages}return n}(e)}catch(e){return void console.log("Generating default bundle from meta data failed.",e)}}function v(e,t){var n;if(!0===u.languagePackSupport&&void 0!==u.cacheRoot&&void 0!==u.languagePackId&&void 0!==u.translationsConfigFile&&void 0!==u.translationsConfig)try{n=function(e,t){var n,o,s,a=r.join(u.cacheRoot,"".concat(e.id,"-").concat(e.hash,".json")),c=!1,l=!1;try{return n=JSON.parse(i.readFileSync(a,{encoding:"utf8",flag:"r"})),o=a,s=new Date,i.utimes(o,s,s,(function(){})),n}catch(e){if("ENOENT"===e.code)l=!0;else{if(!(e instanceof SyntaxError))throw e;console.log("Syntax error parsing message bundle: ".concat(e.message,".")),i.unlink(a,(function(e){e&&console.error("Deleting corrupted bundle ".concat(a," failed."))})),c=!0}}if(n=function(e,t){var n=u.translationsConfig[e.id];if(n){var i=h(n).contents,o=h(r.join(t,"nls.metadata.json")),s=Object.create(null);for(var a in o){var c=o[a],l=i["".concat(e.outDir,"/").concat(a)];if(l){for(var d=[],f=0;f<c.keys.length;f++){var g=c.keys[f],m=l[p(g)?g:g.key];void 0===m&&(m=c.messages[f]),d.push(m)}s[a]=d}else s[a]=c.messages}return s}}(e,t),!n||c)return n;if(l)try{i.writeFileSync(a,JSON.stringify(n),{encoding:"utf8",flag:"wx"})}catch(e){if("EEXIST"===e.code)return n;throw e}return n}(e,t)}catch(e){console.log("Load or create bundle failed ",e)}if(!n){if(u.languagePackSupport)return m(t);var o=function(e){for(var t=u.language;t;){var n=r.join(e,"nls.bundle.".concat(t,".json"));if(i.existsSync(n))return n;var o=t.lastIndexOf("-");t=o>0?t.substring(0,o):void 0}if(void 0===t&&(n=r.join(e,"nls.bundle.json"),i.existsSync(n)))return n}(t);if(o)try{return h(o)}catch(e){console.log("Loading in the box message bundle failed.",e)}n=m(t)}return n}function y(e){if(!e)return s.localize;var t=r.extname(e);if(t&&(e=e.substr(0,e.length-t.length)),u.messageFormat===s.MessageFormat.both||u.messageFormat===s.MessageFormat.bundle){var n=function(e){for(var t,n=r.dirname(e);t=r.join(n,"nls.metadata.header.json"),!i.existsSync(t);){var o=r.dirname(n);if(o===n){t=void 0;break}n=o}return t}(e);if(n){var o=r.dirname(n),a=c[o];if(void 0===a)try{var l=JSON.parse(i.readFileSync(n,"utf8"));try{var d=v(l,o);a=g(o,d?{header:l,nlsBundle:d}:null)}catch(e){console.error("Failed to load nls bundle",e),a=g(o,null)}}catch(e){console.error("Failed to read header file",e),a=g(o,null)}if(a){var p=e.substr(o.length+1).replace(/\\/g,"/"),m=a.nlsBundle[p];return void 0===m?(console.error("Messages for file ".concat(e," not found. See console for details.")),function(){return"Messages not found."}):f(m)}}}if(u.messageFormat===s.MessageFormat.both||u.messageFormat===s.MessageFormat.file)try{var y=h(function(e){var t;if(u.cacheLanguageResolution&&t);else{if(s.isPseudo||!u.language)t=".nls.json";else for(var n=u.language;n;){var r=".nls."+n+".json";if(i.existsSync(e+r)){t=r;break}var o=n.lastIndexOf("-");o>0?n=n.substring(0,o):(t=".nls.json",n=null)}u.cacheLanguageResolution}return e+t}(e));return Array.isArray(y)?f(y):(0,s.isDefined)(y.messages)&&(0,s.isDefined)(y.keys)?f(y.messages):(console.error("String bundle '".concat(e,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(e){"ENOENT"!==e.code&&console.error("Failed to load single file bundle",e)}return console.error("Failed to load message bundle for file ".concat(e)),function(){return"Failed to load message bundle. See console for details."}}function b(e){return e&&(p(e.locale)&&(u.locale=e.locale.toLowerCase(),u.language=u.locale,c=Object.create(null)),void 0!==e.messageFormat&&(u.messageFormat=e.messageFormat),e.bundleFormat===s.BundleFormat.standalone&&!0===u.languagePackSupport&&(u.languagePackSupport=!1)),(0,s.setPseudo)("pseudo"===u.locale),y}!function(){if(u={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:s.MessageFormat.bundle},p(process.env.VSCODE_NLS_CONFIG))try{var e=JSON.parse(process.env.VSCODE_NLS_CONFIG),t=void 0;if(e.availableLanguages){var n=e.availableLanguages["*"];p(n)&&(t=n)}if(p(e.locale)&&(u.locale=e.locale.toLowerCase()),void 0===t?u.language=u.locale:"en"!==t&&(u.language=t),function(e){return!0===e||!1===e}(e._languagePackSupport)&&(u.languagePackSupport=e._languagePackSupport),p(e._cacheRoot)&&(u.cacheRoot=e._cacheRoot),p(e._languagePackId)&&(u.languagePackId=e._languagePackId),p(e._translationsConfigFile)){u.translationsConfigFile=e._translationsConfigFile;try{u.translationsConfig=h(u.translationsConfigFile)}catch(t){if(e._corruptedFile){var o=r.dirname(e._corruptedFile);i.exists(o,(function(t){t&&i.writeFile(e._corruptedFile,"corrupted","utf8",(function(e){console.error(e)}))}))}}}}catch(e){}(0,s.setPseudo)("pseudo"===u.locale),c=Object.create(null)}(),t.loadMessageBundle=y,t.config=b,o.default.install(Object.freeze({loadMessageBundle:y,config:b}))},59035:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15654);t.getExperimentationService=r.getExperimentationService,t.getExperimentationServiceAsync=r.getExperimentationServiceAsync;var i=n(22560);t.TargetPopulation=i.TargetPopulation},55708:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MementoKeyValueStorage=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,t){return await this.mementoGlobalStorage.get(e)||t}setValue(e,t){this.mementoGlobalStorage.update(e,t)}}},4619:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,t){}getTreatmentVariableAsync(e,t){return Promise.resolve(void 0)}}},22560:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(66828);class i{constructor(e,t,n){this.extensionName=e,this.extensionVersion=t,this.targetPopulation=n}static trimVersionSuffix(e){return e.split(/\-[a-zA-Z0-9]+$/)[0]}getFilterValue(e){switch(e){case o.ApplicationVersion:return i.trimVersionSuffix(r.version);case o.Build:return r.env.appName;case o.ClientId:return r.env.machineId;case o.ExtensionName:return this.extensionName;case o.ExtensionVersion:return i.trimVersionSuffix(this.extensionVersion);case o.Language:return r.env.language;case o.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,t=Object.values(o);for(let n of t)e.set(n,this.getFilterValue(n));return e}}var o,s;t.VSCodeFilterProvider=i,function(e){e.Market="X-MSEdge-Market",e.CorpNet="X-FD-Corpnet",e.ApplicationVersion="X-VSCode-AppVersion",e.Build="X-VSCode-Build",e.ClientId="X-MSEdge-ClientId",e.ExtensionName="X-VSCode-ExtensionName",e.ExtensionVersion="X-VSCode-ExtensionVersion",e.Language="X-VSCode-Language",e.TargetPopulation="X-VSCode-TargetPopulation"}(o=t.Filters||(t.Filters={})),(s=t.TargetPopulation||(t.TargetPopulation={})).Team="team",s.Internal="internal",s.Insiders="insider",s.Public="public"},15654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22560),i=n(14802),o=n(66828),s=n(55708),a=n(4619);function c(e,t,n,c,u,...l){if(!u)throw new Error("Memento storage was not provided.");const d=o.workspace.getConfiguration("telemetry");if(!(void 0===o.env.isTelemetryEnabled?d.get("enableTelemetry",!0):o.env.isTelemetryEnabled))return new a.default;const p=[new r.VSCodeFilterProvider(e,t,n),...l],h=new s.MementoKeyValueStorage(u);return new i.ExperimentationService({filterProviders:p,telemetry:c,storageKey:"VSCode.ABExp.FeatureData",keyValueStorage:h,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:"abexp.assignmentcontext",telemetryEventName:"query-expfeature",endpoint:"https://default.exp-tas.com/vscode/ab",refetchInterval:18e5})}t.getExperimentationService=c,t.getExperimentationServiceAsync=async function(e,t,n,r,i,...o){const s=c(e,t,n,r,i,...o);return await s.initializePromise,s}},22806:(e,t,n)=>{const r="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,i=n(71017),o=r?";":":",s=n(31959),a=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),c=(e,t)=>{const n=t.colon||o,i=e.match(/\//)||r&&e.match(/\\/)?[""]:[...r?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],s=r?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",a=r?s.split(n):[""];return r&&-1!==e.indexOf(".")&&""!==a[0]&&a.unshift(""),{pathEnv:i,pathExt:a,pathExtExe:s}},u=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t||(t={});const{pathEnv:r,pathExt:o,pathExtExe:u}=c(e,t),l=[],d=n=>new Promise(((o,s)=>{if(n===r.length)return t.all&&l.length?o(l):s(a(e));const c=r[n],u=/^".*"$/.test(c)?c.slice(1,-1):c,d=i.join(u,e),h=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;o(p(h,n,0))})),p=(e,n,r)=>new Promise(((i,a)=>{if(r===o.length)return i(d(n+1));const c=o[r];s(e+c,{pathExt:u},((o,s)=>{if(!o&&s){if(!t.all)return i(e+c);l.push(e+c)}return i(p(e,n,r+1))}))}));return n?d(0).then((e=>n(null,e)),n):d(0)};e.exports=u,u.sync=(e,t)=>{t=t||{};const{pathEnv:n,pathExt:r,pathExtExe:o}=c(e,t),u=[];for(let a=0;a<n.length;a++){const c=n[a],l=/^".*"$/.test(c)?c.slice(1,-1):c,d=i.join(l,e),p=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;for(let e=0;e<r.length;e++){const n=p+r[e];try{if(s.sync(n,{pathExt:o})){if(!t.all)return n;u.push(n)}}catch(e){}}}if(t.all&&u.length)return u;if(t.nothrow)return null;throw a(e)}},1283:(e,t,n)=>{var r=n(73837),i=n(71017),o=n(32081).spawn,s="HKLM",a="HKCU",c="HKCR",u="HKCC",l=[s,a,c,"HKU",u],d="REG_SZ",p="REG_MULTI_SZ",h="REG_EXPAND_SZ",f="REG_DWORD",g="REG_QWORD",m="REG_BINARY",v="REG_NONE",y=[d,p,h,f,g,m,v],b=/(\\[a-zA-Z0-9_\s]+)*/,S=/^(HKEY_LOCAL_MACHINE|HKEY_CURRENT_USER|HKEY_CLASSES_ROOT|HKEY_USERS|HKEY_CURRENT_CONFIG)(.*)$/,_=/^(.*)\s(REG_SZ|REG_MULTI_SZ|REG_EXPAND_SZ|REG_DWORD|REG_QWORD|REG_BINARY|REG_NONE)\s+([^\s].*)$/;function E(e,t){if(!(this instanceof E))return new E(e,t);Error.captureStackTrace(this,E),this.__defineGetter__("name",(function(){return E.name})),this.__defineGetter__("message",(function(){return e})),this.__defineGetter__("code",(function(){return t}))}function w(e){var t={stdout:"",stderr:""};return e.stdout.on("data",(function(e){t.stdout+=e.toString()})),e.stderr.on("data",(function(e){t.stderr+=e.toString()})),t}function P(e,t,n){var i=n.stdout.trim(),o=n.stderr.trim();return new E(r.format("%s command exited with code %d:\n%s\n%s",e,t,i,o),t)}function T(e,t){t&&e.push("/reg:"+function(e){if("x64"==e)return"64";if("x86"==e)return"32";throw new Error("illegal architecture: "+e+" (use x86 or x64)")}(t))}function C(){return"win32"===process.platform?i.join(process.env.windir,"system32","reg.exe"):"REG"}function I(e,t,n,r,i,o,s){if(!(this instanceof I))return new I(e,t,n,r,i,o,s);var a=e,c=t,u=n,l=r,d=i,p=o,h=s;this.__defineGetter__("host",(function(){return a})),this.__defineGetter__("hive",(function(){return c})),this.__defineGetter__("key",(function(){return u})),this.__defineGetter__("name",(function(){return l})),this.__defineGetter__("type",(function(){return d})),this.__defineGetter__("value",(function(){return p})),this.__defineGetter__("arch",(function(){return h}))}function R(e){if(!(this instanceof R))return new R(e);var t=e||{},n=""+(t.host||""),r=""+(t.hive||s),i=""+(t.key||""),o=t.arch||null;if(this.__defineGetter__("host",(function(){return n})),this.__defineGetter__("hive",(function(){return r})),this.__defineGetter__("key",(function(){return i})),this.__defineGetter__("path",(function(){return(0==n.length?"":"\\\\"+n+"\\")+r+i})),this.__defineGetter__("arch",(function(){return o})),this.__defineGetter__("parent",(function(){var e=i.lastIndexOf("\\");return new R({host:this.host,hive:this.hive,key:-1==e?"":i.substring(0,e),arch:this.arch})})),-1==l.indexOf(r))throw new Error("illegal hive specified.");if(!b.test(i))throw new Error("illegal key specified.");if(o&&"x64"!=o&&"x86"!=o)throw new Error("illegal architecture specified (use x86 or x64)")}r.inherits(E,Error),r.inherits(I,Object),R.HKLM=s,R.HKCU=a,R.HKCR=c,R.HKU="HKU",R.HKCC=u,R.HIVES=l,R.REG_SZ=d,R.REG_MULTI_SZ=p,R.REG_EXPAND_SZ=h,R.REG_DWORD=f,R.REG_QWORD=g,R.REG_BINARY=m,R.REG_NONE=v,R.REG_TYPES=y,R.DEFAULT_VALUE="",R.prototype.values=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["QUERY",this.path];T(t,this.arch);var n=o(C(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r="",i=this,s=null,a=w(n);return n.on("close",(function(t){if(!s)if(0!==t)e(P("QUERY",t,a),null);else{for(var n=[],o=[],c=r.split("\n"),u=0,l=0,d=c.length;l<d;l++){var p=c[l].trim();p.length>0&&(0!=u&&n.push(p),++u)}for(l=0,d=n.length;l<d;l++){var h,f,g,m=_.exec(n[l]);m&&(h=m[1].trim(),f=m[2].trim(),g=m[3],o.push(new I(i.host,i.hive,i.key,h,f,g,i.arch)))}e(null,o)}})),n.stdout.on("data",(function(e){r+=e.toString()})),n.on("error",(function(t){s=t,e(t)})),this},R.prototype.keys=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["QUERY",this.path];T(t,this.arch);var n=o(C(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r="",i=this,s=null,a=w(n);return n.on("close",(function(t){s||0!==t&&e(P("QUERY",t,a),null)})),n.stdout.on("data",(function(e){r+=e.toString()})),n.stdout.on("end",(function(){for(var t=[],n=[],o=r.split("\n"),s=0,a=o.length;s<a;s++){var c=o[s].trim();c.length>0&&t.push(c)}for(s=0,a=t.length;s<a;s++){var u,l=S.exec(t[s]);l&&(l[1],(u=l[2])&&u!==i.key&&n.push(new R({host:i.host,hive:i.hive,key:u,arch:i.arch})))}e(null,n)})),n.on("error",(function(t){s=t,e(t)})),this},R.prototype.get=function(e,t){if("function"!=typeof t)throw new TypeError("must specify a callback");var n=["QUERY",this.path];""==e?n.push("/ve"):n=n.concat(["/v",e]),T(n,this.arch);var r=o(C(),n,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i="",s=this,a=null,c=w(r);return r.on("close",(function(e){if(!a)if(0!==e)t(P("QUERY",e,c),null);else{for(var n=[],r=null,o=i.split("\n"),u=0,l=0,d=o.length;l<d;l++){var p=o[l].trim();p.length>0&&(0!=u&&n.push(p),++u)}var h,f,g,m=n[n.length-1]||"",v=_.exec(m);v&&(h=v[1].trim(),f=v[2].trim(),g=v[3],r=new I(s.host,s.hive,s.key,h,f,g,s.arch)),t(null,r)}})),r.stdout.on("data",(function(e){i+=e.toString()})),r.on("error",(function(e){a=e,t(e)})),this},R.prototype.set=function(e,t,n,r){if("function"!=typeof r)throw new TypeError("must specify a callback");if(-1==y.indexOf(t))throw Error("illegal type specified.");var i=["ADD",this.path];""==e?i.push("/ve"):i=i.concat(["/v",e]),T(i=i.concat(["/t",t,"/d",n,"/f"]),this.arch);var s=o(C(),i,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),a=null,c=w(s);return s.on("close",(function(e){a||r(0!==e?P("ADD",e,c):null)})),s.stdout.on("data",(function(e){})),s.on("error",(function(e){a=e,r(e)})),this},R.prototype.remove=function(e,t){if("function"!=typeof t)throw new TypeError("must specify a callback");var n=e?["DELETE",this.path,"/f","/v",e]:["DELETE",this.path,"/f","/ve"];T(n,this.arch);var r=o(C(),n,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i=null,s=w(r);return r.on("close",(function(e){i||(0!==e?t(P("DELETE",e,s),null):t(null))})),r.stdout.on("data",(function(e){})),r.on("error",(function(e){i=e,t(e)})),this},R.prototype.clear=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["DELETE",this.path,"/f","/va"];T(t,this.arch);var n=o(C(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r=null,i=w(n);return n.on("close",(function(t){r||(0!==t?e(P("DELETE",t,i),null):e(null))})),n.stdout.on("data",(function(e){})),n.on("error",(function(t){r=t,e(t)})),this},R.prototype.erase=R.prototype.clear,R.prototype.destroy=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["DELETE",this.path,"/f"];T(t,this.arch);var n=o(C(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r=null,i=w(n);return n.on("close",(function(t){r||(0!==t?e(P("DELETE",t,i),null):e(null))})),n.stdout.on("data",(function(e){})),n.on("error",(function(t){r=t,e(t)})),this},R.prototype.create=function(e){if("function"!=typeof e)throw new TypeError("must specify a callback");var t=["ADD",this.path,"/f"];T(t,this.arch);var n=o(C(),t,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),r=null,i=w(n);return n.on("close",(function(t){r||(0!==t?e(P("ADD",t,i),null):e(null))})),n.stdout.on("data",(function(e){})),n.on("error",(function(t){r=t,e(t)})),this},R.prototype.keyExists=function(e){return this.values((function(t,n){if(t)return 1==t.code?e(null,!1):e(t);e(null,!0)})),this},R.prototype.valueExists=function(e,t){return this.get(e,(function(e,n){if(e)return 1==e.code?t(null,!1):t(e);t(null,!0)})),this},e.exports=R},52479:e=>{e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}}},49602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},34411:(e,t,n)=>{"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var r=t===e.head?new a(n,null,t,e):new a(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,n,r){if(!(this instanceof a))return new a(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=a,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,o=this.head;null!==o&&r<e;r++)o=o.next;var s=[];for(r=0;o&&r<t;r++)s.push(o.value),o=this.removeNode(o);for(null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev),r=0;r<n.length;r++)o=i(this,o,n[r]);return s},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(49602)(r)}catch(e){}},65176:e=>{"use strict";e.exports=require("./node_modules/diff-match-patch")},48663:e=>{"use strict";e.exports=require("./node_modules/request")},95095:e=>{"use strict";e.exports=require("./node_modules/request-progress")},75913:e=>{"use strict";e.exports=require("./node_modules/source-map-support")},65425:e=>{"use strict";e.exports=require("./node_modules/sudo-prompt")},74232:e=>{"use strict";e.exports=require("./node_modules/xml2js")},32220:e=>{"use strict";e.exports=require("applicationinsights-native-metrics")},66828:e=>{"use strict";e.exports=require("vscode")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},96206:e=>{"use strict";e.exports=require("console")},22057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},98188:e=>{"use strict";e.exports=require("module")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},39512:e=>{"use strict";e.exports=require("timers")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},63480:e=>{"use strict";e.exports=JSON.parse('[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]')},13336:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]')},77348:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]')},74284:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]')},31532:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]')},36258:e=>{"use strict";e.exports=JSON.parse('{"uChars":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],"gbChars":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}')},44346:e=>{"use strict";e.exports=JSON.parse('[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]]')},27014:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]')},4147:e=>{"use strict";e.exports=JSON.parse('{"name":"python","displayName":"Python","description":"IntelliSense (Pylance), Linting, Debugging (multi-threaded, remote), Jupyter Notebooks, code formatting, refactoring, unit tests, and more.","version":"2022.16.0","featureFlags":{"usingNewInterpreterStorage":true},"capabilities":{"untrustedWorkspaces":{"supported":"limited","description":"Only Partial IntelliSense with Pylance is supported. Cannot execute Python with untrusted files."},"virtualWorkspaces":{"supported":"limited","description":"Only Partial IntelliSense supported."}},"publisher":"ms-python","enabledApiProposals":["quickPickSortByLabel","testObserver"],"author":{"name":"Microsoft Corporation"},"license":"MIT","homepage":"https://github.com/Microsoft/vscode-python","repository":{"type":"git","url":"https://github.com/Microsoft/vscode-python"},"bugs":{"url":"https://github.com/Microsoft/vscode-python/issues"},"qna":"https://github.com/microsoft/vscode-python/discussions/categories/q-a","icon":"icon.png","galleryBanner":{"color":"#1e415e","theme":"dark"},"engines":{"vscode":"^1.68.0"},"keywords":["python","django","unittest","multi-root ready"],"categories":["Programming Languages","Debuggers","Linters","Formatters","Other","Data Science","Machine Learning","Notebooks"],"activationEvents":["onDebugInitialConfigurations","onLanguage:python","onDebugDynamicConfigurations:python","onDebugResolve:python","onCommand:python.execInTerminal","onCommand:python.debugInTerminal","onCommand:python.sortImports","onCommand:python.setInterpreter","onCommand:python.setShebangInterpreter","onCommand:python.viewLanguageServerOutput","onCommand:python.viewOutput","onCommand:python.execSelectionInTerminal","onCommand:python.execSelectionInDjangoShell","onCommand:python.startREPL","onCommand:python.goToPythonObject","onCommand:python.reportIssue","onCommand:python.setLinter","onCommand:python.enableLinting","onCommand:python.createTerminal","onCommand:python.configureTests","onCommand:python.clearWorkspaceInterpreter","onCommand:python.enableSourceMapSupport","onCommand:python.launchTensorBoard","onCommand:python.clearCacheAndReload","onCommand:python.createEnvironment","onWalkthrough:pythonWelcome","onWalkthrough:pythonWelcomeWithDS","onWalkthrough:pythonDataScienceWelcome","workspaceContains:mspythonconfig.json","workspaceContains:pyproject.toml","workspaceContains:Pipfile","workspaceContains:setup.py","workspaceContains:requirements.txt","workspaceContains:manage.py","workspaceContains:app.py"],"main":"./out/client/extension","browser":"./dist/extension.browser.js","contributes":{"walkthroughs":[{"id":"pythonWelcome","title":"Get started with Python development","description":"Your first steps to set up a Python project with all the powerful tools and features that the Python extension has to offer!","when":"workspacePlatform != webworker","steps":[{"id":"python.createPythonFile","title":"Create a Python file","description":"[Open](command:toSide:workbench.action.files.openFile) or [create](command:toSide:workbench.action.files.newUntitledFile?%7B%22languageId%22%3A%22python%22%7D) a Python file - make sure to save it as \\".py\\".\\n[Create Python File](command:toSide:workbench.action.files.newUntitledFile?%7B%22languageId%22%3A%22python%22%7D)","media":{"svg":"resources/walkthrough/open-folder.svg","altText":"Open a Python file or a folder with a Python project."},"when":""},{"id":"python.installPythonWin8","title":"Install Python","description":"The Python Extension requires Python to be installed. Install Python [from python.org](https://www.python.org/downloads).\\n\\n[Install Python](https://www.python.org/downloads)\\n","media":{"markdown":"resources/walkthrough/install-python-windows-8.md"},"when":"workspacePlatform == windows && showInstallPythonTile"},{"id":"python.installPythonMac","title":"Install Python","description":"The Python Extension requires Python to be installed. Install Python 3 through the terminal.\\n[Install Python via Brew](command:python.installPythonOnMac)\\n","media":{"markdown":"resources/walkthrough/install-python-macos.md"},"when":"workspacePlatform == mac && showInstallPythonTile","command":"workbench.action.terminal.new"},{"id":"python.installPythonLinux","title":"Install Python","description":"The Python Extension requires Python to be installed. Install Python 3 through the terminal.\\n[Install Python via terminal](command:python.installPythonOnLinux)\\n","media":{"markdown":"resources/walkthrough/install-python-linux.md"},"when":"workspacePlatform == linux && showInstallPythonTile","command":"workbench.action.terminal.new"},{"id":"python.selectInterpreter","title":"Select a Python Interpreter","description":"Choose which Python interpreter/environment you want to use for your Python project.\\n[Select Python Interpreter](command:python.setInterpreter)\\n**Tip**: Run the ``Python: Select Interpreter`` command in the [Command Palette](command:workbench.action.showCommands).","media":{"svg":"resources/walkthrough/python-interpreter-v2.svg","altText":"Selecting a python interpreter from the status bar"},"when":""},{"id":"python.runAndDebug","title":"Run and debug your Python file","description":"Open your Python file  and click on the play button on the top right of the editor, or press F5 when on the file and select \\"Python File\\" to run with the debugger. \\n  \\n[Learn more](https://code.visualstudio.com/docs/python/python-tutorial#_run-hello-world)","media":{"svg":"resources/walkthrough/rundebug2.svg","altText":"How to run and debug in VS Code with F5 or the play button on the top right."},"when":""},{"id":"python.learnMoreWithDS","title":"Explore more resources","description":" Explore all the features the Python extension has to offer by looking for \\"Python\\" in the [Command Palette](command:workbench.action.showCommands). \\n  Learn more about getting started with [data science](command:workbench.action.openWalkthrough?%7B%22category%22%3A%22ms-python.python%23pythonDataScienceWelcome%22%2C%22step%22%3A%22ms-python.python%23python.createNewNotebook%22%7D) in Python. \\n  Take a look at our [Release Notes](https://aka.ms/AA8dxtb) to learn more about the latest features. \\n \\n[Learn More](https://aka.ms/AA8dqti)","media":{"altText":"Image representing our documentation page and mailing list resources.","svg":"resources/walkthrough/learnmore.svg"},"when":""}]},{"id":"pythonDataScienceWelcome","title":"Get started with Python for Data Science","description":"Your first steps to getting started with a Data Science project with Python!","when":"false","steps":[{"id":"python.installJupyterExt","title":"Install Jupyter extension","description":"If you haven\'t already, install the [Jupyter extension](command:workbench.extensions.search?\\"ms-toolsai.jupyter\\") to take full advantage of notebooks experiences in VS Code!\\n \\n[Search Jupyter extension](command:workbench.extensions.search?\\"ms-toolsai.jupyter\\")","media":{"svg":"resources/walkthrough/data-science.svg","altText":"Creating a new Jupyter notebook"}},{"id":"python.createNewNotebook","title":"Create or open a Jupyter Notebook","description":"Right click in the file explorer and create a new file with an .ipynb extension. Or, open the [Command Palette](command:workbench.action.showCommands) and run the command \\n``Jupyter: Create New Blank Notebook``.\\n[Create new Jupyter Notebook](command:toSide:jupyter.createnewnotebook)\\n If you have an existing project, you can also [open a folder](command:workbench.action.files.openFolder) and/or clone a project from GitHub: [clone a Git repository](command:git.clone).","media":{"svg":"resources/walkthrough/create-notebook.svg","altText":"Creating a new Jupyter notebook"},"completionEvents":["onCommand:jupyter.createnewnotebook","onCommand:workbench.action.files.openFolder","onCommand:workbench.action.files.openFileFolder"]},{"id":"python.openInteractiveWindow","title":"Open the Python Interactive Window","description":"The Python Interactive Window is a Python shell where you can execute and view the results of your Python code. You can create cells on a Python file by typing ``#%%``.\\n \\nTo open the interactive window anytime, open the [Command Palette](command:workbench.action.showCommands) and run the command \\n``Jupyter: Create Interactive Window``.\\n[Open Interactive Window](command:jupyter.createnewinteractive)","media":{"svg":"resources/walkthrough/interactive-window.svg","altText":"Opening python interactive window"},"completionEvents":["onCommand:jupyter.createnewinteractive"]},{"id":"python.dataScienceLearnMore","title":"Find out more!","description":" Take a look into the [Jupyter extension](command:workbench.extensions.search?\\"ms-toolsai.jupyter\\") features, by looking for \\"Jupyter\\" in the [Command Palette](command:workbench.action.showCommands). \\n  Find out more features in our [Tutorials](https://aka.ms/AAdjzpd).  \\n[Learn more](https://aka.ms/AAdar6q)","media":{"svg":"resources/walkthrough/learnmore.svg","altText":"Image representing our documentation page and mailing list resources."}}]}],"breakpoints":[{"language":"html"},{"language":"jinja"},{"language":"python"},{"language":"django-html"},{"language":"django-txt"}],"commands":[{"category":"Python","command":"python.analysis.restartLanguageServer","title":"%python.command.python.analysis.restartLanguageServer.title%"},{"category":"Python","command":"python.clearCacheAndReload","title":"%python.command.python.clearCacheAndReload.title%"},{"category":"Python","command":"python.clearWorkspaceInterpreter","title":"%python.command.python.clearWorkspaceInterpreter.title%"},{"category":"Python","command":"python.configureTests","title":"%python.command.python.configureTests.title%"},{"category":"Python","command":"python.createTerminal","title":"%python.command.python.createTerminal.title%"},{"category":"Python","command":"python.createEnvironment","title":"%python.command.python.createEnvironment.title%"},{"category":"Python","command":"python.enableLinting","title":"%python.command.python.enableLinting.title%"},{"category":"Python","command":"python.enableSourceMapSupport","title":"%python.command.python.enableSourceMapSupport.title%"},{"category":"Python","command":"python.execInTerminal","title":"%python.command.python.execInTerminal.title%"},{"category":"Python","command":"python.execInTerminal-icon","icon":"$(play)","title":"%python.command.python.execInTerminalIcon.title%"},{"category":"Python","command":"python.debugInTerminal","icon":"$(debug-alt)","title":"%python.command.python.debugInTerminal.title%"},{"category":"Python","command":"python.execSelectionInDjangoShell","title":"%python.command.python.execSelectionInDjangoShell.title%"},{"category":"Python","command":"python.execSelectionInTerminal","title":"%python.command.python.execSelectionInTerminal.title%"},{"category":"Python","command":"python.goToPythonObject","title":"%python.command.python.goToPythonObject.title%"},{"category":"Python","command":"python.launchTensorBoard","title":"%python.command.python.launchTensorBoard.title%"},{"category":"Python","command":"python.refreshTensorBoard","enablement":"python.hasActiveTensorBoardSession","icon":"$(refresh)","title":"%python.command.python.refreshTensorBoard.title%"},{"category":"Python","command":"python.reportIssue","title":"%python.command.python.reportIssue.title%"},{"category":"Test","command":"testing.reRunFailTests","icon":"$(run-errors)","title":"%python.command.testing.rerunFailedTests.title%"},{"category":"Python","command":"python.runLinting","title":"%python.command.python.runLinting.title%"},{"category":"Python","command":"python.setInterpreter","title":"%python.command.python.setInterpreter.title%"},{"category":"Python","command":"python.setLinter","title":"%python.command.python.setLinter.title%"},{"category":"Python Refactor","command":"python.sortImports","title":"%python.command.python.sortImports.title%"},{"category":"Python","command":"python.startREPL","title":"%python.command.python.startREPL.title%"},{"category":"Python","command":"python.viewLanguageServerOutput","enablement":"python.hasLanguageServerOutputChannel","title":"%python.command.python.viewLanguageServerOutput.title%"},{"category":"Python","command":"python.viewOutput","icon":{"dark":"resources/dark/repl.svg","light":"resources/light/repl.svg"},"title":"%python.command.python.viewOutput.title%"}],"configuration":{"properties":{"python.autoComplete.extraPaths":{"default":[],"description":"%python.autoComplete.extraPaths.description%","scope":"resource","type":"array"},"python.condaPath":{"default":"","description":"%python.condaPath.description%","scope":"machine","type":"string"},"python.defaultInterpreterPath":{"default":"python","description":"%python.defaultInterpreterPath.description%","scope":"machine-overridable","type":"string"},"python.diagnostics.sourceMapsEnabled":{"default":false,"description":"%python.diagnostics.sourceMapsEnabled.description%","scope":"application","type":"boolean"},"python.envFile":{"default":"${workspaceFolder}/.env","description":"%python.envFile.description%","scope":"resource","type":"string"},"python.experiments.enabled":{"default":true,"description":"%python.experiments.enabled.description%","scope":"machine","type":"boolean"},"python.experiments.optInto":{"default":[],"description":"%python.experiments.optInto.description%","items":{"enum":["All","pythonSurveyNotification"]},"scope":"machine","type":"array"},"python.experiments.optOutFrom":{"default":[],"description":"%python.experiments.optOutFrom.description%","items":{"enum":["All","pythonSurveyNotification"]},"scope":"machine","type":"array"},"python.formatting.autopep8Args":{"default":[],"description":"%python.formatting.autopep8Args.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.formatting.autopep8Path":{"default":"autopep8","description":"%python.formatting.autopep8Path.description%","scope":"machine-overridable","type":"string"},"python.formatting.blackArgs":{"default":[],"description":"%python.formatting.blackArgs.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.formatting.blackPath":{"default":"black","description":"%python.formatting.blackPath.description%","scope":"machine-overridable","type":"string"},"python.formatting.provider":{"default":"autopep8","description":"%python.formatting.provider.description%","enum":["autopep8","black","none","yapf"],"scope":"resource","type":"string"},"python.formatting.yapfArgs":{"default":[],"description":"%python.formatting.yapfArgs.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.formatting.yapfPath":{"default":"yapf","description":"%python.formatting.yapfPath.description%","scope":"machine-overridable","type":"string"},"python.globalModuleInstallation":{"default":false,"description":"%python.globalModuleInstallation.description%","scope":"resource","type":"boolean"},"python.languageServer":{"default":"Default","description":"%python.languageServer.description%","enum":["Default","Jedi","Pylance","None"],"enumDescriptions":["%python.languageServer.defaultDescription%","%python.languageServer.jediDescription%","%python.languageServer.pylanceDescription%","%python.languageServer.noneDescription%"],"scope":"window","type":"string"},"python.linting.banditArgs":{"default":[],"description":"%python.linting.banditArgs.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.linting.banditEnabled":{"default":false,"description":"%python.linting.banditEnabled.description%","scope":"resource","type":"boolean"},"python.linting.banditPath":{"default":"bandit","description":"%python.linting.banditPath.description%","scope":"machine-overridable","type":"string"},"python.linting.cwd":{"default":null,"description":"%python.linting.cwd.description%","scope":"resource","type":"string"},"python.linting.enabled":{"default":true,"description":"%python.linting.enabled.description%","scope":"resource","type":"boolean"},"python.linting.flake8Args":{"default":[],"description":"%python.linting.flake8Args.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.linting.flake8CategorySeverity.E":{"default":"Error","description":"%python.linting.flake8CategorySeverity.E.description%","enum":["Error","Hint","Information","Warning"],"scope":"resource","type":"string"},"python.linting.flake8CategorySeverity.F":{"default":"Error","description":"%python.linting.flake8CategorySeverity.F.description%","enum":["Error","Hint","Information","Warning"],"scope":"resource","type":"string"},"python.interpreter.infoVisibility":{"default":"onPythonRelated","description":"%python.interpreter.infoVisibility.description%","enum":["never","onPythonRelated","always"],"enumDescriptions":["%python.interpreter.infoVisibility.never.description%","%python.interpreter.infoVisibility.onPythonRelated.description%","%python.interpreter.infoVisibility.always.description%"],"scope":"machine","type":"string"},"python.linting.flake8CategorySeverity.W":{"default":"Warning","description":"%python.linting.flake8CategorySeverity.W.description%","enum":["Error","Hint","Information","Warning"],"scope":"resource","type":"string"},"python.linting.flake8Enabled":{"default":false,"description":"%python.linting.flake8Enabled.description%","scope":"resource","type":"boolean"},"python.linting.flake8Path":{"default":"flake8","description":"%python.linting.flake8Path.description%","scope":"machine-overridable","type":"string"},"python.linting.ignorePatterns":{"default":["**/site-packages/**/*.py",".vscode/*.py"],"description":"%python.linting.ignorePatterns.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.linting.lintOnSave":{"default":true,"description":"%python.linting.lintOnSave.description%","scope":"resource","type":"boolean"},"python.linting.maxNumberOfProblems":{"default":100,"description":"%python.linting.maxNumberOfProblems.description%","scope":"resource","type":"number"},"python.linting.mypyArgs":{"default":["--follow-imports=silent","--ignore-missing-imports","--show-column-numbers","--no-pretty"],"description":"%python.linting.mypyArgs.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.linting.mypyCategorySeverity.error":{"default":"Error","description":"%python.linting.mypyCategorySeverity.error.description%","enum":["Error","Hint","Information","Warning"],"scope":"resource","type":"string"},"python.linting.mypyCategorySeverity.note":{"default":"Information","description":"%python.linting.mypyCategorySeverity.note.description%.","enum":["Error","Hint","Information","Warning"],"scope":"resource","type":"string"},"python.linting.mypyEnabled":{"default":false,"description":"%python.linting.mypyEnabled.description%","scope":"resource","type":"boolean"},"python.linting.mypyPath":{"default":"mypy","description":"%python.linting.mypyPath.description%","scope":"machine-overridable","type":"string"},"python.linting.prospectorArgs":{"default":[],"description":"%python.linting.prospectorArgs.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.linting.prospectorEnabled":{"default":false,"description":"%python.linting.prospectorEnabled.description%","scope":"resource","type":"boolean"},"python.linting.prospectorPath":{"default":"prospector","description":"%python.linting.prospectorPath.description%","scope":"machine-overridable","type":"string"},"python.linting.pycodestyleArgs":{"default":[],"description":"%python.linting.pycodestyleArgs.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.linting.pycodestyleCategorySeverity.E":{"default":"Error","description":"%python.linting.pycodestyleCategorySeverity.E.description%","enum":["Error","Hint","Information","Warning"],"scope":"resource","type":"string"},"python.linting.pycodestyleCategorySeverity.W":{"default":"Warning","description":"%python.linting.pycodestyleCategorySeverity.W.description%","enum":["Error","Hint","Information","Warning"],"scope":"resource","type":"string"},"python.linting.pycodestyleEnabled":{"default":false,"description":"%python.linting.pycodestyleEnabled.description%","scope":"resource","type":"boolean"},"python.linting.pycodestylePath":{"default":"pycodestyle","description":"%python.linting.pycodestylePath.description%","scope":"machine-overridable","type":"string"},"python.linting.pydocstyleArgs":{"default":[],"description":"%python.linting.pydocstyleArgs.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.linting.pydocstyleEnabled":{"default":false,"description":"%python.linting.pydocstyleEnabled.description%","scope":"resource","type":"boolean"},"python.linting.pydocstylePath":{"default":"pydocstyle","description":"%python.linting.pydocstylePath.description%","scope":"machine-overridable","type":"string"},"python.linting.pylamaArgs":{"default":[],"description":"%python.linting.pylamaArgs.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.linting.pylamaEnabled":{"default":false,"description":"%python.linting.pylamaEnabled.description%","scope":"resource","type":"boolean"},"python.linting.pylamaPath":{"default":"pylama","description":"%python.linting.pylamaPath.description%","scope":"machine-overridable","type":"string"},"python.linting.pylintArgs":{"default":[],"description":"%python.linting.pylintArgs.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.linting.pylintCategorySeverity.convention":{"default":"Information","description":"%python.linting.pylintCategorySeverity.convention.description%","enum":["Error","Hint","Information","Warning"],"scope":"resource","type":"string"},"python.linting.pylintCategorySeverity.error":{"default":"Error","description":"%python.linting.pylintCategorySeverity.error.description%","enum":["Error","Hint","Information","Warning"],"scope":"resource","type":"string"},"python.linting.pylintCategorySeverity.fatal":{"default":"Error","description":"%python.linting.pylintCategorySeverity.fatal.description%","enum":["Error","Hint","Information","Warning"],"scope":"resource","type":"string"},"python.linting.pylintCategorySeverity.refactor":{"default":"Hint","description":"%python.linting.pylintCategorySeverity.refactor.description%","enum":["Error","Hint","Information","Warning"],"scope":"resource","type":"string"},"python.linting.pylintCategorySeverity.warning":{"default":"Warning","description":"%python.linting.pylintCategorySeverity.warning.description%","enum":["Error","Hint","Information","Warning"],"scope":"resource","type":"string"},"python.linting.pylintEnabled":{"default":false,"description":"%python.linting.pylintEnabled.description%","scope":"resource","type":"boolean"},"python.linting.pylintPath":{"default":"pylint","description":"%python.linting.pylintPath.description%","scope":"machine-overridable","type":"string"},"python.logging.level":{"default":"error","description":"%python.logging.level.description%","enum":["debug","error","info","off","warn"],"scope":"machine","type":"string"},"python.pipenvPath":{"default":"pipenv","description":"%python.pipenvPath.description%","scope":"machine-overridable","type":"string"},"python.poetryPath":{"default":"poetry","description":"%python.poetryPath.description%","scope":"machine-overridable","type":"string"},"python.pylanceLspNotebooksEnabled":{"type":"boolean","default":true,"description":"%python.pylanceLspNotebooksEnabled.description%","scope":"machine"},"python.sortImports.args":{"default":[],"description":"%python.sortImports.args.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.sortImports.path":{"default":"","description":"%python.sortImports.path.description%","scope":"machine-overridable","type":"string"},"python.tensorBoard.logDirectory":{"default":"","description":"%python.tensorBoard.logDirectory.description%","scope":"application","type":"string"},"python.terminal.activateEnvInCurrentTerminal":{"default":false,"description":"%python.terminal.activateEnvInCurrentTerminal.description%","scope":"resource","type":"boolean"},"python.terminal.activateEnvironment":{"default":true,"description":"%python.terminal.activateEnvironment.description%","scope":"resource","type":"boolean"},"python.terminal.executeInFileDir":{"default":false,"description":"%python.terminal.executeInFileDir.description%","scope":"resource","type":"boolean"},"python.terminal.focusAfterLaunch":{"default":false,"description":"%python.terminal.focusAfterLaunch.description%","scope":"resource","type":"boolean"},"python.terminal.launchArgs":{"default":[],"description":"%python.terminal.launchArgs.description%","scope":"resource","type":"array"},"python.testing.autoTestDiscoverOnSaveEnabled":{"default":true,"description":"%python.testing.autoTestDiscoverOnSaveEnabled.description%","scope":"resource","type":"boolean"},"python.testing.cwd":{"default":null,"description":"%python.testing.cwd.description%","scope":"resource","type":"string"},"python.testing.debugPort":{"default":3000,"description":"%python.testing.debugPort.description%","scope":"resource","type":"number"},"python.testing.promptToConfigure":{"default":true,"description":"%python.testing.promptToConfigure.description%","scope":"resource","type":"boolean"},"python.testing.pytestArgs":{"default":[],"description":"%python.testing.pytestArgs.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.testing.pytestEnabled":{"default":false,"description":"%python.testing.pytestEnabled.description%","scope":"resource","type":"boolean"},"python.testing.pytestPath":{"default":"pytest","description":"%python.testing.pytestPath.description%","scope":"machine-overridable","type":"string"},"python.testing.unittestArgs":{"default":["-v","-s",".","-p","*test*.py"],"description":"%python.testing.unittestArgs.description%","items":{"type":"string"},"scope":"resource","type":"array"},"python.testing.unittestEnabled":{"default":false,"description":"%python.testing.unittestEnabled.description%","scope":"resource","type":"boolean"},"python.venvFolders":{"default":[],"description":"%python.venvFolders.description%","items":{"type":"string"},"scope":"machine","type":"array"},"python.venvPath":{"default":"","description":"%python.venvPath.description%","scope":"machine","type":"string"}},"title":"Python","type":"object"},"debuggers":[{"configurationAttributes":{"attach":{"properties":{"connect":{"label":"Attach by connecting to debugpy over a socket.","properties":{"host":{"default":"127.0.0.1","description":"Hostname or IP address to connect to.","type":"string"},"port":{"description":"Port to connect to.","type":"number"}},"required":["port"],"type":"object"},"debugAdapterPath":{"description":"Path (fully qualified) to the python debug adapter executable.","type":"string"},"django":{"default":false,"description":"Django debugging.","type":"boolean"},"host":{"default":"127.0.0.1","description":"Hostname or IP address to connect to.","type":"string"},"jinja":{"default":null,"description":"Jinja template debugging (e.g. Flask).","enum":[false,null,true]},"justMyCode":{"default":true,"description":"If true, show and debug only user-written code. If false, show and debug all code, including library calls.","type":"boolean"},"listen":{"label":"Attach by listening for incoming socket connection from debugpy","properties":{"host":{"default":"127.0.0.1","description":"Hostname or IP address of the interface to listen on.","type":"string"},"port":{"description":"Port to listen on.","type":"number"}},"required":["port"],"type":"object"},"logToFile":{"default":false,"description":"Enable logging of debugger events to a log file.","type":"boolean"},"pathMappings":{"default":[],"items":{"label":"Path mapping","properties":{"localRoot":{"default":"${workspaceFolder}","label":"Local source root.","type":"string"},"remoteRoot":{"default":"","label":"Remote source root.","type":"string"}},"required":["localRoot","remoteRoot"],"type":"object"},"label":"Path mappings.","type":"array"},"port":{"description":"Port to connect to.","type":"number"},"processId":{"anyOf":[{"default":"${command:pickProcess}","description":"Use process picker to select a process to attach, or Process ID as integer.","enum":["${command:pickProcess}"]},{"description":"ID of the local process to attach to.","type":"integer"}]},"redirectOutput":{"default":true,"description":"Redirect output.","type":"boolean"},"showReturnValue":{"default":true,"description":"Show return value of functions when stepping.","type":"boolean"},"subProcess":{"default":false,"description":"Whether to enable Sub Process debugging","type":"boolean"}}},"launch":{"properties":{"args":{"default":[],"description":"Command line arguments passed to the program.","items":{"type":"string"},"type":["array","string"]},"autoReload":{"default":{},"description":"Configures automatic reload of code on edit.","properties":{"enable":{"default":false,"description":"Automatically reload code on edit.","type":"boolean"},"exclude":{"default":["**/.git/**","**/.metadata/**","**/__pycache__/**","**/node_modules/**","**/site-packages/**"],"description":"Glob patterns of paths to exclude from auto reload.","items":{"type":"string"},"type":"array"},"include":{"default":["**/*.py","**/*.pyw"],"description":"Glob patterns of paths to include in auto reload.","items":{"type":"string"},"type":"array"}},"type":"object"},"console":{"default":"integratedTerminal","description":"Where to launch the debug target: internal console, integrated terminal, or external terminal.","enum":["externalTerminal","integratedTerminal","internalConsole"]},"cwd":{"default":"${workspaceFolder}","description":"Absolute path to the working directory of the program being debugged. Default is the root directory of the file (leave empty).","type":"string"},"debugAdapterPath":{"description":"Path (fully qualified) to the python debug adapter executable.","type":"string"},"django":{"default":false,"description":"Django debugging.","type":"boolean"},"env":{"additionalProperties":{"type":"string"},"default":{},"description":"Environment variables defined as a key value pair. Property ends up being the Environment Variable and the value of the property ends up being the value of the Env Variable.","type":"object"},"envFile":{"default":"${workspaceFolder}/.env","description":"Absolute path to a file containing environment variable definitions.","type":"string"},"gevent":{"default":false,"description":"Enable debugging of gevent monkey-patched code.","type":"boolean"},"host":{"default":"localhost","description":"IP address of the of the local debug server (default is localhost).","type":"string"},"jinja":{"default":null,"description":"Jinja template debugging (e.g. Flask).","enum":[false,null,true]},"justMyCode":{"default":true,"description":"Debug only user-written code.","type":"boolean"},"logToFile":{"default":false,"description":"Enable logging of debugger events to a log file.","type":"boolean"},"module":{"default":"","description":"Name of the module to be debugged.","type":"string"},"pathMappings":{"default":[],"items":{"label":"Path mapping","properties":{"localRoot":{"default":"${workspaceFolder}","label":"Local source root.","type":"string"},"remoteRoot":{"default":"","label":"Remote source root.","type":"string"}},"required":["localRoot","remoteRoot"],"type":"object"},"label":"Path mappings.","type":"array"},"port":{"default":0,"description":"Debug port (default is 0, resulting in the use of a dynamic port).","type":"number"},"program":{"default":"${file}","description":"Absolute path to the program.","type":"string"},"purpose":{"default":[],"description":"Tells extension to use this configuration for test debugging, or when using debug-in-terminal command.","items":{"enum":["debug-test","debug-in-terminal"],"enumDescriptions":["Use this configuration while debugging tests using test view or test debug commands.","Use this configuration while debugging a file using debug in terminal button in the editor."]},"type":"array"},"pyramid":{"default":false,"description":"Whether debugging Pyramid applications","type":"boolean"},"python":{"default":"${command:python.interpreterPath}","description":"Absolute path to the Python interpreter executable; overrides workspace configuration if set.","type":"string"},"pythonArgs":{"default":[],"description":"Command-line arguments passed to the Python interpreter. To pass arguments to the debug target, use \\"args\\".","items":{"type":"string"},"type":"array"},"redirectOutput":{"default":true,"description":"Redirect output.","type":"boolean"},"showReturnValue":{"default":true,"description":"Show return value of functions when stepping.","type":"boolean"},"stopOnEntry":{"default":false,"description":"Automatically stop after launch.","type":"boolean"},"subProcess":{"default":false,"description":"Whether to enable Sub Process debugging","type":"boolean"},"sudo":{"default":false,"description":"Running debug program under elevated permissions (on Unix).","type":"boolean"}}}},"configurationSnippets":[],"label":"Python","languages":["python"],"type":"python","variables":{"pickProcess":"python.pickLocalProcess"},"when":"!virtualWorkspace && shellExecutionSupported"}],"grammars":[{"language":"pip-requirements","path":"./syntaxes/pip-requirements.tmLanguage.json","scopeName":"source.pip-requirements"}],"jsonValidation":[{"fileMatch":".condarc","url":"./schemas/condarc.json"},{"fileMatch":"environment.yml","url":"./schemas/conda-environment.json"},{"fileMatch":"meta.yaml","url":"./schemas/conda-meta.json"}],"keybindings":[{"command":"python.execSelectionInTerminal","key":"shift+enter","when":"editorTextFocus && editorLangId == python && !findInputFocussed && !replaceInputFocussed && !jupyter.ownsSelection && !notebookEditorFocused"},{"command":"python.refreshTensorBoard","key":"ctrl+r","mac":"cmd+r","when":"python.hasActiveTensorBoardSession"}],"languages":[{"aliases":["Jinja"],"extensions":[".j2",".jinja2"],"id":"jinja"},{"aliases":["pip requirements","requirements.txt"],"configuration":"./languages/pip-requirements.json","filenamePatterns":["**/*-requirements.{txt, in}","**/*-constraints.txt","**/requirements-*.{txt, in}","**/constraints-*.txt","**/requirements/*.{txt,in}","**/constraints/*.txt"],"filenames":["constraints.txt","requirements.in","requirements.txt"],"id":"pip-requirements"},{"filenames":[".condarc"],"id":"yaml"},{"filenames":[".flake8",".pep8",".pylintrc",".pypirc"],"id":"ini"},{"filenames":["Pipfile","poetry.lock"],"id":"toml"},{"filenames":["Pipfile.lock"],"id":"json"}],"menus":{"commandPalette":[{"category":"Python","command":"python.analysis.restartLanguageServer","title":"%python.command.python.analysis.restartLanguageServer.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.clearCacheAndReload","title":"%python.command.python.clearCacheAndReload.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.clearWorkspaceInterpreter","title":"%python.command.python.clearWorkspaceInterpreter.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.configureTests","title":"%python.command.python.configureTests.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.createEnvironment","title":"%python.command.python.createEnvironment.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.createTerminal","title":"%python.command.python.createTerminal.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.enableLinting","title":"%python.command.python.enableLinting.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.enableSourceMapSupport","title":"%python.command.python.enableSourceMapSupport.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.execInTerminal","title":"%python.command.python.execInTerminal.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.execInTerminal-icon","icon":"$(play)","title":"%python.command.python.execInTerminalIcon.title%","when":"false"},{"category":"Python","command":"python.debugInTerminal","icon":"$(debug-alt)","title":"%python.command.python.debugInTerminal.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.execSelectionInDjangoShell","title":"%python.command.python.execSelectionInDjangoShell.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.execSelectionInTerminal","title":"%python.command.python.execSelectionInTerminal.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.goToPythonObject","title":"%python.command.python.goToPythonObject.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.launchTensorBoard","title":"%python.command.python.launchTensorBoard.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.refreshTensorBoard","enablement":"python.hasActiveTensorBoardSession","icon":"$(refresh)","title":"%python.command.python.refreshTensorBoard.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.reportIssue","title":"%python.command.python.reportIssue.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Test","command":"testing.reRunFailTests","icon":"$(run-errors)","title":"%python.command.testing.rerunFailedTests.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.runLinting","title":"%python.command.python.runLinting.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.setInterpreter","title":"%python.command.python.setInterpreter.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.setLinter","title":"%python.command.python.setLinter.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python Refactor","command":"python.sortImports","title":"%python.command.python.sortImports.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.startREPL","title":"%python.command.python.startREPL.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.viewLanguageServerOutput","enablement":"python.hasLanguageServerOutputChannel","title":"%python.command.python.viewLanguageServerOutput.title%","when":"!virtualWorkspace && shellExecutionSupported"},{"category":"Python","command":"python.viewOutput","title":"%python.command.python.viewOutput.title%","when":"!virtualWorkspace && shellExecutionSupported"}],"editor/context":[{"command":"python.execInTerminal","group":"Python","when":"resourceLangId == python && !virtualWorkspace && shellExecutionSupported"},{"command":"python.execSelectionInDjangoShell","group":"Python","when":"editorHasSelection && editorLangId == python && python.isDjangoProject && !virtualWorkspace && shellExecutionSupported"},{"command":"python.execSelectionInTerminal","group":"Python","when":"editorFocus && editorLangId == python && !virtualWorkspace && shellExecutionSupported"},{"command":"python.sortImports","group":"Refactor","title":"Refactor: Sort Imports","when":"editorLangId == python && !notebookEditorFocused && !virtualWorkspace && shellExecutionSupported"}],"editor/title":[{"command":"python.refreshTensorBoard","group":"navigation@0","when":"python.hasActiveTensorBoardSession && !virtualWorkspace && shellExecutionSupported"}],"editor/title/run":[{"command":"python.execInTerminal-icon","group":"navigation@0","title":"%python.command.python.execInTerminalIcon.title%","when":"resourceLangId == python && !isInDiffEditor && !virtualWorkspace && shellExecutionSupported"},{"command":"python.debugInTerminal","group":"navigation@1","title":"%python.command.python.debugInTerminal.title%","when":"resourceLangId == python && !isInDiffEditor && !virtualWorkspace && shellExecutionSupported"}],"explorer/context":[{"command":"python.execInTerminal","group":"Python","when":"resourceLangId == python && !virtualWorkspace && shellExecutionSupported"}],"view/title":[{"command":"testing.reRunFailTests","when":"view == workbench.view.testing && hasFailedTests && !virtualWorkspace && shellExecutionSupported","group":"navigation@1"}]},"viewsWelcome":[{"view":"testing","contents":"Configure a test framework to see your tests here.\\n[Configure Python Tests](command:python.configureTests)","when":"!virtualWorkspace && shellExecutionSupported"}],"yamlValidation":[{"fileMatch":".condarc","url":"./schemas/condarc.json"},{"fileMatch":"environment.yml","url":"./schemas/conda-environment.json"},{"fileMatch":"meta.yaml","url":"./schemas/conda-meta.json"}]},"scripts":{"package":"gulp clean && gulp prePublishBundle && vsce package -o ms-python-insiders.vsix","prePublish":"gulp clean && gulp prePublishNonBundle","compile":"tsc -watch -p ./","compiled":"deemon npm run compile","kill-compiled":"deemon --kill npm run compile","checkDependencies":"gulp checkDependencies","test":"node ./out/test/standardTest.js && node ./out/test/multiRootTest.js","test:unittests":"mocha --config ./build/.mocha.unittests.json","test:unittests:cover":"nyc --no-clean --nycrc-path ./build/.nycrc mocha --config ./build/.mocha.unittests.json","test:functional":"mocha --require source-map-support/register --config ./build/.mocha.functional.json","test:functional:perf":"node --inspect-brk ./node_modules/mocha/bin/_mocha --require source-map-support/register --config ./build/.mocha.functional.perf.json","test:functional:memleak":"node --inspect-brk ./node_modules/mocha/bin/_mocha --require source-map-support/register --config ./build/.mocha.functional.json","test:functional:cover":"nyc --no-clean --nycrc-path ./build/.nycrc mocha --require source-map-support/register --config ./build/.mocha.functional.json","test:cover:report":"nyc --nycrc-path ./build/.nycrc  report --reporter=text --reporter=html --reporter=text-summary --reporter=cobertura","testDebugger":"node ./out/test/testBootstrap.js ./out/test/debuggerTest.js","testDebugger:cover":"nyc --no-clean --use-spawn-wrap --nycrc-path ./build/.nycrc --require source-map-support/register node ./out/test/debuggerTest.js","testSingleWorkspace":"node ./out/test/testBootstrap.js ./out/test/standardTest.js","testSingleWorkspace:cover":"nyc --no-clean --use-spawn-wrap --nycrc-path ./build/.nycrc --require source-map-support/register node ./out/test/standardTest.js","preTestJediLSP":"node ./out/test/languageServers/jedi/lspSetup.js","testJediLSP":"node ./out/test/languageServers/jedi/lspSetup.js && cross-env CODE_TESTS_WORKSPACE=src/test VSC_PYTHON_CI_TEST_GREP=\'Language Server:\' node ./out/test/testBootstrap.js ./out/test/standardTest.js && node ./out/test/languageServers/jedi/lspTeardown.js","testMultiWorkspace":"node ./out/test/testBootstrap.js ./out/test/multiRootTest.js","testPerformance":"node ./out/test/testBootstrap.js ./out/test/performanceTest.js","testSmoke":"cross-env INSTALL_JUPYTER_EXTENSION=true \\"node ./out/test/smokeTest.js\\"","testInsiders":"cross-env VSC_PYTHON_CI_TEST_VSC_CHANNEL=insiders INSTALL_PYLANCE_EXTENSION=true TEST_FILES_SUFFIX=insiders.test CODE_TESTS_WORKSPACE=src/testMultiRootWkspc/smokeTests \\"node ./out/test/standardTest.js\\"","lint-staged":"node gulpfile.js","lint":"eslint --ext .ts,.js src build","lint-fix":"eslint --fix --ext .ts,.js src build gulpfile.js","format-check":"prettier --check \'src/**/*.ts\' \'build/**/*.js\' \'.github/**/*.yml\' gulpfile.js","format-fix":"prettier --write \'src/**/*.ts\' \'build/**/*.js\' \'.github/**/*.yml\' gulpfile.js","clean":"gulp clean","addExtensionPackDependencies":"gulp addExtensionPackDependencies","updateBuildNumber":"gulp updateBuildNumber","verifyBundle":"gulp verifyBundle","webpack":"webpack"},"dependencies":{"@vscode/jupyter-lsp-middleware":"^0.2.46","@vscode/extension-telemetry":"^0.6.2","arch":"^2.1.0","diff-match-patch":"^1.0.0","fs-extra":"^10.0.1","glob":"^7.2.0","hash.js":"^1.1.7","iconv-lite":"^0.6.3","inversify":"^5.0.4","jsonc-parser":"^3.0.0","lodash":"^4.17.21","md5":"^2.2.1","minimatch":"^5.0.1","named-js-regexp":"^1.3.3","node-stream-zip":"^1.6.0","reflect-metadata":"^0.1.12","request":"^2.87.0","request-progress":"^3.0.0","rxjs":"^6.5.4","rxjs-compat":"^6.5.4","stack-trace":"0.0.10","semver":"^5.5.0","sudo-prompt":"^9.2.1","tmp":"^0.0.33","uint64be":"^3.0.0","unicode":"^14.0.0","untildify":"^4.0.0","vscode-debugadapter":"^1.28.0","vscode-debugprotocol":"^1.28.0","vscode-jsonrpc":"8.0.2-next.1","vscode-languageclient":"8.0.2-next.5","vscode-languageserver":"8.0.2-next.5","vscode-languageserver-protocol":"3.17.2-next.6","vscode-nls":"^5.0.1","vscode-tas-client":"^0.1.63","winreg":"^1.2.4","xml2js":"^0.4.19","which":"^2.0.2"},"devDependencies":{"@istanbuljs/nyc-config-typescript":"^1.0.2","@types/chai":"^4.1.2","@types/chai-arrays":"^2.0.0","@types/chai-as-promised":"^7.1.0","@types/diff-match-patch":"^1.0.32","@types/download":"^8.0.1","@types/fs-extra":"^9.0.13","@types/glob":"^7.2.0","@types/lodash":"^4.14.104","@types/md5":"^2.1.32","@types/mocha":"^9.1.0","@types/nock":"^10.0.3","@types/node":"^14.18.0","@types/request":"^2.47.0","@types/semver":"^5.5.0","@types/shortid":"^0.0.29","@types/sinon":"^10.0.11","@types/stack-trace":"0.0.29","@types/tmp":"^0.0.33","@types/uuid":"^8.3.4","@types/vscode":"~1.68.0","@types/which":"^2.0.1","@types/winreg":"^1.2.30","@types/xml2js":"^0.4.2","@typescript-eslint/eslint-plugin":"^3.7.0","@typescript-eslint/parser":"^3.7.0","@vscode/telemetry-extractor":">=1.9.8","@vscode/test-electron":"^2.1.3","chai":"^4.1.2","chai-arrays":"^2.0.0","chai-as-promised":"^7.1.1","copy-webpack-plugin":"^9.1.0","cross-spawn":"^6.0.5","del":"^6.0.0","download":"^8.0.0","es5-ext":"0.10.53","eslint":"^7.2.0","eslint-config-airbnb":"^18.2.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.22.0","eslint-plugin-jsx-a11y":"^6.3.1","eslint-plugin-react":"^7.20.3","eslint-plugin-react-hooks":"^4.0.0","expose-loader":"^3.1.0","flat":"^5.0.2","get-port":"^5.1.1","gulp":"^4.0.0","gulp-typescript":"^5.0.0","mocha":"^9.2.2","mocha-junit-reporter":"^2.0.2","mocha-multi-reporters":"^1.1.7","nock":"^10.0.6","node-has-native-dependencies":"^1.0.2","node-loader":"^1.0.2","node-polyfill-webpack-plugin":"^1.1.4","nyc":"^15.0.0","prettier":"^2.0.2","rewiremock":"^3.13.0","rimraf":"^3.0.2","shortid":"^2.2.8","sinon":"^13.0.1","source-map-support":"^0.5.12","ts-loader":"^9.2.8","ts-mockito":"^2.5.0","ts-node":"^10.7.0","tsconfig-paths-webpack-plugin":"^3.2.0","typemoq":"^2.1.0","typescript":"4.5.5","uuid":"^8.3.2","vsce":"^2.6.6","vscode-debugadapter-testsupport":"^1.27.0","vscode-nls-dev":"^4.0.0","webpack":"^5.70.0","webpack-bundle-analyzer":"^4.5.0","webpack-cli":"^4.9.2","webpack-fix-default-import-plugin":"^1.0.3","webpack-merge":"^5.8.0","webpack-node-externals":"^3.0.0","webpack-require-from":"^1.8.6","yargs":"^15.3.1"},"__metadata":{"id":"f1f59ae4-9318-4f3c-a9b5-81b2eaa5f8a5","publisherDisplayName":"Microsoft","publisherId":"998b010b-e2af-44a5-a6cd-0b5fd3b9b6f8"},"extensionPack":["ms-toolsai.jupyter","ms-python.vscode-pylance"]}')}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>e+".js",r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),e={898:1},r.f.require=(t,n)=>{e[t]||(t=>{var n=t.modules,i=t.ids,o=t.runtime;for(var s in n)r.o(n,s)&&(r.m[s]=n[s]);o&&o(r);for(var a=0;a<i.length;a++)e[i[a]]=1})(require("./"+r.u(t)))};var i={};(()=>{"use strict";var e=i;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0,void 0===Reflect.metadata&&r(28660),(0,r(69284).initialize)(r(66828));const t={},n=new(r(70057).StopWatch),o=r(19735),s=[];(0,o.initializeFileLogging)(s),r(99239);const a=r(66828),c=r(10063),u=r(17585),l=r(61684),d=r(59314),p=r(67098),h=r(20910),f=r(63912),g=r(13825),m=r(58479),v=r(18639),y=r(65854),b=r(56792),S=r(81837);let _;async function E(){if(_){const e=_.get(l.IDisposableRegistry);for(await(0,S.disposeAll)(e);e.pop(););}}t.codeLoadingTime=n.elapsedTime,e.activate=async function e(r){let i,S,w;try{const g=new b.WorkspaceService;r.subscriptions.push(g.onDidGrantWorkspaceTrust((async()=>{await E(),await e(r)}))),[i,S,w]=await async function(e,t,n){e.subscriptions.push(...s);const r=(0,d.createDeferred)();(function(e){const t={location:a.ProgressLocation.Window,title:p.Common.loadingExtension};a.window.withProgress(t,(()=>e))})(r.promise),n.startActivateTime=t.elapsedTime;const i=(0,f.initializeGlobals)(e);_=i.legacyIOC.serviceContainer,(0,f.initializeStandard)(i);const g=_.get(l.IExperimentService);await g.activate();const b=await(0,f.initializeComponents)(i),S=await(0,h.activateComponents)(i,b);(0,h.activateFeatures)(i,b);const E=S.map((e=>e.fullyReady)),w=(async()=>{await Promise.all(E)})();n.totalActivateTime=t.elapsedTime-n.startActivateTime,r.resolve(),setTimeout((async()=>{var e;if(_){const t=_.get(u.IWorkspaceService);if(t.isTrusted){const n=_.get(v.IInterpreterService),r=null!==(e=t.workspaceFolders)&&void 0!==e?e:[];await n.refresh(r.length>0?r[0].uri:void 0).catch((e=>(0,o.traceError)("Python Extension: interpreterManager.refresh",e)))}}(0,m.runAfterActivation)()}));return[{...(0,c.buildApi)(w,i.legacyIOC.serviceManager,i.legacyIOC.serviceContainer),...(0,y.buildProposedApi)(b.pythonEnvs,i.legacyIOC.serviceContainer)},w,i.legacyIOC.serviceContainer]}(r,n,t)}catch(e){throw await async function(e,t){(function(e){try{let e=a.window;_&&(e=_.get(u.IApplicationShell)),e.showErrorMessage("Extension activation failed, run the 'Developer: Toggle Developer Tools' command for more information.").ignoreErrors()}catch(e){(0,o.traceError)("Failed to Notify User",e)}})(),(0,o.traceError)("extension activation failed",e),await(0,g.sendErrorTelemetry)(e,t,_)}(e,t),e}return(0,g.sendStartupTelemetry)(S,t,n,w).ignoreErrors(),i},e.deactivate=E})(),module.exports=i})();
//# sourceMappingURL=extension.js.map